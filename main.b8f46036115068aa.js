(self.webpackChunkACloudOfTea=self.webpackChunkACloudOfTea||[]).push([[179],{212:(pn,Ke,Me)=>{"use strict";function be(t){return"function"==typeof t}function Ve(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ze=Ve(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ie(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class ke{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){n=s instanceof ze?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Pe(s)}catch(l){n=null!=n?n:[],l instanceof ze?n=[...n,...l.errors]:n.push(l)}}if(n)throw new ze(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Pe(n);else{if(n instanceof ke){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Ie(e,n)}remove(n){const{_teardowns:e}=this;e&&Ie(e,n),n instanceof ke&&n._removeParent(this)}}ke.EMPTY=(()=>{const t=new ke;return t.closed=!0,t})();const re=ke.EMPTY;function qe(t){return t instanceof ke||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function Pe(t){be(t)?t():t.unsubscribe()}const Re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ut={setTimeout(...t){const{delegate:n}=ut;return((null==n?void 0:n.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=ut;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Et(t){ut.setTimeout(()=>{const{onUnhandledError:n}=Re;if(!n)throw t;n(t)})}function ht(){}const tn=Gn("C",void 0,void 0);function Gn(t,n,e){return{kind:t,value:n,error:e}}let kt=null;function Ee(t){if(Re.useDeprecatedSynchronousErrorHandling){const n=!kt;if(n&&(kt={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=kt;if(kt=null,e)throw r}}else t()}class kn extends ke{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,qe(n)&&n.add(this)):this.destination=Mt}static create(n,e,r){return new Ln(n,e,r)}next(n){this.isStopped?ue(Gn("N",n,void 0),this):this._next(n)}error(n){this.isStopped?ue(Gn("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ue(tn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ln extends kn{constructor(n,e,r){let i;if(super(),be(n))i=n;else if(n){let s;({next:i,error:e,complete:r}=n),this&&Re.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe()):s=n,i=null==i?void 0:i.bind(s),e=null==e?void 0:e.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?hr(i):ht,error:hr(null!=e?e:Ii),complete:r?hr(r):ht}}}function hr(t,n){return(...e)=>{try{t(...e)}catch(r){Re.useDeprecatedSynchronousErrorHandling?function(t){Re.useDeprecatedSynchronousErrorHandling&&kt&&(kt.errorThrown=!0,kt.error=t)}(r):Et(r)}}}function Ii(t){throw t}function ue(t,n){const{onStoppedNotification:e}=Re;e&&ut.setTimeout(()=>e(t,n))}const Mt={closed:!0,next:ht,error:Ii,complete:ht},ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bt(t){return t}let it=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function(t){return t&&t instanceof kn||function(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&qe(t)}(e)?e:new Ln(e,r,i);return Ee(()=>{const{operator:l,source:c}=this;s.add(l?l.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=k(r))((i,s)=>{let l;l=this.subscribe(c=>{try{e(c)}catch(h){s(h),null==l||l.unsubscribe()}},s,i)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ie](){return this}pipe(...e){return function(t){return 0===t.length?Bt:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=k(e))((r,i)=>{let s;this.subscribe(l=>s=l,l=>i(l),()=>r(s))})}}return t.create=n=>new t(n),t})();function k(t){var n;return null!==(n=null!=t?t:Re.Promise)&&void 0!==n?n:Promise}const le=Ve(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends it{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new G(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new le}next(e){Ee(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(e)}})}error(e){Ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?re:(s.push(e),new ke(()=>Ie(s,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new it;return e.source=this,e}}return t.create=(n,e)=>new G(n,e),t})();class G extends ne{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:re}}function Z(t){return be(null==t?void 0:t.lift)}function ce(t){return n=>{if(Z(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ce extends kn{constructor(n,e,r,i,s){super(n),this.onFinalize=s,this._next=e?function(l){try{e(l)}catch(c){n.error(c)}}:super._next,this._error=i?function(l){try{i(l)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function me(t,n){return ce((e,r)=>{let i=0;e.subscribe(new Ce(r,s=>{r.next(t.call(n,s,i++))}))})}function xo(t){return this instanceof xo?(this.v=t,this):new xo(t)}function t2(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(b){r[b]&&(i[b]=function(y){return new Promise(function(T,A){s.push([b,y,T,A])>1||c(b,y)})})}function c(b,y){try{!function(b){b.value instanceof xo?Promise.resolve(b.value.v).then(f,v):E(s[0][2],b)}(r[b](y))}catch(T){E(s[0][3],T)}}function f(b){c("next",b)}function v(b){c("throw",b)}function E(b,y){b(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function za(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(l){return new Promise(function(c,h){!function(s,l,c,h){Promise.resolve(h).then(function(f){s({value:f,done:c})},l)}(c,h,(l=t[s](l)).done,l.value)})}}}const pl=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D1(t){return be(null==t?void 0:t.then)}function ml(t){return be(t[ie])}function gl(t){return Symbol.asyncIterator&&be(null==t?void 0:t[Symbol.asyncIterator])}function w1(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const T1="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Du(t){return be(null==t?void 0:t[T1])}function Yn(t){return t2(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield xo(e.read());if(i)return yield xo(void 0);yield yield xo(r)}}finally{e.releaseLock()}})}function x(t){return be(null==t?void 0:t.getReader)}function S(t){if(t instanceof it)return t;if(null!=t){if(ml(t))return function(t){return new it(n=>{const e=t[ie]();if(be(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(pl(t))return function(t){return new it(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(D1(t))return function(t){return new it(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Et)})}(t);if(gl(t))return Le(t);if(Du(t))return function(t){return new it(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(x(t))return function(t){return Le(Yn(t))}(t)}throw w1(t)}function Le(t){return new it(n=>{(function(t,n){var e,r,i,s;return function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function c(v){try{f(r.next(v))}catch(E){l(E)}}function h(v){try{f(r.throw(v))}catch(E){l(E)}}function f(v){v.done?s(v.value):function(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(c,h)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=za(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function He(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ut(t,n,e=1/0){return be(n)?Ut((r,i)=>me((s,l)=>n(r,s,i,l))(S(t(r,i))),e):("number"==typeof n&&(e=n),ce((r,i)=>function(t,n,e,r,i,s,l,c){const h=[];let f=0,v=0,E=!1;const b=()=>{E&&!h.length&&!f&&n.complete()},y=A=>f<r?T(A):h.push(A),T=A=>{f++;let O=!1;S(e(A,v++)).subscribe(new Ce(n,R=>{n.next(R)},()=>{O=!0},void 0,()=>{if(O)try{for(f--;h.length&&f<r;){const R=h.shift();T(R)}b()}catch(R){n.error(R)}}))};return t.subscribe(new Ce(n,y,()=>{E=!0,b()})),()=>{}}(r,i,t,e)))}function Ko(t=1/0){return Ut(Bt,t)}const H=new it(t=>t.complete());function fc(t){return t&&be(t.schedule)}function vl(t){return t[t.length-1]}function wu(t){return be(vl(t))?t.pop():void 0}function ja(t){return fc(vl(t))?t.pop():void 0}function El(t,n=0){return ce((e,r)=>{e.subscribe(new Ce(r,i=>He(r,t,()=>r.next(i),n),()=>He(r,t,()=>r.complete(),n),i=>He(r,t,()=>r.error(i),n)))})}function pc(t,n=0){return ce((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function jr(t,n){if(!t)throw new Error("Iterable cannot be null");return new it(e=>{He(e,n,()=>{const r=t[Symbol.asyncIterator]();He(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function yn(t,n){return n?function(t,n){if(null!=t){if(ml(t))return function(t,n){return S(t).pipe(pc(n),El(n))}(t,n);if(pl(t))return function(t,n){return new it(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(D1(t))return function(t,n){return S(t).pipe(pc(n),El(n))}(t,n);if(gl(t))return jr(t,n);if(Du(t))return function(t,n){return new it(e=>{let r;return He(e,n,()=>{r=t[T1](),He(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(l){return void e.error(l)}s?e.complete():e.next(i)},0,!0)}),()=>be(null==r?void 0:r.return)&&r.return()})}(t,n);if(x(t))return function(t,n){return jr(Yn(t),n)}(t,n)}throw w1(t)}(t,n):S(t)}function Tu(...t){const n=ja(t),e=function(t,n){return"number"==typeof vl(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?S(r[0]):Ko(e)(yn(r,n)):H}function Ri(t){return t<=0?()=>H:ce((n,e)=>{let r=0;n.subscribe(new Ce(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function $a(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(Ri(1)).subscribe(()=>t())}function ln(t){for(let n in t)if(t[n]===ln)return n;throw Error("Could not find renamed property on target object.")}function gc(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ht(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ht).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function yl(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const M1=ln({__forward_ref__:ln});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return Ht(this())},t}function xt(t){return xl(t)?t():t}function xl(t){return"function"==typeof t&&t.hasOwnProperty(M1)&&t.__forward_ref__===yt}class si extends Error{constructor(n,e){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,e)),this.code=n}}function ot(t){return"string"==typeof t?t:null==t?"":String(t)}function xn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ot(t)}function Cl(t,n){const e=n?` in ${n}`:"";throw new si("201",`No provider for ${xn(t)} found${e}`)}function gn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function vc(t){return Ec(t,Fi)||Ec(t,O1)}function Ec(t,n){return t.hasOwnProperty(n)?t[n]:null}function Zo(t){return t&&(t.hasOwnProperty(_c)||t.hasOwnProperty(I1))?t[_c]:null}const Fi=ln({\u0275prov:ln}),_c=ln({\u0275inj:ln}),O1=ln({ngInjectableDef:ln}),I1=ln({ngInjectorDef:ln});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Ya;function ai(t){const n=Ya;return Ya=t,n}function Sr(t,n,e){const r=vc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&lt.Optional?null:void 0!==n?n:void Cl(Ht(t),"Injector")}function Qo(t){return{toString:t}.toString()}var ji=(()=>((ji=ji||{})[ji.OnPush=0]="OnPush",ji[ji.Default=1]="Default",ji))(),An=(()=>{return(t=An||(An={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",An;var t})();const P1="undefined"!=typeof globalThis&&globalThis,R1="undefined"!=typeof window&&window,d2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=P1||"undefined"!=typeof global&&global||R1||d2,es={},cn=[],Yr=ln({\u0275cmp:ln}),ks=ln({\u0275dir:ln}),yc=ln({\u0275pipe:ln}),xe=ln({\u0275mod:ln}),ar=ln({\u0275fac:ln}),Ls=ln({__NG_ELEMENT_ID__:ln});let xc=0;function _e(t){return Qo(()=>{const e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ji.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||cn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||An.Emulated,id:"c",styles:t.styles||cn,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,l=t.pipes;return r.id+=xc++,r.inputs=L1(t.inputs,e),r.outputs=L1(t.outputs),s&&s.forEach(c=>c(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Cn):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(Cc):null,r})}function Cn(t){return Br(t)||function(t){return t[ks]||null}(t)}function Cc(t){return function(t){return t[yc]||null}(t)}const Sc={};function Wt(t){return Qo(()=>{const n={type:t.type,bootstrap:t.bootstrap||cn,declarations:t.declarations||cn,imports:t.imports||cn,exports:t.exports||cn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Sc[t.id]=t.type),n})}function L1(t,n){if(null==t)return es;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}const Se=_e;function Br(t){return t[Yr]||null}function ki(t,n){const e=t[xe]||null;if(!e&&!0===n)throw new Error(`Type ${Ht(t)} does not have '\u0275mod' property.`);return e}function Wi(t){return Array.isArray(t)&&"object"==typeof t[1]}function Li(t){return Array.isArray(t)&&!0===t[1]}function Dc(t){return 0!=(8&t.flags)}function Xi(t){return 2==(2&t.flags)}function Ou(t){return 1==(1&t.flags)}function Ji(t){return null!==t.template}function Tl(t){return 0!=(512&t[2])}function Co(t,n){return t.hasOwnProperty(ar)?t[ar]:null}class Ac{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kt(){return Mc}function Mc(t){return t.type.prototype.ngOnChanges&&(t.setInput=C2),H1}function H1(){const t=Nc(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===es)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function C2(t,n,e,r){const i=Nc(t)||function(t,n){return t[Nl]=n}(t,{previous:es,current:null}),s=i.current||(i.current={}),l=i.previous,c=this.declaredInputs[e],h=l[c];s[c]=new Ac(h&&h.currentValue,n,l===es),t[r]=n}Kt.ngInherit=!0;const Nl="__ngSimpleChanges__";function Nc(t){return t[Nl]||null}let Il;function Pl(){return void 0!==Il?Il:"undefined"!=typeof document?document:void 0}function Xn(t){return!!t.listen}const Oc={createRenderer:(t,n)=>Pl()};function Zn(t){for(;Array.isArray(t);)t=t[0];return t}function Iu(t,n){return Zn(n[t])}function xi(t,n){return Zn(n[t.index])}function Pc(t,n){return t.data[n]}function ci(t,n){const e=n[t];return Wi(e)?e:e[0]}function Y1(t){return 4==(4&t[2])}function Ys(t){return 128==(128&t[2])}function So(t,n){return null==n?null:t[n]}function W1(t){t[18]=0}function Fc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const ct={lFrame:P(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function K1(){return ct.bindingsEnabled}function M(){return ct.lFrame.lView}function qt(){return ct.lFrame.tView}function jt(t){return ct.lFrame.contextLView=t,t[8]}function Qn(){let t=kc();for(;null!==t&&64===t.type;)t=t.parent;return t}function kc(){return ct.lFrame.currentTNode}function Ws(){const t=ct.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ki(t,n){const e=ct.lFrame;e.currentTNode=t,e.isParent=n}function Rl(){return ct.lFrame.isParent}function Lc(){ct.lFrame.isParent=!1}function Xs(){return ct.isInCheckNoChangesMode}function Fl(t){ct.isInCheckNoChangesMode=t}function Or(){const t=ct.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function oo(){return ct.lFrame.bindingIndex}function eh(t){return ct.lFrame.bindingIndex=t}function tu(){return ct.lFrame.bindingIndex++}function so(t){const n=ct.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function th(t){ct.lFrame.inI18n=t}function O2(t,n){const e=ct.lFrame;e.bindingIndex=e.bindingRootIndex=t,w(n)}function w(t){ct.lFrame.currentDirectiveIndex=t}function m(){return ct.lFrame.currentQueryIndex}function g(t){ct.lFrame.currentQueryIndex=t}function _(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function C(t,n,e){if(e&lt.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&lt.Host||(i=_(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;n=i,t=s}const r=ct.lFrame=I();return r.currentTNode=n,r.lView=t,!0}function D(t){const n=I(),e=t[1];ct.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function I(){const t=ct.lFrame,n=null===t?null:t.child;return null===n?P(t):n}function P(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function F(){const t=ct.lFrame;return ct.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Y=F;function J(){const t=F();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return ct.lFrame.selectedIndex}function De(t){ct.lFrame.selectedIndex=t}function Te(){const t=ct.lFrame;return Pc(t.tView,t.selectedIndex)}function mn(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:h,ngAfterViewChecked:f,ngOnDestroy:v}=s;l&&(t.contentHooks||(t.contentHooks=[])).push(-e,l),c&&((t.contentHooks||(t.contentHooks=[])).push(e,c),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,c)),h&&(t.viewHooks||(t.viewHooks=[])).push(-e,h),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=v&&(t.destroyHooks||(t.destroyHooks=[])).push(e,v)}}function wn(t,n,e){rn(t,n,3,e)}function gr(t,n,e,r){(3&t[2])===e&&rn(t,n,e,r)}function vr(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function rn(t,n,e,r){const s=null!=r?r:-1,l=n.length-1;let c=0;for(let h=void 0!==r?65535&t[18]:0;h<l;h++)if("number"==typeof n[h+1]){if(c=n[h],null!=r&&c>=r)break}else n[h]<0&&(t[18]+=65536),(c<s||-1==s)&&(Bi(t,e,n,h),t[18]=(4294901760&t[18])+h+2),h++}function Bi(t,n,e,r){const i=e[r]<0,s=e[r+1],c=t[i?-e[r]:e[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{s.call(c)}finally{}}}else try{s.call(c)}finally{}}class Jr{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Js(t,n,e){const r=Xn(t);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const l=e[i++],c=e[i++],h=e[i++];r?t.setAttribute(n,c,h,l):n.setAttributeNS(l,c,h)}else{const l=s,c=e[++i];qc(l)?r&&t.setProperty(n,l,c):r?t.setAttribute(n,l,c):n.setAttribute(l,c),i++}}return i}function Fu(t){return 3===t||4===t||6===t}function qc(t){return 64===t.charCodeAt(0)}function Ll(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||nh(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function nh(t,n,e,r,i){let s=0,l=t.length;if(-1===n)l=-1;else for(;s<t.length;){const c=t[s++];if("number"==typeof c){if(c===n){l=-1;break}if(c>n){l=s-1;break}}}for(;s<t.length;){const c=t[s];if("number"==typeof c)break;if(c===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==l&&(t.splice(l,0,n),s=l+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Bl(t){return-1!==t}function Ks(t){return 32767&t}function Zs(t,n){let e=function(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let ru=!0;function ih(t){const n=ru;return ru=t,n}let qD=0;function Uc(t,n){const e=R2(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,P2(r.data,t),P2(n,null),P2(r.blueprint,null));const i=oh(t,n),s=t.injectorIndex;if(Bl(i)){const l=Ks(i),c=Zs(i,n),h=c[1].data;for(let f=0;f<8;f++)n[s+f]=c[l+f]|h[l+f]}return n[s+8]=i,s}function P2(t,n){t.push(0,0,0,0,0,0,0,0,n)}function R2(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function oh(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){const s=i[1],l=s.type;if(r=2===l?s.declTNode:1===l?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function sh(t,n,e){!function(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ls)&&(r=e[Ls]),null==r&&(r=e[Ls]=qD++);const i=255&r;n.data[t+(i>>5)]|=1<<i}(t,n,e)}function DE(t,n,e){if(e&lt.Optional)return t;Cl(n,"NodeInjector")}function wE(t,n,e,r){if(e&lt.Optional&&void 0===r&&(r=null),0==(e&(lt.Self|lt.Host))){const i=t[9],s=ai(void 0);try{return i?i.get(n,r,e&lt.Optional):Sr(n,r,e&lt.Optional)}finally{ai(s)}}return DE(r,n,e)}function TE(t,n,e,r=lt.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ls)?t[Ls]:void 0;return"number"==typeof n?n>=0?255&n:zD:n}(e);if("function"==typeof s){if(!C(n,t,r))return r&lt.Host?DE(i,e,r):wE(n,e,r,i);try{const l=s(r);if(null!=l||r&lt.Optional)return l;Cl(e)}finally{Y()}}else if("number"==typeof s){let l=null,c=R2(t,n),h=-1,f=r&lt.Host?n[16][6]:null;for((-1===c||r&lt.SkipSelf)&&(h=-1===c?oh(t,n):n[c+8],-1!==h&&NE(r,!1)?(l=n[1],c=Ks(h),n=Zs(h,n)):c=-1);-1!==c;){const v=n[1];if(ME(s,c,v.data)){const E=VD(c,n,e,l,r,f);if(E!==AE)return E}h=n[c+8],-1!==h&&NE(r,n[1].data[c+8]===f)&&ME(s,c,n)?(l=v,c=Ks(h),n=Zs(h,n)):c=-1}}}return wE(n,e,r,i)}const AE={};function zD(){return new ql(Qn(),M())}function VD(t,n,e,r,i,s){const l=n[1],c=l.data[t+8],v=ah(c,l,e,null==r?Xi(c)&&ru:r!=l&&0!=(3&c.type),i&lt.Host&&s===c);return null!==v?Hc(n,l,v,c):AE}function ah(t,n,e,r,i){const s=t.providerIndexes,l=n.data,c=1048575&s,h=t.directiveStart,v=s>>20,b=i?c+v:t.directiveEnd;for(let y=r?c:c+v;y<b;y++){const T=l[y];if(y<h&&e===T||y>=h&&T.type===e)return y}if(i){const y=l[h];if(y&&Ji(y)&&y.type===e)return h}return null}function Hc(t,n,e,r){let i=t[e];const s=n.data;if(function(t){return t instanceof Jr}(i)){const l=i;l.resolving&&function(t,n){throw new si("200",`Circular dependency in DI detected for ${t}`)}(xn(s[e]));const c=ih(l.canSeeViewProviders);l.resolving=!0;const h=l.injectImpl?ai(l.injectImpl):null;C(t,r,lt.Default);try{i=t[e]=l.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const l=Mc(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,l)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s))}(e,s[e],n)}finally{null!==h&&ai(h),ih(c),l.resolving=!1,Y()}}return i}function ME(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function NE(t,n){return!(t&lt.Self||t&lt.Host&&n)}class ql{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return TE(this._tNode,this._lView,n,r,e)}}function Er(t){return Qo(()=>{const n=t.prototype.constructor,e=n[ar]||F2(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ar]||F2(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function F2(t){return xl(t)?()=>{const n=F2(xt(t));return n&&n()}:Co(t)}function iu(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(Fu(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===n)return e[i+1];i+=2}}}return null}(Qn(),t)}const Hl="__parameters__";function Vl(t,n,e){return Qo(()=>{const r=function(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const l=new i(...s);return c.annotation=l,c;function c(h,f,v){const E=h.hasOwnProperty(Hl)?h[Hl]:Object.defineProperty(h,Hl,{value:[]})[Hl];for(;E.length<=v;)E.push(null);return(E[v]=E[v]||[]).push(l),h}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Rt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $D=new Rt("AnalyzeForEntryComponents");function ao(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),ao(r,n)):n!==t&&n.push(r)}return n}function os(t,n){t.forEach(e=>Array.isArray(e)?os(e,n):n(e))}function IE(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function uh(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Gc(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Zi(t,n,e){let r=Gl(t,n);return r>=0?t[1|r]=e:(r=~r,function(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function B2(t,n){const e=Gl(t,n);if(e>=0)return t[1|e]}function Gl(t,n){return function(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),l=t[s<<e];if(n===l)return s<<e;l>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const jc={},U2="__NG_DI_FLAG__",ch="ngTempTokenPath",nw=/\n/gm,LE="__source",iw=ln({provide:String,useValue:ln});let $c;function BE(t){const n=$c;return $c=t,n}function ow(t,n=lt.Default){if(void 0===$c)throw new Error("inject() must be called from an injection context");return null===$c?Sr(t,void 0,n):$c.get(t,n&lt.Optional?null:void 0,n)}function we(t,n=lt.Default){return(Ya||ow)(xt(t),n)}function H2(t){const n=[];for(let e=0;e<t.length;e++){const r=xt(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=lt.Default;for(let l=0;l<r.length;l++){const c=r[l],h=sw(c);"number"==typeof h?-1===h?i=c.token:s|=h:i=c}n.push(we(i,s))}else n.push(we(r))}return n}function Yc(t,n){return t[U2]=n,t.prototype[U2]=n,t}function sw(t){return t[U2]}const Wc=Yc(Vl("Inject",t=>({token:t})),-1),ss=Yc(Vl("Optional"),8),jl=Yc(Vl("SkipSelf"),4);let hh,fh;function V2(){if(void 0===hh&&(hh=null,Yt.trustedTypes))try{hh=Yt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return hh}function Yl(t){var n;return(null===(n=V2())||void 0===n?void 0:n.createHTML(t))||t}function GE(t){var n;return(null===(n=function(){if(void 0===fh&&(fh=null,Yt.trustedTypes))try{fh=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return fh}())||void 0===n?void 0:n.createHTML(t))||t}class ku{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _w extends ku{getTypeName(){return"HTML"}}class bw extends ku{getTypeName(){return"Style"}}class yw extends ku{getTypeName(){return"Script"}}class xw extends ku{getTypeName(){return"URL"}}class Cw extends ku{getTypeName(){return"ResourceURL"}}function Qi(t){return t instanceof ku?t.changingThisBreaksApplicationSecurity:t}function as(t,n){const e=YE(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function YE(t){return t instanceof ku&&t.getTypeName()||null}function WE(t){const n=new Nw(t);return function(){try{return!!(new window.DOMParser).parseFromString(Yl(""),"text/html")}catch(t){return!1}}()?new Mw(n):n}class Mw{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Yl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Nw{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Yl(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Yl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let i=e.length-1;0<i;i--){const l=e.item(i).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&n.removeAttribute(l)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Iw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jc(t){return(t=String(t)).match(Iw)||t.match(Pw)?t:"unsafe:"+t}function XE(t){return(t=String(t)).split(",").map(n=>Jc(n.trim())).join(", ")}function us(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Kc(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const JE=us("area,br,col,hr,img,wbr"),KE=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ZE=us("rp,rt"),j2=Kc(JE,Kc(KE,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kc(ZE,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kc(ZE,KE)),$2=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Y2=us("srcset"),QE=Kc($2,Y2,us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rw=us("script,style,template");class Fw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!j2.hasOwnProperty(e))return this.sanitizedSomething=!0,!Rw.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),l=s.name,c=l.toLowerCase();if(!QE.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let h=s.value;$2[c]&&(h=Jc(h)),Y2[c]&&(h=XE(h)),this.buf.push(" ",l,'="',e8(h),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();j2.hasOwnProperty(e)&&!JE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(e8(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const kw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lw=/([^\#-~ |!])/g;function e8(t){return t.replace(/&/g,"&amp;").replace(kw,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Lw,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ph;function t8(t,n){let e=null;try{ph=ph||WE(t);let r=n?String(n):"";e=ph.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=ph.getInertBodyElement(r)}while(r!==s);return Yl((new Fw).sanitizeChildren(W2(e)||e))}finally{if(e){const r=W2(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function W2(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function mh(t){const n=Zc();return n?GE(n.sanitize(Nn.HTML,t)||""):as(t,"HTML")?GE(Qi(t)):t8(Pl(),ot(t))}function X2(t){const n=Zc();return n?n.sanitize(Nn.URL,t)||"":as(t,"URL")?Qi(t):Jc(ot(t))}function J2(t){return function(t){var n;return(null===(n=V2())||void 0===n?void 0:n.createScriptURL(t))||t}(t[0])}function Zc(){const t=M();return t&&t[12]}const i8="__ngContext__";function di(t,n){t[i8]=n}function Z2(t){const n=function(t){return t[i8]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function em(t){return t.ngOriginalError}function eT(t,...n){t.error(...n)}class Wl{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),r=(t=n)&&t.ngErrorLogger||eT;var t;r(this._console,"ERROR",n),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&em(n);for(;e&&em(e);)e=em(e);return e||null}}const rT=/^>|^->|<!--|-->|--!>|<!-$/g,iT=/(<|>)/;const l8=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function c8(t){return t.ownerDocument.defaultView}function ls(t){return t instanceof Function?t():t}var eo=(()=>((eo=eo||{})[eo.Important=1]="Important",eo[eo.DashCase=2]="DashCase",eo))();let tm;function nm(t,n){return tm(t,n)}function ed(t){const n=t[3];return Li(n)?n[3]:n}function rm(t){return m8(t[13])}function im(t){return m8(t[4])}function m8(t){for(;null!==t&&!Li(t);)t=t[4];return t}function Jl(t,n,e,r,i){if(null!=r){let s,l=!1;Li(r)?s=r:Wi(r)&&(l=!0,r=r[0]);const c=Zn(r);0===t&&null!==e?null==i?y8(n,e,c):Lu(n,e,c,i||null,!0):1===t&&null!==e?Lu(n,e,c,i||null,!0):2===t?A8(n,c,l):3===t&&n.destroyNode(c),null!=s&&function(t,n,e,r,i){const s=e[7];s!==Zn(e)&&Jl(n,t,r,s,i);for(let c=10;c<e.length;c++){const h=e[c];td(h[1],h,t,n,r,s)}}(n,t,s,e,i)}}function om(t,n){return Xn(t)?t.createText(n):t.createTextNode(n)}function g8(t,n,e){Xn(t)?t.setValue(n,e):n.textContent=e}function fT(t,n){return t.createComment(function(t){return t.replace(rT,n=>n.replace(iT,"\u200b$1\u200b"))}(n))}function sm(t,n,e){return Xn(t)?t.createElement(n,e):null===e?t.createElement(n):t.createElementNS(e,n)}function v8(t,n){const e=t[9],r=e.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,Fc(i,-1)),e.splice(r,1)}function am(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const i=r[17];null!==i&&i!==t&&v8(i,r),n>0&&(t[e-1][4]=r[4]);const s=uh(t,10+n);!function(t,n){td(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const l=s[19];null!==l&&l.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function E8(t,n){if(!(256&n[2])){const e=n[11];Xn(e)&&e.destroyNode&&td(t,n,e,3,null,null),function(t){let n=t[13];if(!n)return um(t[1],t);for(;n;){let e=null;if(Wi(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)Wi(n)&&um(n[1],n),n=n[3];null===n&&(n=t),Wi(n)&&um(n[1],n),e=n&&n[4]}n=e}}(n)}}function um(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Jr)){const s=e[r+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){const c=i[s[l]],h=s[l+1];try{h.call(c)}finally{}}else try{s.call(i)}finally{}}}}(t,n),function(t,n){const e=t.cleanup,r=n[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const l=e[s+1],c="function"==typeof l?l(n):Zn(n[l]),h=r[i=e[s+2]],f=e[s+3];"boolean"==typeof f?c.removeEventListener(e[s],h,f):f>=0?r[i=f]():r[i=-f].unsubscribe(),s+=2}else{const l=r[i=e[s+1]];e[s].call(l)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();n[7]=null}}(t,n),1===n[1].type&&Xn(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&Li(n[3])){e!==n[3]&&v8(e,n);const r=n[19];null!==r&&r.detachView(t)}}}function _8(t,n,e){return b8(t,n.parent,e)}function b8(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===An.None||i===An.Emulated)return null}return xi(r,e)}function Lu(t,n,e,r,i){Xn(t)?t.insertBefore(n,e,r,i):n.insertBefore(e,r,i)}function y8(t,n,e){Xn(t)?t.appendChild(n,e):n.appendChild(e)}function x8(t,n,e,r,i){null!==r?Lu(t,n,e,r,i):y8(t,n,e)}function gh(t,n){return Xn(t)?t.parentNode(n):n.parentNode}function C8(t,n,e){return D8(t,n,e)}function S8(t,n,e){return 40&t.type?xi(t,e):null}let lm,D8=S8;function w8(t,n){D8=t,lm=n}function vh(t,n,e,r){const i=_8(t,r,n),s=n[11],c=C8(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(e))for(let h=0;h<e.length;h++)x8(s,i,e[h],c,!1);else x8(s,i,e,c,!1);void 0!==lm&&lm(s,r,n,e,i)}function Eh(t,n){if(null!==n){const e=n.type;if(3&e)return xi(n,t);if(4&e)return cm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Eh(t,r);{const i=t[n.index];return Li(i)?cm(-1,i):Zn(i)}}if(32&e)return nm(n,t)()||Zn(t[n.index]);{const r=T8(t,n);return null!==r?Array.isArray(r)?r[0]:Eh(ed(t[16]),r):Eh(t,n.next)}}return null}function T8(t,n){return null!==n?t[16][6].projection[n.projection]:null}function cm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],i=r[1].firstChild;if(null!==i)return Eh(r,i)}return n[7]}function A8(t,n,e){const r=gh(t,n);r&&function(t,n,e,r){Xn(t)?t.removeChild(n,e,r):n.removeChild(e)}(t,r,n,e)}function dm(t,n,e,r,i,s,l){for(;null!=e;){const c=r[e.index],h=e.type;if(l&&0===n&&(c&&di(Zn(c),r),e.flags|=4),64!=(64&e.flags))if(8&h)dm(t,n,e.child,r,i,s,!1),Jl(n,t,i,c,s);else if(32&h){const f=nm(e,r);let v;for(;v=f();)Jl(n,t,i,v,s);Jl(n,t,i,c,s)}else 16&h?M8(t,n,r,e,i,s):Jl(n,t,i,c,s);e=l?e.projectionNext:e.next}}function td(t,n,e,r,i,s){dm(e,r,t.firstChild,n,i,s,!1)}function M8(t,n,e,r,i,s){const l=e[16],h=l[6].projection[r.projection];if(Array.isArray(h))for(let f=0;f<h.length;f++)Jl(n,t,i,h[f],s);else dm(t,n,h,l[3],i,s,!0)}function N8(t,n,e){Xn(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function hm(t,n,e){Xn(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function O8(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}const I8="ng-template";function TT(t,n,e){let r=0;for(;r<t.length;){let i=t[r++];if(e&&"class"===i){if(i=t[r],-1!==O8(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function P8(t){return 4===t.type&&t.value!==I8}function AT(t,n,e){return n===(4!==t.type||e?t.value:I8)}function MT(t,n,e){let r=4;const i=t.attrs||[],s=function(t){for(let n=0;n<t.length;n++)if(Fu(t[n]))return n;return t.length}(i);let l=!1;for(let c=0;c<n.length;c++){const h=n[c];if("number"!=typeof h){if(!l)if(4&r){if(r=2|1&r,""!==h&&!AT(t,h,e)||""===h&&1===n.length){if(Do(r))return!1;l=!0}}else{const f=8&r?h:n[++c];if(8&r&&null!==t.attrs){if(!TT(t.attrs,f,e)){if(Do(r))return!1;l=!0}continue}const E=NT(8&r?"class":h,i,P8(t),e);if(-1===E){if(Do(r))return!1;l=!0;continue}if(""!==f){let b;b=E>s?"":i[E+1].toLowerCase();const y=8&r?b:null;if(y&&-1!==O8(y,f,0)||2&r&&f!==b){if(Do(r))return!1;l=!0}}}}else{if(!l&&!Do(r)&&!Do(h))return!1;if(l&&Do(h))continue;l=!1,r=h|1&r}}return Do(r)||l}function Do(t){return 0==(1&t)}function NT(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const l=n[i];if(l===t)return i;if(3===l||6===l)s=!0;else{if(1===l||2===l){let c=n[++i];for(;"string"==typeof c;)c=n[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=s?1:2}return-1}return function(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function R8(t,n,e=!1){for(let r=0;r<n.length;r++)if(MT(t,n[r],e))return!0;return!1}function RT(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function F8(t,n){return t?":not("+n.trim()+")":n}function FT(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let l=t[e];if("string"==typeof l)if(2&r){const c=t[++e];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!Do(l)&&(n+=F8(s,i),i=""),r=l,s=s||!Do(r);e++}return""!==i&&(n+=F8(s,i)),n}const bt={};function K(t){k8(qt(),M(),fe()+t,Xs())}function k8(t,n,e,r){if(!r)if(3==(3&n[2])){const s=t.preOrderCheckHooks;null!==s&&wn(n,s,e)}else{const s=t.preOrderHooks;null!==s&&gr(n,s,0,e)}De(e)}function _h(t,n){return t<<17|n<<2}function wo(t){return t>>17&32767}function fm(t){return 2|t}function Qs(t){return(131068&t)>>2}function pm(t,n){return-131069&t|n<<2}function mm(t){return 1|t}function Y8(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const l=t.data[s];g(i),l.contentQueries(2,n[s],s)}}}function nd(t,n,e,r,i,s,l,c,h,f){const v=n.blueprint.slice();return v[0]=i,v[2]=140|r,W1(v),v[3]=v[15]=t,v[8]=e,v[10]=l||t&&t[10],v[11]=c||t&&t[11],v[12]=h||t&&t[12]||null,v[9]=f||t&&t[9]||null,v[6]=s,v[16]=2==n.type?t[16]:v,v}function Kl(t,n,e,r,i){let s=t.data[n];if(null===s)s=Sm(t,n,e,r,i),ct.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const l=Ws();s.injectorIndex=null===l?-1:l.injectorIndex}return Ki(s,!0),s}function Sm(t,n,e,r,i){const s=kc(),l=Rl(),h=t.data[n]=function(t,n,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=h),null!==s&&(l?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}function Zl(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function rd(t,n,e){D(n);try{const r=t.viewQuery;null!==r&&Pm(1,r,e);const i=t.template;null!==i&&W8(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Y8(t,n),t.staticViewQueries&&Pm(2,t.viewQuery,e);const s=t.components;null!==s&&function(t,n){for(let e=0;e<n.length;e++)vA(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,J()}}function Ql(t,n,e,r){const i=n[2];if(256==(256&i))return;D(n);const s=Xs();try{W1(n),eh(t.bindingStartIndex),null!==e&&W8(t,n,e,2,r);const l=3==(3&i);if(!s)if(l){const f=t.preOrderCheckHooks;null!==f&&wn(n,f,null)}else{const f=t.preOrderHooks;null!==f&&gr(n,f,0,null),vr(n,0)}if(function(t){for(let n=rm(t);null!==n;n=im(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&Fc(s,1),i[2]|=1024}}}(n),function(t){for(let n=rm(t);null!==n;n=im(n))for(let e=10;e<n.length;e++){const r=n[e],i=r[1];Ys(r)&&Ql(i,r,i.template,r[8])}}(n),null!==t.contentQueries&&Y8(t,n),!s)if(l){const f=t.contentCheckHooks;null!==f&&wn(n,f)}else{const f=t.contentHooks;null!==f&&gr(n,f,1),vr(n,1)}!function(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)De(~i);else{const s=i,l=e[++r],c=e[++r];O2(l,s),c(2,n[s])}}}finally{De(-1)}}(t,n);const c=t.components;null!==c&&function(t,n){for(let e=0;e<n.length;e++)gA(t,n[e])}(n,c);const h=t.viewQuery;if(null!==h&&Pm(2,h,r),!s)if(l){const f=t.viewCheckHooks;null!==f&&wn(n,f)}else{const f=t.viewHooks;null!==f&&gr(n,f,2),vr(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Fc(n[3],-1))}finally{J()}}function KT(t,n,e,r){const i=n[10],s=!Xs(),l=Y1(n);try{s&&!l&&i.begin&&i.begin(),l&&rd(t,n,r),Ql(t,n,e,r)}finally{s&&!l&&i.end&&i.end()}}function W8(t,n,e,r,i){const s=fe(),l=2&r;try{De(-1),l&&n.length>20&&k8(t,n,20,Xs()),e(r,i)}finally{De(s)}}function X8(t,n,e){if(Dc(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const l=t.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}}function Dm(t,n,e){!K1()||(function(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;t.firstCreatePass||Uc(e,n),di(r,n);const l=e.initialInputs;for(let c=i;c<s;c++){const h=t.data[c],f=Ji(h);f&&dA(n,e,h);const v=Hc(n,t,c,e);di(v,n),null!==l&&hA(0,c-i,v,h,0,l),f&&(ci(e.index,n)[8]=v)}}(t,n,e,xi(e,n)),128==(128&e.flags)&&function(t,n,e){const r=e.directiveStart,i=e.directiveEnd,l=e.index,c=ct.lFrame.currentDirectiveIndex;try{De(l);for(let h=r;h<i;h++){const f=t.data[h],v=n[h];w(h),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&r_(f,v)}}finally{De(-1),w(c)}}(t,n,e))}function wm(t,n,e=xi){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const l=r[s+1],c=-1===l?e(n,t):t[l];t[i++]=c}}}function J8(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=xh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function xh(t,n,e,r,i,s,l,c,h,f){const v=20+r,E=v+i,b=function(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:bt);return e}(v,E),y="function"==typeof f?f():f;return b[1]={type:t,blueprint:b,template:e,queries:null,viewQuery:c,declTNode:n,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:h,consts:y,incompleteFirstPass:!1}}function Q8(t,n,e,r){const i=l_(n);null===e?i.push(r):(i.push(e),t.firstCreatePass&&c_(t).push(r,i.length-1))}function e_(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,i):e[r]=[n,i]}return e}function to(t,n,e,r,i,s,l,c){const h=xi(n,e);let v,f=n.inputs;!c&&null!=f&&(v=f[r])?(f_(t,e,v,r,i),Xi(n)&&function(t,n){const e=ci(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=l?l(i,n.value||"",r):i,Xn(s)?s.setProperty(h,r,i):qc(r)||(h.setProperty?h.setProperty(r,i):h[r]=i))}function Tm(t,n,e,r){let i=!1;if(K1()){const s=function(t,n,e){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const l=r[s];R8(e,l.selectors,!1)&&(i||(i=[]),sh(Uc(e,n),t,l.type),Ji(l)?(i_(t,e),i.unshift(l)):i.push(l))}return i}(t,n,e),l=null===r?null:{"":-1};if(null!==s){i=!0,o_(e,t.data.length,s.length);for(let v=0;v<s.length;v++){const E=s[v];E.providersResolver&&E.providersResolver(E)}let c=!1,h=!1,f=Zl(t,n,s.length,null);for(let v=0;v<s.length;v++){const E=s[v];e.mergedAttrs=Ll(e.mergedAttrs,E.hostAttrs),s_(t,e,n,f,E),cA(f,E,l),null!==E.contentQueries&&(e.flags|=8),(null!==E.hostBindings||null!==E.hostAttrs||0!==E.hostVars)&&(e.flags|=128);const b=E.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),c=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),h=!0),f++}!function(t,n){const r=n.directiveEnd,i=t.data,s=n.attrs,l=[];let c=null,h=null;for(let f=n.directiveStart;f<r;f++){const v=i[f],E=v.inputs,b=null===s||P8(n)?null:fA(E,s);l.push(b),c=e_(E,f,c),h=e_(v.outputs,f,h)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=16),c.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=l,n.inputs=c,n.outputs=h}(t,e)}l&&function(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new si("301",`Export of name '${n[i+1]}' not found!`);r.push(n[i],s)}}}(e,r,l)}return e.mergedAttrs=Ll(e.mergedAttrs,e.attrs),i}function n_(t,n,e,r,i,s){const l=s.hostBindings;if(l){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const h=~n.index;(function(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(c)!=h&&c.push(h),c.push(r,i,l)}}function r_(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function i_(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function cA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Ji(n)&&(e[""]=t)}}function o_(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function s_(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=Co(i.type)),l=new Jr(s,Ji(i),null);t.blueprint[r]=l,e[r]=l,n_(t,n,0,r,Zl(t,e,i.hostVars,bt),i)}function dA(t,n,e){const r=xi(n,t),i=J8(e),s=t[10],l=Ch(t,nd(t,i,null,e.onPush?64:16,r,n,s,s.createRenderer(r,e),null,null));t[n.index]=l}function Am(t,n,e,r,i,s,l){if(null==s)Xn(t)?t.removeAttribute(n,i,e):n.removeAttribute(i);else{const c=null==l?ot(s):l(s,r||"",i);Xn(t)?t.setAttribute(n,i,c,e):e?n.setAttributeNS(e,i,c):n.setAttribute(i,c)}}function hA(t,n,e,r,i,s){const l=s[n];if(null!==l){const c=r.setInput;for(let h=0;h<l.length;){const f=l[h++],v=l[h++],E=l[h++];null!==c?r.setInput(e,E,f,v):e[v]=E}}}function fA(t,n){let e=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],n[r+1])),r+=2}else r+=2;else r+=4}return e}function a_(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function gA(t,n){const e=ci(n,t);if(Ys(e)){const r=e[1];80&e[2]?Ql(r,e,r.template,e[8]):e[5]>0&&Mm(e)}}function Mm(t){for(let r=rm(t);null!==r;r=im(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const l=s[1];Ql(l,s,l.template,s[8])}else s[5]>0&&Mm(s)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=ci(e[r],t);Ys(i)&&i[5]>0&&Mm(i)}}function vA(t,n){const e=ci(n,t),r=e[1];(function(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),rd(r,e,e[8])}function Ch(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Nm(t){for(;t;){t[2]|=64;const n=ed(t);if(Tl(t)&&!n)return t;t=n}return null}function Im(t,n,e){const r=n[10];r.begin&&r.begin();try{Ql(t,n,t.template,e)}catch(i){throw h_(n,i),i}finally{r.end&&r.end()}}function u_(t){!function(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=Z2(e),i=r[1];KT(i,r,i.template,e)}}(t[8])}function Pm(t,n,e){g(0),n(t,e)}const xA=(()=>Promise.resolve(null))();function l_(t){return t[7]||(t[7]=[])}function c_(t){return t.cleanup||(t.cleanup=[])}function h_(t,n){const e=t[9],r=e?e.get(Wl,null):null;r&&r.handleError(n)}function f_(t,n,e,r,i){for(let s=0;s<e.length;){const l=e[s++],c=e[s++],h=n[l],f=t.data[l];null!==f.setInput?f.setInput(h,i,r,c):h[c]=i}}function ea(t,n,e){const r=Iu(n,t);g8(t[11],r,e)}function Sh(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?s=c:1==s?i=yl(i,c):2==s&&(r=yl(r,c+": "+n[++l]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}const id=new Rt("INJECTOR",-1);class p_{get(n,e=jc){if(e===jc){const r=new Error(`NullInjectorError: No provider for ${Ht(n)}!`);throw r.name="NullInjectorError",r}return e}}const Rm=new Rt("Set Injector scope."),od={},DA={};let Fm;function m_(){return void 0===Fm&&(Fm=new p_),Fm}function g_(t,n=null,e=null,r){const i=v_(t,n,e,r);return i._resolveInjectorDefTypes(),i}function v_(t,n=null,e=null,r){return new wA(t,e,n||m_(),r)}class wA{constructor(n,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&os(e,c=>this.processProvider(c,n,e)),os([n],c=>this.processInjectorType(c,[],s)),this.records.set(id,e0(void 0,this));const l=this.records.get(Rm);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof n?null:Ht(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=jc,r=lt.Default){this.assertNotDestroyed();const i=BE(this),s=ai(void 0);try{if(!(r&lt.SkipSelf)){let c=this.records.get(n);if(void 0===c){const h=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Rt)&&vc(n);c=h&&this.injectableDefInScope(h)?e0(km(n),od):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&lt.Self?m_():this.parent).get(n,e=r&lt.Optional&&e===jc?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[ch]=l[ch]||[]).unshift(Ht(n)),i)throw l;return function(t,n,e,r){const i=t[ch];throw n[LE]&&i.unshift(n[LE]),t.message=function(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Ht(n);if(Array.isArray(n))i=n.map(Ht).join(" -> ");else if("object"==typeof n){let s=[];for(let l in n)if(n.hasOwnProperty(l)){let c=n[l];s.push(l+":"+("string"==typeof c?JSON.stringify(c):Ht(c)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(nw,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[ch]=null,t}(l,n,"R3InjectorError",this.source)}throw l}finally{ai(s),BE(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,i)=>n.push(Ht(i))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,e,r){if(!(n=xt(n)))return!1;let i=Zo(n);const s=null==i&&n.ngModule||void 0,l=void 0===s?n:s,c=-1!==r.indexOf(l);if(void 0!==s&&(i=Zo(s)),null==i)return!1;if(null!=i.imports&&!c){let v;r.push(l);try{os(i.imports,E=>{this.processInjectorType(E,e,r)&&(void 0===v&&(v=[]),v.push(E))})}finally{}if(void 0!==v)for(let E=0;E<v.length;E++){const{ngModule:b,providers:y}=v[E];os(y,T=>this.processProvider(T,b,y||cn))}}this.injectorDefTypes.add(l);const h=Co(l)||(()=>new l);this.records.set(l,e0(h,od));const f=i.providers;if(null!=f&&!c){const v=n;os(f,E=>this.processProvider(E,v,f))}return void 0!==s&&void 0!==n.providers}processProvider(n,e,r){let i=t0(n=xt(n))?n:xt(n&&n.provide);const s=function(t,n,e){return __(t)?e0(void 0,t.useValue):e0(E_(t),od)}(n);if(t0(n)||!0!==n.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=e0(void 0,od,!0),l.factory=()=>H2(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,s)}hydrate(n,e){return e.value===od&&(e.value=DA,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(t=e.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const e=xt(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function km(t){const n=vc(t),e=null!==n?n.factory:Co(t);if(null!==e)return e;if(t instanceof Rt)throw new Error(`Token ${Ht(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const r=Gc(n,"?");throw new Error(`Can't resolve all parameters for ${Ht(t)}: (${r.join(", ")}).`)}const e=function(t){const n=t&&(t[Fi]||t[O1]);if(n){const e=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Error("unreachable")}function E_(t,n,e){let r;if(t0(t)){const i=xt(t);return Co(i)||km(i)}if(__(t))r=()=>xt(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...H2(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>we(xt(t.useExisting));else{const i=xt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Co(i)||km(i);r=()=>new i(...H2(t.deps))}return r}function e0(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function __(t){return null!==t&&"object"==typeof t&&iw in t}function t0(t){return"function"==typeof t}let er=(()=>{class t{static create(e,r){var i;if(Array.isArray(e))return g_({name:""},r,e,"");{const s=null!==(i=e.name)&&void 0!==i?i:"";return g_({name:s},e.parent,e.providers,s)}}}return t.THROW_IF_NOT_FOUND=jc,t.NULL=new p_,t.\u0275prov=oe({token:t,providedIn:"any",factory:()=>we(id)}),t.__NG_ELEMENT_ID__=-1,t})();function zA(t,n){mn(Z2(t)[1],Qn())}function hn(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(Ji(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");i=n.\u0275dir}if(i){if(e){r.push(i);const l=t;l.inputs=qm(t.inputs),l.declaredInputs=qm(t.declaredInputs),l.outputs=qm(t.outputs);const c=i.hostBindings;c&&$A(t,c);const h=i.viewQuery,f=i.contentQueries;if(h&&GA(t,h),f&&jA(t,f),gc(t.inputs,i.inputs),gc(t.declaredInputs,i.declaredInputs),gc(t.outputs,i.outputs),Ji(i)&&i.data.animation){const v=t.data;v.animation=(v.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let l=0;l<s.length;l++){const c=s[l];c&&c.ngInherit&&c(t),c===hn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Ll(i.hostAttrs,e=Ll(e,i.hostAttrs))}}(r)}function qm(t){return t===es?{}:t===cn?[]:t}function GA(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function jA(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,s)=>{n(r,i,s),e(r,i,s)}:n}function $A(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}let Dh=null;function n0(){if(!Dh){const t=Yt.Symbol;if(t&&t.iterator)Dh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Dh=r)}}}return Dh}function sd(t){return!!Um(t)&&(Array.isArray(t)||!(t instanceof Map)&&n0()in t)}function Um(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ds(t,n,e){return t[n]=e}function hi(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Bu(t,n,e,r){const i=hi(t,n,e);return hi(t,n+1,r)||i}function uo(t,n,e,r,i,s){const l=Bu(t,n,e,r);return Bu(t,n+2,i,s)||l}function Ft(t,n,e,r){const i=M();return hi(i,tu(),n)&&(qt(),function(t,n,e,r,i,s){const l=xi(t,n);Am(n[11],l,s,t.value,e,r,i)}(Te(),i,t,n,e,r)),Ft}function pe(t,n,e,r,i,s,l,c){const h=M(),f=qt(),v=t+20,E=f.firstCreatePass?function(t,n,e,r,i,s,l,c,h){const f=n.consts,v=Kl(n,t,4,l||null,So(f,c));Tm(n,e,v,So(f,h)),mn(n,v);const E=v.tViews=xh(2,v,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,v),E.queries=n.queries.embeddedTView(v)),v}(v,f,h,n,e,r,i,s,l):f.data[v];Ki(E,!1);const b=h[11].createComment("");vh(f,h,b,E),di(b,h),Ch(h,h[v]=a_(b,h,b,E)),Ou(E)&&Dm(f,h,E),null!=l&&wm(h,E,c)}function Hr(t){return function(t,n){return t[n]}(ct.lFrame.contextLView,20+t)}function z(t,n=lt.Default){const e=M();return null===e?we(t,n):TE(Qn(),e,xt(t),n)}function jm(){throw new Error("invalid")}function te(t,n,e){const r=M();return hi(r,tu(),n)&&to(qt(),Te(),r,t,n,r[11],e,!1),te}function $m(t,n,e,r,i){const l=i?"class":"style";f_(t,e,n.inputs[l],l,r)}function a(t,n,e,r){const i=M(),s=qt(),l=20+t,c=i[11],h=i[l]=sm(c,n,ct.lFrame.currentNamespace),f=s.firstCreatePass?function(t,n,e,r,i,s,l){const c=n.consts,f=Kl(n,t,2,i,So(c,s));return Tm(n,e,f,So(c,l)),null!==f.attrs&&Sh(f,f.attrs,!1),null!==f.mergedAttrs&&Sh(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(l,s,i,0,n,e,r):s.data[l];Ki(f,!0);const v=f.mergedAttrs;null!==v&&Js(c,h,v);const E=f.classes;null!==E&&hm(c,h,E);const b=f.styles;null!==b&&N8(c,h,b),64!=(64&f.flags)&&vh(s,i,h,f),0===ct.lFrame.elementDepthCount&&di(h,i),ct.lFrame.elementDepthCount++,Ou(f)&&(Dm(s,i,f),X8(s,f,i)),null!==r&&wm(i,f)}function u(){let t=Qn();Rl()?Lc():(t=t.parent,Ki(t,!1));const n=t;ct.lFrame.elementDepthCount--;const e=qt();e.firstCreatePass&&(mn(e,t),Dc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&$m(e,n,M(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&$m(e,n,M(),n.stylesWithoutHost,!1)}function d(t,n,e,r){a(t,n,e,r),u()}function Hn(){return M()}function ud(t){return!!t&&"function"==typeof t.then}const Ym=function(t){return!!t&&"function"==typeof t.subscribe};function ge(t,n,e,r){const i=M(),s=qt(),l=Qn();return function(t,n,e,r,i,s,l,c){const h=Ou(r),v=t.firstCreatePass&&c_(t),E=n[8],b=l_(n);let y=!0;if(3&r.type||c){const O=xi(r,n),R=c?c(O):O,q=b.length,Q=c?B=>c(Zn(B[r.index])):r.index;if(Xn(e)){let B=null;if(!c&&h&&(B=function(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const l=i[s];if(l===e&&i[s+1]===r){const c=n[7],h=i[s+2];return c.length>h?c[h]:null}"string"==typeof l&&(s+=2)}return null}(t,n,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,y=!1;else{s=Wm(r,n,E,s,!1);const L=e.listen(R,i,s);b.push(s,L),v&&v.push(i,Q,q,q+1)}}else s=Wm(r,n,E,s,!0),R.addEventListener(i,s,l),b.push(s),v&&v.push(i,Q,q,l)}else s=Wm(r,n,E,s,!1);const T=r.outputs;let A;if(y&&null!==T&&(A=T[i])){const O=A.length;if(O)for(let R=0;R<O;R+=2){const V=n[A[R]][A[R+1]].subscribe(s),ve=b.length;b.push(s,V),v&&v.push(i,r.index,ve,-(ve+1))}}}(s,i,i[11],l,t,n,!!e,r),ge}function e6(t,n,e,r){try{return!1!==e(r)}catch(i){return h_(t,i),!1}}function Wm(t,n,e,r,i){return function s(l){if(l===Function)return r;const c=2&t.flags?ci(t.index,n):n;0==(32&n[2])&&Nm(c);let h=e6(n,0,r,l),f=s.__ngNextListenerFn__;for(;f;)h=e6(n,0,f,l)&&h,f=f.__ngNextListenerFn__;return i&&!1===h&&(l.preventDefault(),l.returnValue=!1),h}}function ye(t=1){return function(t){return(ct.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,ct.lFrame.contextLView))[8]}(t)}function SM(t,n){let e=null;const r=function(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?R8(t,s,!0):RT(r,s))return i}else e=i}return e}function l6(t,n,e,r,i){const s=t[e+1],l=null===n;let c=r?wo(s):Qs(s),h=!1;for(;0!==c&&(!1===h||l);){const v=t[c+1];TM(t[c],n)&&(h=!0,t[c+1]=r?mm(v):fm(v)),c=r?wo(v):Qs(v)}h&&(t[e+1]=r?fm(s):mm(s))}function TM(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Gl(t,n)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function c6(t){return t.substring(Pr.key,Pr.keyEnd)}function d6(t,n){const e=Pr.textEnd;return e===n?-1:(n=Pr.keyEnd=function(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Pr.key=n,e),p0(t,n,e))}function p0(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function m0(t,n,e){return Mo(t,n,e,!1),m0}function Ct(t,n){return Mo(t,n,null,!0),Ct}function Ao(t){!function(t,n,e,r){const i=qt(),s=so(2);i.firstUpdatePass&&v6(i,null,s,r);const l=M();if(e!==bt&&hi(l,s,e)){const c=i.data[fe()];if(y6(c,r)&&!g6(i,s)){let h=r?c.classesWithoutHost:c.stylesWithoutHost;null!==h&&(e=yl(h,e||"")),$m(i,c,l,e,r)}else!function(t,n,e,r,i,s,l,c){i===bt&&(i=cn);let h=0,f=0,v=0<i.length?i[0]:null,E=0<s.length?s[0]:null;for(;null!==v||null!==E;){const b=h<i.length?i[h+1]:void 0,y=f<s.length?s[f+1]:void 0;let A,T=null;v===E?(h+=2,f+=2,b!==y&&(T=E,A=y)):null===E||null!==v&&v<E?(h+=2,T=v):(f+=2,T=E,A=y),null!==T&&_6(t,n,e,r,T,A,l,c),v=h<i.length?i[h]:null,E=f<s.length?s[f]:null}}(i,c,l,l[11],l[s+1],l[s+1]=function(t,n,e){if(null==e||""===e)return cn;const r=[],i=Qi(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,s)}}(Zi,fs,t,!0)}function fs(t,n){for(let e=function(t){return function(t){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=t.length}(t),d6(t,p0(t,0,Pr.textEnd))}(n);e>=0;e=d6(n,e))Zi(t,c6(n),!0)}function Mo(t,n,e,r){const i=M(),s=qt(),l=so(2);s.firstUpdatePass&&v6(s,t,l,r),n!==bt&&hi(i,l,n)&&_6(s,s.data[fe()],i,i[11],t,i[l+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ht(Qi(t)))),t}(n,e),r,l)}function g6(t,n){return n>=t.expandoStartIndex}function v6(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[fe()],l=g6(t,e);y6(s,r)&&null===n&&!l&&(n=!1),n=function(t,n,e,r){const i=function(t){const n=ct.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=cd(e=Jm(null,t,n,e,r),n.attrs,r),s=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==i)if(e=Jm(i,t,n,e,r),null===s){let h=function(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Qs(r))return t[wo(r)]}(t,n,r);void 0!==h&&Array.isArray(h)&&(h=Jm(null,t,n,h[1],r),h=cd(h,n.attrs,r),function(t,n,e,r){t[wo(e?n.classBindings:n.styleBindings)]=r}(t,n,r,h))}else s=function(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=cd(r,t[s].hostAttrs,e);return cd(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function(t,n,e,r,i,s){let l=s?n.classBindings:n.styleBindings,c=wo(l),h=Qs(l);t[r]=e;let v,f=!1;if(Array.isArray(e)){const E=e;v=E[1],(null===v||Gl(E,v)>0)&&(f=!0)}else v=e;if(i)if(0!==h){const b=wo(t[c+1]);t[r+1]=_h(b,c),0!==b&&(t[b+1]=pm(t[b+1],r)),t[c+1]=function(t,n){return 131071&t|n<<17}(t[c+1],r)}else t[r+1]=_h(c,0),0!==c&&(t[c+1]=pm(t[c+1],r)),c=r;else t[r+1]=_h(h,0),0===c?c=r:t[h+1]=pm(t[h+1],r),h=r;f&&(t[r+1]=fm(t[r+1])),l6(t,v,r,!0),l6(t,v,r,!1),function(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&Gl(s,n)>=0&&(e[r+1]=mm(e[r+1]))}(n,v,t,r,s),l=_h(c,h),s?n.classBindings=l:n.styleBindings=l}(i,s,n,e,l,r)}}function Jm(t,n,e,r,i){let s=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(s=n[c],r=cd(r,s.hostAttrs,i),s!==t);)c++;return null!==t&&(e.directiveStylingLast=c),r}function cd(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zi(t,l,!!e||n[++s]))}return void 0===t?null:t}function _6(t,n,e,r,i,s,l,c){if(!(3&n.type))return;const h=t.data,f=h[c+1];Nh(function(t){return 1==(1&t)}(f)?b6(h,n,e,i,Qs(f),l):void 0)||(Nh(s)||function(t){return 2==(2&t)}(f)&&(s=b6(h,null,e,i,c,l)),function(t,n,e,r,i){const s=Xn(t);if(n)i?s?t.addClass(e,r):e.classList.add(r):s?t.removeClass(e,r):e.classList.remove(r);else{let l=-1===r.indexOf("-")?void 0:eo.DashCase;if(null==i)s?t.removeStyle(e,r,l):e.style.removeProperty(r);else{const c="string"==typeof i&&i.endsWith("!important");c&&(i=i.slice(0,-10),l|=eo.Important),s?t.setStyle(e,r,i,l):e.style.setProperty(r,i,c?"important":"")}}}(r,l,Iu(fe(),e),i,s))}function b6(t,n,e,r,i,s){const l=null===n;let c;for(;i>0;){const h=t[i],f=Array.isArray(h),v=f?h[1]:h,E=null===v;let b=e[i+1];b===bt&&(b=E?cn:void 0);let y=E?B2(b,r):v===r?b:void 0;if(f&&!Nh(y)&&(y=B2(h,r)),Nh(y)&&(c=y,l))return c;const T=t[i+1];i=l?wo(T):Qs(T)}if(null!==n){let h=s?n.residualClasses:n.residualStyles;null!=h&&(c=B2(h,r))}return c}function Nh(t){return void 0!==t}function y6(t,n){return 0!=(t.flags&(n?16:32))}function o(t,n=""){const e=M(),r=qt(),i=t+20,s=r.firstCreatePass?Kl(r,i,1,n,null):r.data[i],l=e[i]=om(e[11],n);vh(r,e,l,s),Ki(s,!1)}function lo(t){return Oo("",t,""),lo}function Oo(t,n,e){const r=M(),i=function(t,n,e,r){return hi(t,tu(),e)?n+ot(e)+r:bt}(r,t,n,e);return i!==bt&&ea(r,fe(),i),Oo}function zr(t,n,e,r,i){const s=M(),l=function(t,n,e,r,i,s){const c=Bu(t,oo(),e,i);return so(2),c?n+ot(e)+r+ot(i)+s:bt}(s,t,n,e,r,i);return l!==bt&&ea(s,fe(),l),zr}function g0(t,n,e,r,i,s,l,c,h){const f=M(),v=function(t,n,e,r,i,s,l,c,h,f){const E=uo(t,oo(),e,i,l,h);return so(4),E?n+ot(e)+r+ot(i)+s+ot(l)+c+ot(h)+f:bt}(f,t,n,e,r,i,s,l,c,h);return v!==bt&&ea(f,fe(),v),g0}function Oh(t,n,e,r,i,s,l,c,h,f,v){const E=M(),b=function(t,n,e,r,i,s,l,c,h,f,v,E){const b=oo();let y=uo(t,b,e,i,l,h);return y=hi(t,b+4,v)||y,so(5),y?n+ot(e)+r+ot(i)+s+ot(l)+c+ot(h)+f+ot(v)+E:bt}(E,t,n,e,r,i,s,l,c,h,f,v);return b!==bt&&ea(E,fe(),b),Oh}function Km(t,n,e,r,i,s,l,c,h,f,v,E,b){const y=M(),T=function(t,n,e,r,i,s,l,c,h,f,v,E,b,y){const T=oo();let A=uo(t,T,e,i,l,h);return A=Bu(t,T+4,v,b)||A,so(6),A?n+ot(e)+r+ot(i)+s+ot(l)+c+ot(h)+f+ot(v)+E+ot(b)+y:bt}(y,t,n,e,r,i,s,l,c,h,f,v,E,b);return T!==bt&&ea(y,fe(),T),Km}function ra(t){const n=M(),e=function(t,n){let e=!1,r=oo();for(let s=1;s<n.length;s+=2)e=hi(t,r++,n[s])||e;if(eh(r),!e)return bt;let i=n[0];for(let s=1;s<n.length;s+=2)i+=ot(n[s])+n[s+1];return i}(n,t);return e!==bt&&ea(n,fe(),e),ra}function qi(t,n,e){const r=M();return hi(r,tu(),n)&&to(qt(),Te(),r,t,n,r[11],e,!0),qi}const qu=void 0;var oN=["en",[["a","p"],["AM","PM"],qu],[["AM","PM"],qu,qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qu,"{1} 'at' {0}",qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let v0={};function Di(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=B6(n);if(e)return e;const r=n.split("-")[0];if(e=B6(r),e)return e;if("en"===r)return oN;throw new Error(`Missing locale data for the locale "${t}".`)}function L6(t){return Di(t)[Be.PluralCase]}function B6(t){return t in v0||(v0[t]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[t]),v0[t]}var Be=(()=>((Be=Be||{})[Be.LocaleId=0]="LocaleId",Be[Be.DayPeriodsFormat=1]="DayPeriodsFormat",Be[Be.DayPeriodsStandalone=2]="DayPeriodsStandalone",Be[Be.DaysFormat=3]="DaysFormat",Be[Be.DaysStandalone=4]="DaysStandalone",Be[Be.MonthsFormat=5]="MonthsFormat",Be[Be.MonthsStandalone=6]="MonthsStandalone",Be[Be.Eras=7]="Eras",Be[Be.FirstDayOfWeek=8]="FirstDayOfWeek",Be[Be.WeekendRange=9]="WeekendRange",Be[Be.DateFormat=10]="DateFormat",Be[Be.TimeFormat=11]="TimeFormat",Be[Be.DateTimeFormat=12]="DateTimeFormat",Be[Be.NumberSymbols=13]="NumberSymbols",Be[Be.NumberFormats=14]="NumberFormats",Be[Be.CurrencyCode=15]="CurrencyCode",Be[Be.CurrencySymbol=16]="CurrencySymbol",Be[Be.CurrencyName=17]="CurrencyName",Be[Be.Currencies=18]="Currencies",Be[Be.Directionality=19]="Directionality",Be[Be.PluralCase=20]="PluralCase",Be[Be.ExtraData=21]="ExtraData",Be))();const aN=["zero","one","two","few","many"],Ih="en-US",Ph={marker:"element"},Rh={marker:"ICU"};var ur=(()=>((ur=ur||{})[ur.SHIFT=2]="SHIFT",ur[ur.APPEND_EAGERLY=1]="APPEND_EAGERLY",ur[ur.COMMENT=2]="COMMENT",ur))();let q6=Ih;function U6(t,n,e){const r=n.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?S8(t,0,e):Zn(e[i])}function H6(t,n,e,r,i){const s=n.insertBeforeIndex;if(Array.isArray(s)){let l=r,c=null;if(3&n.type||(c=l,l=i),null!==l&&0==(2&n.flags))for(let h=1;h<s.length;h++)Lu(t,l,e[s[h]],c,!1)}}function z6(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const r=t[e];V6(r)||hN(r,n)&&null===fN(r)&&pN(r,n.index)}}function V6(t){return!(64&t.type)}function hN(t,n){return V6(n)||t.index>n.index}function fN(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function pN(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(w8(U6,H6),t.insertBeforeIndex=n)}function dd(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function vN(t,n,e){const r=Sm(t,e,64,null,null);return z6(n,r),r}function Fh(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function G6(t){return t>>>17}function j6(t){return(131070&t)>>>1}let hd=0,fd=0;function Y6(t,n,e,r){const i=e[11];let l,s=null;for(let c=0;c<n.length;c++){const h=n[c];if("string"==typeof h){const f=n[++c];null===e[f]&&(e[f]=om(i,h))}else if("number"==typeof h)switch(1&h){case 0:const f=G6(h);let v,E;if(null===s&&(s=f,l=gh(i,r)),f===s?(v=r,E=l):(v=null,E=Zn(e[f])),null!==E){const A=j6(h);Lu(i,E,e[A],v,!1);const R=dd(t,A);if(null!==R&&"object"==typeof R){const q=Fh(R,e);null!==q&&Y6(t,R.create[q],e,e[R.anchorIdx])}}break;case 1:const y=n[++c],T=n[++c];Am(i,Iu(h>>>1,e),null,null,y,T,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${h}"`)}else switch(h){case Rh:const f=n[++c],v=n[++c];null===e[v]&&di(e[v]=fT(i,f),e);break;case Ph:const E=n[++c],b=n[++c];null===e[b]&&di(e[b]=sm(i,E,null),e)}}}function W6(t,n,e,r,i){for(let s=0;s<e.length;s++){const l=e[s],c=e[++s];if(l&i){let h="";for(let f=s+1;f<=s+c;f++){const v=e[f];if("string"==typeof v)h+=v;else if("number"==typeof v)if(v<0)h+=ot(n[r-v]);else{const E=v>>>2;switch(3&v){case 1:const b=e[++f],y=e[++f],T=t.data[E];"string"==typeof T?Am(n[11],n[E],null,T,b,h,y):to(t,T,n,b,h,n[11],y,!1);break;case 0:const A=n[E];null!==A&&g8(n[11],A,h);break;case 2:xN(t,dd(t,E),n,h);break;case 3:X6(t,dd(t,E),r,n)}}}}else{const h=e[s+1];if(h>0&&3==(3&h)){const v=dd(t,h>>>2);n[v.currentCaseLViewIndex]<0&&X6(t,v,r,n)}}s+=c}}function X6(t,n,e,r){let i=r[n.currentCaseLViewIndex];if(null!==i){let s=hd;i<0&&(i=r[n.currentCaseLViewIndex]=~i,s=-1),W6(t,r,n.update[i],e,s)}}function xN(t,n,e,r){const i=function(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const r=function(t,n){const e=L6(n)(parseInt(t,10)),r=aN[e];return void 0!==r?r:"other"}(n,q6);e=t.cases.indexOf(r),-1===e&&"other"!==r&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,r);if(Fh(n,e)!==i&&(J6(t,n,e),e[n.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const l=e[n.anchorIdx];l&&Y6(t,n.create[i],e,l)}}function J6(t,n,e){let r=Fh(n,e);if(null!==r){const i=n.remove[r];for(let s=0;s<i.length;s++){const l=i[s];if(l>0){const c=Iu(l,e);null!==c&&A8(e[11],c)}else J6(t,dd(t,~l),e)}}}function SN(){const t=[];let e,r,n=-1;function s(c,h){n=0;const f=Fh(c,h);r=null!==f?c.remove[f]:cn}function l(){if(n<r.length){const c=r[n++];return c>0?e[c]:(t.push(n,r),s(e[1].data[~c],e),l())}return 0===t.length?null:(r=t.pop(),n=t.pop(),l())}return function(c,h){for(e=h;t.length;)t.pop();return s(c.value,h),l}}const kh=/\ufffd(\d+):?\d*\ufffd/gi,wN=/\ufffd(\d+)\ufffd/,Z6=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,TN=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,AN=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,MN=/\uE500/g;function Q6(t,n,e,r,i,s,l){const c=Zl(t,r,1,null);let h=c<<ur.SHIFT,f=Ws();n===f&&(f=null),null===f&&(h|=ur.APPEND_EAGERLY),l&&(h|=ur.COMMENT,function(t){void 0===tm&&(tm=t())}(SN)),i.push(h,null===s?"":s);const v=Sm(t,c,l?32:1,null===s?"":s,null);z6(e,v);const E=v.index;return Ki(v,!1),null!==f&&n!==f&&function(t,n){let e=t.insertBeforeIndex;null===e?(w8(U6,H6),e=t.insertBeforeIndex=[null,n]):(function(t,n,e){t!=n&&gn(e,t,n,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(f,E),v}function IN(t,n,e,r,i,s,l){const c=l.match(kh),h=Q6(t,n,e,s,r,c?null:l,!1);c&&E0(i,l,h.index,null,0,null)}function E0(t,n,e,r,i,s){const l=t.length,c=l+1;t.push(null,null);const h=l+2,f=n.split(kh);let v=0;for(let E=0;E<f.length;E++){const b=f[E];if(1&E){const y=i+parseInt(b,10);t.push(-1-y),v|=e5(y)}else""!==b&&t.push(b)}return t.push(e<<2|(r?1:0)),r&&t.push(r,s),t[l]=v,t[c]=t.length-h,v}function e5(t){return 1<<Math.min(t,31)}function t5(t){let n,s,e="",r=0,i=!1;for(;null!==(n=TN.exec(t));)i?n[0]===`\ufffd/*${s}\ufffd`&&(r=n.index,i=!1):(e+=t.substring(r,n.index+n[0].length),s=n[1],i=!0);return e+=t.substr(r),e}function n5(t,n,e,r,i,s){let l=0;const c={type:i.type,currentCaseLViewIndex:Zl(t,n,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function(t,n,e){t.push(e5(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(e,i,s),function(t,n,e){const r=t.data[n];null===r?t.data[n]=e:r.value=e}(t,s,c);const h=i.values;for(let f=0;f<h.length;f++){const v=h[f],E=[];for(let b=0;b<v.length;b++){const y=v[b];if("string"!=typeof y){const T=E.push(y)-1;v[b]=`\x3c!--\ufffd${T}\ufffd--\x3e`}}l=BN(t,c,n,e,r,i.cases[f],v.join(""),E)|l}l&&function(t,n,e){t.push(n,1,e<<2|3)}(e,l,s)}function LN(t){const n=[],e=[];let r=1,i=0;const s=Zm(t=t.replace(Z6,function(l,c,h){return r="select"===h?0:1,i=parseInt(c.substr(1),10),""}));for(let l=0;l<s.length;){let c=s[l++].trim();1===r&&(c=c.replace(/\s*(?:=)?(\w+)\s*/,"$1")),c.length&&n.push(c);const h=Zm(s[l++]);n.length>e.length&&e.push(h)}return{type:r,mainBinding:i,cases:n,values:e}}function Zm(t){if(!t)return[];let n=0;const e=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const c=s.index;if("}"==s[0]){if(e.pop(),0==e.length){const h=t.substring(n,c);Z6.test(h)?r.push(LN(h)):r.push(h),n=c+1}}else{if(0==e.length){const h=t.substring(n,c);r.push(h),n=c+1}e.push("{")}}const l=t.substring(n);return r.push(l),r}function BN(t,n,e,r,i,s,l,c){const h=[],f=[],v=[];n.cases.push(s),n.create.push(h),n.remove.push(f),n.update.push(v);const b=WE(Pl()).getInertBodyElement(l),y=W2(b)||b;return y?r5(t,n,e,r,h,f,v,y,i,c,0):0}function r5(t,n,e,r,i,s,l,c,h,f,v){let E=0,b=c.firstChild;for(;b;){const y=Zl(t,e,1,null);switch(b.nodeType){case Node.ELEMENT_NODE:const T=b,A=T.tagName.toLowerCase();if(j2.hasOwnProperty(A)){Qm(i,Ph,A,h,y),t.data[y]=A;const Q=T.attributes;for(let B=0;B<Q.length;B++){const L=Q.item(B),V=L.name.toLowerCase();L.value.match(kh)?QE.hasOwnProperty(V)&&E0(l,L.value,y,L.name,0,$2[V]?Jc:Y2[V]?XE:null):zN(i,y,L)}E=r5(t,n,e,r,i,s,l,b,y,f,v+1)|E,i5(s,y,v)}break;case Node.TEXT_NODE:const O=b.textContent||"",R=O.match(kh);Qm(i,null,R?"":O,h,y),i5(s,y,v),R&&(E=E0(l,O,y,null,0,null)|E);break;case Node.COMMENT_NODE:const q=wN.exec(b.textContent||"");if(q){const B=f[parseInt(q[1],10)];Qm(i,Rh,"",h,y),n5(t,e,r,h,B,y),qN(s,y,v)}}b=b.nextSibling}return E}function i5(t,n,e){0===e&&t.push(n)}function qN(t,n,e){0===e&&(t.push(~n),t.push(n))}function Qm(t,n,e,r,i){null!==n&&t.push(n),t.push(e,i,function(t,n,e){return 0|n<<17|e<<1}(0,r,i))}function zN(t,n,e){t.push(n<<1|1,e.name,e.value)}function s5(t,n,e=-1){const r=qt(),i=M(),s=20+t,l=So(r.consts,n),c=Ws();r.firstCreatePass&&function(t,n,e,r,i,s){const l=Ws(),c=[],h=[],f=[[]];i=function(t,n){if(function(t){return-1===t}(n))return t5(t);{const e=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return t5(t.substring(e,r))}}(i,s);const v=function(t){return t.replace(MN," ")}(i).split(AN);for(let E=0;E<v.length;E++){let b=v[E];if(0==(1&E)){const y=Zm(b);for(let T=0;T<y.length;T++){let A=y[T];if(0==(1&T)){const O=A;""!==O&&IN(t,l,f[0],c,h,e,O)}else{const O=A;if("object"!=typeof O)throw new Error(`Unable to parse ICU expression in "${i}" message.`);n5(t,e,h,n,O,Q6(t,l,f[0],e,c,"",!0).index)}}}else{const y=47===b.charCodeAt(0),A=(b.charCodeAt(y?1:0),20+Number.parseInt(b.substring(y?2:1)));if(y)f.shift(),Ki(Ws(),!1);else{const O=vN(t,f[0],A);f.unshift([]),Ki(O,!0)}}}t.data[r]={create:c,update:h}}(r,null===c?0:c.index,i,s,l,e);const h=r.data[s],v=b8(r,c===i[6]?null:c,i);(function(t,n,e,r){const i=t[11];for(let s=0;s<n.length;s++){const l=n[s++],c=n[s],h=(l&ur.COMMENT)===ur.COMMENT,f=(l&ur.APPEND_EAGERLY)===ur.APPEND_EAGERLY,v=l>>>ur.SHIFT;let E=t[v];null===E&&(E=t[v]=h?i.createComment(c):om(i,c)),f&&null!==e&&Lu(i,e,E,r,!1)}})(i,h.create,v,c&&8&c.type?i[c.index]:null),th(!0)}function fi(t,n,e){s5(t,n,e),th(!1)}function md(t){return function(t){t&&(hd|=1<<Math.min(fd,31)),fd++}(hi(M(),tu(),t)),md}function Lh(t){!function(t,n,e){if(fd>0){const r=t.data[e];W6(t,n,Array.isArray(r)?r:r.update,oo()-fd-1,hd)}hd=0,fd=0}(qt(),M(),t+20)}function eg(t,n,e,r,i){if(t=xt(t),Array.isArray(t))for(let s=0;s<t.length;s++)eg(t[s],n,e,r,i);else{const s=qt(),l=M();let c=t0(t)?t:xt(t.provide),h=E_(t);const f=Qn(),v=1048575&f.providerIndexes,E=f.directiveStart,b=f.providerIndexes>>20;if(t0(t)||!t.multi){const y=new Jr(h,i,z),T=ng(c,n,i?v:v+b,E);-1===T?(sh(Uc(f,l),s,c),tg(s,t,n.length),n.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),e.push(y),l.push(y)):(e[T]=y,l[T]=y)}else{const y=ng(c,n,v+b,E),T=ng(c,n,v,v+b),A=y>=0&&e[y],O=T>=0&&e[T];if(i&&!O||!i&&!A){sh(Uc(f,l),s,c);const R=function(t,n,e,r,i){const s=new Jr(t,e,z);return s.multi=[],s.index=n,s.componentProviders=0,u5(s,i,r&&!e),s}(i?tO:eO,e.length,i,r,h);!i&&O&&(e[T].providerFactory=R),tg(s,t,n.length,0),n.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),e.push(R),l.push(R)}else tg(s,t,y>-1?y:T,u5(e[i?T:y],h,!i&&r));!i&&r&&O&&e[T].componentProviders++}}}function tg(t,n,e,r){const i=t0(n),s=function(t){return!!t.useClass}(n);if(i||s){const h=(s?xt(n.useClass):n).prototype.ngOnDestroy;if(h){const f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const v=f.indexOf(e);-1===v?f.push(e,[r,h]):f[v+1].push(r,h)}else f.push(e,h)}}}function u5(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ng(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function eO(t,n,e,r){return rg(this.multi,[])}function tO(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=Hc(e,e[1],this.providerFactory.index,r);s=c.slice(0,l),rg(i,s);for(let h=l;h<c.length;h++)s.push(c[h])}else s=[],rg(i,s);return s}function rg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Qt(t,n=[]){return e=>{e.providersResolver=(r,i)=>function(t,n,e){const r=qt();if(r.firstCreatePass){const i=Ji(t);eg(e,r.data,r.blueprint,i,!0),eg(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class l5{}class oO{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Ht(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let co=(()=>{class t{}return t.NULL=new oO,t})();function sO(){return _0(Qn(),M())}function _0(t,n){return new Zt(xi(t,n))}let Zt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=sO,t})();function aO(t){return t instanceof Zt?t.nativeElement:t}class Bh{}let Rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=M(),e=ci(Qn().index,t);return function(t){return t[11]}(Wi(e)?e:t)}(),t})(),cO=(()=>{class t{}return t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>null}),t})();class gd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const dO=new gd("13.1.0"),ig={};function qh(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(Zn(s)),Li(s))for(let c=10;c<s.length;c++){const h=s[c],f=h[1].firstChild;null!==f&&qh(h[1],h,f,r)}const l=e.type;if(8&l)qh(t,n,e.child,r);else if(32&l){const c=nm(e,n);let h;for(;h=c();)r.push(h)}else if(16&l){const c=T8(n,e);if(Array.isArray(c))r.push(...c);else{const h=ed(n[16]);qh(h[1],h,c,r,!0)}}e=i?e.projectionNext:e.next}return r}class vd{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return qh(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Li(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(am(n,r),uh(e,r))}this._attachedToViewContainer=!1}E8(this._lView[1],this._lView)}onDestroy(n){Q8(this._lView[1],this._lView,null,n)}markForCheck(){Nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Im(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,e){Fl(!0);try{Im(t,n,e)}finally{Fl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,td(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class hO extends vd{constructor(n){super(n),this._view=n}detectChanges(){u_(this._view)}checkNoChanges(){!function(t){Fl(!0);try{u_(t)}finally{Fl(!1)}}(this._view)}get context(){return null}}class d5 extends co{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Br(n);return new og(e,this.ngModule)}}function h5(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}const pO=new Rt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>l8});class og extends l5{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=n.selectors.map(FT).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return h5(this.componentDef.inputs)}get outputs(){return h5(this.componentDef.outputs)}create(n,e,r,i){const s=(i=i||this.ngModule)?function(t,n){return{get:(e,r,i)=>{const s=t.get(e,ig,i);return s!==ig||r===ig?s:n.get(e,r,i)}}}(n,i.injector):n,l=s.get(Bh,Oc),c=s.get(cO,null),h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",v=r?function(t,n,e){if(Xn(t))return t.selectRootElement(n,e===An.ShadowDom);let r="string"==typeof n?t.querySelector(n):n;return r.textContent="",r}(h,r,this.componentDef.encapsulation):sm(l.createRenderer(null,this.componentDef),f,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(f)),E=this.componentDef.onPush?576:528,b=function(t,n){return{components:[],scheduler:t||l8,clean:xA,playerHandler:n||null,flags:0}}(),y=xh(0,null,null,1,0,null,null,null,null,null),T=nd(null,y,b,E,null,null,l,h,c,s);let A,O;D(T);try{const R=function(t,n,e,r,i,s){const l=e[1];e[20]=t;const h=Kl(l,20,2,"#host",null),f=h.mergedAttrs=n.hostAttrs;null!==f&&(Sh(h,f,!0),null!==t&&(Js(i,t,f),null!==h.classes&&hm(i,t,h.classes),null!==h.styles&&N8(i,t,h.styles)));const v=r.createRenderer(t,n),E=nd(e,J8(n),null,n.onPush?64:16,e[20],h,r,v,s||null,null);return l.firstCreatePass&&(sh(Uc(h,e),l,n.type),i_(l,h),o_(h,e.length,1)),Ch(e,E),e[20]=E}(v,this.componentDef,T,l,h);if(v)if(r)Js(h,v,["ng-version",dO.full]);else{const{attrs:q,classes:Q}=function(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Do(i))break;i=s}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);q&&Js(h,v,q),Q&&Q.length>0&&hm(h,v,Q.join(" "))}if(O=Pc(y,20),void 0!==e){const q=O.projection=[];for(let Q=0;Q<this.ngContentSelectors.length;Q++){const B=e[Q];q.push(null!=B?Array.from(B):null)}}A=function(t,n,e,r,i){const s=e[1],l=function(t,n,e){const r=Qn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),s_(t,r,n,Zl(t,n,1,null),e));const i=Hc(n,t,r.directiveStart,r);di(i,n);const s=xi(r,n);return s&&di(s,n),i}(s,e,n);if(r.components.push(l),t[8]=l,i&&i.forEach(h=>h(l,n)),n.contentQueries){const h=Qn();n.contentQueries(1,l,h.directiveStart)}const c=Qn();return!s.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(De(c.index),n_(e[1],c,0,c.directiveStart,c.directiveEnd,n),r_(n,l)),l}(R,this.componentDef,T,b,[zA]),rd(y,T,null)}finally{J()}return new vO(this.componentType,A,_0(O,T),T,O)}}class vO extends class{}{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new hO(i),this.componentType=n}get injector(){return new ql(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ia{}class f5{}const b0=new Map;class g5 extends ia{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new d5(this);const r=ki(n);this._bootstrapComponents=ls(r.bootstrap),this._r3Injector=v_(n,e,[{provide:ia,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],Ht(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=er.THROW_IF_NOT_FOUND,r=lt.Default){return n===er||n===ia||n===id?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class sg extends f5{constructor(n){super(),this.moduleType=n,null!==ki(n)&&function(t){const n=new Set;!function e(r){const i=ki(r,!0),s=i.id;null!==s&&(function(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${Ht(n)} vs ${Ht(n.name)}`)}(s,b0.get(s),r),b0.set(s,r));const l=ls(i.imports);for(const c of l)n.has(c)||(n.add(c),e(c))}(t)}(n)}create(n){return new g5(this.moduleType,n)}}function au(t,n,e){const r=Or()+t,i=M();return i[r]===bt?ds(i,r,e?n.call(e):n()):function(t,n){return t[n]}(i,r)}function Ed(t,n,e,r){return function(t,n,e,r,i,s){const l=n+e;return hi(t,l,i)?ds(t,l+1,s?r.call(s,i):r(i)):bd(t,l+1)}(M(),Or(),t,n,e,r)}function ag(t,n,e,r,i,s){return function(t,n,e,r,i,s,l,c){const h=n+e;return function(t,n,e,r,i){const s=Bu(t,n,e,r);return hi(t,n+2,i)||s}(t,h,i,s,l)?ds(t,h+3,c?r.call(c,i,s,l):r(i,s,l)):bd(t,h+3)}(M(),Or(),t,n,e,r,i,s)}function bd(t,n){const e=t[n];return e===bt?void 0:e}function ug(t){return n=>{setTimeout(t,void 0,n)}}const nt=class extends ne{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){var i,s,l;let c=n,h=e||(()=>null),f=r;if(n&&"object"==typeof n){const E=n;c=null===(i=E.next)||void 0===i?void 0:i.bind(E),h=null===(s=E.error)||void 0===s?void 0:s.bind(E),f=null===(l=E.complete)||void 0===l?void 0:l.bind(E)}this.__isAsync&&(h=ug(h),c&&(c=ug(c)),f&&(f=ug(f)));const v=super.subscribe({next:c,error:h,complete:f});return n instanceof ke&&n.add(v),v}};function RO(){return this._results[n0()]()}class lg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=n0(),r=lg.prototype;r[e]||(r[e]=RO)}get changes(){return this._changes||(this._changes=new nt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=ao(n);(this._changesDetected=!function(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _n=(()=>{class t{}return t.__NG_ELEMENT_ID__=LO,t})();const FO=_n,kO=class extends FO{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n){const e=this._declarationTContainer.tViews,r=nd(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),rd(e,r,n),new vd(r)}};function LO(){return Uh(Qn(),M())}function Uh(t,n){return 4&t.type?new kO(n,t,_0(t,n)):null}let wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=BO,t})();function BO(){return S5(Qn(),M())}const qO=wi,x5=class extends qO{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return _0(this._hostTNode,this._hostLView)}get injector(){return new ql(this._hostTNode,this._hostLView)}get parentInjector(){const n=oh(this._hostTNode,this._hostLView);if(Bl(n)){const e=Zs(n,this._hostLView),r=Ks(n);return new ql(e[1].data[r+8],e)}return new ql(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=C5(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){const i=n.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(n,e,r,i,s){const l=n&&!function(t){return"function"==typeof t}(n);let c;if(l)c=e;else{const E=e||{};c=E.index,r=E.injector,i=E.projectableNodes,s=E.ngModuleRef}const h=l?n:new og(Br(n)),f=r||this.parentInjector;if(!s&&null==h.ngModule&&f){const E=f.get(ia,null);E&&(s=E)}const v=h.create(f,i,void 0,s);return this.insert(v.hostView,c),v}insert(n,e){const r=n._lView,i=r[1];if(Li(r[3])){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const E=r[3],b=new x5(E,E[6],E[3]);b.detach(b.indexOf(n))}}const s=this._adjustIndex(e),l=this._lContainer;!function(t,n,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=n),r<s-10?(n[4]=e[i],IE(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const l=n[17];null!==l&&e!==l&&function(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(l,n);const c=n[19];null!==c&&c.insertView(t),n[2]|=128}(i,r,l,s);const c=cm(s,l),h=r[11],f=gh(h,l[7]);return null!==f&&function(t,n,e,r,i,s){r[0]=i,r[6]=n,td(t,r,e,1,i,s)}(i,l[6],h,r,f,c),n.attachToViewContainerRef(),IE(cg(l),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=C5(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=am(this._lContainer,e);r&&(uh(cg(this._lContainer),e),E8(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=am(this._lContainer,e);return r&&null!=uh(cg(this._lContainer),e)?new vd(r):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function C5(t){return t[8]}function cg(t){return t[8]||(t[8]=[])}function S5(t,n){let e;const r=n[t.index];if(Li(r))e=r;else{let i;if(8&t.type)i=Zn(r);else{const s=n[11];i=s.createComment("");const l=xi(t,n);Lu(s,gh(s,l),i,function(t,n){return Xn(t)?t.nextSibling(n):n.nextSibling}(s,l),!1)}n[t.index]=e=a_(r,n,i,t),Ch(n,e)}return new x5(e,t,n)}class dg{constructor(n){this.queryList=n,this.matches=null}clone(){return new dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class hg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const l=e.getByIndex(s);i.push(this.queries[l.indexInDeclarationView].clone())}return new hg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==M5(n,e).matches&&this.queries[e].setDirty()}}class D5{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class fg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new fg(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class pg{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new pg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,zO(e,s)),this.matchTNodeWithReadOption(n,e,ah(e,n,s,!1,!1))}else r===_n?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ah(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Zt||i===wi||i===_n&&4&e.type)this.addMatch(e.index,-2);else{const s=ah(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function zO(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function GO(t,n,e,r){return-1===e?function(t,n){return 11&t.type?_0(t,n):4&t.type?Uh(t,n):null}(n,t):-2===e?function(t,n,e){return e===Zt?_0(n,t):e===_n?Uh(n,t):e===wi?S5(n,t):void 0}(t,n,r):Hc(t,t[1],e,n)}function w5(t,n,e,r){const i=n[19].queries[r];if(null===i.matches){const s=t.data,l=e.matches,c=[];for(let h=0;h<l.length;h+=2){const f=l[h];c.push(f<0?null:GO(n,s[f],l[h+1],e.metadata.read))}i.matches=c}return i.matches}function mg(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const l=w5(t,n,i,e);for(let c=0;c<s.length;c+=2){const h=s[c];if(h>0)r.push(l[c/2]);else{const f=s[c+1],v=n[-h];for(let E=10;E<v.length;E++){const b=v[E];b[17]===b[3]&&mg(b[1],b,f,r)}if(null!==v[9]){const E=v[9];for(let b=0;b<E.length;b++){const y=E[b];mg(y[1],y,f,r)}}}}}return r}function on(t){const n=M(),e=qt(),r=m();g(r+1);const i=M5(e,r);if(t.dirty&&Y1(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?mg(e,n,r,[]):w5(e,n,i,r);t.reset(s,aO),t.notifyOnChanges()}return!0}return!1}function y0(t,n,e){const r=qt();r.firstCreatePass&&(A5(r,new D5(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),T5(r,M(),n)}function On(t,n,e,r){const i=qt();if(i.firstCreatePass){const s=Qn();A5(i,new D5(n,e,r),s.index),function(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}T5(i,M(),e)}function sn(){return t=M(),n=m(),t[19].queries[n].queryList;var t,n}function T5(t,n,e){const r=new lg(4==(4&e));Q8(t,n,r,r.destroy),null===n[19]&&(n[19]=new hg),n[19].queries.push(new dg(r))}function A5(t,n,e){null===t.queries&&(t.queries=new fg),t.queries.track(new pg(n,e))}function M5(t,n){return t.queries.getByIndex(n)}function Kr(t,n){return Uh(t,n)}function Vh(...t){}const Gh=new Rt("Application Initializer");let C0=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Vh,this.reject=Vh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(ud(s))e.push(s);else if(Ym(s)){const l=new Promise((c,h)=>{s.subscribe({complete:c,error:h})});e.push(l)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(we(Gh,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Cd=new Rt("AppId"),dI={provide:Cd,useFactory:function(){return`${yg()}${yg()}${yg()}`},deps:[]};function yg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $5=new Rt("Platform Initializer"),jh=new Rt("Platform ID"),Y5=new Rt("appBootstrapListener");let W5=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Ui=new Rt("LocaleId"),X5=new Rt("DefaultCurrencyCode");class hI{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let $h=(()=>{class t{compileModuleSync(e){return new sg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=ls(ki(e).declarations).reduce((l,c)=>{const h=Br(c);return h&&l.push(new og(h)),l},[]);return new hI(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const pI=(()=>Promise.resolve(0))();function xg(t){"undefined"==typeof Zone?pI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class en{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Yt.requestAnimationFrame,n=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sg(t),t.isCheckStableRunning=!0,Cg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,l,c)=>{try{return J5(t),e.invokeTask(i,s,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),K5(t)}},onInvoke:(e,r,i,s,l,c,h)=>{try{return J5(t),e.invoke(i,s,l,c,h)}finally{t.shouldCoalesceRunChangeDetection&&n(),K5(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Sg(t),Cg(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!en.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(en.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,n,gI,Vh,Vh);try{return s.runTask(l,e,r)}finally{s.cancelTask(l)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const gI={};function Cg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function J5(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function K5(t){t._nesting--,Cg(t)}class _I{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}let Dg=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{en.assertNotInAngularZone(),xg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(we(en))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Z5=(()=>{class t{constructor(){this._applications=new Map,wg.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return wg.findTestabilityInTree(this,e,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class bI{addToWindow(n){}findTestabilityInTree(n,e,r){return null}}let Io,wg=new bI;const Q5=new Rt("AllowMultipleToken");class eb{constructor(n,e){this.name=n,this.token=e}}function tb(t,n,e=[]){const r=`Platform: ${n}`,i=new Rt(r);return(s=[])=>{let l=nb();if(!l||l.injector.get(Q5,!1))if(t)t(e.concat(s).concat({provide:i,useValue:!0}));else{const c=e.concat(s).concat({provide:i,useValue:!0},{provide:Rm,useValue:"platform"});!function(t){if(Io&&!Io.destroyed&&!Io.injector.get(Q5,!1))throw new si("400","");Io=t.get(rb);const n=t.get($5,null);n&&n.forEach(e=>e())}(er.create({providers:c,name:r}))}return function(t){const n=nb();if(!n)throw new si("401","");return n}()}}function nb(){return Io&&!Io.destroyed?Io:null}let rb=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const c=function(t,n){let e;return e="noop"===t?new _I:("zone.js"===t?void 0:t)||new en({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),h=[{provide:en,useValue:c}];return c.run(()=>{const f=er.create({providers:h,parent:this.injector,name:e.moduleType.name}),v=e.create(f),E=v.injector.get(Wl,null);if(!E)throw new si("402","");return c.runOutsideAngular(()=>{const b=c.onError.subscribe({next:y=>{E.handleError(y)}});v.onDestroy(()=>{Tg(this._modules,v),b.unsubscribe()})}),function(t,n,e){try{const r=e();return ud(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(E,c,()=>{const b=v.injector.get(C0);return b.runInitializers(),b.donePromise.then(()=>(function(t){(function(t,n){null==t&&gn(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(q6=t.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Ui,Ih)||Ih),this._moduleDoBootstrap(v),v))})})}bootstrapModule(e,r=[]){const i=ib({},r);return function(t,n,e){const r=new sg(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(ps);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new si("403","");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new si("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(we(er))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function ib(t,n){return Array.isArray(n)?n.reduce(ib,t):Object.assign(Object.assign({},t),n)}let ps=(()=>{class t{constructor(e,r,i,s,l){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new it(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),h=new it(f=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{en.assertNotInAngularZone(),xg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{en.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),E.unsubscribe()}});this.isStable=Tu(c,h.pipe(function(t={}){const{connector:n=(()=>new ne),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let l=null,c=null,h=null,f=0,v=!1,E=!1;const b=()=>{null==c||c.unsubscribe(),c=null},y=()=>{b(),l=h=null,v=E=!1},T=()=>{const A=l;y(),null==A||A.unsubscribe()};return ce((A,O)=>{f++,!E&&!v&&b();const R=h=null!=h?h:n();O.add(()=>{f--,0===f&&!E&&!v&&(c=$a(T,i))}),R.subscribe(O),l||(l=new Ln({next:q=>R.next(q),error:q=>{E=!0,b(),c=$a(y,e,q),R.error(q)},complete:()=>{v=!0,b(),c=$a(y,r),R.complete()}}),yn(A).subscribe(l))})(s)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new si("405","");let i;i=e instanceof l5?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ia),c=i.create(er.NULL,[],r||i.selector,s),h=c.location.nativeElement,f=c.injector.get(Dg,null),v=f&&c.injector.get(Z5);return f&&v&&v.registerApplication(h,f),c.onDestroy(()=>{this.detachView(c.hostView),Tg(this.components,c),v&&v.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new si("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Tg(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Y5,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(we(en),we(er),we(Wl),we(co),we(C0))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function Tg(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let sb=!0,Ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=OI,t})();function OI(t){return function(t,n,e){if(Xi(t)&&!e){const r=ci(t.index,n);return new vd(r,r)}return 47&t.type?new vd(n[16],n):null}(Qn(),M(),16==(16&t))}class fb{constructor(){}supports(n){return sd(n)}create(n){return new BI(n)}}const LI=(t,n)=>n;class BI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||LI}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const l=!r||e&&e.currentIndex<mb(r,i,s)?e:r,c=mb(l,i,s),h=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{s||(s=[]);const f=c-i,v=h-i;if(f!=v){for(let b=0;b<f;b++){const y=b<s.length?s[b]:s[b]=0,T=y+b;v<=T&&T<f&&(s[b]=y+1)}s[l.previousIndex]=v-f}}c!==h&&n(l,c,h)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!sd(n))throw new Error(`Error trying to diff '${Ht(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,l,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)s=n[c],l=this._trackByFn(c,s),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,s,l,c)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,l,c),r=!0),e=e._next}else i=0,function(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[n0()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,c=>{l=this._trackByFn(i,c),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,c,l,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new qI(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new pb),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qI{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class pb{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new UI,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mb(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class gb{constructor(){}supports(n){return n instanceof Map||Um(n)}create(){return new HI}}class HI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Um(n)))throw new Error(`Error trying to diff '${Ht(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,l=i._next;return s&&(s._next=l),l&&(l._prev=s),i._next=null,i._prev=null,i}const r=new zI(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class zI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vb(){return new Sd([new fb])}let Sd=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||vb()),deps:[[t,new jl,new ss]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'`)}}return t.\u0275prov=oe({token:t,providedIn:"root",factory:vb}),t})();function Eb(){return new S0([new gb])}let S0=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Eb()),deps:[[t,new jl,new ss]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return t.\u0275prov=oe({token:t,providedIn:"root",factory:Eb}),t})();const GI=[new gb],$I=new Sd([new fb]),YI=new S0(GI),WI=tb(null,"core",[{provide:jh,useValue:"unknown"},{provide:rb,deps:[er]},{provide:Z5,deps:[]},{provide:W5,deps:[]}]),QI=[{provide:ps,useClass:ps,deps:[en,er,Wl,co,C0]},{provide:pO,deps:[en],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(e){n.push(e)}}},{provide:C0,useClass:C0,deps:[[new ss,Gh]]},{provide:$h,useClass:$h,deps:[]},dI,{provide:Sd,useFactory:function(){return $I},deps:[]},{provide:S0,useFactory:function(){return YI},deps:[]},{provide:Ui,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Ih},deps:[[new Wc(Ui),new ss,new jl]]},{provide:X5,useValue:"USD"}];let tP=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(we(ps))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({providers:QI}),t})(),Wh=null;function ms(){return Wh}const In=new Rt("DocumentToken");let Hu=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:function(){return we(_b)},providedIn:"platform"}),t})();const sP=new Rt("Location Initialized");let _b=(()=>{class t extends Hu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ms().getBaseHref(this._doc)}onPopState(e){const r=ms().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ms().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){bb()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){bb()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(we(In))},t.\u0275prov=oe({token:t,factory:function(){return new _b(we(In))},providedIn:"platform"}),t})();function bb(){return!!window.history.pushState}function Ig(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function yb(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function oa(t){return t&&"?"!==t[0]?"?"+t:t}let D0=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:function(){return function(t){const n=we(In).location;return new xb(we(Hu),n&&n.origin||"")}()},providedIn:"root"}),t})();const Pg=new Rt("appBaseHref");let xb=(()=>{class t extends D0{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ig(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+oa(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const l=this.prepareExternalUrl(i+oa(s));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,s){const l=this.prepareExternalUrl(i+oa(s));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(we(Hu),we(Pg,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),lP=(()=>{class t extends D0{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ig(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let l=this.prepareExternalUrl(i+oa(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,s){let l=this.prepareExternalUrl(i+oa(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(we(Hu),we(Pg,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Rg=(()=>{class t{constructor(e,r){this._subject=new nt,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=yb(Cb(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+oa(r))}normalize(e){return t.stripTrailingSlash(function(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,Cb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oa(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oa(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=oa,t.joinWithSlash=Ig,t.stripTrailingSlash=yb,t.\u0275fac=function(e){return new(e||t)(we(D0),we(Hu))},t.\u0275prov=oe({token:t,factory:function(){return new Rg(we(D0),we(Hu))},providedIn:"root"}),t})();function Cb(t){return t.replace(/\/index.html$/,"")}var Dr=(()=>((Dr=Dr||{})[Dr.Zero=0]="Zero",Dr[Dr.One=1]="One",Dr[Dr.Two=2]="Two",Dr[Dr.Few=3]="Few",Dr[Dr.Many=4]="Many",Dr[Dr.Other=5]="Other",Dr))(),zn=(()=>((zn=zn||{})[zn.Format=0]="Format",zn[zn.Standalone=1]="Standalone",zn))(),Nt=(()=>((Nt=Nt||{})[Nt.Narrow=0]="Narrow",Nt[Nt.Abbreviated=1]="Abbreviated",Nt[Nt.Wide=2]="Wide",Nt[Nt.Short=3]="Short",Nt))(),tr=(()=>((tr=tr||{})[tr.Short=0]="Short",tr[tr.Medium=1]="Medium",tr[tr.Long=2]="Long",tr[tr.Full=3]="Full",tr))(),rt=(()=>((rt=rt||{})[rt.Decimal=0]="Decimal",rt[rt.Group=1]="Group",rt[rt.List=2]="List",rt[rt.PercentSign=3]="PercentSign",rt[rt.PlusSign=4]="PlusSign",rt[rt.MinusSign=5]="MinusSign",rt[rt.Exponential=6]="Exponential",rt[rt.SuperscriptingExponent=7]="SuperscriptingExponent",rt[rt.PerMille=8]="PerMille",rt[rt.Infinity=9]="Infinity",rt[rt.NaN=10]="NaN",rt[rt.TimeSeparator=11]="TimeSeparator",rt[rt.CurrencyDecimal=12]="CurrencyDecimal",rt[rt.CurrencyGroup=13]="CurrencyGroup",rt))();function Db(t,n,e){const r=Di(t),s=fo([r[Be.DayPeriodsFormat],r[Be.DayPeriodsStandalone]],n);return fo(s,e)}function wb(t,n,e){const r=Di(t),s=fo([r[Be.DaysFormat],r[Be.DaysStandalone]],n);return fo(s,e)}function Fg(t,n,e){const r=Di(t),s=fo([r[Be.MonthsFormat],r[Be.MonthsStandalone]],n);return fo(s,e)}function Xh(t,n){return fo(Di(t)[Be.DateFormat],n)}function Jh(t,n){return fo(Di(t)[Be.TimeFormat],n)}function Kh(t,n){return fo(Di(t)[Be.DateTimeFormat],n)}function ho(t,n){const e=Di(t),r=e[Be.NumberSymbols][n];if(void 0===r){if(n===rt.CurrencyDecimal)return e[Be.NumberSymbols][rt.Decimal];if(n===rt.CurrencyGroup)return e[Be.NumberSymbols][rt.Group]}return r}const mP=L6;function Tb(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fo(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function Lg(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const yP=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dd={},xP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fr=(()=>((Fr=Fr||{})[Fr.Short=0]="Short",Fr[Fr.ShortGMT=1]="ShortGMT",Fr[Fr.Long=2]="Long",Fr[Fr.Extended=3]="Extended",Fr))(),st=(()=>((st=st||{})[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st))(),Ot=(()=>((Ot=Ot||{})[Ot.DayPeriods=0]="DayPeriods",Ot[Ot.Days=1]="Days",Ot[Ot.Months=2]="Months",Ot[Ot.Eras=3]="Eras",Ot))();function Ab(t,n,e,r){let i=function(t){if(Ob(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,l=1]=t.split("-").map(c=>+c);return Zh(i,s-1,l)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(yP))return function(t){const n=new Date(0);let e=0,r=0;const i=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const l=Number(t[4]||0)-e,c=Number(t[5]||0)-r,h=Number(t[6]||0),f=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,l,c,h,f),n}(r)}const n=new Date(t);if(!Ob(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=sa(e,n)||n;let c,l=[];for(;n;){if(c=xP.exec(n),!c){l.push(n);break}{l=l.concat(c.slice(1));const v=l.pop();if(!v)break;n=v}}let h=i.getTimezoneOffset();r&&(h=Nb(r,h),i=function(t,n,e){const i=t.getTimezoneOffset();return function(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,-1*(Nb(n,i)-i))}(i,r));let f="";return l.forEach(v=>{const E=function(t){if(qg[t])return qg[t];let n;switch(t){case"G":case"GG":case"GGG":n=Pn(Ot.Eras,Nt.Abbreviated);break;case"GGGG":n=Pn(Ot.Eras,Nt.Wide);break;case"GGGGG":n=Pn(Ot.Eras,Nt.Narrow);break;case"y":n=wr(st.FullYear,1,0,!1,!0);break;case"yy":n=wr(st.FullYear,2,0,!0,!0);break;case"yyy":n=wr(st.FullYear,3,0,!1,!0);break;case"yyyy":n=wr(st.FullYear,4,0,!1,!0);break;case"Y":n=nf(1);break;case"YY":n=nf(2,!0);break;case"YYY":n=nf(3);break;case"YYYY":n=nf(4);break;case"M":case"L":n=wr(st.Month,1,1);break;case"MM":case"LL":n=wr(st.Month,2,1);break;case"MMM":n=Pn(Ot.Months,Nt.Abbreviated);break;case"MMMM":n=Pn(Ot.Months,Nt.Wide);break;case"MMMMM":n=Pn(Ot.Months,Nt.Narrow);break;case"LLL":n=Pn(Ot.Months,Nt.Abbreviated,zn.Standalone);break;case"LLLL":n=Pn(Ot.Months,Nt.Wide,zn.Standalone);break;case"LLLLL":n=Pn(Ot.Months,Nt.Narrow,zn.Standalone);break;case"w":n=Bg(1);break;case"ww":n=Bg(2);break;case"W":n=Bg(1,!0);break;case"d":n=wr(st.Date,1);break;case"dd":n=wr(st.Date,2);break;case"c":case"cc":n=wr(st.Day,1);break;case"ccc":n=Pn(Ot.Days,Nt.Abbreviated,zn.Standalone);break;case"cccc":n=Pn(Ot.Days,Nt.Wide,zn.Standalone);break;case"ccccc":n=Pn(Ot.Days,Nt.Narrow,zn.Standalone);break;case"cccccc":n=Pn(Ot.Days,Nt.Short,zn.Standalone);break;case"E":case"EE":case"EEE":n=Pn(Ot.Days,Nt.Abbreviated);break;case"EEEE":n=Pn(Ot.Days,Nt.Wide);break;case"EEEEE":n=Pn(Ot.Days,Nt.Narrow);break;case"EEEEEE":n=Pn(Ot.Days,Nt.Short);break;case"a":case"aa":case"aaa":n=Pn(Ot.DayPeriods,Nt.Abbreviated);break;case"aaaa":n=Pn(Ot.DayPeriods,Nt.Wide);break;case"aaaaa":n=Pn(Ot.DayPeriods,Nt.Narrow);break;case"b":case"bb":case"bbb":n=Pn(Ot.DayPeriods,Nt.Abbreviated,zn.Standalone,!0);break;case"bbbb":n=Pn(Ot.DayPeriods,Nt.Wide,zn.Standalone,!0);break;case"bbbbb":n=Pn(Ot.DayPeriods,Nt.Narrow,zn.Standalone,!0);break;case"B":case"BB":case"BBB":n=Pn(Ot.DayPeriods,Nt.Abbreviated,zn.Format,!0);break;case"BBBB":n=Pn(Ot.DayPeriods,Nt.Wide,zn.Format,!0);break;case"BBBBB":n=Pn(Ot.DayPeriods,Nt.Narrow,zn.Format,!0);break;case"h":n=wr(st.Hours,1,-12);break;case"hh":n=wr(st.Hours,2,-12);break;case"H":n=wr(st.Hours,1);break;case"HH":n=wr(st.Hours,2);break;case"m":n=wr(st.Minutes,1);break;case"mm":n=wr(st.Minutes,2);break;case"s":n=wr(st.Seconds,1);break;case"ss":n=wr(st.Seconds,2);break;case"S":n=wr(st.FractionalSeconds,1);break;case"SS":n=wr(st.FractionalSeconds,2);break;case"SSS":n=wr(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=ef(Fr.Short);break;case"ZZZZZ":n=ef(Fr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=ef(Fr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=ef(Fr.Long);break;default:return null}return qg[t]=n,n}(v);f+=E?E(i,e,h):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Zh(t,n,e){const r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function sa(t,n){const e=function(t){return Di(t)[Be.LocaleId]}(t);if(Dd[e]=Dd[e]||{},Dd[e][n])return Dd[e][n];let r="";switch(n){case"shortDate":r=Xh(t,tr.Short);break;case"mediumDate":r=Xh(t,tr.Medium);break;case"longDate":r=Xh(t,tr.Long);break;case"fullDate":r=Xh(t,tr.Full);break;case"shortTime":r=Jh(t,tr.Short);break;case"mediumTime":r=Jh(t,tr.Medium);break;case"longTime":r=Jh(t,tr.Long);break;case"fullTime":r=Jh(t,tr.Full);break;case"short":const i=sa(t,"shortTime"),s=sa(t,"shortDate");r=Qh(Kh(t,tr.Short),[i,s]);break;case"medium":const l=sa(t,"mediumTime"),c=sa(t,"mediumDate");r=Qh(Kh(t,tr.Medium),[l,c]);break;case"long":const h=sa(t,"longTime"),f=sa(t,"longDate");r=Qh(Kh(t,tr.Long),[h,f]);break;case"full":const v=sa(t,"fullTime"),E=sa(t,"fullDate");r=Qh(Kh(t,tr.Full),[v,E])}return r&&(Dd[e][n]=r),r}function Qh(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return null!=n&&r in n?n[r]:e})),t}function Po(t,n,e="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=e));let l=String(t);for(;l.length<n;)l="0"+l;return r&&(l=l.substr(l.length-n)),s+l}function wr(t,n,e=0,r=!1,i=!1){return function(s,l){let c=function(t,n){switch(t){case st.FullYear:return n.getFullYear();case st.Month:return n.getMonth();case st.Date:return n.getDate();case st.Hours:return n.getHours();case st.Minutes:return n.getMinutes();case st.Seconds:return n.getSeconds();case st.FractionalSeconds:return n.getMilliseconds();case st.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((e>0||c>-e)&&(c+=e),t===st.Hours)0===c&&-12===e&&(c=12);else if(t===st.FractionalSeconds)return function(t,n){return Po(t,3).substr(0,n)}(c,n);const h=ho(l,rt.MinusSign);return Po(c,n,h,r,i)}}function Pn(t,n,e=zn.Format,r=!1){return function(i,s){return function(t,n,e,r,i,s){switch(e){case Ot.Months:return Fg(n,i,r)[t.getMonth()];case Ot.Days:return wb(n,i,r)[t.getDay()];case Ot.DayPeriods:const l=t.getHours(),c=t.getMinutes();if(s){const f=function(t){const n=Di(t);return Tb(n),(n[Be.ExtraData][2]||[]).map(r=>"string"==typeof r?Lg(r):[Lg(r[0]),Lg(r[1])])}(n),v=function(t,n,e){const r=Di(t);Tb(r);const s=fo([r[Be.ExtraData][0],r[Be.ExtraData][1]],n)||[];return fo(s,e)||[]}(n,i,r),E=f.findIndex(b=>{if(Array.isArray(b)){const[y,T]=b,A=l>=y.hours&&c>=y.minutes,O=l<T.hours||l===T.hours&&c<T.minutes;if(y.hours<T.hours){if(A&&O)return!0}else if(A||O)return!0}else if(b.hours===l&&b.minutes===c)return!0;return!1});if(-1!==E)return v[E]}return Db(n,i,r)[l<12?0:1];case Ot.Eras:return function(t,n){return fo(Di(t)[Be.Eras],n)}(n,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,t,n,e,r)}}function ef(t){return function(n,e,r){const i=-1*r,s=ho(e,rt.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Fr.Short:return(i>=0?"+":"")+Po(l,2,s)+Po(Math.abs(i%60),2,s);case Fr.ShortGMT:return"GMT"+(i>=0?"+":"")+Po(l,1,s);case Fr.Long:return"GMT"+(i>=0?"+":"")+Po(l,2,s)+":"+Po(Math.abs(i%60),2,s);case Fr.Extended:return 0===r?"Z":(i>=0?"+":"")+Po(l,2,s)+":"+Po(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Mb(t){return Zh(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Bg(t,n=!1){return function(e,r){let i;if(n){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();i=1+Math.floor((l+s)/7)}else{const s=Mb(e),l=function(t){const n=Zh(t,0,1).getDay();return Zh(t,0,1+(n<=4?4:11)-n)}(s.getFullYear()),c=s.getTime()-l.getTime();i=1+Math.round(c/6048e5)}return Po(i,t,ho(r,rt.MinusSign))}}function nf(t,n=!1){return function(e,r){return Po(Mb(e).getFullYear(),t,ho(r,rt.MinusSign),n)}}const qg={};function Nb(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Ob(t){return t instanceof Date&&!isNaN(t.valueOf())}class of{}let VP=(()=>{class t extends of{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(mP(r||this.locale)(e)){case Dr.Zero:return"zero";case Dr.One:return"one";case Dr.Two:return"two";case Dr.Few:return"few";case Dr.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(we(Ui))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class YP{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zr=(()=>{class t{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new YP(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,l),Fb(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Fb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(z(wi),z(_n),z(Sd))},t.\u0275dir=Se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Fb(t,n){t.context.$implicit=n.item}let pi=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new WP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(z(wi),z(_n))},t.\u0275dir=Se({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class WP{constructor(){this.$implicit=null,this.ngIf=null}}function kb(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ht(n)}'.`)}let po=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(z(wi))},t.\u0275dir=Se({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Kt]}),t})(),Mi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({providers:[{provide:of,useClass:VP}]}),t})();let SR=(()=>{class t{}return t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new DR(we(In),window)}),t})();class DR{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Ub(this.window.history)||Ub(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Ub(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Wg extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Wg,Wh||(Wh=t)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(Td=Td||document.querySelector("base"),Td?Td.getAttribute("href"):null);return null==e?null:function(t){sf=sf||document.createElement("a"),sf.setAttribute("href",t);const n=sf.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Td=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let sf,Td=null;const Hb=new Rt("TRANSITION_ID"),IR=[{provide:Gh,useFactory:function(t,n,e){return()=>{e.get(C0).donePromise.then(()=>{const r=ms(),i=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Hb,In,er],multi:!0}];class Xg{static init(){var t;t=new Xg,wg=t}addToWindow(n){Yt.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Yt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Yt.getAllAngularRootElements=()=>n.getAllRootElements(),Yt.frameworkStabilizers||(Yt.frameworkStabilizers=[]),Yt.frameworkStabilizers.push(r=>{const i=Yt.getAllAngularTestabilities();let s=i.length,l=!1;const c=function(h){l=l||h,s--,0==s&&r(l)};i.forEach(function(h){h.whenStable(c)})})}findTestabilityInTree(n,e,r){if(null==e)return null;const i=n.getTestability(e);return null!=i?i:r?ms().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let PR=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const af=new Rt("EventManagerPlugins");let uf=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(we(af),we(en))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class zb{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const i=ms().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Vb=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Ad=(()=>{class t extends Vb{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,i.push(r.appendChild(l))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Gb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gb))}}return t.\u0275fac=function(e){return new(e||t)(we(In))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function Gb(t){ms().remove(t)}const Jg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Kg=/%COMP%/g;function lf(t,n,e){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?lf(t,i,e):(i=i.replace(Kg,t),e.push(i))}return e}function Yb(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Zg=(()=>{class t{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Qg(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case An.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new qR(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case An.ShadowDom:return new UR(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=lf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(we(uf),we(Ad),we(Cd))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class Qg{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Jg[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,r){n&&n.insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=Jg[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Jg[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(eo.DashCase|eo.Important)?n.style.setProperty(e,r,i&eo.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&eo.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Yb(r)):this.eventManager.addEventListener(n,e,Yb(r))}}class qR extends Qg{constructor(n,e,r,i){super(n),this.component=r;const s=lf(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Kg,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Kg,t)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class UR extends Qg{constructor(n,e,r,i){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=lf(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const c=document.createElement("style");c.textContent=s[l],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let HR=(()=>{class t extends zb{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(we(In))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Xb=["alt","control","meta","shift"],VR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},GR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jR=(()=>{class t extends zb{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),l=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ms().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let l="";if(Xb.forEach(h=>{const f=r.indexOf(h);f>-1&&(r.splice(f,1),l+=h+".")}),l+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=l,c}static getEventFullKey(e){let r="",i=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&Jb.hasOwnProperty(n)&&(n=Jb[n]))}return VR[n]||n}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Xb.forEach(s=>{s!=i&&GR[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{t.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(we(In))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const JR=tb(WI,"browser",[{provide:jh,useValue:"browser"},{provide:$5,useValue:function(){Wg.makeCurrent(),Xg.init()},multi:!0},{provide:In,useFactory:function(){return t=document,Il=t,document;var t},deps:[]}]),KR=[{provide:Rm,useValue:"root"},{provide:Wl,useFactory:function(){return new Wl},deps:[]},{provide:af,useClass:HR,multi:!0,deps:[In,en,jh]},{provide:af,useClass:jR,multi:!0,deps:[In]},{provide:Zg,useClass:Zg,deps:[uf,Ad,Cd]},{provide:Bh,useExisting:Zg},{provide:Vb,useExisting:Ad},{provide:Ad,useClass:Ad,deps:[In]},{provide:Dg,useClass:Dg,deps:[en]},{provide:uf,useClass:uf,deps:[af,en]},{provide:class{},useClass:PR,deps:[]}];let ZR=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Cd,useValue:e.appId},{provide:Hb,useExisting:Cd},IR]}}}return t.\u0275fac=function(e){return new(e||t)(we(t,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({providers:KR,imports:[Mi,tP]}),t})();"undefined"!=typeof window&&window;let cf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:function(e){let r=null;return r=e?new(e||t):we(Qb),r},providedIn:"root"}),t})(),Qb=(()=>{class t extends cf{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Nn.NONE:return r;case Nn.HTML:return as(r,"HTML")?Qi(r):t8(this._doc,String(r)).toString();case Nn.STYLE:return as(r,"Style")?Qi(r):r;case Nn.SCRIPT:if(as(r,"Script"))return Qi(r);throw new Error("unsafe value used in a script context");case Nn.URL:return YE(r),as(r,"URL")?Qi(r):Jc(String(r));case Nn.RESOURCE_URL:if(as(r,"ResourceURL"))return Qi(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(t){return new _w(t)}(e)}bypassSecurityTrustStyle(e){return function(t){return new bw(t)}(e)}bypassSecurityTrustScript(e){return function(t){return new yw(t)}(e)}bypassSecurityTrustUrl(e){return function(t){return new xw(t)}(e)}bypassSecurityTrustResourceUrl(e){return function(t){return new Cw(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(we(In))},t.\u0275prov=oe({token:t,factory:function(e){let r=null;return r=e?new e:function(t){return new Qb(t.get(In))}(we(er)),r},providedIn:"root"}),t})();function It(...t){return yn(t,ja(t))}class Qr extends ne{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const{isArray:lF}=Array,{getPrototypeOf:cF,prototype:dF,keys:hF}=Object;const{isArray:pF}=Array;function tv(t){return me(n=>function(t,n){return pF(n)?t(...n):t(n)}(t,n))}function nv(...t){const n=ja(t),e=wu(t),{args:r,keys:i}=function(t){if(1===t.length){const n=t[0];if(lF(n))return{args:n,keys:null};if(function(t){return t&&"object"==typeof t&&cF(t)===dF}(n)){const e=hF(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}(t);if(0===r.length)return yn([],n);const s=new it(function(t,n,e=Bt){return r=>{n9(n,()=>{const{length:i}=t,s=new Array(i);let l=i,c=i;for(let h=0;h<i;h++)n9(n,()=>{const f=yn(t[h],n);let v=!1;f.subscribe(new Ce(r,E=>{s[h]=E,v||(v=!0,c--),c||r.next(e(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,n,i?l=>function(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}(i,l):Bt));return e?s.pipe(tv(e)):s}function n9(t,n,e){t?He(e,t,n):n()}const df=Ve(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hf(...t){return Ko(1)(yn(t,ja(t)))}function r9(t){return new it(n=>{S(t()).subscribe(n)})}function i9(){return ce((t,n)=>{let e=null;t._refCount++;const r=new Ce(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class EF extends it{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Z(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ke;const e=this.getSubject();n.add(this.source.subscribe(new Ce(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ke.EMPTY)}return n}refCount(){return i9()(this)}}function gs(t,n){return ce((e,r)=>{let i=null,s=0,l=!1;const c=()=>l&&!i&&r.complete();e.subscribe(new Ce(r,h=>{null==i||i.unsubscribe();let f=0;const v=s++;S(t(h,v)).subscribe(i=new Ce(r,E=>r.next(n?n(h,E,v,f++):E),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function _F(t,n,e,r,i){return(s,l)=>{let c=e,h=n,f=0;s.subscribe(new Ce(l,v=>{const E=f++;h=c?t(h,v,E):(c=!0,v),r&&l.next(h)},i&&(()=>{c&&l.next(h),l.complete()})))}}function o9(t,n){return ce(_F(t,n,arguments.length>=2,!0))}function Vr(t,n){return ce((e,r)=>{let i=0;e.subscribe(new Ce(r,s=>t.call(n,s,i++)&&r.next(s)))})}function lu(t){return ce((n,e)=>{let s,r=null,i=!1;r=n.subscribe(new Ce(e,void 0,void 0,l=>{s=S(t(l,lu(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function Md(t,n){return be(n)?Ut(t,n,1):Ut(t,1)}function iv(t){return t<=0?()=>H:ce((n,e)=>{let r=[];n.subscribe(new Ce(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function s9(t=bF){return ce((n,e)=>{let r=!1;n.subscribe(new Ce(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function bF(){return new df}function a9(t){return ce((n,e)=>{let r=!1;n.subscribe(new Ce(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function w0(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Vr((i,s)=>t(i,s,r)):Bt,Ri(1),e?a9(n):s9(()=>new df))}function mi(t,n,e){const r=be(t)||n||e?{next:t,error:n,complete:e}:t;return r?ce((i,s)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(new Ce(s,h=>{var f;null===(f=r.next)||void 0===f||f.call(r,h),s.next(h)},()=>{var h;c=!1,null===(h=r.complete)||void 0===h||h.call(r),s.complete()},h=>{var f;c=!1,null===(f=r.error)||void 0===f||f.call(r,h),s.error(h)},()=>{var h,f;c&&(null===(h=r.unsubscribe)||void 0===h||h.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):Bt}class aa{constructor(n,e){this.id=n,this.url=e}}class ov extends aa{constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nd extends aa{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class u9 extends aa{constructor(n,e,r){super(n,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class CF extends aa{constructor(n,e,r){super(n,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SF extends aa{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DF extends aa{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wF extends aa{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TF extends aa{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AF extends aa{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l9{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class c9{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MF{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NF{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OF{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IF{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d9{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class PF{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function T0(t){return new PF(t)}const h9="ngNavigationCancelingError";function sv(t){const n=Error("NavigationCancelingError: "+t);return n[h9]=!0,n}function FF(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],c=t[s];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vs(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!f9(t[i],n[i]))return!1;return!0}function f9(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}return t===n}function p9(t){return Array.prototype.concat.apply([],t)}function m9(t){return t.length>0?t[t.length-1]:null}function ei(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Es(t){return Ym(t)?t:ud(t)?yn(Promise.resolve(t)):It(t)}const BF={exact:function E9(t,n,e){if(!Vu(t.segments,n.segments)||!ff(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!E9(t.children[r],n.children[r],e))return!1;return!0},subset:_9},g9={exact:function(t,n){return vs(t,n)},subset:function(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>f9(t[e],n[e]))},ignored:()=>!0};function v9(t,n,e){return BF[e.paths](t.root,n.root,e.matrixParams)&&g9[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function _9(t,n,e){return b9(t,n,n.segments,e)}function b9(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!Vu(i,e)||n.hasChildren()||!ff(i,e,r))}if(t.segments.length===e.length){if(!Vu(t.segments,e)||!ff(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!_9(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Vu(t.segments,i)&&ff(t.segments,i,r)&&t.children[Lt])&&b9(t.children[Lt],n,s,r)}}function ff(t,n,e){return n.every((r,i)=>g9[e](t[i].parameters,r.parameters))}class zu{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=T0(this.queryParams)),this._queryParamMap}toString(){return VF.serialize(this)}}class zt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,ei(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}}class Od{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=T0(this.parameters)),this._parameterMap}toString(){return D9(this)}}function Vu(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class y9{}class x9{parse(n){const e=new ZF(n);return new zu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Id(n.root,!0)}`,r=function(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${mf(e)}=${mf(i)}`).join("&"):`${mf(e)}=${mf(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var t;return`${e}${r}${"string"==typeof n.fragment?`#${t=n.fragment,encodeURI(t)}`:""}`}}const VF=new x9;function pf(t){return t.segments.map(n=>D9(n)).join("/")}function Id(t,n){if(!t.hasChildren())return pf(t);if(n){const e=t.children[Lt]?Id(t.children[Lt],!1):"",r=[];return ei(t.children,(i,s)=>{s!==Lt&&r.push(`${s}:${Id(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(t,n){let e=[];return ei(t.children,(r,i)=>{i===Lt&&(e=e.concat(n(r,i)))}),ei(t.children,(r,i)=>{i!==Lt&&(e=e.concat(n(r,i)))}),e}(t,(r,i)=>i===Lt?[Id(t.children[Lt],!1)]:[`${i}:${Id(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Lt]?`${pf(t)}/${e[0]}`:`${pf(t)}/(${e.join("//")})`}}function C9(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mf(t){return C9(t).replace(/%3B/gi,";")}function av(t){return C9(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gf(t){return decodeURIComponent(t)}function S9(t){return gf(t.replace(/\+/g,"%20"))}function D9(t){return`${av(t.path)}${function(t){return Object.keys(t).map(n=>`;${av(n)}=${av(t[n])}`).join("")}(t.parameters)}`}const YF=/^[^\/()?;=#]+/;function vf(t){const n=t.match(YF);return n?n[0]:""}const WF=/^[^=?&#]+/,JF=/^[^&#]+/;class ZF{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Lt]=new zt(n,e)),r}parseSegment(){const n=vf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Od(gf(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=vf(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=vf(this.remaining);i&&(r=i,this.capture(r))}n[gf(e)]=gf(r)}parseQueryParam(n){const e=function(t){const n=t.match(WF);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function(t){const n=t.match(JF);return n?n[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=S9(e),s=S9(r);if(n.hasOwnProperty(i)){let l=n[i];Array.isArray(l)||(l=[l],n[i]=l),l.push(s)}else n[i]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Lt);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Lt]:new zt([],l),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class w9{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=uv(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=uv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=lv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return lv(n,this._root).map(e=>e.value)}}function uv(t,n){if(t===n.value)return n;for(const e of n.children){const r=uv(t,e);if(r)return r}return null}function lv(t,n){if(t===n.value)return[n];for(const e of n.children){const r=lv(t,e);if(r.length)return r.unshift(n),r}return[]}class ua{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function A0(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class T9 extends w9{constructor(n,e){super(n),this.snapshot=e,cv(this,n)}toString(){return this.snapshot.toString()}}function A9(t,n){const e=function(t,n){const l=new Ef([],{},{},"",{},Lt,n,null,t.root,-1,{});return new N9("",new ua(l,[]))}(t,n),r=new Qr([new Od("",{})]),i=new Qr({}),s=new Qr({}),l=new Qr({}),c=new Qr(""),h=new Gu(r,i,l,c,s,Lt,n,e.root);return h.snapshot=e.root,new T9(new ua(h,[]),e)}class Gu{constructor(n,e,r,i,s,l,c,h){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=c,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(n=>T0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(n=>T0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function M9(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Ef{constructor(n,e,r,i,s,l,c,h,f,v,E){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=c,this.routeConfig=h,this._urlSegment=f,this._lastPathIndex=v,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=T0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=T0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class N9 extends w9{constructor(n,e){super(e),this.url=n,cv(this,e)}toString(){return O9(this._root)}}function cv(t,n){n.value._routerState=t,n.children.forEach(e=>cv(t,e))}function O9(t){const n=t.children.length>0?` { ${t.children.map(O9).join(", ")} } `:"";return`${t.value}${n}`}function dv(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,vs(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),vs(n.params,e.params)||t.params.next(e.params),function(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!vs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),vs(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hv(t,n){const e=vs(t.params,n.params)&&function(t,n){return Vu(t,n)&&t.every((e,r)=>vs(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||hv(t.parent,n.parent))}function Pd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pd(t,r,i);return Pd(t,r)})}(t,n,e);return new ua(r,i)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(c=>Pd(t,c)),l}}const r=function(t){return new Gu(new Qr(t.url),new Qr(t.params),new Qr(t.queryParams),new Qr(t.fragment),new Qr(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(s=>Pd(t,s));return new ua(r,i)}}function _f(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rd(t){return"object"==typeof t&&null!=t&&t.outlets}function fv(t,n,e,r,i){let s={};return r&&ei(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),new zu(e.root===t?n:I9(e.root,t,n),s,i)}function I9(t,n,e){const r={};return ei(t.children,(i,s)=>{r[s]=i===n?e:I9(i,n,e)}),new zt(t.segments,r)}class P9{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&_f(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Rd);if(i&&i!==m9(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pv{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function R9(t,n,e){if(t||(t=new zt([],{})),0===t.segments.length&&t.hasChildren())return bf(t,n,e);const r=function(t,n,e){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;const l=t.segments[i],c=e[r];if(Rd(c))break;const h=`${c}`,f=r<e.length-1?e[r+1]:null;if(i>0&&void 0===h)break;if(h&&f&&"object"==typeof f&&void 0===f.outlets){if(!k9(h,f,l))return s;r+=2}else{if(!k9(h,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new zt(t.segments.slice(0,r.pathIndex),{});return s.children[Lt]=new zt(t.segments.slice(r.pathIndex),t.children),bf(s,0,i)}return r.match&&0===i.length?new zt(t.segments,{}):r.match&&!t.hasChildren()?mv(t,n,e):r.match?bf(t,0,i):mv(t,n,e)}function bf(t,n,e){if(0===e.length)return new zt(t.segments,{});{const r=function(t){return Rd(t[0])?t[0].outlets:{[Lt]:t}}(e),i={};return ei(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=R9(t.children[l],n,s))}),ei(t.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new zt(t.segments,i)}}function mv(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const s=e[i];if(Rd(s)){const h=ck(s.outlets);return new zt(r,h)}if(0===i&&_f(e[0])){r.push(new Od(t.segments[n].path,F9(e[0]))),i++;continue}const l=Rd(s)?s.outlets[Lt]:`${s}`,c=i<e.length-1?e[i+1]:null;l&&c&&_f(c)?(r.push(new Od(l,F9(c))),i+=2):(r.push(new Od(l,{})),i++)}return new zt(r,{})}function ck(t){const n={};return ei(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=mv(new zt([],{}),0,e))}),n}function F9(t){const n={};return ei(t,(e,r)=>n[r]=`${e}`),n}function k9(t,n,e){return t==e.path&&vs(n,e.parameters)}class hk{constructor(n,e,r,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),dv(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=A0(e);n.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),ei(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(n,e,l.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=A0(n);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:c})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=A0(n);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const i=A0(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new IF(s.value.snapshot))}),n.children.length&&this.forwardEvent(new NF(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(dv(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,l.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),dv(c.route.value),this.activateChildRoutes(n,null,l.children)}else{const c=function(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),h=c?c.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=h,l.outlet&&l.outlet.activateWith(i,h),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,r)}}class gv{constructor(n,e){this.routes=n,this.module=e}}function cu(t){return"function"==typeof t}function ju(t){return t instanceof zu}const Fd=Symbol("INITIAL_VALUE");function kd(){return gs(t=>nv(t.map(n=>n.pipe(Ri(1),function(...t){const n=ja(t);return ce((e,r)=>{(n?hf(t,e,n):hf(t,e)).subscribe(r)})}(Fd)))).pipe(o9((n,e)=>{let r=!1;return e.reduce((i,s,l)=>i!==Fd?i:(s===Fd&&(r=!0),r||!1!==s&&l!==e.length-1&&!ju(s)?i:s),n)},Fd),Vr(n=>n!==Fd),me(n=>ju(n)?n:!0===n),Ri(1)))}class _k{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ld,this.attachRef=null}}class Ld{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new _k,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let vv=(()=>{class t{constructor(e,r,i,s,l){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.name=s||Lt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const l=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),c=this.parentContexts.getOrCreateContext(this.name).children,h=new bk(e,c,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(z(Ld),z(wi),z(co),iu("name"),z(Ai))},t.\u0275dir=Se({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class bk{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Gu?this.route:n===Ld?this.childContexts:this.parent.get(n,e)}}let L9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&d(0,"router-outlet")},directives:[vv],encapsulation:2}),t})();function B9(t,n=""){for(let e=0;e<t.length;e++){const r=t[e];yk(r,xk(n,r))}}function yk(t,n){t.children&&B9(t.children,n)}function xk(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function Ev(t){const n=t.children&&t.children.map(Ev),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=L9),e}function mo(t){return t.outlet||Lt}function q9(t,n){const e=t.filter(r=>mo(r)===n);return e.push(...t.filter(r=>mo(r)!==n)),e}const U9={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yf(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},U9):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(n.matcher||FF)(e,t,n);if(!s)return Object.assign({},U9);const l={};ei(s.posParams,(h,f)=>{l[f]=h.path});const c=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:c,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function xf(t,n,e,r,i="corrected"){if(e.length>0&&function(t,n,e){return e.some(r=>Cf(t,n,r)&&mo(r)!==Lt)}(t,e,r)){const l=new zt(n,function(t,n,e,r){const i={};i[Lt]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&mo(s)!==Lt){const l=new zt([],{});l._sourceSegment=t,l._segmentIndexShift=n.length,i[mo(s)]=l}return i}(t,n,r,new zt(e,t.children)));return l._sourceSegment=t,l._segmentIndexShift=n.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function(t,n,e){return e.some(r=>Cf(t,n,r))}(t,e,r)){const l=new zt(t.segments,function(t,n,e,r,i,s){const l={};for(const c of r)if(Cf(t,e,c)&&!i[mo(c)]){const h=new zt([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===s?t.segments.length:n.length,l[mo(c)]=h}return Object.assign(Object.assign({},i),l)}(t,n,e,r,t.children,i));return l._sourceSegment=t,l._segmentIndexShift=n.length,{segmentGroup:l,slicedSegments:e}}const s=new zt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function Cf(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function H9(t,n,e,r){return!!(mo(t)===r||r!==Lt&&Cf(n,e,t))&&("**"===t.path||yf(n,t,e).matched)}function z9(t,n,e){return 0===n.length&&!t.children[e]}class Bd{constructor(n){this.segmentGroup=n||null}}class V9{constructor(n){this.urlTree=n}}function Sf(t){return new it(n=>n.error(new Bd(t)))}function G9(t){return new it(n=>n.error(new V9(t)))}function Tk(t){return new it(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nk{constructor(n,e,r,i,s){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=n.get(ia)}apply(){const n=xf(this.urlTree.root,[],[],this.config).segmentGroup,e=new zt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Lt).pipe(me(s=>this.createUrlTree(_v(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lu(s=>{if(s instanceof V9)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bd?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Lt).pipe(me(i=>this.createUrlTree(_v(i),n.queryParams,n.fragment))).pipe(lu(i=>{throw i instanceof Bd?this.noMatchError(i):i}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,r){const i=n.segments.length>0?new zt([],{[Lt]:n}):n;return new zu(i,e,r)}expandSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(me(s=>new zt([],s))):this.expandSegment(n,r,e,r.segments,i,!0)}expandChildren(n,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return yn(i).pipe(Md(s=>{const l=r.children[s],c=q9(e,s);return this.expandSegmentGroup(n,c,l,s).pipe(me(h=>({segment:h,outlet:s})))}),o9((s,l)=>(s[l.outlet]=l.segment,s),{}),function(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Vr((i,s)=>t(i,s,r)):Bt,iv(1),e?a9(n):s9(()=>new df))}())}expandSegment(n,e,r,i,s,l){return yn(r).pipe(Md(c=>this.expandSegmentAgainstRoute(n,e,r,c,i,s,l).pipe(lu(f=>{if(f instanceof Bd)return It(null);throw f}))),w0(c=>!!c),lu((c,h)=>{if(c instanceof df||"EmptyError"===c.name){if(z9(e,i,s))return It(new zt([],{}));throw new Bd(e)}throw c}))}expandSegmentAgainstRoute(n,e,r,i,s,l,c){return H9(i,e,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,e,i,s,l):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,l):Sf(e):Sf(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?G9(s):this.lineralizeSegments(r,s).pipe(Ut(l=>{const c=new zt(l,{});return this.expandSegment(n,c,e,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,l){const{matched:c,consumedSegments:h,lastChild:f,positionalParamSegments:v}=yf(e,i,s);if(!c)return Sf(e);const E=this.applyRedirectCommands(h,i.redirectTo,v);return i.redirectTo.startsWith("/")?G9(E):this.lineralizeSegments(i,E).pipe(Ut(b=>this.expandSegment(n,e,r,b.concat(s.slice(f)),l,!1)))}matchSegmentAgainstRoute(n,e,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?It(r._loadedConfig):this.configLoader.load(n.injector,r)).pipe(me(b=>(r._loadedConfig=b,new zt(i,{})))):It(new zt(i,{}));const{matched:l,consumedSegments:c,lastChild:h}=yf(e,r,i);if(!l)return Sf(e);const f=i.slice(h);return this.getChildConfig(n,r,i).pipe(Ut(E=>{const b=E.module,y=E.routes,{segmentGroup:T,slicedSegments:A}=xf(e,c,f,y),O=new zt(T.segments,T.children);if(0===A.length&&O.hasChildren())return this.expandChildren(b,y,O).pipe(me(B=>new zt(c,B)));if(0===y.length&&0===A.length)return It(new zt(c,{}));const R=mo(r)===s;return this.expandSegment(b,O,y,A,R?Lt:s,!0).pipe(me(Q=>new zt(c.concat(Q.segments),Q.children)))}))}getChildConfig(n,e,r){return e.children?It(new gv(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?It(e._loadedConfig):this.runCanLoadGuards(n.injector,e,r).pipe(Ut(i=>{return i?this.configLoader.load(n.injector,e).pipe(me(s=>(e._loadedConfig=s,s))):(t=e,new it(n=>n.error(sv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):It(new gv([],n))}runCanLoadGuards(n,e,r){const i=e.canLoad;return i&&0!==i.length?It(i.map(l=>{const c=n.get(l);let h;if((t=c)&&cu(t.canLoad))h=c.canLoad(e,r);else{if(!cu(c))throw new Error("Invalid CanLoad guard");h=c(e,r)}var t;return Es(h)})).pipe(kd(),mi(l=>{if(!ju(l))return;const c=sv(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw c.url=l,c}),me(l=>!0===l)):It(!0)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return It(r);if(i.numberOfChildren>1||!i.children[Lt])return Tk(n.redirectTo);i=i.children[Lt]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,i){const s=this.createSegmentGroup(n,e.root,r,i);return new zu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return ei(n,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[s]=e[c]}else r[s]=i}),r}createSegmentGroup(n,e,r,i){const s=this.createSegments(n,e.segments,r,i);let l={};return ei(e.children,(c,h)=>{l[h]=this.createSegmentGroup(n,c,r,i)}),new zt(s,l)}createSegments(n,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}function _v(t){const n={};for(const r of Object.keys(t.children)){const s=_v(t.children[r]);(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[Lt]){const n=t.children[Lt];return new zt(t.segments.concat(n.segments),n.children)}return t}(new zt(t.segments,n))}class j9{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Df{constructor(n,e){this.component=n,this.route=e}}function Pk(t,n,e){const r=t._root;return qd(r,n?n._root:null,e,[r.value])}function wf(t,n,e){const r=function(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(r?r.module.injector:e).get(t)}function qd(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=A0(n);return t.children.forEach(l=>{(function(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,l=n?n.value:null,c=e?e.getContext(t.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const h=function(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Vu(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Vu(t.url,n.url)||!vs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hv(t,n)||!vs(t.queryParams,n.queryParams);default:return!hv(t,n)}}(l,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new j9(r)):(s.data=l.data,s._resolvedData=l._resolvedData),qd(t,n,s.component?c?c.children:null:e,r,i),h&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Df(c.outlet.component,l))}else l&&Ud(n,c,i),i.canActivateChecks.push(new j9(r)),qd(t,null,s.component?c?c.children:null:e,r,i)})(l,s[l.value.outlet],e,r.concat([l.value]),i),delete s[l.value.outlet]}),ei(s,(l,c)=>Ud(l,e.getContext(c),i)),i}function Ud(t,n,e){const r=A0(t),i=t.value;ei(r,(s,l)=>{Ud(s,i.component?n?n.children.getContext(l):null:n,e)}),e.canDeactivateChecks.push(new Df(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}class $k{}function $9(t){return new it(n=>n.error(t))}class Wk{constructor(n,e,r,i,s,l){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const n=xf(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Lt);if(null===e)return null;const r=new Ef([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ua(r,e),s=new N9(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(n){const e=n.value,r=M9(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const s of Object.keys(e.children)){const l=e.children[s],c=q9(n,s),h=this.processSegmentGroup(c,l,s);if(null===h)return null;r.push(...h)}const i=Y9(r);return i.sort((n,e)=>n.value.outlet===Lt?-1:e.value.outlet===Lt?1:n.value.outlet.localeCompare(e.value.outlet)),i}processSegment(n,e,r,i){for(const s of n){const l=this.processSegmentAgainstRoute(s,e,r,i);if(null!==l)return l}return z9(e,r,i)?[]:null}processSegmentAgainstRoute(n,e,r,i){if(n.redirectTo||!H9(n,e,r,i))return null;let s,l=[],c=[];if("**"===n.path){const y=r.length>0?m9(r).parameters:{};s=new Ef(r,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J9(n),mo(n),n.component,n,W9(e),X9(e)+r.length,K9(n))}else{const y=yf(e,n,r);if(!y.matched)return null;l=y.consumedSegments,c=r.slice(y.lastChild),s=new Ef(l,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J9(n),mo(n),n.component,n,W9(e),X9(e)+l.length,K9(n))}const h=(t=n).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:f,slicedSegments:v}=xf(e,l,c,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);var t;if(0===v.length&&f.hasChildren()){const y=this.processChildren(h,f);return null===y?null:[new ua(s,y)]}if(0===h.length&&0===v.length)return[new ua(s,[])];const E=mo(n)===i,b=this.processSegment(h,f,v,E?Lt:i);return null===b?null:[new ua(s,b)]}}function Kk(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Y9(t){const n=[],e=new Set;for(const r of t){if(!Kk(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=Y9(r.children);n.push(new ua(r.value,i))}return n.filter(r=>!e.has(r))}function W9(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function X9(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function J9(t){return t.data||{}}function K9(t){return t.resolve||{}}function bv(t){return gs(n=>{const e=t(n);return e?yn(e).pipe(me(()=>n)):It(n)})}class oL extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const yv=new Rt("ROUTES");class Z9{constructor(n,e,r,i){this.injector=n,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const l=s.create(n);return new gv(p9(l.injector.get(yv,void 0,lt.Self|lt.Optional)).map(Ev),l)}),lu(s=>{throw e._loader$=void 0,s}));return e._loader$=new EF(i,()=>new ne).pipe(i9()),e._loader$}loadModuleFactory(n){return Es(n()).pipe(Ut(e=>e instanceof f5?It(e):yn(this.compiler.compileModuleAsync(e))))}}class aL{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function uL(t){throw t}function lL(t,n,e){return n.parse("/")}function Q9(t,n){return It(null)}const cL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class t{constructor(e,r,i,s,l,c,h){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ne,this.errorHandler=uL,this.malformedUriErrorHandler=lL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Q9,afterPreactivation:Q9},this.urlHandlingStrategy=new aL,this.routeReuseStrategy=new oL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(ia),this.console=l.get(W5);const E=l.get(en);this.isNgZoneEnabled=E instanceof en&&en.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new zu(new zt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Z9(l,c,b=>this.triggerEvent(new l9(b)),b=>this.triggerEvent(new c9(b))),this.routerState=A9(this.currentUrlTree,this.rootComponentType),this.transitions=new Qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Vr(i=>0!==i.id),me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),gs(i=>{let s=!1,l=!1;return It(i).pipe(mi(c=>{this.currentNavigation={id:c.id,initialUrl:c.currentRawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gs(c=>{const h=this.browserUrlTree.toString(),f=!this.navigated||c.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Tf(c.source)&&(this.browserUrlTree=c.extractedUrl),It(c).pipe(gs(E=>{const b=this.transitions.getValue();return r.next(new ov(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),b!==this.transitions.getValue()?H:Promise.resolve(E)}),function(t,n,e,r){return gs(i=>function(t,n,e,r,i){return new Nk(t,n,e,r,i).apply()}(t,n,e,i.extractedUrl,r).pipe(me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),mi(E=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:E.urlAfterRedirects})}),function(t,n,e,r,i){return Ut(s=>function(t,n,e,r,i="emptyOnly",s="legacy"){try{const l=new Wk(t,n,e,r,i,s).recognize();return null===l?$9(new $k):It(l)}catch(l){return $9(l)}}(t,n,s.urlAfterRedirects,e(s.urlAfterRedirects),r,i).pipe(me(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,E=>this.serializeUrl(E),this.paramsInheritanceStrategy,this.relativeLinkResolution),mi(E=>{if("eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(y,E)}this.browserUrlTree=E.urlAfterRedirects}const b=new SF(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);r.next(b)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:y,source:T,restoredState:A,extras:O}=c,R=new ov(b,this.serializeUrl(y),T,A);r.next(R);const q=A9(y,this.rootComponentType).snapshot;return It(Object.assign(Object.assign({},c),{targetSnapshot:q,urlAfterRedirects:y,extras:Object.assign(Object.assign({},O),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=c.rawUrl,c.resolve(null),H}),bv(c=>{const{targetSnapshot:h,id:f,extractedUrl:v,rawUrl:E,extras:{skipLocationChange:b,replaceUrl:y}}=c;return this.hooks.beforePreactivation(h,{navigationId:f,appliedUrlTree:v,rawUrlTree:E,skipLocationChange:!!b,replaceUrl:!!y})}),mi(c=>{const h=new DF(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}),me(c=>Object.assign(Object.assign({},c),{guards:Pk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)})),function(t,n){return Ut(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?It(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,n,e,r){return yn(t).pipe(Ut(i=>function(t,n,e,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?It(s.map(c=>{const h=wf(c,n,i);let f;if(function(t){return t&&cu(t.canDeactivate)}(h))f=Es(h.canDeactivate(t,n,e,r));else{if(!cu(h))throw new Error("Invalid CanDeactivate guard");f=Es(h(t,n,e,r))}return f.pipe(w0())})).pipe(kd()):It(!0)}(i.component,i.route,e,n,r)),w0(i=>!0!==i,!0))}(l,r,i,t).pipe(Ut(c=>c&&function(t){return"boolean"==typeof t}(c)?function(t,n,e,r){return yn(n).pipe(Md(i=>hf(function(t,n){return null!==t&&n&&n(new MF(t)),It(!0)}(i.route.parent,r),function(t,n){return null!==t&&n&&n(new OF(t)),It(!0)}(i.route,r),function(t,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(l=>function(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(l)).filter(l=>null!==l).map(l=>r9(()=>It(l.guards.map(h=>{const f=wf(h,l.node,e);let v;if(function(t){return t&&cu(t.canActivateChild)}(f))v=Es(f.canActivateChild(r,t));else{if(!cu(f))throw new Error("Invalid CanActivateChild guard");v=Es(f(r,t))}return v.pipe(w0())})).pipe(kd())));return It(s).pipe(kd())}(t,i.path,e),function(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return It(!0);const i=r.map(s=>r9(()=>{const l=wf(s,n,e);let c;if(function(t){return t&&cu(t.canActivate)}(l))c=Es(l.canActivate(n,t));else{if(!cu(l))throw new Error("Invalid CanActivate guard");c=Es(l(n,t))}return c.pipe(w0())}));return It(i).pipe(kd())}(t,i.route,e))),w0(i=>!0!==i,!0))}(r,s,t,n):It(c)),me(c=>Object.assign(Object.assign({},e),{guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),mi(c=>{if(ju(c.guardsResult)){const f=sv(`Redirecting to "${this.serializeUrl(c.guardsResult)}"`);throw f.url=c.guardsResult,f}const h=new wF(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(h)}),Vr(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,""),!1)),bv(c=>{if(c.guards.canActivateChecks.length)return It(c).pipe(mi(h=>{const f=new TF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(f)}),gs(h=>{let f=!1;return It(h).pipe(function(t,n){return Ut(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return It(e);let s=0;return yn(i).pipe(Md(l=>function(t,n,e,r){return function(t,n,e,r){const i=Object.keys(t);if(0===i.length)return It({});const s={};return yn(i).pipe(Ut(l=>function(t,n,e,r){const i=wf(t,n,r);return Es(i.resolve?i.resolve(n,e):i(n,e))}(t[l],n,e,r).pipe(mi(c=>{s[l]=c}))),iv(1),Ut(()=>Object.keys(s).length===i.length?It(s):H))}(t._resolve,t,n,r).pipe(me(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),M9(t,e).resolve),null)))}(l.route,r,t,n)),mi(()=>s++),iv(1),Ut(l=>s===i.length?It(e):H))})}(this.paramsInheritanceStrategy,this.ngModule.injector),mi({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),mi(h=>{const f=new AF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(f)}))}),bv(c=>{const{targetSnapshot:h,id:f,extractedUrl:v,rawUrl:E,extras:{skipLocationChange:b,replaceUrl:y}}=c;return this.hooks.afterPreactivation(h,{navigationId:f,appliedUrlTree:v,rawUrlTree:E,skipLocationChange:!!b,replaceUrl:!!y})}),me(c=>{const h=function(t,n,e){const r=Pd(t,n._root,e?e._root:void 0);return new T9(r,n)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return Object.assign(Object.assign({},c),{targetRouterState:h})}),mi(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((t,n,e)=>me(r=>(new hk(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),mi({next(){s=!0},complete(){s=!0}}),function(t){return ce((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var c;s||l||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===i.id&&(this.currentNavigation=null)}),lu(c=>{if(l=!0,function(t){return t&&t[h9]}(c)){const h=ju(c.url);h||(this.navigated=!0,this.restoreHistory(i,!0));const f=new u9(i.id,this.serializeUrl(i.extractedUrl),c.message);r.next(f),h?setTimeout(()=>{const v=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),E={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tf(i.source)};this.scheduleNavigation(v,"imperative",null,E,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const h=new CF(i.id,this.serializeUrl(i.extractedUrl),c);r.next(h);try{i.resolve(this.errorHandler(c))}catch(f){i.reject(f)}}return H}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},l=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(l){const h=Object.assign({},l);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,r,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){B9(e),this.config=e.map(Ev),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:c,preserveFragment:h}=r,f=i||this.routerState.root,v=h?this.currentUrlTree.fragment:l;let E=null;switch(c){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),function(t,n,e,r,i){if(0===e.length)return fv(n.root,n.root,n,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new P9(!0,0,t);let n=0,e=!1;const r=t.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return ei(s.outlets,(h,f)=>{c[f]="string"==typeof h?h.split("/"):h}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?e=!0:".."===c?n++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new P9(e,n,r)}(e);if(s.toRoot())return fv(n.root,new zt([],{}),n,r,i);const l=function(t,n,e){if(t.isAbsolute)return new pv(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new pv(s,s===n.root,0)}const r=_f(t.commands[0])?0:1;return function(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pv(r,!1,i-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,n,t),c=l.processChildren?bf(l.segmentGroup,l.index,s.commands):R9(l.segmentGroup,l.index,s.commands);return fv(l.segmentGroup,c,n,r,i)}(f,this.currentUrlTree,e,E,null!=v?v:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ju(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},cL):!1===r?Object.assign({},dL):r,ju(e))return v9(this.currentUrlTree,e,i);const s=this.parseUrl(e);return v9(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Nd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,l){var c,h,f;if(this.disposed)return Promise.resolve(!1);const v=this.transitions.value,E=Tf(r)&&v&&!Tf(v.source),b=v.rawUrl.toString()===e.toString(),y=v.id===(null===(c=this.currentNavigation)||void 0===c?void 0:c.id);if(E&&b&&y)return Promise.resolve(!0);let A,O,R;l?(A=l.resolve,O=l.reject,R=l.promise):R=new Promise((B,L)=>{A=B,O=L});const q=++this.navigationId;let Q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Q=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):Q=0,this.setTransition({id:q,targetPageId:Q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:A,reject:O,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(B=>Promise.reject(B))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new u9(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){jm()},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function Tf(t){return"imperative"!==t}let Af=(()=>{class t{constructor(e,r,i,s,l){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=l,this.commands=null,this.onChanges=new ne,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:M0(this.skipLocationChange),replaceUrl:M0(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:M0(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(z(zi),z(Gu),iu("tabindex"),z(Rr),z(Zt))},t.\u0275dir=Se({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&ge("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Kt]}),t})(),$u=(()=>{class t{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ne,this.subscription=e.events.subscribe(s=>{s instanceof Nd&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,s,l){if(0!==e||r||i||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const c={skipLocationChange:M0(this.skipLocationChange),replaceUrl:M0(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,c),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:M0(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(z(zi),z(Gu),z(D0))},t.\u0275dir=Se({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&ge("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Ft("target",r.target)("href",r.href,X2)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Kt]}),t})();function M0(t){return""===t||!!t}class ey{}class ty{preload(n,e){return It(null)}}let ny=(()=>{class t{constructor(e,r,i,s){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=new Z9(i,r,h=>e.triggerEvent(new l9(h)),h=>e.triggerEvent(new c9(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vr(e=>e instanceof Nd),Md(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ia);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children));return yn(i).pipe(Ko(),me(s=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?It(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Ut(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(we(zi),we($h),we(er),we(ey))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),xv=(()=>{class t{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ov?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof d9&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new d9(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){jm()},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Yu=new Rt("ROUTER_CONFIGURATION"),ry=new Rt("ROUTER_FORROOT_GUARD"),gL=[Rg,{provide:y9,useClass:x9},{provide:zi,useFactory:function(t,n,e,r,i,s,l={},c,h){const f=new zi(null,t,n,e,r,i,p9(s));return c&&(f.urlHandlingStrategy=c),h&&(f.routeReuseStrategy=h),function(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(l,f),l.enableTracing&&f.events.subscribe(v=>{var E,b;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(b=console.groupEnd)||void 0===b||b.call(console)}),f},deps:[y9,Ld,Rg,er,$h,yv,Yu,[class{},new ss],[class{},new ss]]},Ld,{provide:Gu,useFactory:function(t){return t.routerState.root},deps:[zi]},ny,ty,class{preload(n,e){return e().pipe(lu(()=>It(null)))}},{provide:Yu,useValue:{enableTracing:!1}}];function vL(){return new eb("Router",zi)}let iy=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[gL,oy(e),{provide:ry,useFactory:bL,deps:[[zi,new ss,new jl]]},{provide:Yu,useValue:r||{}},{provide:D0,useFactory:_L,deps:[Hu,[new Wc(Pg),new ss],Yu]},{provide:xv,useFactory:EL,deps:[zi,SR,Yu]},{provide:ey,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ty},{provide:eb,multi:!0,useFactory:vL},[Cv,{provide:Gh,multi:!0,useFactory:SL,deps:[Cv]},{provide:sy,useFactory:DL,deps:[Cv]},{provide:Y5,multi:!0,useExisting:sy}]]}}static forChild(e){return{ngModule:t,providers:[oy(e)]}}}return t.\u0275fac=function(e){return new(e||t)(we(ry,8),we(zi,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})();function EL(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new xv(t,n,e)}function _L(t,n,e={}){return e.useHash?new lP(t,n):new xb(t,n)}function bL(t){return"guarded"}function oy(t){return[{provide:$D,multi:!0,useValue:t},{provide:yv,multi:!0,useValue:t}]}let Cv=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ne}appInitializer(){return this.injector.get(sP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(c=>r=c),s=this.injector.get(zi),l=this.injector.get(Yu);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?It(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(Yu),i=this.injector.get(ny),s=this.injector.get(xv),l=this.injector.get(zi),c=this.injector.get(ps);e===c.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),s.init(),l.resetRootComponentType(c.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(we(er))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function SL(t){return t.appInitializer.bind(t)}function DL(t){return t.bootstrapListener.bind(t)}const sy=new Rt("Router Initializer");Me(531);var uy=Me(587);let Mf=(()=>{class t{constructor(){this.onError=new nt}hasError(e){this.onError.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["ng-katex"]],inputs:{equation:"equation",options:"options"},outputs:{onError:"onError"},decls:1,vars:2,consts:[[3,"katex","katex-options","someEvent"]],template:function(e,r){1&e&&(a(0,"span",0),ge("someEvent",function(s){return r.hasError(s)}),u()),2&e&&te("katex",r.equation)("katex-options",r.options)},directives:function(){return[OL]},encapsulation:2}),t})(),Sv=(()=>{class t{render(e,r,i){return(0,uy.render)(e,r.nativeElement,i)}renderToString(e,r){return(0,uy.renderToString)(e,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),OL=(()=>{class t{constructor(e,r){this.el=e,this.katexService=r,this.onError=new nt}ngOnChanges(){try{this.katexService.render(this.equation,this.el,this.options)}catch(e){this.onError.emit(e)}}}return t.\u0275fac=function(e){return new(e||t)(z(Zt),z(Sv))},t.\u0275dir=Se({type:t,selectors:[["","katex",""]],inputs:{equation:["katex","equation"],options:["katex-options","options"]},outputs:{onError:"onError"},features:[Kt]}),t})(),IL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({providers:[Sv],imports:[[Mi]]}),t})(),PL=(()=>{class t{constructor(){}ngOnInit(){this.equations=[" x >= 0 "," y >= 0 "," z >= 0 "," 1 <= 2x + 3y <=10 "," 2 <= 1x + 4z <=5 ","\\text{Maximize } 2x + 2y + 2z "," bookIsInLibrairie[][] \\text{ , la variable  bookIsInLibrairie[b][l]  \xe9tant \xe0  }0","\\text{  si le livre }b \\text{ est embarqu\xe9 par la librairie } l"," maxDays "," B "," value "," L "," signIn "," shipping "," \\text{Pour chaque livre b:} "," 0 <= \\sum_{l \\in [0,L-1]}{ bookIsInLibrairie[b][l]} <= 1 "," \\text{Pour chaque livre b: }"," 0 <= \\sum_{b \\in [0,B-1]}{bookIsInLibrairie[b][l]} <= (maxDays-d) * shipping[l] ","d"," \\text{Pour chaque librairie l:} "," 0 <= \\sum_{b \\in [0,B-1]}{bookIsInLibrairie[b][l]} <= (maxDays-d) * shipping[l] "," \\text{Maximize } \\sum_{b \\in [0,B-1], l \\in [0,L-1]}{bookIsInLibrairie[b][l]*value[b]} "],Prism.highlightAll()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-where-is-guido"]],decls:318,vars:22,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],[2,"text-align","center"],["src","assets/img/Mutation.png",2,"width","300px"],["src","assets/img/Croisement.png",2,"width","300px"],["src","assets/img/genetic.gif",2,"width","500px"],[1,"line-numbers","language-python"],["src","assets/img/casino.gif",2,"width","500px"],["href","https://blog.h15.io/HashCode-Part1/"],["href","https://blog.h15.io/"],[1,"constraintBlock"],[3,"equation"],[1,"objectiveBlock"],["href","https://developers.google.com/optimization"],[1,"separator"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Where is Guido "),u(),a(5,"div",3),o(6," Jeudi 20 f\xe9vrier s'\xe9tait d\xe9roul\xe9e une comp\xe9tition d'optimisation algorithmique \"Google Hash Code\"."),d(7,"br"),o(8," Insalgo nous a accueillis \xe0 son hub, @matleg, @MrFlibble et moi-m\xeame (@cup_of_what). "),u(),a(9,"div",3),o(10," Cet article a pour but de retracer notre cheminement durant le concours, aussi bien les impasses que les bonnes pistes. "),d(11,"br"),o(12," En derni\xe8re partie, on verra ensemble comment appliquer une m\xe9thode de programmation particuli\xe8re (programmation enti\xe8re) au probl\xe8me, et si cela fonctionne. "),u(),a(13,"h1"),o(14," Quelques jours avant la bataille"),u(),a(15,"h2"),o(16," Nos armes"),u(),a(17,"div",3),o(18," En pr\xe9paration du concours, j'avais d\xe9velopp\xe9 quelques programmes C++ : "),a(19,"ul"),a(20,"li"),o(21," un utilitaire (squelettor) g\xe9n\xe9rant des squelettes de programmes python et c++ (parser et classes) \xe0 partir d'un fichier d\xe9crivant les entr\xe9es "),u(),a(22,"li"),o(23," une librairie g\xe9n\xe9rique d'algorithme g\xe9n\xe9tique "),u(),a(24,"li"),o(25," des runners et un m\xe9tarunner, permettant de lancer le code g\xe9n\xe9tique (en variant les entr\xe9es et param\xe8tres) "),u(),u(),u(),a(26,"div",3),o(27," Les entr\xe9es \xe9tant assez simples, squelettor ne servit \xe0 rien durant le concours. "),u(),a(28,"h2"),o(29," Nos r\xf4les"),u(),a(30,"div",3),o(31," Avant le concours, nous avions pr\xe9vu de scinder l'\xe9quipe de cette mani\xe8re: "),a(32,"ul"),a(33,"li"),o(34," @MrFlibble et @Matleg d\xe9veloppaient un / des programmes en Python pour g\xe9n\xe9rer des solutions initiales, avec des heuristiques "),u(),a(35,"li"),o(36,"Je r\xe9cup\xe9rais leurs r\xe9sultats, recodais leurs heuristiques en C++ dans ma fonction d'\xe9valuation pour lancer un algorithme g\xe9n\xe9tique, en initialisant mes populations avec leurs solutions "),u(),u(),u(),a(37,"div",3),o(38," On le verra apr\xe8s, mais le fait de pr\xe9voir de base de faire un algorithme g\xe9n\xe9tique sans m\xeame avoir lu l'\xe9nonc\xe9 fut une assez grave erreur. "),u(),a(39,"h1"),o(40," Sur les traces de Darwin"),u(),a(41,"h2"),o(42," Le principe de l'algorithme g\xe9n\xe9tique"),u(),a(43,"div",3),o(44," L'algorithme g\xe9n\xe9tique s'inspire des m\xe9canismes biologiques de l'\xe9volution: "),u(),a(45,"div",3),a(46,"ul"),a(47,"li"),o(48," On a un individu (la solution), compos\xe9 de g\xe8nes (fragment de solution)"),u(),a(49,"li"),o(50," Cet individu peut conna\xeetre des mutations (ajout ou suppression de fragment de solution, modification d'un gene)"),u(),a(51,"div",4),d(52,"img",5),u(),a(53,"li"),o(54," Pour chaque g\xe9n\xe9ration (it\xe9ration), on a une population (un ensemble de solutions)"),u(),a(55,"li"),o(56," Pour g\xe9n\xe9rer la g\xe9n\xe9ration de l'it\xe9ration suivante, on garde les individus pr\xe9sentant le plus de potentiel et on les croise pour g\xe9n\xe9rer de nouveaux individus en mixant leurs genes "),u(),a(57,"div",4),d(58,"img",6),u(),u(),u(),a(59,"div",3),o(60," A force d'it\xe9rer, de garder les individus avec les meilleurs scores et d'introduire un peu d'al\xe9atoire avec les croisements et mutations, on esp\xe8re converger vers un optimum. "),u(),a(61,"h2"),o(62," La revanche du cr\xe9ationisme"),u(),a(63,"div",4),d(64,"img",7),u(),a(65,"div",3),o(66,' Apr\xe8s 2 h 10 de d\xe9veloppement, j\'ai fini la "base" de mon g\xe9n\xe9tique. '),u(),a(67,"div",3),o(68," Mais deux probl\xe8mes apparaissent: "),u(),a(69,"ul"),a(70,"li"),o(71," Les donn\xe9es sont trop lourdes: 10^5 librairies, 10^5 livres, parfois 10^5 livres pour une librairie... "),d(72,"br"),o(73," \xc7a segfault, \xe7a freeze, crash, \xe7a me force \xe0 faire des populations avec de tr\xe8s petites tailles (et donc limite la vari\xe9t\xe9 de la population)... "),u(),a(74,"li"),o(75," Et quand \xe7a veut bien marcher, \xe7a ne converge pas, du moins pas assez. "),u(),u(),a(76,"div",3),o(77," Pour le second probl\xe8me, cela vient surement de la mod\xe9lisation: "),u(),a(78,"div",3),o(79," Comme j'effectue des mutations qui consistent \xe0 supprimer/ajouter/modifier des librairies, mais que mes livres sont tr\xe8s li\xe9s \xe0 la pr\xe9sence et l'ordre des librairies, \xe0 chaque fois qu'un g\xeane librairie est ajout\xe9, j'ai deux choix: "),a(80,"ul"),a(81,"li"),o(82," Soit je stocke un ordre de livres quelque part pour cette librairie (mais dans ce cas l'ordre peut \xeatre extr\xeamement mauvais, en fonction du reste des librairies pr\xe9sentes) "),u(),a(83,"li"),o(84," Soit je reg\xe9n\xe8re mes genes de livres associ\xe9s \xe0 cette librairie avec une heuristique na\xefve, et l'on perd continuellement les sous structures optimales trouv\xe9es pr\xe9c\xe9demment "),u(),u(),u(),a(85,"div",3),o(86," Cela entra\xeene des discontinuit\xe9s dans l'\xe9valuation des individus, et l'on se retrouve bloqu\xe9 sur des optimums locaux pour lesquels les mutations sont rares."),d(87,"br"),o(88," Le lien fort entre les librairies et les livres pose un probl\xe8me de mod\xe9lisation que je n'ai pas r\xe9ussi \xe0 r\xe9soudre. "),u(),a(89,"h1"),o(90," Les heuristiques"),u(),a(91,"div",3),o(92," Pendant ce temps, les lucides @MrFlibble et @Matleg purent analyser les donn\xe9es d'entr\xe9e et d\xe9velopper quelques algorithmes et heuristiques permettant d'obtenir des scores bien meilleurs qu'un simple al\xe9atoire. "),u(),a(93,"h2"),o(94," Tri par score de librairie"),u(),a(95,"div",3),o(96," La premi\xe8re id\xe9e \xe9tait d'attribuer un score \xe0 chaque librairie, qui consistait \xe0 sommer toutes les valeurs des livres de cette librairie."),d(97,"br"),o(98," Ce score ignorait donc le fait que l'on ne puisse pas ajouter tous les livres de cette librairie mais donnait tout de m\xeame une base de d\xe9part convenable. "),u(),a(99,"div",3),o(100," A partir de ce score, la liste des librairies \xe9tait tri\xe9e, et c'\xe9tait cet ordre qui \xe9tait utilis\xe9 pour la solution. "),u(),a(101,"h2"),o(102," Affectation des livres aux diff\xe9rentes librairies"),u(),a(103,"div",3),o(104," Pour affecter les livres aux librairies, on it\xe9rait sur chaque librairie et on appliquait ces deux \xe9tapes: "),a(105,"ul"),a(106,"li"),o(107," On calcule le nombre de livres que peut scanner cette librairie (en fonction des librairies d\xe9j\xe0 pass\xe9es et du temps d'inscription de la librairie) "),u(),a(108,"li"),o(109," On affecte \xe0 cette librairie les livres qui n'ont pas encore \xe9t\xe9 affect\xe9 et qui ont un score maximal "),u(),u(),u(),o(110," En combinant ces deux heuristiques, on obtient un score correct. "),a(111,"h2"),o(112," Mentions honorables"),u(),a(113,"div",3),o(114," Les cas de tests montraient de grandes disparit\xe9s dans la r\xe9partition des valeurs (param\xe8tres des librairies, valeurs des livres etc...). L'intuition \xe9tait donc qu'une heuristique pouvait s'appliquer \xe0 un cas en particulier mais pas aux autres. "),u(),a(115,"div",3),o(116," Nous avons pu tester de nombreuses heuristiques, notamment dans l'ordonnancement des librairies: "),a(117,"ul"),a(118,"li"),o(119," Modifier la valeur des livres en fonction de leurs fr\xe9quences d'apparition dans les librairies "),u(),a(120,"li"),o(121," Trier les librairies par d\xe9lai d'inscription "),u(),a(122,"li"),o(123," Trier les librairies par nombres de scan par jour "),u(),a(124,"li"),o(125," Trier les librairies avec un ratio des deux param\xe8tres pr\xe9c\xe9dents "),u(),a(126,"li"),o(127," Des fonctions utilisant la combinaison de plein de variables, de fonctions logarithmiques ... "),u(),u(),u(),a(128,"div",3),o(129," Globalement, ces heuristiques n'ont pas fourni de r\xe9sultats si probants. On obtenait parfois des \xe9tats initiaux un peu meilleurs pour certains cas, mais restions loin des meilleurs scores. "),u(),a(130,"div",3),o(131,' Je fus \xe9galement victime de quelques soubresauts "AH MAIS ON PEUT FAIRE DES FLOTS NAN? TSAIS LA, DU MATCHING POUR LE SET COVERING?". Incompris de mes pairs, et doutant \xe9galement de la pertinence de cette r\xe9flexion, cette voie ne fut pas plus explor\xe9e. Mais quand m\xeame. '),u(),a(132,"h2"),o(133," Permutations al\xe9atoires"),u(),a(134,"div",3),o(135," A partir des solutions g\xe9n\xe9r\xe9es, l'id\xe9e \xe9tait de modifier al\xe9atoirement ces solutions pour trouver de nouvelles solutions avec de meilleurs scores. "),u(),a(136,"div",3),o(137," L'id\xe9e \xe9tait simplement de prendre un petit (10 \xe9l\xe9ments) intervalle dans la liste de librairie tri\xe9e, r\xe9aliser une permutation al\xe9atoire de cet intervalle, calculer le score et garder cette permutation pour la prochaine it\xe9ration si le score est meilleur."),d(138,"br"),o(139," On peut consid\xe9rer que c'est une forme d'hill climbing."),d(140,"br"),o(141," Avec \xe7a, nous avons pu atteindre notre score final de 24 000 160 points."),d(142,"br"),u(),a(143,"div",3),o(144," Une faille \xe0 cette id\xe9e est que, si une permutation est r\xe9alis\xe9e vers la fin de la liste, comme cette permutation aura un impact nul sur le score, la permutation sera ignor\xe9e. Or, il peut y avoir un int\xe9r\xeat de remonter des \xe9l\xe9ments de fin de la liste avec des permutations successives pour trouver certaines solutions. "),u(),o(145," Plut\xf4t que de faire: "),a(146,"pre",8),a(147,"code"),o(148," while True:\n    testPermutation = triLibrairies.copy()\n    # On choisit un indice au hasard entre 0 et N-11 i = rand()%(N - 10)\n\n    # On fait une permutation al\xe9atoire de l'intervalle testPermutation[i:i+10] =\n    random_shuffle(testPermutation[i:i+10])\n\n    # On caclule le score obtenu avec nos heuristiques de distribution s = calculScore(testPermutation)\n\n    # Si le score est meilleur if(s > bestScore):\n    # On conserve cette permutation pour la prochaine it\xe9ration. triLibrairies = testPermutation"),u(),u(),o(149," il aurait donc \xe9t\xe9 plus int\xe9ressant de remplacer la derni\xe8re condition par (ce qui a \xe9t\xe9 fait pendant l'extended round): "),a(150,"pre",8),a(151,"code"),o(152,"if(s >= bestScore):\n    triLibrairies = testPermutation2"),u(),u(),o(153," Gr\xe2ce \xe0 cet algorithme, je pus fixer ce code qui crachait de minis jackpot continuellement sous fond noir de terminal, d\xe9prim\xe9 de la d\xe9faite du g\xe9n\xe9tique, pendant que @MrFlibble et @Matleg continuaient \xe0 se creuser les m\xe9ninges pour trouver de nouvelles id\xe9es. "),a(154,"div",4),d(155,"img",9),u(),a(156,"h1"),o(157," Programmation enti\xe8re"),u(),o(158," Apr\xe8s le concours, je me suis rappel\xe9 de "),a(159,"a",10),o(160,"l'article"),u(),o(161," sur le blog "),a(162,"a",11),o(163,"h15.io"),u(),o(164," (ty @Mathis et @Clement Hammel) qui parlait des solutions d'artillerie lourde, \xe0 base notamment d'Or-tools."),d(165,"br"),o(166," Le probl\xe8me me semblait mod\xe9lisable sous la forme d'un probl\xe8me de programmation enti\xe8re, j'ai donc voulu tester cette intuition. "),a(167,"h2"),o(168," Principe"),u(),a(169,"div",3),o(170," La programmation enti\xe8re consiste \xe0 v\xe9rifier la faisabilit\xe9 ou d'optimiser une fonction \xe0 partir d'un set de contraintes."),d(171,"br"),o(172," Les fonctions d\xe9finissant les contraintes et la fonction \xe0 optimiser sont lin\xe9aires et dot\xe9es de variables restreintes \xe0 un domaine entier. "),u(),a(173,"div",3),o(174," Par exemple, ceci est un probl\xe8me de progammation enti\xe8re: "),a(175,"div",12),a(176,"div"),d(177,"ng-katex",13),u(),a(178,"div"),d(179,"ng-katex",13),u(),a(180,"div"),d(181,"ng-katex",13),u(),a(182,"div"),d(183,"ng-katex",13),u(),a(184,"div"),d(185,"ng-katex",13),u(),u(),a(186,"div",14),d(187,"ng-katex",13),u(),o(188," Les 5 premi\xe8res lignes sont des lignes de contraintes, la derni\xe8re est la fonction d'optimisation. "),u(),a(189,"div",3),o(190," Ce genre de probl\xe8me, dans le cas o\xf9 les variables prennent des valeurs enti\xe8res, est NP-complet (difficile \xe0 r\xe9soudre), mais il existe des solveurs et algorithmes efficaces pour obtenir rapidement des solutions approch\xe9es ou optimales. "),u(),a(191,"h2"),o(192," Or-tools"),u(),a(193,"div",3),a(194,"a",15),o(195,"Or-tools"),u(),o(196," est une libraire d\xe9velopp\xe9e par Google et proposant des algorithmes d'optimisations, des solveurs etc... "),d(197,"br"),o(198," C'est l'outil que j'ai utilis\xe9 (la version python) pour d\xe9finir mes probl\xe8mes de programmation enti\xe8re. "),u(),a(199,"h2"),o(200," Application au sujet"),u(),a(201,"div",3),o(202," Je vais d'abord pr\xe9senter la version que l'on a pu exploiter pour am\xe9liorer notre score, avant de pr\xe9senter une version plus ambitieuse (mais qui ne fonctionne pas). "),u(),a(203,"div",3),o(204," Pour des contraintes de taille de donn\xe9es, le solveur comme il a \xe9t\xe9 d\xe9velopp\xe9 ne peut s'appliquer qu'\xe0 l'entr\xe9e E (so many books)."),d(205,"br"),o(206," La premi\xe8re version se greffe en sortie du solveur que l'on avait d\xe9j\xe0 d\xe9velopp\xe9, et r\xe9cup\xe8re la sortie g\xe9n\xe9r\xe9e pour l'optimiser: "),a(207,"ul"),a(208,"li"),o(209," On garde les librairies et l'ordre dans lesquelles celles-ci ont \xe9t\xe9 ajout\xe9es "),u(),a(210,"li"),o(211," On optimise seulement les livres qui sont affect\xe9s \xe0 telle ou telle librairie "),u(),u(),u(),a(212,"div",3),o(213," Pour cette version, une seule matrice de variables est d\xe9finie: "),a(214,"ul"),a(215,"li"),d(216,"ng-katex",13),d(217,"br"),d(218,"ng-katex",13),u(),u(),u(),a(219,"div",3),o(220," Pour avoir une matrice de dimension r\xe9duite, on applique l'optimisation suivante: "),a(221,"ul"),a(222,"li"),o(223," on ne garde que les livres qui sont au moins une fois dans les librairies de la solution "),u(),u(),u(),a(224,"div",3),o(225," D\xe9finissons les constantes que je vais utiliser: "),a(226,"ul"),a(227,"li"),d(228,"ng-katex",13),o(229," : Le nombre total de jours pendant lesquels on peut scanner des livres / s'inscrire \xe0 des librairies "),u(),a(230,"li"),d(231,"ng-katex",13),o(232," : Le nombre total de livres uniques consid\xe9r\xe9s (contenus dans au moins une librairie) "),u(),a(233,"li"),d(234,"ng-katex",13),o(235," : Le tableau de dimension B d\xe9crivant la valeur des livres "),u(),a(236,"li"),d(237,"ng-katex",13),o(238," : Le nombre total de librairies de la solution \xe0 optimiser "),u(),a(239,"li"),d(240,"ng-katex",13),o(241," : Le tableau de dimension L d\xe9crivant la dur\xe9e d'inscription pour une librairie "),u(),a(242,"li"),d(243,"ng-katex",13),o(244," : Le tableau de dimension L d\xe9crivant le nombre de livres que l'on peut scanner par jour pour une librairie "),u(),u(),u(),a(245,"div",3),o(246," Ensuite, viennent l'expression des contraintes de l'\xe9nonc\xe9 sous la forme d'in\xe9galit\xe9s. "),a(247,"div",12),o(248," Un livre ne doit pas \xeatre pr\xe9sent dans plusieurs librairies: "),d(249,"div",16),a(250,"div"),d(251,"ng-katex",13),d(252,"ng-katex",13),u(),u(),a(253,"pre",8),a(254,"code"),o(255,"for b in range(B):\n    constraint=solver.Constraint(0,1) \n    for l in range(L): \n        if(b in libsBooks[l]):\n            constraint.SetCoefficient(bookIsInLibrairie[b][l],1)"),u(),u(),a(256,"div",12),o(257," Un livre ne doit pas \xeatre ajout\xe9 dans une librairie qui ne le contient pas: "),d(258,"div",16),a(259,"div"),d(260,"ng-katex",13),d(261,"ng-katex",13),u(),u(),a(262,"pre",8),a(263,"code"),o(264,"for b in range(B): \n    constraint=solver.Constraint(0,0) \n    for l in range(L):\n        if(b not in libsBooks[l]): \n            constraint.SetCoefficient(bookIsInLibrairie[b][l],1)"),u(),u(),a(265,"div",12),o(266," Une librairie a une limite de livres qu'elle peut scanner, en fonction de la date de fin d'inscription "),d(267,"ng-katex",13),o(268,", et du nombre de livres qu'elle peut scanner par jour. "),d(269,"div",16),a(270,"div"),d(271,"ng-katex",13),d(272,"ng-katex",13),u(),u(),a(273,"pre",8),a(274,"code"),o(275,"d=0 \nfor l in range(L): \n    d +=signIn[l]\n    constraint=solver.Constraint(0,max(0,(maxDays-d)*shipping[l])) \n    for b in range(B): \n        constraint.SetCoefficient(bookIsInLibrairie[b][l],1)"),u(),u(),u(),a(276,"div",3),o(277," Finalement, on d\xe9crit la fonction que l'on cherche \xe0 optimiser. "),a(278,"div",14),d(279,"ng-katex",13),u(),a(280,"pre",8),a(281,"code"),o(282,"objective = solver.Objective()\nfor l in range(L):\n    for b in range(B):\n        objective.SetCoefficient(bookIsInLibrairie[b][l],value[b])\nobjective.SetMaximization()"),u(),u(),u(),a(283,"div",3),o(284," En laissant tourner le solveur quelques minutes, la solution optimale est renvoy\xe9e. Il suffit ensuite \xe0 partir des valeurs prises par les diff\xe9rentes variables, de g\xe9n\xe9rer la solution dans le format attendu."),d(285,"br"),o(286," L'impact de ce solveur est limit\xe9 (on ne gagnait en moyenne pas plus de 800 000 points en optimisant une solution non optimis\xe9e), mais c'\xe9tait tout de m\xeame un chouette exercice, et une belle d\xe9couverte de or-tools. "),u(),a(287,"h1"),o(288," The end"),u(),a(289,"div",3),o(290," Voili voilou, c'est tout pour cet article. Pour info, apr\xe8s avoir appliqu\xe9 tout \xe7a (heuristiques, mutations et solveur), on a pu atteindre les 27 106 605 points."),d(291,"br"),o(292," A savoir qu'avec cette solution (m\xeame si on l'avait magiquement cod\xe9e \xe0 l'avance), le score n'aurait pas \xe9t\xe9 atteint en concours: les mutations crachent de nouveaux scores au bout de tr\xe8s longues p\xe9riodes de run, et en exploitant des \xe9tats obtenus lors de pr\xe9c\xe9dents runs. "),u(),a(293,"div",3),o(294," L'objectif n'\xe9tait donc pas de donner un exemple de bonne solution \xe0 coder pour le concours, mais plus des id\xe9es ici et l\xe0, un exemple d'exp\xe9rience du concours, et le genre d'erreur \xe0 ne pas faire. "),d(295,"br"),o(296," Personnellement, je retiens notamment la le\xe7on suivante: "),a(297,"ul"),a(298,"li"),o(299,"Rusher et s'acharner sur une solution (g\xe9n\xe9tique ici) sans avoir pos\xe9 de r\xe9flexion sur le papier, c'est mal"),u(),u(),o(300," Mais on esp\xe8re pouvoir revenir en force l'ann\xe9e prochaine. "),u(),a(301,"h2"),o(302," La suite"),u(),a(303,"div",3),o(304," Une seconde partie sera peut-\xeatre publi\xe9e pour expliquer d'autres id\xe9es plus avanc\xe9es: "),a(305,"ul"),a(306,"li"),o(307," Un solveur plus complexe (mais pas fonctionnel) "),u(),a(308,"li"),o(309," La combinaison d'un solveur par mini-batchs avec mutations (id\xe9e fra\xeeche pas encore test\xe9e, j'ai l'espoir qu'elle nous fasse atteindre les 27 200 000) "),u(),a(310,"li"),o(311," La visualisation de donn\xe9es, pour trouver des patterns, voir si on peut les exploiter "),u(),u(),u(),a(312,"div",3),a(313,"h2"),o(314," Vous pouvez reprendre une activit\xe9 normale"),u(),o(315," En esp\xe9rant que \xe7a ait vous ai fait d\xe9couvrir quelques trucs par ci par l\xe0, inspir\xe9 des id\xe9es ou motiv\xe9 \xe0 nous rejoindre sur le concours de l'an prochain. "),d(316,"br"),o(317," Gl&Hf! "),u(),u(),u(),u()),2&e&&(K(177),te("equation",r.equations[0]),K(2),te("equation",r.equations[1]),K(2),te("equation",r.equations[2]),K(2),te("equation",r.equations[3]),K(2),te("equation",r.equations[4]),K(2),te("equation",r.equations[5]),K(29),te("equation",r.equations[6]),K(2),te("equation",r.equations[7]),K(10),te("equation",r.equations[8]),K(3),te("equation",r.equations[9]),K(3),te("equation",r.equations[10]),K(3),te("equation",r.equations[11]),K(3),te("equation",r.equations[12]),K(3),te("equation",r.equations[13]),K(8),te("equation",r.equations[14]),K(1),te("equation",r.equations[15]),K(8),te("equation",r.equations[16]),K(1),te("equation",r.equations[17]),K(6),te("equation",r.equations[18]),K(4),te("equation",r.equations[19]),K(1),te("equation",r.equations[20]),K(7),te("equation",r.equations[21]))},directives:[Mf],styles:[""]}),t})(),RL=(()=>{class t{constructor(){}ngOnInit(){for(var e={algos:{contests:{Codeforces:{url:"http://codeforces.com/",themes:"Math\xe9matiques, Graphes, Programmation Dynamique, Ad-Hoc",variety:5,quality:5,beginnerFriendly:3,UI:5,frequency:"2 fois par semaine",duration:"2h",premium:"Non",divisions:"4?",hacks:1,place:2,misc:"Propose \xe9galement des concours de langages exotiques, April's fool contest."},Topcoder:{url:"https://www.topcoder.com/challenges",themes:"Programmation Dynamique, Combinatoire, Graphes",variety:3,quality:3,beginnerFriendly:0,UI:0,frequency:"1 fois par semaine",duration:"1h30",premium:"Non",divisions:"2",hacks:1,misc:"Le pionnier, mais UI catastrophique"},Codechef:{url:"https://www.codechef.com/",themes:"Math\xe9matiques, Structures, Graphes",variety:4,quality:4,beginnerFriendly:3,UI:4,frequency:"3 fois par mois (long, lunchtime, short)",duration:"3h / 10 jours",premium:"Non",divisions:"2",hacks:0,misc:"L'un des seuls concours d'algo long de qualit\xe9"},"Google Code Jam":{url:"https://codingcompetitions.withgoogle.com/codejam",themes:"Interactif, Ad-Hoc, Math\xe9matiques",variety:5,quality:5,beginnerFriendly:2,UI:4,frequency:"1 fois par an",duration:"2h",premium:"Non",divisions:"Non",hacks:0,place:2,misc:"Le plus gros concours international annuel (41000 personnes en 2020)."},"Google Distributed Code Jam":{url:"https://codingcompetitions.withgoogle.com/past-competitions/distributed",themes:"Algorithmes multithread\xe9s, ?...",variety:5,quality:5,beginnerFriendly:0,UI:4,frequency:"1 fois par an",duration:"2h",premium:"Non",divisions:"Non",hacks:0,misc:"L'un des seuls concours d'algo multithread"},"Google KickStart":{url:"https://codingcompetitions.withgoogle.com/kickstart",themes:"Interactif, Ad-Hoc, Math\xe9matiques",variety:5,quality:5,beginnerFriendly:3,UI:4,frequency:"9 fois par an",duration:"3h",premium:"Non",divisions:"Non",hacks:0,misc:"Un concours qui se veut comme une introduction \xe0 des concours plus compliqu\xe9s (style Google Code Jam)."},LeetCode:{url:"https://leetcode.com/",themes:"Structures, Implementation",variety:2,quality:2,beginnerFriendly:5,UI:4,frequency:"2 fois par semaine",duration:"1h30",premium:"Biblioth\xe8que de probl\xe8mes de tests de recrutements (Google, Facebook, Amazon)... D\xe9conseill\xe9",divisions:"Non",hacks:0,place:-1,misc:"Du recuit"},Hackerrank:{url:"https://www.hackerrank.com/",themes:"Programmation Fonctionnelle, IA, Math\xe9matiques, Structures ...",variety:5,quality:3,beginnerFriendly:3,UI:5,frequency:"RIP?",duration:"2h",premium:"Non",divisions:"Non",hacks:0,misc:"Ne semble plus h\xe9berger beaucoup de concours int\xe9ressants, mais section training tr\xe8s compl\xe8te"},Hackerearth:{url:"https://www.hackerearth.com/",themes:"Structures, Math\xe9matiques, Ad-Hoc",variety:3,quality:2,beginnerFriendly:2,UI:4,frequency:"1 fois par mois",duration:"7 jours",premium:"Non",divisions:"Non",hacks:0,place:-1,misc:"Concours tr\xe8s in\xe9gaux. Certains sont hideux et r\xe9dig\xe9s par un stagiaire de passage, d'autres sont ok."},Codingame:{url:"http://codingame.com/",themes:"Implementation, Math\xe9matiques, Ad-Hoc, Elagage",variety:3,quality:2,beginnerFriendly:5,UI:5,frequency:"RIP",duration:"2h",premium:"Non",divisions:"Non",hacks:0,misc:"Concours sympas mais p\xe9nalis\xe9s par le processus de validation (testcases faibles). Manque de rigueur algorithmique."},AtCoder:{url:"https://atcoder.jp/",themes:"Graphes, Math\xe9matiques, Ad-Hoc",variety:4,quality:5,beginnerFriendly:2,UI:4,frequency:"2 fois par semaine",duration:"2h",premium:"Non",divisions:"2",hacks:0,misc:"Probl\xe8mes originaux et int\xe9ressants. "},Usaco:{url:"http://www.usaco.org/",themes:"Structures, Math\xe9matiques, Graphes",variety:3,quality:4,beginnerFriendly:2,UI:3,frequency:"1 fois par mois",duration:"4h",premium:"Non",divisions:"4",hacks:0,misc:"Meuh"},IPSC:{url:"https://ipsc.ksp.sk/",themes:"WTF, xD, Outside the box",variety:5,quality:5,beginnerFriendly:0,UI:2,frequency:"1 fois par an",duration:"4h",premium:"Non",divisions:"Non",hacks:0,place:1,misc:"Probl\xe8mes tr\xe8s exotiques et tr\xe8s int\xe9ressant. Solutions inhabituelles attendues"},"Facebook Hacker Cup":{url:"https://www.facebook.com/hackercup/",themes:"Math\xe9matiques, Programmation Dynamique, Ad-Hoc",variety:4,quality:4,beginnerFriendly:2,UI:3,frequency:"1 fois par an",duration:"4h",premium:"Non",divisions:"Non",hacks:0,misc:"Concurrent de Google Code Jam. Tr\xe8s gros concours annuel."},Prologin:{url:"https://prologin.org/",themes:"Dichotomie, Programmation Dynamique, Ad-Hoc, Graphes",variety:4,quality:4,beginnerFriendly:3,UI:4,frequency:"1 fois par an",duration:"4h",premium:"Non",divisions:"Non",hacks:0,misc:"Concours national pour les 20 ans ou moins, mais section entra\xeenement ouverte \xe0 tous."},IOI:{url:"https://ioinformatics.org/",themes:"Flots, Programmation Dynamique, Math\xe9matiques, Graphes",variety:5,quality:5,beginnerFriendly:0,UI:3,frequency:"1 fois par an",duration:"?",premium:"Non",divisions:"Non",hacks:0,misc:"Concours international pour les 'jeunes'. Probl\xe8mes accessibles publiquement."}},training:{"France-ioi":{url:"http://www.france-ioi.org/",themes:"Flots, Programmation Dynamique, Math\xe9matiques, Graphes, G\xe9om\xe9trie",variety:5,quality:5,beginnerFriendly:5,UI:4,premium:"Non",place:1,misc:"Excellent site pour commencer. Permet d'apprendre des langages facilement et de d\xe9couvrir l'algorithmique."},"Project Euler":{url:"https://projecteuler.net/",themes:"Math\xe9matiques, Combinatoire, Th\xe9orie des nombres",variety:4,quality:5,beginnerFriendly:0,UI:3,premium:"Non",place:2,misc:"Probl\xe8mes math\xe9matiques \xe0 r\xe9soudre localement (seule la solution est soumise, pas le code g\xe9n\xe9rant la solution)."},Spoj:{url:"https://www.spoj.com/",themes:"Graphes, Programmation Dynamique, Ad-Hoc",variety:3,quality:3,beginnerFriendly:2,UI:2,premium:"Non",place:-1,misc:"Peu int\xe9ressant."},"Online Judge":{url:"https://onlinejudge.org/",themes:"Graphes, Programmation Dynamique, Ad-Hoc, Cha\xeenes de caract\xe8res",variety:3,quality:3,beginnerFriendly:2,UI:1,premium:"Non",place:-1,misc:"Peu int\xe9ressant."},Kattis:{url:"https://open.kattis.com/",themes:"Graphes, Programmation Dynamique, Ad-Hoc",variety:4,quality:4,beginnerFriendly:2,UI:3,premium:"Non",misc:"Probl\xe8mes ACM-ICPC dans les archives"}}},optimisation:{contests:{"Google Hash Code":{url:"https://codingcompetitions.withgoogle.com/hashcode/",themes:"Realistique, Graphes, Ordonancement",quality:5,beginnerFriendly:3,UI:5,frequency:"1 fois par an",place:1,misc:"Toujours pareil avec Google: le plus gros concours d'optimisation annuel."},Azspcs:{url:"http://azspcs.com/",themes:"Math\xe9matique, Graphes",quality:5,beginnerFriendly:2,UI:3,frequency:"1 fois tous les 2 mois",place:3,misc:"Concours assez r\xe9guliers. Plut\xf4t math\xe9matiques"},Codingame:{url:"http://codingame.com/",themes:"Graphes, Cha\xeenes de caract\xe8res, Simulation",quality:4,beginnerFriendly:5,frequency:"1 fois tous les 2 mois",UI:5,misc:"Interface graphique permettant de visualiser en live l'ex\xe9cution du code."},Topcoder:{url:"https://www.topcoder.com/challenges",themes:"Graphes, G\xe9om\xe9trie, Simulation",quality:5,beginnerFriendly:2,UI:0,frequency:"1 fois par mois (Marathon Match)",place:2,misc:"Marathon matches: la seule raison pour laquelle affronter cette UI aurait un sens."}},training:{Primers:{url:"https://primers.xyz/",themes:"Graphes, G\xe9om\xe9trie, Simulation",quality:4,beginnerFriendly:3,UI:3,misc:"Peu actif, mais bonne vision globale du domaine de l'optimisation."}}},"bot programming":{contests:{Codingame:{url:"http://codingame.com/",quality:5,beginnerFriendly:3,UI:5,frequency:"1 fois tous les 2 mois",place:1,misc:"La plateforme la plus active en bot programming. Possibilit\xe9 de jouer apr\xe8s concours \xe9galement."},Halite:{url:"https://halite.io/",quality:5,beginnerFriendly:2,UI:2,frequency:"1 fois par an",misc:"Concours sur plusieurs mois. Tr\xe8s large communaut\xe9."},"Battle Code":{url:"https://www.battlecode.org/",quality:5,beginnerFriendly:2,UI:3,frequency:"1 fois par an",misc:"Concours organis\xe9 par le MIT. Phase finale r\xe9serv\xe9e aux \xe9tudiants (pas forc\xe9ment du MIT)"}}},puzzle:{contests:{WPF:{url:"https://gp.worldpuzzle.org/",quality:5,beginnerFriendly:3,UI:4,frequency:"C'est... compliqu\xe9",place:1,misc:"La cr\xe8me des puzzle solvers s'y retrouve. Les plus simples des puzzles sont accessibles, mais les plus complexes sont monstrueux."},LogicMaster:{url:"https://logicmastersindia.com/",quality:5,beginnerFriendly:4,UI:2,place:1,frequency:"2 fois par mois",misc:"Tr\xe8s vari\xe9. Propose des ui pour r\xe9soudre (remplace le crayon papier), mais... sous Flash."}}},ctf:{training:{NewbieContest:{url:"https://www.newbiecontest.org/",quality:3,beginnerFriendly:3,UI:3,misc:""},W3Challs:{url:"https://w3challs.com/",quality:3,beginnerFriendly:2,UI:3,misc:""},"Root-me":{url:"https://www.root-me.org/fr",quality:4,beginnerFriendly:4,UI:5,misc:"",place:1},"Hack The Box":{url:"https://www.hackthebox.eu/",quality:3,beginnerFriendly:4,UI:4,misc:""},"Over The Wire":{url:"https://overthewire.org/wargames/",quality:5,beginnerFriendly:2,UI:4,misc:"",place:1},"Pwnable.tw":{url:"https://pwnable.tw/",quality:5,beginnerFriendly:0,UI:4,misc:""},"Pwnable.kr":{url:"http://pwnable.kr/",quality:4,beginnerFriendly:2,UI:3,misc:"",place:1}}}},r=0;r<Object.keys(e).length;r++)for(var i=Object.keys(e)[r],s=0;s<Object.keys(e[i]).length;s++){for(var l=Object.keys(e[i])[s],c=[],h=0;h<Object.keys(e[i][l]).length;h++){var f=Object.keys(e[i][l])[h],v=[e[i][l][f]];v[0].name=f,v[0].url=v[0].url||"",v[0].place=v[0].place||0,console.log(v[0].place),c=c.concat(v)}e[i][l]=c}var E=["#f15353","#f15353","#f1b13e","#f1b13e","#34b134","#34b134"];function b(y){return'<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;"><tr><td>'+y.misc+"</td></tr></table>"}$(document).ready(function(){$.fn.dataTable.ext.errMode="none";var y=$("#contestAlgo").DataTable({processing:!0,data:e.algos.contests,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"themes"},{data:"variety",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}},orderData:[3,2]},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"duration"},{data:"frequency"},{data:"divisions",render:function(B,L,V){if("display"==L)return"Non"==V.divisions?'<div> <span class="material-icons">clear</span> </div>':'<div> <span class="material-icons">done</span> </div> <div> '+V.divisions+" </div> "}},{data:"hacks",render:function(B,L,V){if("display"==L)return 1==V.hacks?'<span class="material-icons">done</span>':'<span class="material-icons">clear</span>'}}]});$("#contestAlgo").on("click","td",function(){var B=$(this).closest("tr"),L=y.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))});var T=$("#trainingAlgo").DataTable({processing:!0,data:e.algos.training,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"themes"},{data:"variety",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}},orderData:[3,2]},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}}]});$("#trainingAlgo").on("click","td",function(){var B=$(this).closest("tr"),L=T.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))});var A=$("#contestsOpti").DataTable({processing:!0,data:e.optimisation.contests,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"themes"},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"frequency"}]});$("#contestsOpti").on("click","td",function(){var B=$(this).closest("tr"),L=A.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))});var O=$("#trainingOpti").DataTable({processing:!0,data:e.optimisation.training,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"themes"},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}}]});$("#trainingOpti").on("click","td",function(){var B=$(this).closest("tr"),L=O.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))});var R=$("#contestsBot").DataTable({processing:!0,data:e["bot programming"].contests,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"frequency"}]});$("#contestsBot").on("click","td",function(){var B=$(this).closest("tr"),L=R.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))});var q=$("#contestsPuzzle").DataTable({processing:!0,data:e.puzzle.contests,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"frequency"}]});$("#contestsPuzzle").on("click","td",function(){var B=$(this).closest("tr"),L=q.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))});var Q=$("#contestsCtf").DataTable({processing:!0,data:e.ctf.training,columns:[{data:"place",render:function(B,L,V){if("display"==L)return-1==B?'<div><span class="material-icons">clear</span></div>':B<=3&&B>0?'<div><span class="material-icons">star</span></div>':"<div><span></span></div>"}},{data:"url",render:function(B,L,V){if("display"==L)return V.name||console.log(V),'<a href="'+B+'">'+V.name+"</a>"},orderData:[1,2]},{data:"quality",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"UI",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}},{data:"beginnerFriendly",createdCell:function(B,L,V,ve,Ue){for(var W=0;W<=5;W++)if(L<=W){$(B).css("background-color",E[W]);break}}}]});$("#contestsCtf").on("click","td",function(){var B=$(this).closest("tr"),L=Q.row(B);L.child.isShown()?(L.child.hide(),B.removeClass("shown")):(L.child(b(L.data())).show(),B.addClass("shown"))})})}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-prog-comp"]],decls:605,vars:0,consts:[[1,"sommaire"],[3,"click"],[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","principeAlgo"],["id","competitionAlgo"],[1,"compTableWrapper"],["id","contestAlgo",1,"display",2,"width","100%"],["id","entrainementAlgo"],["id","trainingAlgo",1,"display",2,"width","100%"],["id","principeOptimisation"],["id","competitionOptimisation"],["id","contestsOpti",1,"display",2,"width","100%"],["id","entrainementOptimisation"],["id","trainingOpti",1,"display",2,"width","100%"],["id","principeBotProgramming"],["id","competitionBotProgramming"],["id","contestsBot",1,"display",2,"width","100%"],["id","principeCTF"],["id","entrainementCTF"],["id","contestsCtf",1,"display",2,"width","100%"],["id","competitionPuzzle"],["id","contestsPuzzle",1,"display",2,"width","100%"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"ul"),a(3,"li"),a(4,"a",1),ge("click",function(){return r.goto(" #principeAlgo")}),o(5,"Algorithmique"),u(),a(6,"ul"),a(7,"li"),a(8,"a",1),ge("click",function(){return r.goto(" #principeAlgo")}),o(9," Principe "),u(),u(),a(10,"li"),a(11,"a",1),ge("click",function(){return r.goto(" #competitionAlgo")}),o(12," Comp\xe9tition "),u(),u(),a(13,"li"),a(14,"a",1),ge("click",function(){return r.goto(" #entrainementAlgo")}),o(15," Entrainement "),u(),u(),u(),u(),a(16,"li"),a(17,"a",1),ge("click",function(){return r.goto(" #principeOptimisation")}),o(18," Optimisation "),u(),a(19,"ul"),a(20,"li"),a(21,"a",1),ge("click",function(){return r.goto(" #principeOptimisation")}),o(22," Principe "),u(),u(),a(23,"li"),a(24,"a",1),ge("click",function(){return r.goto(" #competitionOptimisation")}),o(25," Comp\xe9tition "),u(),u(),a(26,"li"),a(27,"a",1),ge("click",function(){return r.goto(" #entrainementOptimisation")}),o(28," Entrainement "),u(),u(),u(),u(),a(29,"li"),a(30,"a",1),ge("click",function(){return r.goto(" #principeBotProgramming")}),o(31," Bot Programming "),u(),a(32,"ul"),a(33,"li"),a(34,"a",1),ge("click",function(){return r.goto(" #principeBotProgramming")}),o(35," Principe "),u(),u(),a(36,"li"),a(37,"a",1),ge("click",function(){return r.goto(" #competitionBotProgramming")}),o(38," Comp\xe9tition "),u(),u(),u(),u(),a(39,"li"),a(40,"a",1),ge("click",function(){return r.goto(" #principeCTF")}),o(41," CTF "),u(),a(42,"ul"),a(43,"li"),a(44,"a",1),ge("click",function(){return r.goto(" #principeCTF")}),o(45," Principe "),u(),u(),a(46,"li"),a(47,"a",1),ge("click",function(){return r.goto(" #entrainementCTF")}),o(48," Entrainement "),u(),u(),u(),u(),a(49,"li"),a(50,"a",1),ge("click",function(){return r.goto(" #competitionPuzzle")}),o(51," Puzzles "),u(),u(),u(),u(),a(52,"div",2),a(53,"div",3),a(54,"h1",4),o(55," Comparatif de sites de programmation comp\xe9titive "),u(),a(56,"div",5),o(57," Un petit article pour donner un aper\xe7u de l'horizon de la programmation comp\xe9titive. "),u(),a(58,"div"),o(59," Ce classement est purement subjectif, et n'est donc pas \xe0 prendre comme une v\xe9rit\xe9 absolue, vous \xeates donc conseill\xe9s \xe0 faire de vous m\xeame une opinion sur ces diff\xe9rents sites. "),u(),o(60," J'ai partag\xe9 cet article en 4 principales cat\xe9gories: "),a(61,"ul"),a(62,"li"),o(63,"Les comp\xe9titions algorithmiques"),u(),a(64,"li"),o(65,"Les comp\xe9titions d'optimisation"),u(),a(66,"li"),o(67,"Les comp\xe9titions de bot programming"),u(),a(68,"li"),o(69,"Les CTF (comp\xe9titions de cyber s\xe9curit\xe9)"),u(),u(),a(70,"div",5),o(71," J'ai principalement de l'exp\xe9rience dans le premier domaine, et suis \xe9galement fortement int\xe9ress\xe9 par la deuxi\xe8me et la quatri\xe8me cat\xe9gories. Le comparatif sera donc \xe0 prendre avec des pincettes principalement pour les 3 autres cat\xe9gories (surtout les 2 derni\xe8res). "),u(),a(72,"div",5),o(73," Note: Une grande partie des mots / expressions ont une d\xe9finition associ\xe9e pour rendre la lecture plus ais\xe9e."),d(74,"br"),o(75," Pour la d\xe9voiler, il suffit de passer le curseur sur un mot / une portion de phrase. "),u(),a(76,"h2"),o(77," Description des colonnes:"),u(),a(78,"ul"),a(79,"li"),a(80,"em"),o(81,"Themes:"),u(),u(),a(82,"ul"),a(83,"li"),o(84," Le "),a(85,"em"),o(86,"type de probl\xe8me"),u(),o(87," qui reviennent le plus souvent / les plus repr\xe9sentatifs de la plateforme"),u(),u(),a(88,"li"),a(89,"em"),o(90,"Qualit\xe9:"),u(),u(),a(91,"ul"),a(92,"li"),a(93,"em"),o(94,"Originalit\xe9"),u(),o(95," (est-ce un probl\xe8me d\xe9j\xe0 vu sur d'autres sites)"),u(),a(96,"li"),a(97,"em"),o(98,"Int\xe9r\xeat"),u(),o(99," (solution \xe9l\xe9gante, notions r\xe9utilisables)"),u(),a(100,"li"),o(101,' La solution attendue est "'),a(102,"em"),o(103,"math\xe9matiquement rigoureuse"),u(),o(104,"\" (complexit\xe9 prouvable en accord avec les contraintes, pas d'intuition sans d\xe9monstration) "),u(),u(),a(105,"li"),a(106,"em"),o(107,"UI:"),u(),u(),a(108,"ul"),a(109,"li"),o(110," Site "),a(111,"em"),o(112,"intuitif"),u(),u(),a(113,"li"),o(114," Exempt de bugs"),u(),a(115,"li"),o(116," Navigation simple"),u(),u(),a(117,"li"),a(118,"em"),o(119,"Accesible aux d\xe9butants:"),u(),u(),a(120,"ul"),a(121,"li"),o(122," Difficult\xe9 des probl\xe8mes les plus simples abordable"),u(),a(123,"li"),a(124,"em"),o(125,"Progression guid\xe9e"),u(),o(126," (tutoriels, cat\xe9gories de difficult\xe9)"),u(),u(),a(127,"li"),a(128,"em"),o(129,"Fr\xe9quence:"),u(),u(),a(130,"ul"),a(131,"li"),o(132," La fr\xe9quence des concours "),a(133,"b"),o(134,"SIGNATURES"),u(),o(135,' en moyenne . Ne prend pas en compte les concours "h\xe9berg\xe9s" (codechef, hackerearth...).'),u(),u(),u(),a(136,"h2"),o(137," Comp\xe9tition algorithmiques:"),u(),a(138,"h3",6),o(139," Principe"),u(),a(140,"div",5),o(141," Ces concours consistent en un set de probl\xe8me de th\xe9matiques vari\xe9s, pour lesquels doivent \xeatre d\xe9velopp\xe9s un code: "),a(142,"ul"),a(143,"li"),o(144," Le code prend "),a(145,"em"),o(146,"en entr\xe9e les donn\xe9es du probl\xe8mes"),u(),u(),a(147,"li"),o(148," Renvoie "),a(149,"em"),o(150,"en sortie la solution de ce probl\xe8me"),u(),u(),u(),d(151,"br"),o(152," Pour v\xe9rifier la validit\xe9 de votre code, celui-ci devra passer une \xe9norme batterie de tests, \xe9cartelant et torturant votre algorithme pour le pousser dans ses retranchements. "),u(),a(153,"h3"),o(154," L'odys\xe9e du disciple"),u(),o(155," Si vous d\xe9butez en algorithmique, je vous conseille de d\xe9couvrir le domaine de cette fa\xe7on: "),a(156,"ul"),a(157,"li"),o(158," Commencez par "),a(159,"em"),o(160,"France-ioi"),u(),o(161,", qui propose des cat\xe9gories de probl\xe8mes progressives, ainsi que des tutoriels interactifs pour d\xe9couvrir un langage. Les ressources sont de qualit\xe9, notamment du fait que celui-ci est g\xe9r\xe9 par l'organisation qui s'occupe de l'entrainement de l'\xe9quipe fran\xe7aise des olympiades d'algorithmiques (IOI). "),u(),a(162,"li"),o(163," Apr\xe8s avoir quelques bases, continuez avec "),a(164,"em"),o(165,"Prologin"),u(),o(166," et "),a(167,"em"),o(168,"Codeforces"),u(),o(169," (entrainement et / ou concours), pour vous essayer \xe0 des probl\xe8mes moins guid\xe9s "),u(),a(170,"li"),o(171," Si vous avez la fibre math\xe9matique, Project Euler pourra vous plaire "),u(),a(172,"li"),o(173," Plus dur, mais l\xe9gendaires, les concours annuels "),a(174,"em"),o(175,"Google Code Jam"),u(),o(176,", "),a(177,"em"),o(178,"Facebook Hacker Cup"),u(),o(179," et dans un autre registre "),a(180,"em"),o(181,"ISPCS"),u(),o(182," pourront int\xe9resser les plus motiv\xe9s "),u(),u(),o(183," Et surtout le plus important, "),a(184,"em"),o(185,"amusez-vous"),u(),o(186,"! Ne tombez pas dans le pi\xe8ge de viser \xe0 tout prix un classement / un rating particulier, appr\xe9ciez plut\xf4t l'\xe9bullition neuronale et la d\xe9couverte de nouvelles choses. "),a(187,"h3",7),o(188," Concours"),u(),a(189,"div",8),a(190,"table",9),a(191,"thead"),a(192,"tr"),a(193,"th"),o(194,"Favori"),u(),a(195,"th"),o(196,"Url"),u(),a(197,"th"),o(198,"Themes"),u(),a(199,"th"),o(200,"Vari\xe9t\xe9"),u(),a(201,"th"),o(202,"Qualit\xe9"),u(),a(203,"th"),o(204,"UI"),u(),a(205,"th"),o(206,"Accessible aux d\xe9butants"),u(),a(207,"th"),o(208,"~Dur\xe9e moyenne"),u(),a(209,"th"),o(210,"~Fr\xe9quence"),u(),a(211,"th"),o(212,"Divisions"),u(),a(213,"th"),o(214,"Hacks"),u(),u(),u(),a(215,"tfoot"),a(216,"tr"),a(217,"th"),o(218,"Favori"),u(),a(219,"th"),o(220,"Url"),u(),a(221,"th"),o(222,"Themes"),u(),a(223,"th"),o(224,"Vari\xe9t\xe9"),u(),a(225,"th"),o(226,"Qualit\xe9"),u(),a(227,"th"),o(228,"UI"),u(),a(229,"th"),o(230,"Accessible aux d\xe9butants"),u(),a(231,"th"),o(232,"~Dur\xe9e moyenne"),u(),a(233,"th"),o(234,"~Fr\xe9quence"),u(),a(235,"th"),o(236,"Divisions"),u(),a(237,"th"),o(238,"Hacks"),u(),u(),u(),u(),u(),a(239,"h3",10),o(240," Entrainement"),u(),a(241,"div",8),a(242,"table",11),a(243,"thead"),a(244,"tr"),a(245,"th"),o(246,"Favori"),u(),a(247,"th"),o(248,"Url"),u(),a(249,"th"),o(250,"Themes"),u(),a(251,"th"),o(252,"Vari\xe9t\xe9"),u(),a(253,"th"),o(254,"Qualit\xe9"),u(),a(255,"th"),o(256,"UI"),u(),a(257,"th"),o(258,"Accessible aux d\xe9butants"),u(),u(),u(),a(259,"tfoot"),a(260,"tr"),a(261,"th"),o(262,"Favori"),u(),a(263,"th"),o(264,"Url"),u(),a(265,"th"),o(266,"Themes"),u(),a(267,"th"),o(268,"Vari\xe9t\xe9"),u(),a(269,"th"),o(270,"Qualit\xe9"),u(),a(271,"th"),o(272,"UI"),u(),a(273,"th"),o(274,"Accessible aux d\xe9butants"),u(),u(),u(),u(),u(),a(275,"h2"),o(276," Optimisation"),u(),a(277,"h3",12),o(278," Principe"),u(),o(279," Contrairement aux concours algorithmiques, il n'existe "),a(280,"em"),o(281,'pas de solution "parfaite"'),u(),o(282," au probl\xe8me auquel vous vous confrontez: Le probl\xe8me est bien trop complexe pour qu'il soit possible d'explorer toutes les solutions et trouver la meilleur "),a(283,"ul"),a(284,"li"),o(285," Vous allez donc devoir ruser, et trouver la "),a(286,"em"),o(287,"meilleure solution possible"),u(),o(288,", et dans les d\xe9lais impartis "),u(),u(),o(289," Pour cela, vous pourrez utiliser un large \xe9ventail de techniques: "),a(290,"ul"),a(291,"li"),o(292," R\xe9solution optimales de sous-probl\xe8mes "),u(),a(293,"li"),o(294," Exploration cibl\xe9e / avec \xe9lagages "),u(),a(295,"li"),o(296," Heuristiques, adapt\xe9es ou non aux diff\xe9rentes entr\xe9es "),u(),a(297,"li"),o(298," Outils de type solvers "),u(),u(),a(299,"h3"),o(300," L'aventure de l'\xe9l\xe8ve"),u(),o(301," Il est pr\xe9f\xe9rable d'avoir quelques bases en algorithmie classique pour s'attaquer \xe0 de l'optimisation. En effet, les probl\xe8mes les plus \"simples\" que vous pourriez y rencontrer n\xe9cessiteront bien souvent un code assez cons\xe9quent, en terme de volume et d'intuition. Pour commencer, il me semble pr\xe9f\xe9rable de proc\xe9der ainsi: "),a(302,"ul"),a(303,"li"),o(304," D'abord avec "),a(305,"b"),o(306,"Codingame"),u(),o(307,", qui propose une interface graphique tr\xe8s intuitive. Cela permet \xe9galement d'avoir une visualisation graphique de l'application de ses intuitions / de son algorithme sur de r\xe9elles donn\xe9es. "),u(),a(308,"li"),o(309," Un petit peu de "),a(310,"b"),o(311,"primers.xyz"),u(),o(312," pour avoir une plus vaste id\xe9e du type de probl\xe8mes que l'on peut rencontrer "),u(),a(313,"li"),o(314," Et pour finir, on attaque les gros morceaux: "),a(315,"b"),o(316,"Azspcs"),u(),o(317," pour ceux qui aiment les math\xe9matiques, "),a(318,"b"),o(319,"Topcoder"),u(),o(320," pour ceux qui aiment la g\xe9om\xe9trie et les graphes (si vous rencontrez des difficult\xe9s avec le site, abandonnez et revenez tous les 4 mois en priant que ce site soit enfin redevenu d\xe9cent) "),u(),a(321,"li"),o(322," La version optimisation des concours l\xe9gendaires : "),a(323,"b"),o(324,"Google Hash Code"),u(),u(),u(),a(325,"h3",13),o(326," Comp\xe9titions"),u(),a(327,"div",8),a(328,"table",14),a(329,"thead"),a(330,"tr"),a(331,"th"),o(332,"Favori"),u(),a(333,"th"),o(334,"Url"),u(),a(335,"th"),o(336,"Themes"),u(),a(337,"th"),o(338,"Qualit\xe9"),u(),a(339,"th"),o(340,"UI"),u(),a(341,"th"),o(342,"Accessible aux d\xe9butants"),u(),a(343,"th"),o(344,"~Fr\xe9quence"),u(),u(),u(),a(345,"tfoot"),a(346,"tr"),a(347,"th"),o(348,"Favori"),u(),a(349,"th"),o(350,"Url"),u(),a(351,"th"),o(352,"Themes"),u(),a(353,"th"),o(354,"Qualit\xe9"),u(),a(355,"th"),o(356,"UI"),u(),a(357,"th"),o(358,"Accessible aux d\xe9butants"),u(),a(359,"th"),o(360,"~Fr\xe9quence"),u(),u(),u(),u(),u(),a(361,"h3",15),o(362," Entrainement"),u(),a(363,"div",8),a(364,"table",16),a(365,"thead"),a(366,"tr"),a(367,"th"),o(368,"Favori"),u(),a(369,"th"),o(370,"Url"),u(),a(371,"th"),o(372,"Themes"),u(),a(373,"th"),o(374,"Qualit\xe9"),u(),a(375,"th"),o(376,"UI"),u(),a(377,"th"),o(378,"Accessible aux d\xe9butants"),u(),u(),u(),a(379,"tfoot"),a(380,"tr"),a(381,"th"),o(382,"Favori"),u(),a(383,"th"),o(384,"Url"),u(),a(385,"th"),o(386,"Themes"),u(),a(387,"th"),o(388,"Qualit\xe9"),u(),a(389,"th"),o(390,"UI"),u(),a(391,"th"),o(392,"Accessible aux d\xe9butants"),u(),u(),u(),u(),u(),a(393,"h2"),o(394," Bot Programming"),u(),a(395,"h3",17),o(396," Principe"),u(),a(397,"div",5),a(398,"em"),o(399,"Alpha-Go"),u(),o(400,", "),a(401,"em"),o(402,"Stockfish"),u(),o(403,", "),a(404,"em"),o(405,"AlphaStar"),u(),o(406," (Starcraft) ... "),d(407,"br"),o(408,"Ces noms \xe9moustillent votre curiosit\xe9 intellectuelle et font \xe9merger un d\xe9sir de construire votre propre IA \xe0 d\xe9truire de la chair humaine sur le champs de bataille d'un jeu? "),d(409,"br"),o(410," Et bien vous avez (presque) lu les bons pixels, puisque les concours de bot programming consiste justement \xe0 coder une IA."),d(411,"br"),o(412," Mais \xe0 d\xe9faut de se battre contre la basse populace que repr\xe9sente l'humain, votre IA affrontera d'autres IA. "),u(),o(413," Les techniques utilis\xe9es ont beaucoup de choses en commun avec les challenges d'optimisation: "),a(414,"ul"),a(415,"li"),o(416," Ici aussi il n'existe "),a(417,"em"),o(418,"pas de solution parfaite"),u(),u(),a(419,"li"),o(420," De l'exploration de solutions, "),a(421,"em"),o(422,"stochastiquement"),u(),u(),a(423,"li"),o(424," Des "),a(425,"em"),o(426,"heuristiques"),u(),o(427,", des "),a(428,"em"),o(429,"constantes magiques"),u(),u(),u(),o(430," Mais le plus fun dans tout \xe7a, c'est que vous n'aurez pas \xe0 imaginer les matchs de vos IA \xe0 partir des r\xe9sultats: vous pouvez les regarder en live, comme vous regarderiez un stream Twitch, avec du skill en plus. "),a(431,"h3"),o(432," L'errance du noob"),u(),o(433," M\xeame principe que pour les challenges d'optimisation: ce genre de concours n\xe9cessitent d'avoir une assez bonne ma\xeetrise de son langage et des algorithmes de base (parcours de graphe, tris, intuitions logiques). Il existe tr\xe8s peu de sites de ce genre de concours: "),a(434,"ul"),a(435,"li"),a(436,"b"),o(437,"Codingame"),u(),o(438," est encore une fois le meilleur choix pour d\xe9buter, et ce pour les m\xeames raisons que pour les challenges d'optimisation (UI intuitive...)."),d(439,"br"),o(440," De plus, "),a(441,"b"),o(442,"Codingame"),u(),o(443," est bien plus vari\xe9: il y a beaucoup de concours de ce type, et possibilit\xe9 de jouer aux pr\xe9c\xe9dents jeux. La communaut\xe9 est tr\xe8s active et partage apr\xe8s concours les id\xe9es qu'ils ont pu avoir. "),u(),a(444,"li"),o(445," Je connais assez mal les autres sites, mais "),a(446,"b"),o(447,"Halite"),u(),o(448," et "),a(449,"b"),o(450,"BattleCode"),u(),o(451," sont dot\xe9s d'une solide r\xe9putation dans le domaine. "),d(452,"br"),o(453," Il est par contre plus compliqu\xe9 de tester et coder sa premi\xe8re IA (pas d'\xe9diteur en ligne, utilisation d'API / structure sp\xe9cifique). "),u(),u(),a(454,"h3",18),o(455," Contests"),u(),a(456,"div",8),a(457,"table",19),a(458,"thead"),a(459,"tr"),a(460,"th"),o(461,"Favori"),u(),a(462,"th"),o(463,"Url"),u(),a(464,"th"),o(465,"Qualit\xe9"),u(),a(466,"th"),o(467,"UI"),u(),a(468,"th"),o(469,"Accessible aux d\xe9butants"),u(),a(470,"th"),o(471,"~Fr\xe9quence"),u(),u(),u(),a(472,"tfoot"),a(473,"tr"),a(474,"th"),o(475,"Favori"),u(),a(476,"th"),o(477,"Url"),u(),a(478,"th"),o(479,"Qualit\xe9"),u(),a(480,"th"),o(481,"UI"),u(),a(482,"th"),o(483,"Accessible aux d\xe9butants"),u(),a(484,"th"),o(485,"~Fr\xe9quence"),u(),u(),u(),u(),u(),a(486,"h2"),o(487," Ctf"),u(),a(488,"h3",20),o(489," Principe"),u(),o(490," Les Ctf sont des concours ax\xe9s sur le terme de la cybers\xe9curit\xe9. Il s'agit de trouver et exploiter des failles dans des codes, des syst\xe8mes, des sites ou autres, pour trouver un message cach\xe9 qui permet de valider le challenge. "),d(491,"br"),o(492," Mais il ne s'agit pas que de \xe7a: les th\xe9matiques abord\xe9es sont tr\xe8s nombreuses, et englobent une vaste \xe9tendue de comp\xe9tences: "),a(493,"ul"),a(494,"li"),a(495,"em"),o(496,"Cryptography"),u(),o(497,": Vous avez en entr\xe9e des donn\xe9es encrypt\xe9es, qu'il faut d\xe9crypter. "),u(),a(498,"li"),a(499,"em"),o(500,"Steganography"),u(),o(501,": Lul "),u(),a(502,"li"),a(503,"em"),o(504,"Reverse"),u(),o(505,": Un code / un binaire en entr\xe9e, vous devez comprendre comment celui-ci fonctionne, pour en trouver la faille. "),u(),a(506,"li"),a(507,"em"),o(508,"Web"),u(),o(509,": Trouver une faille dans un site web "),u(),a(510,"li"),a(511,"em"),o(512,"Forensics"),u(),o(513,": Analyse de logs, d'un ensemble de fichiers pour en extraire des informations exploitables "),u(),a(514,"li"),a(515,"em"),o(516,"Hardware"),u(),o(517,": Exploitation de donn\xe9es de protocoles hardwares, analyse de circuits \xe9lectroniques "),u(),a(518,"li"),a(519,"em"),o(520,"Misc"),u(),o(521,": Puzzle de culture, de recherche g\xe9n\xe9rale. "),u(),a(522,"li"),a(523,"em"),o(524,"Algorithm"),u(),o(525,": Puzzles algorithmiques, parfois appliqu\xe9s \xe0 la s\xe9curit\xe9 "),u(),u(),a(526,"h3"),o(527," Le p\xe9riple du jeune scarab\xe9e"),u(),o(528," Je m'inspire d'experts en la mati\xe8re pour vous donner un exemple de progression, \xe9tant moi-m\xeame au d\xe9but de ce chemin: "),a(529,"ul"),a(530,"li"),a(531,"b"),o(532,"Root-me"),u(),o(533," et "),a(534,"b"),o(535,"Overthewire"),u(),o(536," pour d\xe9couvrir les principes de base "),u(),a(537,"li"),o(538," Faire ensuite des CTF et continuer \xe0 s'entra\xeener sur "),a(539,"b"),o(540,"pwnable.tw"),u(),u(),a(541,"li"),o(542," Le reste c'est du bruit :p "),u(),u(),a(543,"h3",21),o(544," Entrainement"),u(),a(545,"div",8),a(546,"table",22),a(547,"thead"),a(548,"tr"),a(549,"th"),o(550,"Favori"),u(),a(551,"th"),o(552,"Url"),u(),a(553,"th"),o(554,"Qualit\xe9"),u(),a(555,"th"),o(556,"UI"),u(),a(557,"th"),o(558,"Accessible aux d\xe9butants"),u(),u(),u(),a(559,"tfoot"),a(560,"tr"),a(561,"th"),o(562,"Favori"),u(),a(563,"th"),o(564,"Url"),u(),a(565,"th"),o(566,"Qualit\xe9"),u(),a(567,"th"),o(568,"UI"),u(),a(569,"th"),o(570,"Accessible aux d\xe9butants"),u(),u(),u(),u(),u(),a(571,"h2"),o(572," Puzzles (y'a pas que les bits dans la vie)"),u(),a(573,"h3",23),o(574," Contests"),u(),a(575,"div",8),a(576,"table",24),a(577,"thead"),a(578,"tr"),a(579,"th"),o(580,"Favori"),u(),a(581,"th"),o(582,"Url"),u(),a(583,"th"),o(584,"Qualit\xe9"),u(),a(585,"th"),o(586,"UI"),u(),a(587,"th"),o(588,"Accessible aux d\xe9butants"),u(),a(589,"th"),o(590,"~Fr\xe9quence"),u(),u(),u(),a(591,"tfoot"),a(592,"tr"),a(593,"th"),o(594,"Favori"),u(),a(595,"th"),o(596,"Url"),u(),a(597,"th"),o(598,"Qualit\xe9"),u(),a(599,"th"),o(600,"UI"),u(),a(601,"th"),o(602,"Accessible aux d\xe9butants"),u(),a(603,"th"),o(604,"~Fr\xe9quence"),u(),u(),u(),u(),u(),u(),u(),u())},styles:["@media only screen and (min-width: 1400px){[_nghost-%COMP%]     .compTableWrapper{display:flex;justify-content:center;margin-bottom:20px;margin-top:20px}}[_nghost-%COMP%]     .compTableWrapper table{background-color:#fff}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}}"]}),t})(),ly=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(z(Rr),z(Zt))},t.\u0275dir=Se({type:t}),t})(),Wu=(()=>{class t extends ly{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275dir=Se({type:t,features:[hn]}),t})();const ti=new Rt("NgValueAccessor"),ni=new Rt("NgValidators");let Gy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})();const mB={provide:ti,useExisting:yt(()=>Vv),multi:!0};function Ky(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Vv=(()=>{class t extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=this._getOptionId(e);null==r&&this.setProperty("selectedIndex",-1);const i=Ky(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275dir=Se({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&ge("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([mB]),hn]}),t})(),Zy=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ky(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(z(Zt),z(Rr),z(Vv,9))},t.\u0275dir=Se({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const vB={provide:ti,useExisting:yt(()=>Gv),multi:!0};function Qy(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Gv=(()=>{class t extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,l)=>{s._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const l=s;for(let c=0;c<l.length;c++){const f=this._getOptionValue(l[c].value);i.push(f)}}else{const l=r.options;for(let c=0;c<l.length;c++){const h=l[c];if(h.selected){const f=this._getOptionValue(h.value);i.push(f)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275dir=Se({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&ge("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([vB]),hn]}),t})(),e7=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Qy(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Qy(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(z(Zt),z(Rr),z(Gv,9))},t.\u0275dir=Se({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),TB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Gy]]}),t})(),c7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[TB]}),t})();class AB extends ke{constructor(n,e){super()}schedule(n,e=0){return this}}const Uf={setInterval(...t){const{delegate:n}=Uf;return((null==n?void 0:n.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:n}=Uf;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},d7={now:()=>(d7.delegate||Date).now(),delegate:void 0};class $d{constructor(n,e=$d.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}$d.now=d7.now;const h7=new class extends $d{constructor(n,e=$d.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class extends AB{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return Uf.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Uf.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ie(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),OB=h7;new it(ht);const PB=["addListener","removeListener"],RB=["addEventListener","removeEventListener"],FB=["on","off"];function gi(t,n,e,r){if(be(e)&&(r=e,e=void 0),r)return gi(t,n,e).pipe(tv(r));const[i,s]=function(t){return be(t.addEventListener)&&be(t.removeEventListener)}(t)?RB.map(l=>c=>t[l](n,c,e)):function(t){return be(t.addListener)&&be(t.removeListener)}(t)?PB.map(m7(t,n)):function(t){return be(t.on)&&be(t.off)}(t)?FB.map(m7(t,n)):[];if(!i&&pl(t))return Ut(l=>gi(l,n,e))(S(t));if(!i)throw new TypeError("Invalid event target");return new it(l=>{const c=(...h)=>l.next(1<h.length?h:h[0]);return i(c),()=>s(c)})}function m7(t,n){return e=>r=>t[e](n,r)}const{isArray:qB}=Array;function Oi(t){return ce((n,e)=>{S(t).subscribe(new Ce(e,()=>e.complete(),ht)),!e.closed&&n.subscribe(e)})}function $v(...t){const n=wu(t);return ce((e,r)=>{const i=t.length,s=new Array(i);let l=t.map(()=>!1),c=!1;for(let h=0;h<i;h++)S(t[h]).subscribe(new Ce(r,f=>{s[h]=f,!c&&!l[h]&&(l[h]=!0,(c=l.every(Bt))&&(l=null))},ht));e.subscribe(new Ce(r,h=>{if(c){const f=[h,...s];r.next(n?n(...f):f)}}))})}function v7(t,n){return n?e=>hf(n.pipe(Ri(1),ce((t,n)=>{t.subscribe(new Ce(n,ht))})),e.pipe(v7(t))):Ut((e,r)=>t(e,r).pipe(Ri(1),function(t){return me(()=>t)}(e)))}function E7(t,n=h7){const e=function(t=0,n,e=OB){let r=-1;return null!=n&&(fc(n)?e=n:r=n),new it(i=>{let s=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,n);return v7(()=>e)}const O0=["*"],sq=["defaultDayTemplate"],aq=["content"];function uq(t,n){if(1&t&&d(0,"div",7),2&t){const r=n.currentMonth,i=n.selected,s=n.disabled,l=n.focused;te("date",n.date)("currentMonth",r)("selected",i)("disabled",s)("focused",l)}}function lq(t,n){if(1&t&&(a(0,"div",12),o(1),u()),2&t){const e=ye().$implicit,r=ye(2);K(1),zr(" ",r.i18n.getMonthFullName(e.number,e.year)," ",r.i18n.getYearNumerals(e.year)," ")}}function cq(t,n){if(1&t&&(a(0,"div",9),pe(1,lq,2,2,"div",10),d(2,"ngb-datepicker-month",11),u()),2&t){const e=n.$implicit,r=ye(2);K(1),te("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),K(1),te("month",e.firstDate)}}function dq(t,n){1&t&&pe(0,cq,3,2,"div",8),2&t&&te("ngForOf",ye().model.months)}function hq(t,n){if(1&t){const e=Hn();a(0,"ngb-datepicker-navigation",13),ge("navigate",function(i){return jt(e),ye().onNavigateEvent(i)})("select",function(i){return jt(e),ye().onNavigateDateSelect(i)}),u()}if(2&t){const e=ye();te("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function fq(t,n){}function pq(t,n){}function mq(t,n){1&t&&d(0,"div",5)}function gq(t,n){if(1&t&&(a(0,"div",6),o(1),u()),2&t){const e=n.$implicit,r=ye(2);K(1),Oo(" ",r.i18n.getWeekdayShortName(e)," ")}}function vq(t,n){if(1&t&&(a(0,"div",2),pe(1,mq,1,0,"div",3),pe(2,gq,2,1,"div",4),u()),2&t){const e=ye();K(1),te("ngIf",e.datepicker.showWeekNumbers),K(1),te("ngForOf",e.viewModel.weekdays)}}function Eq(t,n){if(1&t&&(a(0,"div",11),o(1),u()),2&t){const e=ye(2).$implicit,r=ye();K(1),lo(r.i18n.getWeekNumerals(e.number))}}function _q(t,n){}function bq(t,n){if(1&t&&pe(0,_q,0,0,"ng-template",14),2&t){const e=ye().$implicit;te("ngTemplateOutlet",ye(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function yq(t,n){if(1&t){const e=Hn();a(0,"div",12),ge("click",function(i){const l=jt(e).$implicit;return ye(3).doSelect(l),i.preventDefault()}),pe(1,bq,1,2,"ng-template",13),u()}if(2&t){const e=n.$implicit;Ct("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),te("tabindex",e.tabindex),Ft("aria-label",e.ariaLabel),K(1),te("ngIf",!e.hidden)}}function xq(t,n){if(1&t&&(a(0,"div",8),pe(1,Eq,2,1,"div",9),pe(2,yq,2,9,"div",10),u()),2&t){const e=ye().$implicit,r=ye();K(1),te("ngIf",r.datepicker.showWeekNumbers),K(1),te("ngForOf",e.days)}}function Cq(t,n){1&t&&pe(0,xq,3,2,"div",7),2&t&&te("ngIf",!n.$implicit.collapsed)}function Sq(t,n){if(1&t){const e=Hn();a(0,"ngb-datepicker-navigation-select",7),ge("select",function(i){return jt(e),ye().select.emit(i)}),u()}if(2&t){const e=ye();te("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function Dq(t,n){1&t&&d(0,"div",0)}function wq(t,n){1&t&&d(0,"div",0)}function Tq(t,n){if(1&t&&(pe(0,Dq,1,0,"div",9),a(1,"div",10),o(2),u(),pe(3,wq,1,0,"div",9)),2&t){const e=n.$implicit,r=n.index,i=ye(2);te("ngIf",r>0),K(2),zr(" ",i.i18n.getMonthFullName(e.number,e.year)," ",i.i18n.getYearNumerals(e.year)," "),K(1),te("ngIf",r!==i.months.length-1)}}function Aq(t,n){1&t&&pe(0,Tq,4,4,"ng-template",8),2&t&&te("ngForOf",ye().months)}const Mq=["ngbDatepickerDayView",""],Nq=["month"],Oq=["year"];function Iq(t,n){if(1&t&&(a(0,"option",5),o(1),u()),2&t){const e=n.$implicit,r=ye();te("value",e),Ft("aria-label",r.i18n.getMonthFullName(e,null==r.date?null:r.date.year)),K(1),lo(r.i18n.getMonthShortName(e,null==r.date?null:r.date.year))}}function Pq(t,n){if(1&t&&(a(0,"option",5),o(1),u()),2&t){const e=n.$implicit,r=ye();te("value",e),K(1),lo(r.i18n.getYearNumerals(e))}}const Rq=["dialog"],Fq=["ngbNavOutlet",""];function kq(t,n){}const Lq=function(t){return{$implicit:t}};function Bq(t,n){if(1&t&&(a(0,"div",2),pe(1,kq,0,0,"ng-template",3),u()),2&t){const e=ye().$implicit,r=ye();Ct("active",e.active),te("id",e.panelDomId),Ft("role",r.paneRole?r.paneRole:r.nav.roles?"tabpanel":void 0)("aria-labelledby",e.domId),K(1),te("ngTemplateOutlet",null==e.contentTpl?null:e.contentTpl.templateRef)("ngTemplateOutletContext",Ed(7,Lq,e.active))}}function qq(t,n){1&t&&pe(0,Bq,2,9,"div",1),2&t&&te("ngIf",n.$implicit.isPanelInDom())}function fU(t,n){1&t&&o(0),2&t&&lo(100===n.fill?"\u2605":"\u2606")}function pU(t,n){}function mU(t,n){if(1&t){const e=Hn();a(0,"span",2),o(1),u(),a(2,"span",3),ge("mouseenter",function(){const s=jt(e).index;return ye().enter(s+1)})("click",function(){const s=jt(e).index;return ye().handleClick(s+1)}),pe(3,pU,0,0,"ng-template",4),u()}if(2&t){const e=n.index,r=ye(),i=Hr(1);K(1),Oo("(",e<r.nextRate?"*":" ",")"),K(1),m0("cursor",r.readonly||r.disabled?"default":"pointer"),K(1),te("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[e])}}function yU(t,n){if(1&t){const e=Hn();a(0,"button",11),ge("click",function(){jt(e);const i=ye();return i.changeHour(i.hourStep)}),d(1,"span",12),a(2,"span",13),fi(3,14),u(),u()}if(2&t){const e=ye();Ct("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),te("disabled",e.disabled)}}function xU(t,n){if(1&t){const e=Hn();a(0,"button",11),ge("click",function(){jt(e);const i=ye();return i.changeHour(-i.hourStep)}),d(1,"span",15),a(2,"span",13),fi(3,16),u(),u()}if(2&t){const e=ye();Ct("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),te("disabled",e.disabled)}}function CU(t,n){if(1&t){const e=Hn();a(0,"button",11),ge("click",function(){jt(e);const i=ye();return i.changeMinute(i.minuteStep)}),d(1,"span",12),a(2,"span",13),fi(3,17),u(),u()}if(2&t){const e=ye();Ct("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),te("disabled",e.disabled)}}function SU(t,n){if(1&t){const e=Hn();a(0,"button",11),ge("click",function(){jt(e);const i=ye();return i.changeMinute(-i.minuteStep)}),d(1,"span",15),a(2,"span",13),fi(3,18),u(),u()}if(2&t){const e=ye();Ct("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),te("disabled",e.disabled)}}function DU(t,n){1&t&&(a(0,"div",5),o(1,":"),u())}function wU(t,n){if(1&t){const e=Hn();a(0,"button",11),ge("click",function(){jt(e);const i=ye(2);return i.changeSecond(i.secondStep)}),d(1,"span",12),a(2,"span",13),fi(3,21),u(),u()}if(2&t){const e=ye(2);Ct("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),te("disabled",e.disabled)}}function TU(t,n){if(1&t){const e=Hn();a(0,"button",11),ge("click",function(){jt(e);const i=ye(2);return i.changeSecond(-i.secondStep)}),d(1,"span",15),a(2,"span",13),fi(3,22),u(),u()}if(2&t){const e=ye(2);Ct("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),te("disabled",e.disabled)}}function AU(t,n){if(1&t){const e=Hn();a(0,"div",19),pe(1,wU,4,7,"button",3),a(2,"input",20),ge("change",function(i){return jt(e),ye().updateSecond(i.target.value)})("input",function(i){return jt(e),ye().formatInput(i.target)})("keydown.ArrowUp",function(i){jt(e);const s=ye();return s.changeSecond(s.secondStep),i.preventDefault()})("keydown.ArrowDown",function(i){jt(e);const s=ye();return s.changeSecond(-s.secondStep),i.preventDefault()}),u(),pe(3,TU,4,7,"button",3),u()}if(2&t){const e=ye();K(1),te("ngIf",e.spinners),K(1),Ct("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),te("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),K(1),te("ngIf",e.spinners)}}function MU(t,n){1&t&&d(0,"div",5)}function NU(t,n){if(1&t&&(function(t,n,e){const r=M(),i=qt(),s=t+20,l=i.firstCreatePass?function(t,n,e,r,i){const s=n.consts,l=So(s,r),c=Kl(n,t,8,"ng-container",l);return null!==l&&Sh(c,l,!0),Tm(n,e,c,So(s,i)),null!==n.queries&&n.queries.elementStart(n,c),c}(s,i,r,n,e):i.data[s];Ki(l,!0);const c=r[s]=r[11].createComment("");vh(i,r,c,l),di(c,r),Ou(l)&&(Dm(i,r,l),X8(i,l,r)),null!=e&&wm(r,l)}(0),fi(1,27),function(){let t=Qn();const n=qt();Rl()?Lc():(t=t.parent,Ki(t,!1)),n.firstCreatePass&&(mn(n,t),Dc(t)&&n.queries.elementEnd(t))}()),2&t){const e=ye(2);K(1),md(e.i18n.getAfternoonPeriod()),Lh(1)}}function OU(t,n){1&t&&fi(0,28),2&t&&(md(ye(2).i18n.getMorningPeriod()),Lh(0))}function IU(t,n){if(1&t){const e=Hn();a(0,"div",23),a(1,"button",24),ge("click",function(){return jt(e),ye().toggleMeridian()}),pe(2,NU,2,1,"ng-container",25),pe(3,OU,1,1,"ng-template",null,26,Kr),u(),u()}if(2&t){const e=Hr(4),r=ye();K(1),Ct("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),te("disabled",r.disabled),K(1),te("ngIf",(null==r.model?null:r.model.hour)>=12)("ngIfElse",e)}}function kU(t,n){if(1&t&&(a(0,"span"),o(1),u()),2&t){const e=ye().$implicit;Ao(ye().highlightClass),K(1),lo(e)}}function LU(t,n){1&t&&o(0),2&t&&lo(ye().$implicit)}function BU(t,n){if(1&t&&(pe(0,kU,2,3,"span",1),pe(1,LU,1,1,"ng-template",null,2,Kr)),2&t){const e=n.odd,r=Hr(2);te("ngIf",e)("ngIfElse",r)}}function qU(t,n){if(1&t&&d(0,"ngb-highlight",2),2&t){const r=n.term;te("result",(0,n.formatter)(n.result))("term",r)}}function UU(t,n){}const HU=function(t,n,e){return{result:t,term:n,formatter:e}};function zU(t,n){if(1&t){const e=Hn();a(0,"button",3),ge("mouseenter",function(){const s=jt(e).index;return ye().markActive(s)})("click",function(){const s=jt(e).$implicit;return ye().select(s)}),pe(1,UU,0,0,"ng-template",4),u()}if(2&t){const e=n.$implicit,r=n.index,i=ye(),s=Hr(1);Ct("active",r===i.activeIdx),te("id",i.id+"-"+r),K(1),te("ngTemplateOutlet",i.resultTemplate||s)("ngTemplateOutletContext",ag(5,HU,e,i.term,i.formatter))}}function ri(t){return parseInt(`${t}`,10)}function Yd(t){return null!=t?`${t}`:""}function Hf(t){return"string"==typeof t}function _r(t){return!isNaN(ri(t))}function nr(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function la(t){return null!=t}function I0(t){return _r(t)?`0${t}`.slice(-2):""}function _7(t,n){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(n)>=0}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});class ca{constructor(){this.closeOthers=!1}}ca.\u0275fac=function(n){return new(n||ca)},ca.\u0275prov=oe({token:ca,factory:ca.\u0275fac,providedIn:"root"}),ca.ngInjectableDef=oe({factory:function(){return new ca},token:ca,providedIn:"root"});let S7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class da{constructor(){this.dismissible=!0,this.type="warning"}}da.\u0275fac=function(n){return new(n||da)},da.\u0275prov=oe({token:da,factory:da.\u0275fac,providedIn:"root"}),da.ngInjectableDef=oe({factory:function(){return new da},token:da,providedIn:"root"});let D7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})(),Kv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,r){2&e&&Ct("btn",!0)("active",r.active)("disabled",r.disabled)("focus",r.focused)}}),t})();const $U={provide:ti,useExisting:yt(()=>w7),multi:!0};let w7=(()=>{class t{constructor(e,r){this._label=e,this._cd=r,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=i=>{},this.onTouched=()=>{}}set focused(e){this._label.focused=e,e||this.onTouched()}onInputChange(e){const r=e.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(r),this.onTouched(),this.writeValue(r)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._label.disabled=e}writeValue(e){this.checked=e===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(z(Kv),z(Ai))},t.\u0275dir=Se({type:t,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(e,r){1&e&&ge("change",function(s){return r.onInputChange(s)})("focus",function(){return r.focused=!0})("blur",function(){return r.focused=!1}),2&e&&qi("checked",r.checked)("disabled",r.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[Qt([$U])]}),t})();const YU={provide:ti,useExisting:yt(()=>Zv),multi:!0};let WU=0,Zv=(()=>{class t{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+WU++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[Qt([YU])]}),t})(),T7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})();class ha{constructor(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}}ha.\u0275fac=function(n){return new(n||ha)},ha.\u0275prov=oe({token:ha,factory:ha.\u0275fac,providedIn:"root"}),ha.ngInjectableDef=oe({factory:function(){return new ha},token:ha,providedIn:"root"});let N7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})(),ZU=(()=>{class t{constructor(){this.collapsed=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["","ngbCollapse",""]],hostVars:4,hostBindings:function(e,r){2&e&&Ct("collapse",!0)("show",!r.collapsed)},inputs:{collapsed:["ngbCollapse","collapsed"]},exportAs:["ngbCollapse"]}),t})(),O7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})();class Gr{static from(n){return n instanceof Gr?n:n?new Gr(n.year,n.month,n.day):null}constructor(n,e,r){this.year=nr(n)?n:null,this.month=nr(e)?e:null,this.day=nr(r)?r:null}equals(n){return n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function I7(t){return new Gr(t.getFullYear(),t.getMonth()+1,t.getDate())}function Vf(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}function P7(){return new QU}class _s{}_s.\u0275fac=function(n){return new(n||_s)},_s.\u0275prov=oe({token:_s,factory:function(){return P7()},providedIn:"root"}),_s.ngInjectableDef=oe({factory:P7,token:_s,providedIn:"root"});let QU=(()=>{class t extends _s{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,r="d",i=1){let s=Vf(e),l=!0,c=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+i);break;case"m":c+=i,s.setMonth(c),c%=12,c<0&&(c+=12);break;case"d":s.setDate(s.getDate()+i),l=!1;break;default:return e}return l&&s.getMonth()!==c&&s.setDate(0),I7(s)}getPrev(e,r="d",i=1){return this.getNext(e,r,-i)}getWeekday(e){let i=Vf(e).getDay();return 0===i?7:i}getWeekNumber(e,r){7===r&&(r=0);const l=Vf(e[(11-r)%7]);l.setDate(l.getDate()+4-(l.getDay()||7));const c=l.getTime();return l.setMonth(0),l.setDate(1),Math.floor(Math.round((c-l.getTime())/864e5)/7)+1}getToday(){return I7(new Date)}isValid(e){if(!(e&&nr(e.year)&&nr(e.month)&&nr(e.day)&&0!==e.year))return!1;const r=Vf(e);return!isNaN(r.getTime())&&r.getFullYear()===e.year&&r.getMonth()+1===e.month&&r.getDate()===e.day}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function P0(t,n){return!function(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function R7(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function Gf(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t}function Qv(t,n){const{minDate:e,maxDate:r,disabled:i,markDisabled:s}=n;return!(!la(t)||i||s&&s(t,{year:t.year,month:t.month})||e&&t.before(e)||r&&t.after(r))}function F7(t){return new lH(t)}class no{getDayNumerals(n){return`${n.day}`}getWeekNumerals(n){return`${n}`}getYearNumerals(n){return`${n}`}}no.\u0275fac=function(n){return new(n||no)},no.\u0275prov=oe({token:no,factory:function(n){let e=null;return e=n?new n:F7(we(Ui)),e},providedIn:"root"}),no.ngInjectableDef=oe({factory:function(){return F7(we(Ui))},token:no,providedIn:"root"});let lH=(()=>{class t extends no{constructor(e){super(),this._locale=e;const r=wb(e,zn.Standalone,Nt.Short);this._weekdaysShort=r.map((i,s)=>r[(s+1)%7]),this._monthsShort=Fg(e,zn.Standalone,Nt.Abbreviated),this._monthsFull=Fg(e,zn.Standalone,Nt.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]}getMonthShortName(e){return this._monthsShort[e-1]}getMonthFullName(e){return this._monthsFull[e-1]}getDayAriaLabel(e){return Ab(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(we(Ui))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),e4=(()=>{class t{constructor(e,r){this._calendar=e,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(nr(i=ri(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(nr(i=ri(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const s=this.toValidDate(i,null);if(P0(this._state.maxDate,s))return{maxDate:s}},minDate:i=>{const s=this.toValidDate(i,null);if(P0(this._state.minDate,s))return{minDate:s}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}}},this._model$=new ne,this._dateSelect$=new ne,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(Vr(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Vr(e=>null!==e))}set(e){let r=Object.keys(e).map(i=>this._VALIDATORS[i](e[i])).reduce((i,s)=>Object.assign({},i,s),{});Object.keys(r).length>0&&this._nextState(r)}focus(e){!this._state.disabled&&this._calendar.isValid(e)&&P0(this._state.focusDate,e)&&this._nextState({focusDate:e})}focusSelect(){Qv(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const r=this.toValidDate(e,this._calendar.getToday());!this._state.disabled&&(!this._state.firstDate||R7(this._state.firstDate,e))&&this._nextState({firstDate:r})}select(e,r={}){const i=this.toValidDate(e,null);this._state.disabled||(P0(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&Qv(i,this._state)&&this._dateSelect$.next(i))}toValidDate(e,r){const i=Gr.from(e);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(e){for(let r of this._state.months)if(e.month===r.number&&e.year===r.year)return r;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const r=this._updateState(e);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(e){const{months:r,displayMonths:i,selectedDate:s,focusDate:l,focusVisible:c,disabled:h,outsideDays:f}=e;e.months.forEach(v=>{v.weeks.forEach(E=>{E.days.forEach(b=>{l&&(b.context.focused=l.equals(b.date)&&c),b.tabindex=!h&&b.date.equals(l)&&l.month===v.number?0:-1,!0===h&&(b.context.disabled=!0),void 0!==s&&(b.context.selected=null!==s&&s.equals(b.date)),v.number!==b.date.month&&(b.hidden="hidden"===f||"collapsed"===f||i>1&&b.date.after(r[0].firstDate)&&b.date.before(r[i-1].lastDate))})})})}_updateState(e){const r=Object.assign({},this._state,e);let i=r.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(r.minDate,r.maxDate),r.focusDate=Gf(r.focusDate,r.minDate,r.maxDate),r.firstDate=Gf(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in e&&(r.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in e||"focusDate"in e&&(r.focusDate=Gf(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in e&&(r.firstDate=Gf(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const l=function(t,n,e,r,i){const{displayMonths:s,months:l}=e,c=l.splice(0,l.length);return Array.from({length:s},(f,v)=>{const E=Object.assign(t.getNext(n,"m",v),{day:1});if(l[v]=null,!i){const b=c.findIndex(y=>y.firstDate.equals(E));-1!==b&&(l[v]=c.splice(b,1)[0])}return E}).forEach((f,v)=>{null===l[v]&&(l[v]=function(t,n,e,r,i={}){const{dayTemplateData:s,minDate:l,maxDate:c,firstDayOfWeek:h,markDisabled:f,outsideDays:v}=e,E=t.getToday();i.firstDate=null,i.lastDate=null,i.number=n.month,i.year=n.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],n=function(t,n,e){const r=t.getDaysPerWeek(),i=new Gr(n.year,n.month,1),s=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+s-e)%r)}(t,n,h);for(let b=0;b<t.getWeeksPerMonth();b++){let y=i.weeks[b];y||(y=i.weeks[b]={number:0,days:[],collapsed:!0});const T=y.days;for(let A=0;A<t.getDaysPerWeek();A++){0===b&&(i.weekdays[A]=t.getWeekday(n));const O=new Gr(n.year,n.month,n.day),R=t.getNext(O),q=r.getDayAriaLabel(O);let Q=!!(l&&O.before(l)||c&&O.after(c));!Q&&f&&(Q=f(O,{month:i.number,year:i.year}));let B=O.equals(E),L=s?s(O,{month:i.number,year:i.year}):void 0;null===i.firstDate&&O.month===i.number&&(i.firstDate=O),O.month===i.number&&R.month!==i.number&&(i.lastDate=O);let V=T[A];V||(V=T[A]={}),V.date=O,V.context=Object.assign(V.context||{},{$implicit:O,date:O,data:L,currentMonth:i.number,currentYear:i.year,disabled:Q,focused:!1,selected:!1,today:B}),V.tabindex=-1,V.ariaLabel=q,V.hidden=!1,n=R}y.number=t.getWeekNumber(T.map(A=>A.date),h),y.collapsed="collapsed"===v&&T[0].date.month!==i.number&&T[T.length-1].date.month!==i.number}return i}(t,f,e,r,c.shift()||{}))}),l}(this._calendar,i,r,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);r.months=l,r.firstDate=l.length>0?l[0].firstDate:void 0,r.lastDate=l.length>0?l[l.length-1].lastDate:void 0,"selectedDate"in e&&!Qv(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in e&&(void 0===r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const c=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,h=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in e||"maxDate"in e||0===r.selectBoxes.years.length||c)&&(r.selectBoxes.years=function(t,n,e){if(!t)return[];const r=n?Math.max(n.year,t.year-500):t.year-10,s=(e?Math.min(e.year,t.year+500):t.year+10)-r+1,l=Array(s);for(let c=0;c<s;c++)l[c]=r+c;return l}(r.firstDate,r.minDate,r.maxDate)),("minDate"in e||"maxDate"in e||0===r.selectBoxes.months.length||c)&&(r.selectBoxes.months=function(t,n,e,r){if(!n)return[];let i=t.getMonths(n.year);if(e&&n.year===e.year){const s=i.findIndex(l=>l===e.month);i=i.slice(s)}if(r&&n.year===r.year){const s=i.findIndex(l=>l===r.month);i=i.slice(0,s+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(h||c||"minDate"in e||"maxDate"in e||"disabled"in e)&&(r.prevDisabled=r.disabled||function(t,n,e){const r=Object.assign(t.getPrev(n,"m"),{day:1});return e&&(r.year===e.year&&r.month<e.month||r.year<e.year&&1===e.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function(t,n,e){const r=Object.assign(t.getNext(n,"m"),{day:1});return e&&r.after(e)}(this._calendar,r.lastDate,r.maxDate))}return r}}return t.\u0275fac=function(e){return new(e||t)(we(_s),we(no))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Xu={PREV:0,NEXT:1};Xu[Xu.PREV]="PREV",Xu[Xu.NEXT]="NEXT";class Fo{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}function k7(){return new cH}Fo.\u0275fac=function(n){return new(n||Fo)},Fo.\u0275prov=oe({token:Fo,factory:Fo.\u0275fac,providedIn:"root"}),Fo.ngInjectableDef=oe({factory:function(){return new Fo},token:Fo,providedIn:"root"});class fa{}fa.\u0275fac=function(n){return new(n||fa)},fa.\u0275prov=oe({token:fa,factory:function(){return k7()},providedIn:"root"}),fa.ngInjectableDef=oe({factory:k7,token:fa,providedIn:"root"});let cH=(()=>{class t extends fa{fromModel(e){return e&&nr(e.year)&&nr(e.month)&&nr(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&nr(e.year)&&nr(e.month)&&nr(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const dH={provide:ti,useExisting:yt(()=>t4),multi:!0};let hH=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(z(_n))},t.\u0275dir=Se({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]}),t})(),t4=(()=>{class t{constructor(e,r,i,s,l,c,h,f){this._service=e,this._calendar=r,this.i18n=i,this._elementRef=c,this._ngbDateAdapter=h,this._ngZone=f,this._destroyed$=new ne,this._publicState={},this.navigate=new nt,this.dateSelect=new nt,this.select=this.dateSelect,this.onChange=v=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(v=>this[v]=s[v]),e.dateSelect$.pipe(Oi(this._destroyed$)).subscribe(v=>{this.dateSelect.emit(v)}),e.model$.pipe(Oi(this._destroyed$)).subscribe(v=>{const E=v.firstDate,b=this.model?this.model.firstDate:null;this._publicState={maxDate:v.maxDate,minDate:v.minDate,firstDate:v.firstDate,lastDate:v.lastDate,focusedDate:v.focusDate,months:v.months.map(R=>R.firstDate)};let y=!1;if(!E.equals(b)&&(this.navigate.emit({current:b?{year:b.year,month:b.month}:null,next:{year:E.year,month:E.month},preventDefault:()=>y=!0}),y&&null!==b))return void this._service.open(b);const T=v.selectedDate,A=v.focusDate,O=this.model?this.model.focusDate:null;this.model=v,P0(T,this._controlValue)&&(this._controlValue=T,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(T))),P0(A,O)&&O&&v.focusVisible&&this.focus(),l.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(Gr.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Ri(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(Gr.from(e?e.day?e:Object.assign({},e,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=gi(this._contentEl.nativeElement,"focusin"),r=gi(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;Tu(e,r).pipe(Vr(({target:s,relatedTarget:l})=>!(_7(s,"ngb-dp-day")&&_7(l,"ngb-dp-day")&&i.contains(s)&&i.contains(l))),Oi(this._destroyed$)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===s})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(r=>e[r]=this[r]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(i=>i in e).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in e){const{currentValue:i,previousValue:s}=e.startDate;R7(s,i)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Xu.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Xu.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=Gr.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(z(e4),z(_s),z(no),z(Fo),z(Ai),z(Zt),z(fa),z(en))},t.\u0275cmp=_e({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(e,r,i){if(1&e&&On(i,hH,7),2&e){let s;on(s=sn())&&(r.contentTemplate=s.first)}},viewQuery:function(e,r){if(1&e&&(y0(sq,7),y0(aq,7)),2&e){let i;on(i=sn())&&(r._defaultDayTemplate=i.first),on(i=sn())&&(r._contentEl=i.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect",select:"select"},exportAs:["ngbDatepicker"],features:[Qt([dH,e4]),Kt],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,r){if(1&e&&(pe(0,uq,1,5,"ng-template",null,0,Kr),pe(2,dq,1,1,"ng-template",null,1,Kr),a(4,"div",2),pe(5,hq,1,7,"ngb-datepicker-navigation",3),u(),a(6,"div",4,5),pe(8,fq,0,0,"ng-template",6),u(),pe(9,pq,0,0,"ng-template",6)),2&e){const i=Hr(3);K(5),te("ngIf","none"!==r.navigation),K(1),Ct("ngb-dp-months",!r.contentTemplate),K(2),te("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),K(1),te("ngTemplateOutlet",r.footerTemplate)}},directives:function(){return[pi,po,CH,Zr,fH,pH]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),t})();const et={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};et[et.Tab]="Tab",et[et.Enter]="Enter",et[et.Escape]="Escape",et[et.Space]="Space",et[et.PageUp]="PageUp",et[et.PageDown]="PageDown",et[et.End]="End",et[et.Home]="Home",et[et.ArrowLeft]="ArrowLeft",et[et.ArrowUp]="ArrowUp",et[et.ArrowRight]="ArrowRight",et[et.ArrowDown]="ArrowDown";class pa{processKey(n,e){const{state:r,calendar:i}=e;switch(n.which){case et.PageUp:e.focusDate(i.getPrev(r.focusedDate,n.shiftKey?"y":"m",1));break;case et.PageDown:e.focusDate(i.getNext(r.focusedDate,n.shiftKey?"y":"m",1));break;case et.End:e.focusDate(n.shiftKey?r.maxDate:r.lastDate);break;case et.Home:e.focusDate(n.shiftKey?r.minDate:r.firstDate);break;case et.ArrowLeft:e.focusDate(i.getPrev(r.focusedDate,"d",1));break;case et.ArrowUp:e.focusDate(i.getPrev(r.focusedDate,"d",i.getDaysPerWeek()));break;case et.ArrowRight:e.focusDate(i.getNext(r.focusedDate,"d",1));break;case et.ArrowDown:e.focusDate(i.getNext(r.focusedDate,"d",i.getDaysPerWeek()));break;case et.Enter:case et.Space:e.focusSelect();break;default:return}n.preventDefault(),n.stopPropagation()}}pa.\u0275fac=function(n){return new(n||pa)},pa.\u0275prov=oe({token:pa,factory:pa.\u0275fac,providedIn:"root"}),pa.ngInjectableDef=oe({factory:function(){return new pa},token:pa,providedIn:"root"});let fH=(()=>{class t{constructor(e,r,i,s){this.i18n=e,this.datepicker=r,this._keyboardService=i,this._service=s}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return t.\u0275fac=function(e){return new(e||t)(z(no),z(t4),z(pa),z(e4))},t.\u0275cmp=_e({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,r){1&e&&ge("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(pe(0,vq,3,2,"div",0),pe(1,Cq,1,1,"ng-template",1)),2&e&&(te("ngIf",r.datepicker.showWeekdays),K(1),te("ngForOf",r.viewModel.weeks))},directives:[pi,Zr,po],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),t})(),pH=(()=>{class t{constructor(e){this.i18n=e,this.navigation=Xu,this.months=[],this.navigate=new nt,this.select=new nt}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(z(no))},t.\u0275cmp=_e({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let n,e,r,i;return n=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,e=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,r=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,i=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",n,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,r){1&e&&(a(0,"div",0),a(1,"button",1),ge("click",function(s){return r.onClickPrev(s)}),d(2,"span",2),u(),u(),pe(3,Sq,1,4,"ngb-datepicker-navigation-select",3),pe(4,Aq,1,1,void 0,4),a(5,"div",5),a(6,"button",6),ge("click",function(s){return r.onClickNext(s)}),d(7,"span",2),u(),u()),2&e&&(K(1),te("disabled",r.prevDisabled),K(2),te("ngIf",r.showSelect),K(1),te("ngIf",!r.showSelect),K(2),te("disabled",r.nextDisabled))},directives:function(){return[pi,SH,Zr]},styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),t})();const jf=(t,n)=>!!n&&n.some(e=>e.contains(t)),L7=(t,n)=>!n||null!=function(t,n){return n?t.closest(n):null}(t,n),mH="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Wd(t,n,e,r,i,s,l,c){e&&t.runOutsideAngular((t=>mH?()=>setTimeout(()=>t(),100):t)(()=>{const f=gi(n,"keydown").pipe(Oi(i),Vr(b=>b.which===et.Escape),mi(b=>b.preventDefault())),v=gi(n,"mousedown").pipe(me(b=>{const y=b.target;return 2!==b.button&&!jf(y,l)&&("inside"===e?jf(y,s)&&L7(y,c):"outside"===e?!jf(y,s):L7(y,c)||!jf(y,s))}),Oi(i));(function(...t){return 1===(t=function(t){return 1===t.length&&qB(t[0])?t[0]:t}(t)).length?S(t[0]):new it(function(t){return n=>{let e=[];for(let r=0;e&&!n.closed&&r<t.length;r++)e.push(S(t[r]).subscribe(new Ce(n,i=>{if(e){for(let s=0;s<e.length;s++)s!==r&&e[s].unsubscribe();e=null}n.next(i)})))}}(t))})([f,gi(n,"mouseup").pipe($v(v),Vr(([b,y])=>y),E7(0),Oi(i))]).subscribe(()=>t.run(r))}))}const vH=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function B7(t){const n=Array.from(t.querySelectorAll(vH)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const q7=(t,n,e,r=!1)=>{t.runOutsideAngular(()=>{const i=gi(n,"focusin").pipe(Oi(e),me(s=>s.target));gi(n,"keydown").pipe(Oi(e),Vr(s=>s.which===et.Tab),$v(i)).subscribe(([s,l])=>{const[c,h]=B7(n);(l===c||l===n)&&s.shiftKey&&(h.focus(),s.preventDefault()),l===h&&!s.shiftKey&&(c.focus(),s.preventDefault())}),r&&gi(n,"click").pipe(Oi(e),$v(i),me(s=>s[1])).subscribe(s=>s.focus())})},_H=/\s+/,U7=new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,e){return this.getAllStyles(n)[e]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let e=n.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(n,e=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))r=n.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const s=this.offsetParent(n);r=this.offset(n,!1),s!==document.documentElement&&(i=this.offset(s,!1)),i.top+=s.clientTop,i.left+=s.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(n,e=!0){const r=n.getBoundingClientRect(),i_top=window.pageYOffset-document.documentElement.clientTop,i_left=window.pageXOffset-document.documentElement.clientLeft;let s={height:r.height||n.offsetHeight,width:r.width||n.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(n,e,r,i){const[s="top",l="center"]=r.split("-"),c=i?this.offset(n,!1):this.position(n,!1),h=this.getAllStyles(e),f=parseFloat(h.marginTop),v=parseFloat(h.marginBottom),E=parseFloat(h.marginLeft),b=parseFloat(h.marginRight);let y=0,T=0;switch(s){case"top":y=c.top-(e.offsetHeight+f+v);break;case"bottom":y=c.top+c.height;break;case"left":T=c.left-(e.offsetWidth+E+b);break;case"right":T=c.left+c.width}switch(l){case"top":y=c.top;break;case"bottom":y=c.top+c.height-e.offsetHeight;break;case"left":T=c.left;break;case"right":T=c.left+c.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?T=c.left+c.width/2-e.offsetWidth/2:y=c.top+c.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(T)}px, ${Math.round(y)}px)`;const A=e.getBoundingClientRect(),O=document.documentElement,R=window.innerHeight||O.clientHeight,q=window.innerWidth||O.clientWidth;return A.left>=0&&A.top>=0&&A.right<=q&&A.bottom<=R}};function Xd(t,n,e,r,i){let s=Array.isArray(e)?e:e.split(_H);const l=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],c=n.classList,h=y=>{const[T,A]=y.split("-"),O=[];return i&&(O.push(`${i}-${T}`),A&&O.push(`${i}-${T}-${A}`),O.forEach(R=>{c.add(R)})),O};i&&l.forEach(y=>{c.remove(`${i}-${y}`)});let f=s.findIndex(y=>"auto"===y);f>=0&&l.forEach(function(y){null==s.find(T=>-1!==T.search("^"+y))&&s.splice(f++,1,y)});const v=n.style;v.position="absolute",v.top="0",v.left="0",v["will-change"]="transform";let E,b=!1;for(E of s){let y=h(E);if(U7.positionElements(t,n,E,r)){b=!0;break}i&&y.forEach(T=>{c.remove(T)})}return b||(E=s[0],h(E),U7.positionElements(t,n,E,r)),E}function H7(){return new bH}class pu{}pu.\u0275fac=function(n){return new(n||pu)},pu.\u0275prov=oe({token:pu,factory:function(){return H7()},providedIn:"root"}),pu.ngInjectableDef=oe({factory:H7,token:pu,providedIn:"root"});let bH=(()=>{class t extends pu{parse(e){if(e){const r=e.trim().split("-");if(1===r.length&&_r(r[0]))return{year:ri(r[0]),month:null,day:null};if(2===r.length&&_r(r[0])&&_r(r[1]))return{year:ri(r[0]),month:ri(r[1]),day:null};if(3===r.length&&_r(r[0])&&_r(r[1])&&_r(r[2]))return{year:ri(r[0]),month:ri(r[1]),day:ri(r[2])}}return null}format(e){return e?`${e.year}-${_r(e.month)?I0(e.month):""}-${_r(e.day)?I0(e.day):""}`:""}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class ko extends Fo{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}ko.\u0275fac=function(){let t;return function(e){return(t||(t=Er(ko)))(e||ko)}}(),ko.\u0275prov=oe({token:ko,factory:ko.\u0275fac,providedIn:"root"}),ko.ngInjectableDef=oe({factory:function(){return new ko},token:ko,providedIn:"root"});const yH={provide:ti,useExisting:yt(()=>z7),multi:!0},xH={provide:ni,useExisting:yt(()=>z7),multi:!0};let z7=(()=>{class t{constructor(e,r,i,s,l,c,h,f,v,E,b){this._parserFormatter=e,this._elRef=r,this._vcRef=i,this._renderer=s,this._cfr=l,this._ngZone=c,this._calendar=h,this._dateAdapter=f,this._document=v,this._changeDetector=E,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this.dateSelect=new nt,this.navigate=new nt,this.closed=new nt,this._onChange=y=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(y=>this[y]=b[y]),this._zoneSubscription=c.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const r=e.value;if(null==r)return null;const i=this._fromDateStruct(this._dateAdapter.fromModel(r));return this._calendar.isValid(i)?this.minDate&&i.before(Gr.from(this.minDate))?{ngbDate:{requiredBefore:this.minDate}}:this.maxDate&&i.after(Gr.from(this.maxDate))?{ngbDate:{requiredAfter:this.maxDate}}:void 0:{ngbDate:{invalid:e.value}}}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,r=!1){const i=e!==this._inputValue;i&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const e=this._cfr.resolveComponentFactory(t4);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,q7(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),Wd(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;Hf(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){(e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&(this._cRef.instance.minDate=this.minDate),e.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(e)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(e){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(r=>{void 0!==this[r]&&(e[r]=this[r])}),e.startDate=this.startDate||this._model}_applyPopupStyling(e){this._renderer.addClass(e,"dropdown-menu"),this._renderer.addClass(e,"show"),"body"===this.container&&this._renderer.addClass(e,"ngb-dp-body")}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(r=>this.navigate.emit(r)),e.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const r=this._parserFormatter.format(e);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const r=e?new Gr(e.year,e.month,e.day):null;return this._calendar.isValid(r)?r:null}_updatePopupPosition(){if(!this._cRef)return;let e;if(e=Hf(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");Xd(e,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return t.\u0275fac=function(e){return new(e||t)(z(pu),z(Zt),z(wi),z(Rr),z(co),z(en),z(_s),z(fa),z(In),z(Ai),z(ko))},t.\u0275dir=Se({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(e,r){1&e&&ge("input",function(s){return r.manualDateChange(s.target.value)})("change",function(s){return r.manualDateChange(s.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&e&&qi("disabled",r.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[Qt([yH,xH,{provide:Fo,useExisting:ko}]),Kt]}),t})(),CH=(()=>{class t{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(z(no))},t.\u0275cmp=_e({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,r){2&e&&Ct("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Mq,decls:1,vars:1,template:function(e,r){1&e&&o(0),2&e&&lo(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),t})(),SH=(()=>{class t{constructor(e,r){this.i18n=e,this._renderer=r,this.select=new nt,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new Gr(this.date.year,ri(e),1))}changeYear(e){this.select.emit(new Gr(ri(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(z(no),z(Rr))},t.\u0275cmp=_e({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,r){if(1&e&&(y0(Nq,7,Zt),y0(Oq,7,Zt)),2&e){let i;on(i=sn())&&(r.monthSelect=i.first),on(i=sn())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let n,e,r,i;return n=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,e=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,r=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,i=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,[["aria-label",n,"title",e,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,r){1&e&&(a(0,"select",0,1),ge("change",function(s){return r.changeMonth(s.target.value)}),pe(2,Iq,2,3,"option",2),u(),a(3,"select",3,4),ge("change",function(s){return r.changeYear(s.target.value)}),pe(5,Pq,2,2,"option",2),u()),2&e&&(te("disabled",r.disabled),K(2),te("ngForOf",r.months),K(1),te("disabled",r.disabled),K(2),te("ngForOf",r.years))},directives:[Zr,Zy,e7],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),t})();new Date(1882,10,12),new Date(2174,10,25);let W7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi,c7]]}),t})();class ma{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}ma.\u0275fac=function(n){return new(n||ma)},ma.\u0275prov=oe({token:ma,factory:ma.\u0275fac,providedIn:"root"}),ma.ngInjectableDef=oe({factory:function(){return new ma},token:ma,providedIn:"root"});let K7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})();class bs{constructor(){this.backdrop=!0,this.keyboard=!0}}bs.\u0275fac=function(n){return new(n||bs)},bs.\u0275prov=oe({token:bs,factory:bs.\u0275fac,providedIn:"root"}),bs.ngInjectableDef=oe({factory:function(){return new bs},token:bs,providedIn:"root"});class Zu{constructor(n,e,r){this.nodes=n,this.viewRef=e,this.componentRef=r}}class s4{constructor(n,e,r,i,s,l){this._type=n,this._injector=e,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=s,this._applicationRef=l}open(n,e){return this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef}close(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(n,e){if(n){if(n instanceof _n){const r=n.createEmbeddedView(e);return this._applicationRef.attachView(r),new Zu([r.rootNodes],r)}return new Zu([[this._renderer.createText(`${n}`)]])}return new Zu([])}}const PH=()=>{};class ys{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):PH}_adjustBody(n){const e=this._document.body,r=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${i+n}px`,()=>e.style["padding-right"]=r}_isPresent(n){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(n);const r=n.getBoundingClientRect().width-n.clientWidth;return e.removeChild(n),r}}ys.\u0275fac=function(n){return new(n||ys)(we(In))},ys.\u0275prov=oe({token:ys,factory:ys.\u0275fac,providedIn:"root"}),ys.ngInjectableDef=oe({factory:function(){return new ys(we(In))},token:ys,providedIn:"root"});let RH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(e,r){2&e&&Ao("modal-backdrop fade show"+(r.backdropClass?" "+r.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();class Z7{close(n){}dismiss(n){}}class FH{constructor(n,e,r,i){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(n){this._windowCmptRef&&(this._resolve(n),this._removeModalElements())}_dismiss(n){this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(r=>{!1!==r&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.location.nativeElement;if(n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const F0={BACKDROP_CLICK:0,ESC:1};F0[F0.BACKDROP_CLICK]="BACKDROP_CLICK",F0[F0.ESC]="ESC";let kH=(()=>{class t{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new ne,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new nt}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:e}=this._elRef;if(this._zone.runOutsideAngular(()=>{gi(e,"keydown").pipe(Oi(this._closed$),Vr(i=>i.which===et.Escape&&this.keyboard)).subscribe(i=>requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(F0.ESC))}));let r=!1;gi(this._dialogEl.nativeElement,"mousedown").pipe(Oi(this._closed$),mi(()=>r=!1),gs(()=>gi(e,"mouseup").pipe(Oi(this._closed$),Ri(1))),Vr(({target:i})=>e===i)).subscribe(()=>{r=!0}),gi(e,"click").pipe(Oi(this._closed$)).subscribe(({target:i})=>{!0===this.backdrop&&e===i&&!r&&this._zone.run(()=>this.dismiss(F0.BACKDROP_CLICK)),r=!1})}),!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=B7(e)[0];(r||i||e).focus()}}ngOnDestroy(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null}),this._closed$.next()}}return t.\u0275fac=function(e){return new(e||t)(z(In),z(Zt),z(en))},t.\u0275cmp=_e({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&y0(Rq,7),2&e){let i;on(i=sn())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(e,r){2&e&&(Ft("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy),Ao("modal fade show d-block"+(r.windowClass?" "+r.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:O0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(function(t){const n=M()[16][6];if(!n.projection){const r=n.projection=Gc(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const l=t?SM(s,t):0;null!==l&&(i[l]?i[l].projectionNext=s:r[l]=s,i[l]=s),s=s.next}}}(),a(0,"div",0,1),a(2,"div",2),function(t,n=0,e){const r=M(),i=qt(),s=Kl(i,20+t,16,null,e||null);null===s.projection&&(s.projection=n),Lc(),64!=(64&s.flags)&&function(t,n,e){M8(n[11],0,n,e,_8(t,e,n),C8(e.parent||n[6],e,n))}(i,r,s)}(3),u(),u()),2&e&&Ao("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})();class xs{constructor(n,e,r,i,s,l){this._applicationRef=n,this._injector=e,this._document=r,this._scrollBar=i,this._rendererFactory=s,this._ngZone=l,this._activeWindowCmptHasChanged=new ne,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];q7(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}open(n,e,r,i){const s=i.container instanceof HTMLElement?i.container:la(i.container)?this._document.querySelector(i.container):this._document.body,l=this._rendererFactory.createRenderer(null,null),c=this._scrollBar.compensate(),h=()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const f=new Z7,v=this._getContentRef(n,i.injector||e,r,f,i);let E=!1!==i.backdrop?this._attachBackdrop(n,s):null,b=this._attachWindowComponent(n,s,v),y=new FH(b,v,E,i.beforeDismiss);return this._registerModalRef(y),this._registerWindowCmpt(b),y.result.then(c,c),y.result.then(h,h),f.close=T=>{y.close(T)},f.dismiss=T=>{y.dismiss(T)},this._applyWindowOptions(b.instance,i),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),E&&E.instance&&this._applyBackdropOptions(E.instance,i),y}dismissAll(n){this._modalRefs.forEach(e=>e.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,e){let i=n.resolveComponentFactory(RH).create(this._injector);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,e,r){let s=n.resolveComponentFactory(kH).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_applyWindowOptions(n,e){this._windowAttributes.forEach(r=>{la(e[r])&&(n[r]=e[r])})}_applyBackdropOptions(n,e){this._backdropAttributes.forEach(r=>{la(e[r])&&(n[r]=e[r])})}_getContentRef(n,e,r,i,s){return r?r instanceof _n?this._createFromTemplateRef(r,i):Hf(r)?this._createFromString(r):this._createFromComponent(n,e,r,i,s):new Zu([])}_createFromTemplateRef(n,e){const i=n.createEmbeddedView({$implicit:e,close(s){e.close(s)},dismiss(s){e.dismiss(s)}});return this._applicationRef.attachView(i),new Zu([i.rootNodes],i)}_createFromString(n){const e=this._document.createTextNode(`${n}`);return new Zu([[e]])}_createFromComponent(n,e,r,i,s){const l=n.resolveComponentFactory(r),c=er.create({providers:[{provide:Z7,useValue:i}],parent:e}),h=l.create(c),f=h.location.nativeElement;return s.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new Zu([[f]],h.hostView,h)}_setAriaHidden(n){const e=n.parentElement;e&&n!==this._document.body&&(Array.from(e.children).forEach(r=>{r!==n&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,e)=>{n?e.setAttribute("aria-hidden",n):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const e=()=>{const r=this._modalRefs.indexOf(n);r>-1&&this._modalRefs.splice(r,1)};this._modalRefs.push(n),n.result.then(e,e)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const e=this._windowCmpts.indexOf(n);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}xs.\u0275fac=function(n){return new(n||xs)(we(ps),we(er),we(In),we(ys),we(Bh),we(en))},xs.\u0275prov=oe({token:xs,factory:xs.\u0275fac,providedIn:"root"}),xs.ngInjectableDef=oe({factory:function(){return new xs(we(ps),we(id),we(In),we(ys),we(Bh),we(en))},token:xs,providedIn:"root"});class ga{constructor(n,e,r,i){this._moduleCFR=n,this._injector=e,this._modalStack=r,this._config=i}open(n,e={}){const r=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,n,r)}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}ga.\u0275fac=function(n){return new(n||ga)(we(co),we(er),we(xs),we(bs))},ga.\u0275prov=oe({token:ga,factory:ga.\u0275fac,providedIn:"root"}),ga.ngInjectableDef=oe({factory:function(){return new ga(we(co),we(id),we(xs),we(bs))},token:ga,providedIn:"root"});let Q7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({providers:[ga]}),t})();class va{constructor(){this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist"}}va.\u0275fac=function(n){return new(n||va)},va.\u0275prov=oe({token:va,factory:va.\u0275fac,providedIn:"root"}),va.ngInjectableDef=oe({factory:function(){return new va},token:va,providedIn:"root"});const ex=t=>la(t)&&""!==t;let LH=0,a4=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(z(_n))},t.\u0275dir=Se({type:t,selectors:[["ng-template","ngbNavContent",""]]}),t})(),Kf=(()=>{class t{constructor(e,r){this.elementRef=r,this.disabled=!1,this._nav=e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){la(this.domId)||(this.domId="ngb-nav-"+LH++)}get active(){return this._nav.activeId===this.id}get id(){return ex(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(la(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return t.\u0275fac=function(e){return new(e||t)(z(yt(()=>Zf)),z(Zt))},t.\u0275dir=Se({type:t,selectors:[["","ngbNavItem",""]],contentQueries:function(e,r,i){if(1&e&&On(i,a4,4),2&e){let s;on(s=sn())&&(r.contentTpls=s)}},hostVars:2,hostBindings:function(e,r){2&e&&Ct("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},exportAs:["ngbNavItem"]}),t})(),Zf=(()=>{class t{constructor(e,r,i){this.role=e,this._cd=i,this.activeIdChange=new nt,this.navChange=new nt,this.destroyOnHide=r.destroyOnHide,this.orientation=r.orientation,this.roles=r.roles}click(e){e.disabled||this._updateActiveId(e.id)}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!la(this.activeId)){const e=this.items.first?this.items.first.id:null;ex(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}}_updateActiveId(e,r=!0){if(this.activeId!==e){let i=!1;r&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{i=!0}}),i||(this.activeId=e,this.activeIdChange.emit(e))}}}return t.\u0275fac=function(e){return new(e||t)(iu("role"),z(va),z(Ai))},t.\u0275dir=Se({type:t,selectors:[["","ngbNav",""]],contentQueries:function(e,r,i){if(1&e&&On(i,Kf,4),2&e){let s;on(s=sn())&&(r.items=s)}},hostVars:6,hostBindings:function(e,r){2&e&&(Ft("aria-orientation","vertical"===r.orientation&&"tablist"===r.roles?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),Ct("nav",!0)("flex-column","vertical"===r.orientation))},inputs:{destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",navChange:"navChange"},exportAs:["ngbNav"]}),t})(),tx=(()=>{class t{constructor(e,r,i){this.role=e,this.navItem=r,this.nav=i}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(iu("role"),z(Kf),z(Zf))},t.\u0275dir=Se({type:t,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,r){1&e&&ge("click",function(s){return r.nav.click(r.navItem),s.preventDefault()}),2&e&&(qi("id",r.navItem.domId),Ft("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.navItem.disabled?-1:void 0)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),Ct("nav-link",!0)("nav-item",r.hasNavItemClass())("active",r.navItem.active)("disabled",r.navItem.disabled))}}),t})(),nx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["","ngbNavOutlet",""]],hostVars:2,hostBindings:function(e,r){2&e&&Ct("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:Fq,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","tab-pane",3,"id","active",4,"ngIf"],[1,"tab-pane",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&pe(0,qq,1,1,"ng-template",0),2&e&&te("ngForOf",r.nav.items)},directives:[Zr,pi,po],encapsulation:2}),t})(),u4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class Ea{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}Ea.\u0275fac=function(n){return new(n||Ea)},Ea.\u0275prov=oe({token:Ea,factory:Ea.\u0275fac,providedIn:"root"}),Ea.ngInjectableDef=oe({factory:function(){return new Ea},token:Ea,providedIn:"root"});let lx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class _a{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}}_a.\u0275fac=function(n){return new(n||_a)},_a.\u0275prov=oe({token:_a,factory:_a.\u0275fac,providedIn:"root"}),_a.ngInjectableDef=oe({factory:function(){return new _a},token:_a,providedIn:"root"});let hx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class ba{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}ba.\u0275fac=function(n){return new(n||ba)},ba.\u0275prov=oe({token:ba,factory:ba.\u0275fac,providedIn:"root"}),ba.ngInjectableDef=oe({factory:function(){return new ba},token:ba,providedIn:"root"});let fx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class ya{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}ya.\u0275fac=function(n){return new(n||ya)},ya.\u0275prov=oe({token:ya,factory:ya.\u0275fac,providedIn:"root"}),ya.ngInjectableDef=oe({factory:function(){return new ya},token:ya,providedIn:"root"});const $H={provide:ti,useExisting:yt(()=>YH),multi:!0};let YH=(()=>{class t{constructor(e,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new nt,this.leave=new nt,this.rateChange=new nt(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}enter(e){!this.readonly&&!this.disabled&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){!this.readonly&&!this.disabled&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case et.ArrowDown:case et.ArrowLeft:this.update(this.rate-1);break;case et.ArrowUp:case et.ArrowRight:this.update(this.rate+1);break;case et.Home:this.update(0);break;case et.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,r)=>({fill:0,index:r})),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,r=!0){const i=function(t,n,e=0){return Math.max(Math.min(t,n),e)}(e,this.max,0);!this.readonly&&!this.disabled&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_getFillValue(e){const r=this.nextRate-e;return r>=1?100:r<1&&r>0?parseInt((100*r).toFixed(2),10):0}_updateState(e){this.nextRate=e,this.contexts.forEach((r,i)=>r.fill=this._getFillValue(i))}}return t.\u0275fac=function(e){return new(e||t)(z(ya),z(Ai))},t.\u0275cmp=_e({type:t,selectors:[["ngb-rating"]],contentQueries:function(e,r,i){if(1&e&&On(i,_n,5),2&e){let s;on(s=sn())&&(r.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,r){1&e&&ge("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)})("mouseleave",function(){return r.reset()}),2&e&&(qi("tabindex",r.disabled?-1:0),Ft("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[Qt([$H]),Kt],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(pe(0,fU,1,1,"ng-template",null,0,Kr),pe(2,mU,4,5,"ng-template",1)),2&e&&(K(2),te("ngForOf",r.contexts))},directives:[Zr,po],encapsulation:2,changeDetection:0}),t})(),px=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class xa{constructor(){this.justify="start",this.orientation="horizontal",this.type="tabs"}}xa.\u0275fac=function(n){return new(n||xa)},xa.\u0275prov=oe({token:xa,factory:xa.\u0275fac,providedIn:"root"}),xa.ngInjectableDef=oe({factory:function(){return new xa},token:xa,providedIn:"root"});let Ex=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi,u4]]}),t})();class _x{constructor(n,e,r){this.hour=ri(n),this.minute=ri(e),this.second=ri(r)}changeHour(n=1){this.updateHour((isNaN(this.hour)?0:this.hour)+n)}updateHour(n){this.hour=_r(n)?(n<0?24+n:n)%24:NaN}changeMinute(n=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+n)}updateMinute(n){_r(n)?(this.minute=n%60<0?60+n%60:n%60,this.changeHour(Math.floor(n/60))):this.minute=NaN}changeSecond(n=1){this.updateSecond((isNaN(this.second)?0:this.second)+n)}updateSecond(n){_r(n)?(this.second=n<0?60+n%60:n%60,this.changeMinute(Math.floor(n/60))):this.second=NaN}isValid(n=!0){return _r(this.hour)&&_r(this.minute)&&(!n||_r(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}class Ca{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}function bx(){return new JH}Ca.\u0275fac=function(n){return new(n||Ca)},Ca.\u0275prov=oe({token:Ca,factory:Ca.\u0275fac,providedIn:"root"}),Ca.ngInjectableDef=oe({factory:function(){return new Ca},token:Ca,providedIn:"root"});class mu{}mu.\u0275fac=function(n){return new(n||mu)},mu.\u0275prov=oe({token:mu,factory:function(){return bx()},providedIn:"root"}),mu.ngInjectableDef=oe({factory:bx,token:mu,providedIn:"root"});let JH=(()=>{class t extends mu{fromModel(e){return e&&nr(e.hour)&&nr(e.minute)?{hour:e.hour,minute:e.minute,second:nr(e.second)?e.second:null}:null}toModel(e){return e&&nr(e.hour)&&nr(e.minute)?{hour:e.hour,minute:e.minute,second:nr(e.second)?e.second:null}:null}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Er(t)))(r||t)}}(),t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function yx(t){return new KH(t)}class gu{}gu.\u0275fac=function(n){return new(n||gu)},gu.\u0275prov=oe({token:gu,factory:function(n){let e=null;return e=n?new n:yx(we(Ui)),e},providedIn:"root"}),gu.ngInjectableDef=oe({factory:function(){return yx(we(Ui))},token:gu,providedIn:"root"});let KH=(()=>{class t extends gu{constructor(e){super(),this._periods=Db(e,zn.Standalone,Nt.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return t.\u0275fac=function(e){return new(e||t)(we(Ui))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const ZH=/[^0-9]/g,QH={provide:ti,useExisting:yt(()=>ez),multi:!0};let ez=(()=>{class t{constructor(e,r,i,s){this._config=e,this._ngbTimeAdapter=r,this._cd=i,this.i18n=s,this.onChange=l=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=nr(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=nr(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=nr(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const r=this._ngbTimeAdapter.fromModel(e);this.model=r?new _x(r.hour,r.minute,r.second):new _x,!this.seconds&&(!r||!_r(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model.changeSecond(e),this.propagateModelChange()}updateHour(e){const r=this.model.hour>=12,i=ri(e);this.model.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(e){this.model.updateMinute(ri(e)),this.propagateModelChange()}updateSecond(e){this.model.updateSecond(ri(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(ZH,"")}formatHour(e){return _r(e)?I0(this.meridian?e%12==0?12:e%12:e%24):I0(NaN)}formatMinSec(e){return I0(e)}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!_r(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return t.\u0275fac=function(e){return new(e||t)(z(Ca),z(mu),z(Ai),z(gu))},t.\u0275cmp=_e({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[Qt([QH]),Kt],decls:16,vars:25,consts:function(){let n,e,r,i,s,l,c,h,f,v,E,b,y,T;return n=$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,e=$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,r=$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,i=$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,s=$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,l=$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,c=$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,h=$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,f=$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,v=$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,E=$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,b=$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,y=$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,T=$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],s,[1,"chevron","ngb-tp-chevron","bottom"],l,c,h,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",f,"aria-label",v,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],E,b,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],y,T]},template:function(e,r){1&e&&(a(0,"fieldset",0),a(1,"div",1),a(2,"div",2),pe(3,yU,4,7,"button",3),a(4,"input",4),ge("change",function(s){return r.updateHour(s.target.value)})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),u(),pe(5,xU,4,7,"button",3),u(),a(6,"div",5),o(7,":"),u(),a(8,"div",6),pe(9,CU,4,7,"button",3),a(10,"input",7),ge("change",function(s){return r.updateMinute(s.target.value)})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),u(),pe(11,SU,4,7,"button",3),u(),pe(12,DU,2,0,"div",8),pe(13,AU,4,9,"div",9),pe(14,MU,1,0,"div",8),pe(15,IU,5,9,"div",10),u(),u()),2&e&&(Ct("disabled",r.disabled),te("disabled",r.disabled),K(3),te("ngIf",r.spinners),K(1),Ct("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),te("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),K(1),te("ngIf",r.spinners),K(4),te("ngIf",r.spinners),K(1),Ct("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),te("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),K(1),te("ngIf",r.spinners),K(1),te("ngIf",r.seconds),K(1),te("ngIf",r.seconds),K(1),te("ngIf",r.meridian),K(1),te("ngIf",r.meridian))},directives:[pi],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron::before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}'],encapsulation:2}),t})(),xx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class Sa{constructor(){this.autohide=!0,this.delay=500,this.ariaLive="polite"}}Sa.\u0275fac=function(n){return new(n||Sa)},Sa.\u0275prov=oe({token:Sa,factory:Sa.\u0275fac,providedIn:"root"}),Sa.ngInjectableDef=oe({factory:function(){return new Sa},token:Sa,providedIn:"root"});let Cx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();class Da{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}}Da.\u0275fac=function(n){return new(n||Da)},Da.\u0275prov=oe({token:Da,factory:Da.\u0275fac,providedIn:"root"}),Da.ngInjectableDef=oe({factory:function(){return new Da},token:Da,providedIn:"root"});let Sx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})(),iz=(()=>{class t{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const r=Yd(this.result),s=(Array.isArray(this.term)?this.term:[this.term]).map(l=>function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Yd(l))).filter(l=>l);this.parts=s.length?r.split(new RegExp(`(${s.join("|")})`,"gmi")):[r]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[Kt],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,r){1&e&&pe(0,BU,3,2,"ng-template",0),2&e&&te("ngForOf",r.parts)},directives:[Zr,pi],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),t})(),oz=(()=>{class t{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Yd,this.selectEvent=new nt,this.activeChangeEvent=new nt}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(e,r){1&e&&ge("mousedown",function(s){return s.preventDefault()}),2&e&&qi("id",r.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(pe(0,qU,1,2,"ng-template",null,0,Kr),pe(2,zU,2,9,"ng-template",1)),2&e&&(K(2),te("ngForOf",r.results))},directives:[Zr,iz,po],encapsulation:2}),t})();const Dx=new Rt("live announcer delay",{providedIn:"root",factory:function(){return 100}});function wx(t,n=!1){let e=t.body.querySelector("#ngb-live");return null==e&&n&&(e=t.createElement("div"),e.setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("sr-only"),t.body.appendChild(e)),e}class wa{constructor(n,e){this._document=n,this._delay=e}ngOnDestroy(){const n=wx(this._document);n&&n.parentElement.removeChild(n)}say(n){const e=wx(this._document,!0),r=this._delay;e.textContent="";const i=()=>e.textContent=n;null===r?i():setTimeout(i,r)}}wa.\u0275fac=function(n){return new(n||wa)(we(In),we(Dx))},wa.\u0275prov=oe({token:wa,factory:wa.\u0275fac,providedIn:"root"}),wa.ngInjectableDef=oe({factory:function(){return new wa(we(In),we(Dx))},token:wa,providedIn:"root"});class Ta{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}Ta.\u0275fac=function(n){return new(n||Ta)},Ta.\u0275prov=oe({token:Ta,factory:Ta.\u0275fac,providedIn:"root"}),Ta.ngInjectableDef=oe({factory:function(){return new Ta},token:Ta,providedIn:"root"});const az={provide:ti,useExisting:yt(()=>lz),multi:!0};let uz=0,lz=(()=>{class t{constructor(e,r,i,s,l,c,h,f,v,E,b,y){this._elementRef=e,this._renderer=i,this._live=f,this._document=v,this._ngZone=E,this._changeDetector=b,this._closed$=new ne,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new nt,this.popupId="ngb-typeahead-"+uz++,this._onTouched=()=>{},this._onChange=T=>{},this.container=c.container,this.editable=c.editable,this.focusFirst=c.focusFirst,this.showHint=c.showHint,this.placement=c.placement,this._valueChanges=gi(e.nativeElement,"input").pipe(me(T=>T.target.value)),this._resubscribeTypeahead=new Qr(null),this._popupService=new s4(oz,s,r,i,l,y),this._zoneSubscription=h.onStable.subscribe(()=>{this.isPopupOpen()&&Xd(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){const r=this._valueChanges.pipe(mi(s=>{this._inputValueBackup=this.showHint?s:null,this._onChange(this.editable?s:void 0)})).pipe(this.ngbTypeahead),i=this._resubscribeTypeahead.pipe(gs(()=>r));this._subscription=this._subscribeToUserInput(i)}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.which){case et.ArrowDown:e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case et.ArrowUp:e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case et.Enter:case et.Tab:const r=this._windowRef.instance.getActive();la(r)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(r)),this._closePopup()}}_openPopup(){this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(e=>this._selectResultClosePopup(e)),this._windowRef.instance.activeChangeEvent.subscribe(e=>this.activeDescendant=e),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),Wd(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}_closePopup(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0}_selectResult(e){let r=!1;this.selectItem.emit({item:e,preventDefault:()=>{r=!0}}),this._resubscribeTypeahead.next(null),r||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){const e=this._inputValueBackup.toLowerCase(),r=this._formatItemForInput(this._windowRef.instance.getActive());e===r.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+r.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,r.length])):this._writeInputValue(r)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):Yd(e)}_writeInputValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",Yd(e))}_subscribeToUserInput(e){return e.subscribe(r=>{r&&0!==r.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=r,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const i=r?r.length:0;this._live.say(0===i?"No results available":`${i} result${1===i?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return t.\u0275fac=function(e){return new(e||t)(z(Zt),z(wi),z(Rr),z(er),z(co),z(Ta),z(en),z(wa),z(In),z(en),z(Ai),z(ps))},t.\u0275dir=Se({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(e,r){1&e&&ge("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)}),2&e&&(qi("autocomplete",r.autocomplete),Ft("aria-autocomplete",r.showHint?"both":"list")("aria-activedescendant",r.activeDescendant)("aria-owns",r.isPopupOpen()?r.popupId:null)("aria-expanded",r.isPopupOpen()),Ct("open",r.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[Qt([az])]}),t})(),Tx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[Mi]]}),t})();const cz=[S7,D7,T7,N7,O7,W7,K7,Q7,u4,lx,hx,fx,px,Ex,xx,Cx,Sx,Tx];let dz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[cz,S7,D7,T7,N7,O7,W7,K7,Q7,u4,lx,hx,fx,px,Ex,xx,Cx,Sx,Tx]}),t})();function Zd(t){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Ax(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pz(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Vt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.forEach(function(i){pz(t,i,e[i])})}return t}function l4(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,i=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done)&&(e.push(c.value),!n||e.length!==n);r=!0);}catch(h){i=!0,s=h}finally{try{!r&&null!=l.return&&l.return()}finally{if(i)throw s}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d4={},Nx={};try{"undefined"!=typeof window&&(d4=window),"undefined"!=typeof document&&(Nx=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(t){}var Px=(d4.navigator||{}).userAgent,Rx=void 0===Px?"":Px,k0=d4,Tr=Nx,Aa=!!Tr.documentElement&&!!Tr.head&&"function"==typeof Tr.addEventListener&&"function"==typeof Tr.createElement,Ma=(~Rx.indexOf("MSIE")||Rx.indexOf("Trident/"),"___FONT_AWESOME___"),Bx="svg-inline--fa",zx=[1,2,3,4,5,6,7,8,9,10],Oz=zx.concat([11,12,13,14,15,16,17,18,19,20]),Qu={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Vx=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Qu.GROUP,Qu.SWAP_OPACITY,Qu.PRIMARY,Qu.SECONDARY].concat(zx.map(function(t){return"".concat(t,"x")})).concat(Oz.map(function(t){return"w-".concat(t)})),k0.FontAwesomeConfig||{});Tr&&"function"==typeof Tr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var n=l4(t,2),r=n[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var n=Tr.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}(n[0]));null!=i&&(Vx[r]=i)});var p4=Vt({},{familyPrefix:"fa",replacementClass:Bx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Vx);p4.autoReplaceSvg||(p4.observeMutations=!1);var St=Vt({},p4);k0.FontAwesomeConfig=St;var Na=k0||{};Na[Ma]||(Na[Ma]={}),Na[Ma].styles||(Na[Ma].styles={}),Na[Ma].hooks||(Na[Ma].hooks={}),Na[Ma].shims||(Na[Ma].shims=[]);var Bo=Na[Ma],Gx=[];Aa&&((Tr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Tr.readyState)||Tr.addEventListener("DOMContentLoaded",function t(){Tr.removeEventListener("DOMContentLoaded",t),Gx.map(function(n){return n()})}));var g4,m4="pending",jx="settled",tp="fulfilled",np="rejected",Uz=function(){},$x="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Hz="undefined"==typeof setImmediate?setTimeout:setImmediate,Qd=[];function zz(){for(var t=0;t<Qd.length;t++)Qd[t][0](Qd[t][1]);Qd=[],g4=!1}function rp(t,n){Qd.push([t,n]),g4||(g4=!0,Hz(zz,0))}function Yx(t){var n=t.owner,e=n._state,r=n._data,i=t[e],s=t.then;if("function"==typeof i){e=tp;try{r=i(r)}catch(l){e1(s,l)}}Wx(s,r)||(e===tp&&v4(s,r),e===np&&e1(s,r))}function Wx(t,n){var e;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===Zd(n))){var r=n.then;if("function"==typeof r)return r.call(n,function(i){e||(e=!0,n===i?Xx(t,i):v4(t,i))},function(i){e||(e=!0,e1(t,i))}),!0}}catch(i){return e||e1(t,i),!0}return!1}function v4(t,n){(t===n||!Wx(t,n))&&Xx(t,n)}function Xx(t,n){t._state===m4&&(t._state=jx,t._data=n,rp(Gz,t))}function e1(t,n){t._state===m4&&(t._state=jx,t._data=n,rp(jz,t))}function Jx(t){t._then=t._then.forEach(Yx)}function Gz(t){t._state=tp,Jx(t)}function jz(t){t._state=np,Jx(t),!t._handled&&$x&&global.process.emit("unhandledRejection",t._data,t)}function $z(t){global.process.emit("rejectionHandled",t)}function ro(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof ro))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,n){function r(i){e1(n,i)}try{t(function(i){v4(n,i)},r)}catch(i){r(i)}}(t,this)}ro.prototype={constructor:ro,_state:m4,_then:null,_data:void 0,_handled:!1,then:function(n,e){var r={owner:this,then:new this.constructor(Uz),fulfilled:n,rejected:e};return(e||n)&&!this._handled&&(this._handled=!0,this._state===np&&$x&&rp($z,this)),this._state===tp||this._state===np?rp(Yx,r):this._then.push(r),r.then},catch:function(n){return this.then(null,n)}},ro.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new ro(function(n,e){var r=[],i=0;function s(h){return i++,function(f){r[h]=f,--i||n(r)}}for(var c,l=0;l<t.length;l++)(c=t[l])&&"function"==typeof c.then?c.then(s(l),e):r[l]=c;i||n(r)})},ro.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new ro(function(n,e){for(var i,r=0;r<t.length;r++)(i=t[r])&&"function"==typeof i.then?i.then(n,e):n(i)})},ro.resolve=function(t){return t&&"object"===Zd(t)&&t.constructor===ro?t:new ro(function(n){n(t)})},ro.reject=function(t){return new ro(function(n,e){e(t)})};var Oa={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function t1(){for(var t=12,n="";t-- >0;)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return n}function Zx(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ip(t){return Object.keys(t||{}).reduce(function(n,e){return n+"".concat(e,": ").concat(t[e],";")},"")}function _4(t){return t.size!==Oa.size||t.x!==Oa.x||t.y!==Oa.y||t.rotate!==Oa.rotate||t.flipX||t.flipY}function Qx(t){var n=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(l," ").concat(c)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var b4={x:0,y:0,width:"100%",height:"100%"};function eC(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||n)&&(t.attributes.fill="black"),t}function Zz(t){return"g"===t.tag?t.children:[t]}function y4(t){var n=t.icons,e=n.main,r=n.mask,i=t.prefix,s=t.iconName,l=t.transform,c=t.symbol,h=t.title,f=t.maskId,v=t.titleId,E=t.extra,b=t.watchable,y=void 0!==b&&b,T=r.found?r:e,A=T.width,O=T.height,R="fak"===i,q=R?"":"fa-w-".concat(Math.ceil(A/O*16)),Q=[St.replacementClass,s?"".concat(St.familyPrefix,"-").concat(s):"",q].filter(function(Ae){return-1===E.classes.indexOf(Ae)}).filter(function(Ae){return""!==Ae||!!Ae}).concat(E.classes).join(" "),B={children:[],attributes:Vt({},E.attributes,{"data-prefix":i,"data-icon":s,class:Q,role:E.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(O)})},L=R&&!~E.classes.indexOf("fa-fw")?{width:"".concat(A/O*16*.0625,"em")}:{};y&&(B.attributes["data-fa-i2svg"]=""),h&&B.children.push({tag:"title",attributes:{id:B.attributes["aria-labelledby"]||"title-".concat(v||t1())},children:[h]});var V=Vt({},B,{prefix:i,iconName:s,main:e,mask:r,maskId:f,transform:l,symbol:c,styles:Vt({},L,E.styles)}),ve=r.found&&e.found?function(t){var n=t.children,e=t.attributes,r=t.main,i=t.mask,s=t.maskId,h=r.icon,v=i.icon,E=Qx({transform:t.transform,containerWidth:i.width,iconWidth:r.width}),b={tag:"rect",attributes:Vt({},b4,{fill:"white"})},y=h.children?{children:h.children.map(eC)}:{},T={tag:"g",attributes:Vt({},E.inner),children:[eC(Vt({tag:h.tag,attributes:Vt({},h.attributes,E.path)},y))]},A={tag:"g",attributes:Vt({},E.outer),children:[T]},O="mask-".concat(s||t1()),R="clip-".concat(s||t1()),q={tag:"mask",attributes:Vt({},b4,{id:O,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,A]},Q={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:Zz(v)},q]};return n.push(Q,{tag:"rect",attributes:Vt({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(O,")")},b4)}),{children:n,attributes:e}}(V):function(t){var n=t.children,e=t.attributes,r=t.main,i=t.transform,l=ip(t.styles);if(l.length>0&&(e.style=l),_4(i)){var c=Qx({transform:i,containerWidth:r.width,iconWidth:r.width});n.push({tag:"g",attributes:Vt({},c.outer),children:[{tag:"g",attributes:Vt({},c.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Vt({},r.icon.attributes,c.path)}]}]})}else n.push(r.icon);return{children:n,attributes:e}}(V),W=ve.attributes;return V.children=ve.children,V.attributes=W,c?function(t){var e=t.iconName,r=t.children,s=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Vt({},t.attributes,{id:!0===s?"".concat(t.prefix,"-").concat(St.familyPrefix,"-").concat(e):s}),children:r}]}]}(V):function(t){var n=t.children,e=t.main,r=t.mask,i=t.attributes,s=t.styles,l=t.transform;if(_4(l)&&e.found&&!r.found){var f={x:e.width/e.height/2,y:.5};i.style=ip(Vt({},s,{"transform-origin":"".concat(f.x+l.x/16,"em ").concat(f.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:n}]}(V)}var S4=function(n,e,r,i){var h,f,v,s=Object.keys(n),l=s.length,c=void 0!==i?function(n,e){return function(r,i,s,l){return n.call(e,r,i,s,l)}}(e,i):e;for(void 0===r?(h=1,v=n[s[0]]):(h=0,v=r);h<l;h++)v=c(v,n[f=s[h]],f,n);return v};function oC(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.skipHooks,i=void 0!==r&&r,s=Object.keys(n).reduce(function(l,c){var h=n[c];return h.icon?l[h.iconName]=h.icon:l[c]=h,l},{});"function"!=typeof Bo.hooks.addPack||i?Bo.styles[t]=Vt({},Bo.styles[t]||{},s):Bo.hooks.addPack(t,s),"fas"===t&&oC("fa",n)}var sC=Bo.styles,sV=Bo.shims,cC=function(){var n=function(i){return S4(sC,function(s,l,c){return s[c]=S4(l,i,{}),s},{})};n(function(r,i,s){return i[3]&&(r[i[3]]=s),r}),n(function(r,i,s){var l=i[2];return r[s]=s,l.forEach(function(c){r[c]=s}),r});var e="far"in sC;S4(sV,function(r,i){var l=i[1];return"far"===l&&!e&&(l="fas"),r[i[0]]={prefix:l,iconName:i[2]},r},{})};function hC(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}function q0(t){var n=t.tag,e=t.attributes,r=void 0===e?{}:e,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?Zx(t):"<".concat(n," ").concat(function(t){return Object.keys(t||{}).reduce(function(n,e){return n+"".concat(e,'="').concat(Zx(t[e]),'" ')},"").trim()}(r),">").concat(s.map(q0).join(""),"</").concat(n,">")}cC();function r1(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}(r1.prototype=Object.create(Error.prototype)).constructor=r1;var ap={fill:"currentColor"},EC={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},A4=(Vt({},ap,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Vt({},EC,{attributeName:"opacity"}));function N4(t){var n=t[0],e=t[1],s=l4(t.slice(4),1)[0];return{found:!0,width:n,height:e,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(St.familyPrefix,"-").concat(Qu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(St.familyPrefix,"-").concat(Qu.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(St.familyPrefix,"-").concat(Qu.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}Vt({},ap,{cx:"256",cy:"364",r:"28"}),Vt({},EC,{attributeName:"r",values:"28;14;28;28;14;28;"}),Vt({},A4,{values:"1;0;1;1;0;1;"}),Vt({},ap,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Vt({},A4,{values:"1;0;0;0;0;1;"}),Vt({},ap,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Vt({},A4,{values:"0;0;1;1;0;0;"});var FV=function(){function t(){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function(t,n,e){n&&Ax(t.prototype,n)}(t,[{key:"add",value:function(){for(var e=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(c){e.definitions[c]=Vt({},e.definitions[c]||{},l[c]),oC(c,l[c]),cC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var l=i[s],c=l.prefix,h=l.iconName,f=l.icon;e[c]||(e[c]={}),e[c][h]=f}),e}}]),t}();function i1(){St.autoAddCss&&!cp&&(function(t){if(t&&Aa){var n=Tr.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;for(var e=Tr.head.childNodes,r=null,i=e.length-1;i>-1;i--){var s=e[i],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=s)}Tr.head.insertBefore(n,r)}}(function(){var t="fa",n=Bx,e=St.familyPrefix,r=St.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(e!==t||r!==n){var s=new RegExp("\\.".concat(t,"\\-"),"g"),l=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(n),"g");i=i.replace(s,".".concat(e,"-")).replace(l,"--".concat(e,"-")).replace(c,".".concat(r))}return i}()),cp=!0)}function up(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return q0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Aa){var r=Tr.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function lp(t){var n=t.prefix,e=void 0===n?"fa":n,r=t.iconName;if(r)return hC(P4.definitions,e,r)||hC(Bo.styles,e,r)}var t,P4=new FV,cp=!1,R4_transform=function(n){return function(n){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n?n.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),l=s[0],c=s.slice(1).join("-");if(l&&"h"===c)return r.flipX=!0,r;if(l&&"v"===c)return r.flipY=!0,r;if(c=parseFloat(c),isNaN(c))return r;switch(l){case"grow":r.size=r.size+c;break;case"shrink":r.size=r.size-c;break;case"left":r.x=r.x-c;break;case"right":r.x=r.x+c;break;case"up":r.y=r.y-c;break;case"down":r.y=r.y+c;break;case"rotate":r.rotate=r.rotate+c}return r},e):e}(n)},CC=(t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.transform,r=void 0===e?Oa:e,i=n.symbol,s=void 0!==i&&i,l=n.mask,c=void 0===l?null:l,h=n.maskId,f=void 0===h?null:h,v=n.title,E=void 0===v?null:v,b=n.titleId,y=void 0===b?null:b,T=n.classes,A=void 0===T?[]:T,O=n.attributes,R=void 0===O?{}:O,q=n.styles,Q=void 0===q?{}:q;if(t){var B=t.prefix,L=t.iconName,V=t.icon;return up(Vt({type:"icon"},t),function(){return i1(),St.autoA11y&&(E?R["aria-labelledby"]="".concat(St.replacementClass,"-title-").concat(y||t1()):(R["aria-hidden"]="true",R.focusable="false")),y4({icons:{main:N4(V),mask:c?N4(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:B,iconName:L,transform:Vt({},Oa,r),symbol:s,title:E,maskId:f,titleId:y,extra:{attributes:R,styles:Q,classes:A}})})}},function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(n||{}).icon?n:lp(n||{}),i=e.mask;return i&&(i=(i||{}).icon?i:lp(i||{})),t(r,Vt({},e,{mask:i}))});class Uo{constructor(){this.defaultPrefix="fas",this.globalLibrary="unset"}}Uo.\u0275fac=function(n){return new(n||Uo)},Uo.\u0275prov=oe({token:Uo,factory:Uo.\u0275fac,providedIn:"root"}),Uo.ngInjectableDef=oe({factory:function(){return new Uo},token:Uo,providedIn:"root"});class Ia{constructor(){this.definitions={}}addIcons(...n){for(let e=0;e<n.length;e++){const r=n[e];r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}}addIconPacks(...n){for(let e=0;e<n.length;e++){const r=n[e],i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(n,e){return n in this.definitions&&e in this.definitions[n]?this.definitions[n][e]:null}}Ia.\u0275fac=function(n){return new(n||Ia)},Ia.\u0275prov=oe({token:Ia,factory:Ia.\u0275fac,providedIn:"root"}),Ia.ngInjectableDef=oe({factory:function(){return new Ia},token:Ia,providedIn:"root"});const wC=t=>{const n={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(n).map(e=>n[e]?e:null).filter(e=>e)};let JV=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Kt]}),t})(),o1=(()=>{class t{constructor(e,r,i,s){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[]}get iconProp(){return this.icon}set iconProp(e){this.icon=e}ngOnChanges(e){if(null!=this.icon){if(e){const r=this.findIconDefinition(this.icon);if(null!=r){const i=this.buildParams();this.renderIcon(r,i)}}}else console.error("FontAwesome: Property `icon` is required for `fa-icon`/`fa-duotone-icon` components. This warning will become a hard error in 0.6.0.")}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((t,n)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:n,iconName:t}:void 0)(e,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);if(null!=i)return i;const s=lp(r);if(null!=s){const l="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+l);else if(!this.config.globalLibrary)throw new Error(l);return s}return(t=>{console.error(`FontAwesome: Could not find icon with iconName=${t.iconName} and prefix=${t.prefix}. This warning will become a hard error in 0.6.0.`)})(r),null}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?R4_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...wC(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const i=CC(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(z(cf),z(Uo),z(Ia),z(JV,8))},t.\u0275cmp=_e({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,r){2&e&&(qi("innerHTML",r.renderedIconHTML,mh),Ft("title",r.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[Kt],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),QV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({}),t})();class Eu{constructor(n){this.config=n}get defaultPrefix(){return this.config.defaultPrefix}set defaultPrefix(n){this.config.defaultPrefix=n}}function eG(t,n){1&t&&(a(0,"pre",10),a(1,"code"),o(2,'nombreIdentifiants = int(input())\nfor i in range(nombreIdentifiants):\n    identifiant = input()\n    if(identifiant[-3:] != "555"):\n        print(identifiant)\n'),u(),u())}function tG(t,n){1&t&&(a(0,"pre",36),a(1,"code"),o(2,'#include <iostream>\n#include "exercise.hpp"'),d(3,"br"),o(4,"\n"),d(5,"br"),o(6),d(7,"br"),o(8,"\n"),d(9,"br"),o(10),u(),u()),2&t&&(K(6),zr("\nContestExerciseImpl::ContestExerciseImpl() : Exercise() ","{","","}",""),K(4),Km("\nvoid ContestExerciseImpl::main() ","{","\n    int nombreIdentifiants;\n    cin>>nombreIdentifiants;\n    for(int idx=0;idx<nombreIdentifiants;idx++) ","{",'\n        string identifiant;\n        cin>>identifiant;\n        if(identifiant.substr(identifiant.size()-3) != "555") ',"{","\n            cout<<identifiant<<endl;\n        ","}","\n    ","}","\n","}","\n"))}function nG(t,n){}function rG(t,n){1&t&&(a(0,"pre",10),a(1,"code"),o(2,"from collections import Counter"),d(3,"br"),o(4,"\n                                "),d(5,"br"),o(6,"\nnombreIdentifiants = int(input())\nlisteIdentifiants = [input() for idx in range(nombreIdentifiants)]\noccurences = Counter(listeIdentifiants)\nprint(occurences.most_common(1)[0][0])\n# most_common(N) retourne une liste de N tuples (cl\xe9,valeur) des \xe9l\xe9ments les plus pr\xe9sents\n# on prend donc le premier tuple ([0]) de ce tableau ainsi que la cl\xe9 ([0]) de ce tuple\n"),u(),u())}function iG(t,n){1&t&&(a(0,"pre",36),a(1,"code"),o(2,'#include <iostream>\n#include <map>\n#include "exercise.hpp"'),d(3,"br"),o(4,"\n"),d(5,"br"),o(6),d(7,"br"),o(8,"\n"),d(9,"br"),o(10),u(),u()),2&t&&(K(6),zr("\nContestExerciseImpl::ContestExerciseImpl() : Exercise() ","{","","}",""),K(4),g0("\nvoid ContestExerciseImpl::main() ","{",'\n    int nbIdentifiants;\n    cin>>nbIdentifiants;\n\n    map<string,int> occurences;\n    pair<int,string> res = make_pair(0,"");\n    for(int idx=0;idx<nbIdentifiants;idx++) ',"{","\n        string identifiant;\n        cin>>identifiant;\n        occurences[identifiant]++;\n        res = max(res, make_pair(occurences[identifiant],identifiant));\n    ","}","\n    cout<<res.second;\n","}",""))}function oG(t,n){}Eu.\u0275fac=function(n){return new(n||Eu)(we(Uo))},Eu.\u0275prov=oe({token:Eu,factory:Eu.\u0275fac,providedIn:"root"}),Eu.ngInjectableDef=oe({factory:function(){return new Eu(we(Uo))},token:Eu,providedIn:"root"});const F4=function(){return["far","lightbulb"]};let sG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-isograd-sept"]],decls:1104,vars:143,consts:[[1,"sommaire"],[3,"click"],[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://www.isograd.com/FR/solutionconcours.php?contest_id=65&que_str_id=&reg_typ_id=2"],["href","https://twitter.com/h25io"],["id","principe"],[1,"line-numbers","language-python"],["id","exo1"],["id","exo1Statement"],["id","exo1Solution"],["id","exo1Impl"],["ngbNav","",1,"nav-tabs",3,"navChange"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],["id","exo2"],["id","exo2Statement"],["id","exo2Solution"],["id","exo2Impl"],["nav2","ngbNav"],["id","exo3"],["id","exo3Statement"],[2,"text-align","center"],["src","assets/img/graph.png",2,"width","500px"],["id","exo3SolutionNaive"],[1,"proTip"],[3,"icon"],["id","exo3Impl"],["type","button","aria-controls","collapseExample",1,"btn","btn-outline-primary",3,"click"],["id","collapseExample",3,"ngbCollapse"],[1,"line-numbers","language-cpp"],["id","exo3VraieSolution"],["src","assets/img/MemoUseless.png",2,"width","500px"],["src","assets/img/CycleRoot.png",2,"width","500px"],["id","exo4"],["id","exo4Statement"],["src","assets/img/rectangles.png",2,"width","500px"],["id","exo4Solution"],["id","exo4Impl"],["id","exo4Dyn"],["href","https://tuzepoito.github.io/"],["src","assets/img/PrefixSum.png",2,"width","500px"],["src","assets/img/Intervalles.png",2,"width","500px"],["src","assets/img/2DGrid.png",2,"width","500px"],["src","assets/img/SchemasPixels.png",2,"width","500px"],["id","exo5"],["id","exo5Statement"],["id","exo5Solution"],["src","assets/img/Dfs.png",2,"width","500px"],["id","exo5Impl"],["id","exo5SolutionMemo"],["src","assets/img/DFSMemo.png",2,"width","500px"],["id","exo5ImplMemo"]],template:function(e,r){if(1&e&&(a(0,"section"),a(1,"div",0),a(2,"ul"),a(3,"li"),a(4,"a",1),ge("click",function(){return r.goto(" #introduction")}),o(5,"Introduction"),u(),u(),a(6,"li"),a(7,"a",1),ge("click",function(){return r.goto(" #principe")}),o(8,"Principe du concours"),u(),u(),a(9,"li"),a(10,"a",1),ge("click",function(){return r.goto(" #exo1")}),o(11," Probl\xe8me 1 "),u(),a(12,"ul"),a(13,"li"),a(14,"a",1),ge("click",function(){return r.goto(" #exo1Statement")}),o(15," Enonc\xe9 "),u(),u(),a(16,"li"),a(17,"a",1),ge("click",function(){return r.goto(" #exo1Solution")}),o(18," Solution "),u(),u(),a(19,"li"),a(20,"a",1),ge("click",function(){return r.goto(" #exo1Impl")}),o(21," Impl\xe9mentation "),u(),u(),u(),u(),a(22,"li"),a(23,"a",1),ge("click",function(){return r.goto(" #exo2")}),o(24," Probl\xe8me 2 "),u(),a(25,"ul"),a(26,"li"),a(27,"a",1),ge("click",function(){return r.goto(" #exo2Statement")}),o(28," Enonc\xe9 "),u(),u(),a(29,"li"),a(30,"a",1),ge("click",function(){return r.goto(" #exo2Solution")}),o(31," Solution "),u(),u(),a(32,"li"),a(33,"a",1),ge("click",function(){return r.goto(" #exo2Impl")}),o(34," Impl\xe9mentation "),u(),u(),u(),u(),a(35,"li"),a(36,"a",1),ge("click",function(){return r.goto(" #exo3")}),o(37," Probl\xe8me 3 "),u(),a(38,"ul"),a(39,"li"),a(40,"a",1),ge("click",function(){return r.goto(" #exo3Statement")}),o(41," Enonc\xe9 "),u(),u(),a(42,"li"),a(43,"a",1),ge("click",function(){return r.goto(" #exo3SolutionNaive")}),o(44," Solution concours "),u(),u(),a(45,"li"),a(46,"a",1),ge("click",function(){return r.goto(" #exo3Impl")}),o(47," Impl\xe9mentation "),u(),u(),a(48,"li"),a(49,"a",1),ge("click",function(){return r.goto(" #exo3VraieSolution")}),o(50," Solution compl\xe8te "),u(),u(),u(),u(),a(51,"li"),a(52,"a",1),ge("click",function(){return r.goto(" #exo4")}),o(53," Probl\xe8me 4 "),u(),a(54,"ul"),a(55,"li"),a(56,"a",1),ge("click",function(){return r.goto(" #exo4Statement")}),o(57," Enonc\xe9 "),u(),u(),a(58,"li"),a(59,"a",1),ge("click",function(){return r.goto(" #exo4Solution")}),o(60," Solution "),u(),u(),a(61,"li"),a(62,"a",1),ge("click",function(){return r.goto(" #exo4Impl")}),o(63," Impl\xe9mentation "),u(),u(),a(64,"li"),a(65,"a",1),ge("click",function(){return r.goto(" #exo4Dyn")}),o(66," Solution dynamique "),u(),u(),u(),u(),a(67,"li"),a(68,"a",1),ge("click",function(){return r.goto(" #exo5")}),o(69," Probl\xe8me 5 "),u(),a(70,"ul"),a(71,"li"),a(72,"a",1),ge("click",function(){return r.goto(" #exo5Statement")}),o(73," Enonc\xe9 "),u(),u(),a(74,"li"),a(75,"a",1),ge("click",function(){return r.goto(" #exo5Solution")}),o(76," Solution "),u(),u(),a(77,"li"),a(78,"a",1),ge("click",function(){return r.goto(" #exo5Impl")}),o(79," Impl\xe9mentation "),u(),u(),a(80,"li"),a(81,"a",1),ge("click",function(){return r.goto(" #exo5SolutionMemo")}),o(82," Solution avec m\xe9mo "),u(),u(),a(83,"li"),a(84,"a",1),ge("click",function(){return r.goto(" #exo5ImplMemo")}),o(85," Impl\xe9mentation avec m\xe9mo "),u(),u(),u(),u(),u(),u(),a(86,"div",2),a(87,"div",3),a(88,"h1",4),o(89," Solutions et retour sur le concours Isograd (septembre 2020) "),u(),a(90,"div",5),a(91,"h3",6),o(92,"Hello tout le monde!"),u(),u(),a(93,"div"),o(94," Fin septembre s'est d\xe9roul\xe9 un concours algorithmique organis\xe9 par Isograd, sur le th\xe8me de la s\xe9curit\xe9 informatique. J'ai pu terminer premier malgr\xe9 un duel tr\xe8s serr\xe9, apr\xe8s avoir \xe9t\xe9 devanc\xe9 sur les quatre premiers exercices par le redoutable Nagrarok."),d(95,"br"),d(96,"br"),o(97," Vous pouvez retrouver les diff\xe9rents probl\xe8mes ainsi que le classement ici: "),a(98,"a",7),o(99,"Resultats et probl\xe8mes"),u(),o(100,". "),d(101,"br"),o(102," Si \xe7a vous int\xe9resse de discuter des solutions, ou de l'algorithmique et de la s\xe9curit\xe9 informatique, n'h\xe9sitez pas \xe0 suivre "),a(103,"a",8),o(104,"@h25io"),u(),o(105," sur twitter et \xe0 rejoindre leur discord."),d(106,"br"),d(107,"br"),o(108," Dans cet article, je vais tout d'abord pr\xe9senter rapidement comment fonctionne ce concours, puis je vais passer sur chaque exercice, pour donner mon approche (ce que je regarde au niveau de l'\xe9nonc\xe9, les r\xe9flexes \xe0 avoir), une explication de ma solution durant le concours, ainsi que d'autres variantes et douces r\xeaveries du m\xeame th\xe8me."),d(109,"br"),d(110,"br"),a(111,"h2",9),o(112,"Le concours"),u(),o(113," Le principe du concours \xe9tait le suivant: "),a(114,"ul"),a(115,"li"),o(116," 5 probl\xe8mes de difficult\xe9 croissante \xe0 r\xe9soudre de mani\xe8re s\xe9quentielle (pour passer au probl\xe8me N+1, il fallait d'abord r\xe9soudre enti\xe8rement le probl\xe8me N) "),u(),a(117,"li"),o(118,"Chaque probl\xe8me est dot\xe9: "),a(119,"ul"),a(120,"li"),o(121," D'un \xe9nonc\xe9 donnant le contexte du probl\xe8me, ainsi que le r\xe9sultat attendu "),u(),a(122,"li"),o(123," D'une description des entr\xe9es et sorties (contraintes (ordre de grandeur des diff\xe9rentes valeurs), type des donn\xe9es) "),u(),a(124,"li"),o(125," D'un ou plusieurs exemples (entr\xe9e(s) et sortie(s) attendue(s)) "),u(),u(),u(),u(),d(126,"br"),o(127," A partir de ces informations fournies, l'objectif est de coder un programme dans un langage informatique parmi la multitude propos\xe9e par la plateforme Isograd, qui va: "),a(128,"ul"),a(129,"li"),o(130,"Lire les entr\xe9es sur l'entr\xe9e standard ("),a(131,"code"),o(132,"cin"),u(),o(133," pour C++, "),a(134,"code"),o(135,"scanf"),u(),o(136," pour C, "),a(137,"code"),o(138,"input()"),u(),o(139," pour Python par exemple) "),u(),a(140,"li"),o(141,"Renvoyer sur la sortie standard ("),a(142,"code"),o(143,"cout"),u(),o(144," pour C++, "),a(145,"code"),o(146,"printf"),u(),o(147," pour C, "),a(148,"code"),o(149,"print"),u(),o(150," pour Python ...) la r\xe9ponse correspondante aux entr\xe9es "),u(),u(),d(151,"br"),o(152,' En exemple de probl\xe8me, on pourrait avoir par exemple: "Lire 2 entiers et afficher la somme."'),d(153,"br"),d(154,"br"),o(155," Une solution en pseudocode donnerait"),d(156,"br"),d(157,"br"),a(158,"pre",10),a(159,"code"),o(160,"a = lireEntreeStandard()\nb = lireEntreeStandard()\nafficherSurSortieStandard(a+b)\n"),u(),u(),d(161,"br"),o(162," Bien s\xfbr, cet exemple est tr\xe8s simple, et les probl\xe8mes propos\xe9s durant le concours sont d'un tout autre niveau."),d(163,"br"),d(164,"br"),a(165,"h2",11),o(166,"Probl\xe8me 1:"),u(),d(167,"br"),a(168,"h3",12),o(169," Enonc\xe9 "),u(),o(170,' Pour le probl\xe8me 1, on recevait sur l\'entr\xe9e standard une liste d\'identifiants de badges de s\xe9curit\xe9. Ces identifiants \xe9taient des cha\xeenes de caract\xe8res de 8 chiffres ("00000000", "12345678" par exemple...), et l\'objectif \xe9tait de trouver le seul identifiant qui ne se terminait pas par les caract\xe8res "555".'),d(171,"br"),d(172,"br"),o(173," Par exemple avec l'entr\xe9e:"),d(174,"br"),a(175,"pre",10),a(176,"code"),o(177,"4\n00000555\n12345678\n42840555\n55555555"),u(),u(),o(178," la sortie attendue est la suivante:"),d(179,"br"),a(180,"pre",10),a(181,"code"),o(182,"12345678"),u(),u(),d(183,"br"),o(184," Ce probl\xe8me \xe9tait essentiellement pour se familiariser avec l'IDE web d'Isograd, et \xe9tait donc relativement accessible m\xeame aux plus d\xe9butants."),d(185,"br"),d(186,"br"),a(187,"h3",13),o(188," Solutions "),u(),o(189," Deux types de solutions principales \xe9taient possibles: "),a(190,"ul"),a(191,"li"),o(192,"Soit on it\xe8re manuellement sur la cha\xeene pour v\xe9rifier qu'au moins un des 3 derniers caract\xe8res est bien diff\xe9rent de '5' "),u(),a(193,"li"),o(194,'Soit on utilisait une fonction du langage choisi pour extraire le suffixe constitu\xe9 des 3 derniers caract\xe8res, qu\'on comparait avec la cha\xeene de caract\xe8res "555"'),u(),u(),o(195," La seconde solution \xe9tait plus rapide \xe0 impl\xe9menter, si vous connaissiez d\xe9j\xe0 la fonction vous permettant d'extraire le suffixe."),d(196,"br"),d(197,"br"),o(198," Durant le concours, je n'avais pas vu que la taille des identifiants \xe9tait constante (8 caract\xe8res). J'ai donc g\xe9r\xe9 un cas sp\xe9cial (le cas o\xf9 la cha\xeene faisait moins de 3 caract\xe8res) pour \xe9viter que l'extraction du suffixe ne pose probl\xe8me (suivant la m\xe9thode utilis\xe9e, cela aurait pu extraire un suffixe depuis un indice n\xe9gatif)."),d(199,"br"),d(200,"br"),a(201,"h3",14),o(202,"Impl\xe9mentation"),u(),a(203,"ul",15,16),ge("navChange",function(s){return r.onNavChange(s)}),a(205,"li",17),a(206,"a",18),o(207,"Python"),u(),pe(208,eG,3,0,"ng-template",19),u(),a(209,"li",17),a(210,"a",18),o(211,"C++"),u(),pe(212,tG,11,8,"ng-template",19),u(),a(213,"li",17),a(214,"a",18),o(215,"Cacher"),u(),pe(216,nG,0,0,"ng-template",19),u(),u(),d(217,"div",20),d(218,"br"),a(219,"h2",21),o(220,"Probl\xe8me 2:"),u(),d(221,"br"),a(222,"h3",22),o(223,"Enonc\xe9:"),u(),o(224," Le second probl\xe8me \xe9tait l\xe9g\xe8rement plus complexe:"),d(225,"br"),o(226," On recevait encore une fois une liste d'identifiants, mais cette fois-ci, il fallait trouver l'identifiant le plus pr\xe9sent dans la liste (si plusieurs identifiants \xe9taient repr\xe9sent\xe9s de mani\xe8re maximale, n'importe lequel d'entre eux pouvait \xeatre renvoy\xe9)."),d(227,"br"),o(228," Par exemple, pour : "),a(229,"pre",10),a(230,"code"),o(231,"4\n222\n111\n222\n333"),u(),u(),o(232," La sortie attendue est: "),a(233,"pre",10),a(234,"code"),o(235,"222"),u(),u(),o(236," Mais si l'entr\xe9e \xe9tait : "),a(237,"pre",10),a(238,"code"),o(239,"4\n222\n111\n222\n111"),u(),u(),o(240," On pouvait aussi bien renvoyer "),a(241,"pre",10),a(242,"code"),o(243,"222"),u(),u(),o(244," que "),a(245,"pre",10),a(246,"code"),o(247,"111"),u(),u(),d(248,"br"),a(249,"h3",23),o(250,"Solutions"),u(),o(251," L'\xe9nonc\xe9 ne contenait aucune contrainte sur la taille de la liste. Des immondices auraient donc peut-\xeatre pu passer les tests avec une complexit\xe9 de "),a(252,"code"),o(253,"O(N^2)"),u(),o(254,"."),d(255,"br"),d(256,"br"),o(257," N\xe9anmoins, la solution en complexit\xe9 "),a(258,"code"),o(259,"O(N)"),u(),o(260," (ou "),a(261,"code"),o(262,"O(NlogN)"),u(),o(263," suivant la structure utilis\xe9e) \xe9tait accessible."),d(264,"br"),o(265," Durant le concours, j'ai utilis\xe9 la structure map de la libraire standard C++. Cette structure permet de faire une association entre des cl\xe9s et des valeurs."),d(266,"br"),d(267,"br"),o(268," Gr\xe2ce \xe0 \xe7a, je peux garder en m\xe9moire l'information du nombre de fois pour lequel chaque identifiant a \xe9t\xe9 vu."),d(269,"br"),o(270," En reprenant le premier exemple ci-dessus, ma structure va se mettre \xe0 jour de la fa\xe7on suivante, au cours des it\xe9rations:"),d(271,"br"),a(272,"code"),o(273),u(),d(274,"br"),d(275,"br"),o(276," Il suffit ensuite de parcourir cette structure pour trouver l'\xe9l\xe9ment le plus repr\xe9sent\xe9 ("),a(277,"code"),o(278,'"222"'),u(),o(279,")."),d(280,"br"),d(281,"br"),o(282," En Python, une structure permet de faire \xe7a de mani\xe8re encore plus simplifi\xe9e. Il s'agit de la structure "),a(283,"code"),o(284,"Counter"),u(),o(285," qui est sp\xe9cialis\xe9 dans ce r\xf4le de compter le nombre d'occurences de diff\xe9rentes valeurs."),d(286,"br"),a(287,"h3",24),o(288,"Impl\xe9mentation"),u(),a(289,"ul",15,25),ge("navChange",function(s){return r.onNavChange(s)}),a(291,"li",17),a(292,"a",18),o(293,"Python"),u(),pe(294,rG,7,0,"ng-template",19),u(),a(295,"li",17),a(296,"a",18),o(297,"C++"),u(),pe(298,iG,11,6,"ng-template",19),u(),a(299,"li",17),a(300,"a",18),o(301,"Cacher"),u(),pe(302,oG,0,0,"ng-template",19),u(),u(),d(303,"div",20),a(304,"h2",26),o(305," Exercice 3"),u(),d(306,"br"),a(307,"h3",27),o(308," Enonc\xe9"),u(),d(309,"br"),o(310," Le troisi\xe8me probl\xe8me pr\xe9sentait un "),a(311,"b"),o(312,"ENORME"),u(),o(313," pic de difficult\xe9 par rapport aux deux premiers. Pour un grand nombre de comp\xe9titeurs (j'en fais partie), ce probl\xe8me fut le plus compliqu\xe9 des 5."),d(314,"br"),d(315,"br"),o(316," Pour ce probl\xe8me, on avait en entr\xe9e un "),a(317,"b"),o(318,"graphe dirig\xe9"),u(),o(319," de serveurs reli\xe9s par des arcs. La sp\xe9cificit\xe9 d'un graphe dirig\xe9 \xe9tant que si l'on a un arc qui part d'un noeud A pour arriver \xe0 un autre noeud B, il n'existe pas forc\xe9ment l'arc inverse permettant de partir de B pour arriver \xe0 A."),d(320,"br"),d(321,"br"),o(322," Egalement, d'autres contraintes \xe9taient appliqu\xe9es sur ce graphe: un noeud ne peut avoir qu'un seul pr\xe9decesseur (en d'autres termes, s'il existe un arc "),a(323,"code"),o(324,"A=>B"),u(),o(325,", alors il n'existe pas d'autre noeud X tel qu'il existe un arc "),a(326,"code"),o(327,"X=>B"),u(),o(328,", puisque "),a(329,"code"),o(330,"B"),u(),o(331," ne peut avoir qu'un pr\xe9decesseur)."),d(332,"br"),d(333,"br"),o(334," L'objectif est de trouver le serveur \xe0 partir duquel on peut acc\xe9der au plus grand nombre de serveurs de mani\xe8re directe ou indirecte en suivant les arcs dirig\xe9s. Si plusieurs serveurs sont valides, celui avec l'identifiant le plus petit doit \xeatre donn\xe9."),d(335,"br"),d(336,"br"),o(337," Par exemple, si on a le graphe suivant:"),d(338,"br"),d(339,"br"),a(340,"div",28),d(341,"img",29),u(),d(342,"br"),d(343,"br"),o(344," Alors, les noeuds 1 et 5 ont tous les deux acc\xe8s \xe0 4 serveurs, donc on renvoie le serveur 1 qui a un identifiant plus petit. "),d(345,"br"),d(346,"br"),a(347,"h3",30),o(348," Une premi\xe8re solution, pour un graphe sans cycle"),u(),o(349," Dans un premier temps, on va partir de mon interpr\xe9tation erron\xe9e durant le concours. Mais on verra que ma solution peut \xeatre adapt\xe9e tr\xe8s facilement pour remplir les conditions de l'\xe9nonc\xe9."),d(350,"br"),d(351,"br"),o(352," Ma vision erron\xe9e \xe9tait la suivante: "),a(353,"ul"),a(354,"li"),o(355," Le graphe ne contient pas de cycle "),u(),a(356,"li"),o(357," Un noeud PEUT avoir plusieurs pr\xe9d\xe9cesseurs. "),u(),u(),o(358," Jusqu'\xe0 maintenant, j'ai tr\xe8s peu parl\xe9 de m\xe9thodologie dans l'analyse de l'\xe9nonc\xe9. Les deux premiers probl\xe8mes \xe9tant relativement faciles, les seuls conseils pouvant \xeatre appliqu\xe9s seraient les suivants: "),a(359,"div",31),d(360,"fa-icon",32),a(361,"ul"),a(362,"li"),o(363," Ma\xeetriser la syntaxe de base de son langage (boucle, interaction avec l'entr\xe9e / sortie standard, conditions) "),u(),a(364,"li"),o(365," Conna\xeetre un peu la librairie standard du langage ("),a(366,"code"),o(367,"max"),u(),o(368,", "),a(369,"code"),o(370,"min"),u(),o(371,", "),a(372,"code"),o(373,"sort"),u(),o(374," ...) et les structures de donn\xe9es basiques (tableaux, listes, sets, map...) "),u(),u(),u(),d(375,"br"),o(376," Ici par contre, le probl\xe8me \xe9tant plus ardu, certains r\xe9flexes plus avanc\xe9s permettent d'\xeatre plus efficaces dans la r\xe9solution: "),a(377,"div",31),d(378,"fa-icon",32),a(379,"ul"),a(380,"li"),o(381," En premier lieu, "),a(382,"b"),o(383,"bien regarder les contraintes"),u(),o(384,". Les contraintes nous donnent une id\xe9e de la complexit\xe9 de la solution attendue, et/ou nous permet d'\xe9carter d'autres solutions pour lesquelles la complexit\xe9 sera trop grande."),d(385,"br"),o(386," Habituellement, on consid\xe8re qu'\xe0 partir d'un ordre grandeur de "),a(387,"code"),o(388,"10^8"),u(),o(389," op\xe9rations (cela fluctue un peu), on commence \xe0 s'inqui\xe9ter du fait que notre programme soit assez efficace pour passer avec les limites de temps. "),d(390,"br"),d(391,"br"),u(),a(392,"li"),o(393," Si on a un algorithme qui fait beaucoup d'op\xe9rations, se poser des questions en terme de "),a(394,"b"),o(395,'"n\xe9cessit\xe9"'),u(),o(396," et de "),a(397,"b"),o(398,'"redondance"'),u(),o(399,". "),d(400,"br"),o(401," Calcule-t-on des informations inutiles, en partant par exemple de noeuds qui donneront toujours des r\xe9sultats inutiles? Calcule-t-on plusieurs fois la m\xeame chose? Si oui, est-il possible de conserver les r\xe9sultats pour les r\xe9utiliser? "),u(),u(),u(),o(402," Je me limite \xe0 un nombre restreint de pistes de r\xe9flexion, qui on le verra ensemble, s'appliquent \xe0 ce probl\xe8me."),d(403,"br"),d(404,"br"),o(405," Pour les contraintes, "),a(406,"code"),o(407,"N"),u(),o(408," et "),a(409,"code"),o(410,"M <= 50 000"),u(),o(411,". On peut donc d\xe9j\xe0 (m\xeame si certains comp\xe9titeurs ont eu une solution avec cette complexit\xe9 qui marchait) ignorer toute solution qui serait de complexit\xe9 "),a(412,"code"),o(413,"O(N^2)"),u(),o(414," ou "),a(415,"code"),o(416,"O(M^2)"),u(),o(417," (puisque "),a(418,"code"),o(419,"50000 ^ 2 > 10^9"),u(),o(420,")."),d(421,"br"),d(422,"br"),o(423," Par contre, "),a(424,"code"),o(425,"O(N)"),u(),o(426,", "),a(427,"code"),o(428,"O(M)"),u(),o(429,", "),a(430,"code"),o(431,"O(NlogN)"),u(),o(432," et bien d'autres, sont des complexit\xe9s qui semblent adapt\xe9es au probl\xe8me."),d(433,"br"),d(434,"br"),o(435," Maintenant partons de l'id\xe9e na\xefve, pour exploiter le deuxi\xe8me axe de r\xe9flexion:"),d(436,"br"),a(437,"ul"),a(438,"li"),o(439," On peut partir de chaque noeud"),u(),a(440,"li"),o(441," Faire des appels r\xe9cursifs sur les noeuds fils, petit-fils etc..."),u(),a(442,"li"),o(443," Pour calculer le nombre de noeuds accessibles depuis le noeud initial"),u(),a(444,"li"),o(445," Il suffira de garder le noeud pour lequel on aura le plus grand nombre de noeuds accessibles "),u(),u(),o(446," Cette solution, parfaitement valide, nous pose n\xe9anmoins un souci en terme de complexit\xe9:"),d(447,"br"),o(448," on va it\xe9rer sur chaque noeud, et \xe0 partir de chaque noeud on va explorer tous ses descendants."),d(449,"br"),o(450," On est donc en "),a(451,"code"),o(452,"O(N^2)"),u(),o(453,"."),d(454,"br"),d(455,"br"),o(456," Maintenant appliquons la m\xe9thode d\xe9crite plus haute:"),d(457,"br"),d(458,"br"),a(459,"ul"),a(460,"li"),o(461," N\xe9cessit\xe9: A-t-on "),a(462,"b"),o(463,"besoin"),u(),o(464," de partir de chaque noeud pour v\xe9rifier si ce noeud est le noeud de la r\xe9ponse?"),u(),a(465,"ul"),a(466,"li"),a(467,"b"),o(468,"R\xe9ponse: Non."),u(),o(469," On peut prendre uniquement les noeuds racines sans pr\xe9d\xe9cesseur"),u(),a(470,"li"),o(471,"Si un noeud a un pr\xe9decesseur, son pr\xe9decesseur a forc\xe9ment un nombre de noeuds accessibles strictement sup\xe9rieur (vu qu'on compte \xe9galement le noeud duquel on part comme accessible) "),u(),u(),a(472,"li"),o(473," Redondance: Doit-on "),a(474,"b"),o(475,"\xe0 chaque fois"),u(),o(476," parcourir tous les noeuds de mani\xe8re r\xe9cursive?"),u(),a(477,"ul"),a(478,"li"),a(479,"b"),o(480,"R\xe9ponse: Non."),u(),u(),a(481,"li"),o(482," Si l'on a d\xe9j\xe0 calcul\xe9 le nombre de noeuds accessibles \xe0 partir d'un noeud, ce nombre ne changera pas au fur et \xe0 mesure des appels r\xe9cursifs. "),u(),a(483,"li"),o(484," Il suffit donc de stocker pour chaque noeud cette valeur apr\xe8s l'avoir calcul\xe9e une premi\xe8re fois. "),u(),u(),u(),o(485," Ma solution finale correspond donc simplement \xe0 la "),a(486,"b"),o(487,"solution na\xefve"),u(),o(488,", mais en partant uniquement des "),a(489,"b"),o(490,'noeuds "racines"'),u(),o(491," (sans pr\xe9decesseurs), et en enregistrant pour chaque noeud le nombre de noeuds descendants accessibles."),d(492,"br"),d(493,"br"),a(494,"h3",33),o(495,"Impl\xe9mentation"),u(),d(496,"br"),a(497,"p"),a(498,"button",34),ge("click",function(){return r.isCollapsed2=!r.isCollapsed2}),o(499," Afficher / R\xe9duire le code "),u(),u(),a(500,"div",35),a(501,"pre",36),a(502,"code"),o(503),u(),u(),u(),d(504,"br"),a(505,"h3",37),o(506," Vraie solution (gestion des cycles)"),u(),o(507," Maintenant si on revient \xe0 la vraie version de l'\xe9nonc\xe9, le fait qu'un noeud ne pouvait avoir qu'un seul pr\xe9decesseur rend l'utilisation du stockage des valeurs inutile:"),d(508,"br"),d(509,"br"),o(510," si on part uniquement des noeuds racines on ne passera JAMAIS plusieurs fois par un m\xeame noeud."),d(511,"br"),d(512,"br"),a(513,"div",28),d(514,"img",38),u(),d(515,"br"),o(516," Le second point est qu'il peut y avoir des cycles. Or dans le cas d'un cycle parfait ("),a(517,"code"),o(518,"1 => 2 => 3 => 4 => 1"),u(),o(519," par exemple),il n'existe pas de noeud sans pr\xe9d\xe9cesseur, m\xeame si on respecte la contrainte de graphe dirig\xe9, avec des noeuds n'ayant pas plus d'un pr\xe9d\xe9cesseur."),d(520,"br"),d(521,"br"),o(522," Dans ce cas on a donc aucun parcours r\xe9alis\xe9 avec l'algorithme plus haut."),d(523,"br"),d(524,"br"),o(525," Pour corriger \xe7a, il suffit de faire une premi\xe8re passe classique (en partant des noeuds racines tant qu'on en a), et pour les cycles de partir de l'identifiant le plus faible de chaque cycle."),d(526,"br"),d(527,"br"),o(528," Vu qu'un noeud ne peut avoir qu'un pr\xe9d\xe9cesseur, on ne peut pas avoir de parties du graphe contenant \xe0 la fois au moins un noeud racine et un cycle."),d(529,"br"),a(530,"div",28),d(531,"img",39),u(),d(532,"br"),o(533," Pour la gestion du cycle, il suffit de faire un b\xeate parcours pour en conna\xeetre la taille. Tous les noeuds de ce cycle ont le m\xeame nombre de descendants directs/indirects."),d(534,"br"),d(535,"br"),o(536," Comme on traite les identifiants de mani\xe8re croissante, pour chaque cycle, le seul noeud qui peut correspondre \xe0 la r\xe9ponse sera le noeud \xe0 partir duquel on fait le parcours."),d(537,"br"),d(538,"br"),a(539,"h2",40),o(540," Exercice 4 "),u(),d(541,"br"),a(542,"h3",41),o(543," Enonc\xe9 "),u(),d(544,"br"),o(545," J'ai trouv\xe9 le quatri\xe8me probl\xe8me plut\xf4t original par rapport \xe0 ce que propose habituellement Isograd. Celui-ci a \xe9t\xe9 trouv\xe9 \"p\xe9nible \xe0 impl\xe9menter\" par plusieurs comp\xe9titeurs, mais il existait beaucoup d'impl\xe9mentations diff\xe9rentes, et celle que j'ai choisie n'\xe9tait pas si laide que \xe7a."),d(546,"br"),d(547,"br"),o(548," En entr\xe9e on recevait une liste de cha\xeene de caract\xe8res, qui formaient une grille 2D de pixels avec diff\xe9rentes couleurs (d\xe9not\xe9s par un type de caract\xe8re diff\xe9rent ("),a(549,"code"),o(550,"'#'"),u(),o(551,","),a(552,"code"),o(553," '.'"),u(),o(554,", "),a(555,"code"),o(556,"'!'"),u(),o(557," etc...))."),d(558,"br"),d(559,"br"),o(560,' A partir de cette grille, il fallait retrouver toutes les "formes continues" qui formaient des rectangles de dimension 2x4 ou 4x2, une forme \xe9tant constitu\xe9e de tous les pixels de m\xeame couleur connexes. Si par exemple un rectangle 2x4 d\'une couleur donn\xe9e avait un pixel voisin de la m\xeame couleur, ce pixel fait \xe9galement partie de la forme et invalide la pr\xe9sence du rectangle 2x4.'),d(561,"br"),d(562,"br"),a(563,"div",28),d(564,"img",42),u(),d(565,"br"),a(566,"h3",43),o(567," Solutions "),u(),o(568," Si on utilise la m\xe9thode d'analyse de complexit\xe9 comme pour l'exercice pr\xe9c\xe9dent, on se rend compte que l'on a bien plus de marge de manoeuvre, vu que "),a(569,"code"),o(570,"N"),u(),o(571," et "),a(572,"code"),o(573,"M <= 100"),u(),o(574,". "),a(575,"code"),o(576,"O(N^2*M^2)"),u(),o(577," par exemple resterait une complexit\xe9 \xe0 priori envisageable, \xe0 partir du moment o\xf9 le code est bien optimis\xe9."),d(578,"br"),d(579,"br"),o(580," N\xe9anmoins, il serait presque plus dur de trouver un algorithme avec une si grosse complexit\xe9 qu'un algorithme plus efficace."),d(581,"br"),d(582,"br"),o(583," On va ajouter une r\xe9flexion \xe0 avoir \xe0 notre \xe9ventail de techniques: "),a(584,"div",31),d(585,"fa-icon",32),a(586,"ul"),a(587,"li"),o(588," Si pleins de solutions semblent s'offrir \xe0 vous, toutes de complexit\xe9s acceptables: "),u(),a(589,"ul"),a(590,"li"),o(591," Choisissez le meilleur compromis entre intuition, facilit\xe9 et rapidit\xe9 d'impl\xe9mentation "),u(),u(),u(),u(),o(592," Je vais \xe9voquer 3 types de solutions g\xe9n\xe9rales pour ce probl\xe8me:"),d(593,"br"),d(594,"br"),o(595," La premi\xe8re consistait \xe0 partir de chaque case de la grille, et, en consid\xe9rant que cette case est en haut \xe0 gauche du rectangle, de v\xe9rifier que les autres pixels voisins du rectangles ont une couleur diff\xe9rente, et que les pixels du rectangle ont bien la m\xeame couleur que la case de d\xe9part."),d(596,"br"),d(597,"br"),o(598," C'est une variante de cette solution que beaucoup ont impl\xe9ment\xe9. Personnellement, je trouve cette solution assez p\xe9nible, et s\xfbrement la raison pour laquelle beaucoup de codeurs ont trouv\xe9 l'impl\xe9mentation chronophage."),d(599,"br"),d(600,"br"),o(601," La complexit\xe9 est de l'ordre de "),a(602,"code"),o(603,"N*M*Constante"),u(),o(604,", avec la Constante li\xe9e au nombre de pixels qui sont v\xe9rifi\xe9s pour chaque case de d\xe9part (normalement de l'ordre de "),a(605,"code"),o(606,"2*(tailleRectangle+tailleContour) = 2*(8+12) = 40"),u(),o(607,")."),d(608,"br"),d(609,"br"),o(610," C'est la solution la plus na\xefve, simple intuitivement, qui passe les limites de temps, mais pas la plus simple \xe0 coder."),d(611,"br"),d(612,"br"),o(613," Ma solution est, d'avis personnel, le meilleur compromis (mais c'est d\xe9battable): "),a(614,"ul"),a(615,"li"),o(616,"Relativement intuitive"),u(),a(617,"li"),o(618,"Relativement simple \xe0 coder"),u(),u(),o(619,' De la m\xeame mani\xe8re que la premi\xe8re solution, je parcours la grille s\xe9quentiellement, et \xe0 chaque case "non vide", je r\xe9alise un parcours (floodfill) pour extraire la forme continue dans un vector. Les coordonn\xe9es stock\xe9es sont translat\xe9es par rapport \xe0 la case de d\xe9part (exemple, si on part de '),a(620,"code"),o(621,"(2,2)"),u(),o(622," et qu'on a la forme "),a(623,"code"),o(624,"[(2,2),(2,3),(3,3)]"),u(),o(625," on aura donc "),a(626,"code"),o(627,"[(0,0),(0,1),(1,1)]"),u(),o(628,")."),d(629,"br"),d(630,"br"),o(631," Ensuite, je compare cette forme avec le pattern des deux autres rectangles, que j'aurais initialis\xe9 avec deux boucles imbriqu\xe9es."),d(632,"br"),d(633,"br"),o(634," Si les deux formes ont des tailles diff\xe9rentes, on sait d\xe9j\xe0 qu'il n'y a pas correspondance. Sinon je compare les deux formes pour lesquelles j'aurais au pr\xe9alable tri\xe9 les coordonn\xe9es. Je n'aurai donc qu'\xe0 comparer les coordonn\xe9es une par une."),d(635,"br"),d(636,"br"),o(637," La complexit\xe9 est "),a(638,"code"),o(639,"O(N*M*log(tailleRectangle))"),u(),o(640," (\xe9tant donn\xe9 que je ne visite une case qu'une fois, et que pour chaque forme r\xe9cup\xe9r\xe9e de taille 8, je la trie pour la comparer aux patterns). "),d(641,"br"),d(642,"br"),a(643,"h3",44),o(644," Impl\xe9mentation"),u(),d(645,"br"),a(646,"p"),a(647,"button",34),ge("click",function(){return r.isCollapsed=!r.isCollapsed}),o(648," Afficher / R\xe9duire le code "),u(),u(),a(649,"div",35),a(650,"pre",36),a(651,"code"),o(652),u(),u(),u(),d(653,"br"),d(654,"br"),a(655,"h3",45),o(656," Solution \xe0 base de programmation dynamique et somme de pr\xe9fixes"),u(),o(657," Une derni\xe8re solution, inspir\xe9e de la solution de Tuzepoito ("),a(658,"a",46),o(659,"son blog"),u(),o(660,", qui contient des articles rigolos sur les GAN) (qui malheureusement \xe9tait fausse durant le concours), \xe9tait possible."),d(661,"br"),o(662,' Cette solution exploite une m\xe9thode un peu plus avanc\xe9e, appell\xe9e "Programmation dynamique" (je ne d\xe9taillerai pas le principe de la m\xe9thode dans cet article).'),d(663,"br"),d(664,"br"),o(665," Ici l'id\xe9e est d'utiliser ce qu'on appelle un tableau \xe0 somme de pr\xe9fixes."),d(666,"br"),o(667," Ce genre de tableau stocke tout simplement, pour chaque indice i, la somme des \xe9l\xe9ments d'un tableau dont l'index est inf\xe9rieur ou \xe9gal \xe0 i."),d(668,"br"),d(669,"br"),o(670," Par exemple:"),d(671,"br"),d(672,"br"),a(673,"div",28),d(674,"img",47),u(),d(675,"br"),o(676," avec "),a(677,"code"),o(678,"[1,2,3,3...]"),u(),o(679," le tableau d'entr\xe9e, et "),a(680,"code"),o(681,"[1,3,6,9...]"),u(),o(682," le tableau de somme de pr\xe9fixes construit. "),d(683,"br"),d(684,"br"),o(685," L'int\xe9r\xeat de ce tableau est qu'il se calcule tr\xe8s facilement (une simple passe lin\xe9aire), et qu'\xe0 partir de celui-ci, on peut calculer la somme de n'importe quel intervalle en temps constant."),d(686,"br"),d(687,"br"),a(688,"div",28),d(689,"img",48),u(),d(690,"br"),o(691," On peut \xe9tendre cette id\xe9e \xe0 une grille 2D de la fa\xe7on suivante:"),d(692,"br"),d(693,"br"),a(694,"div",28),d(695,"img",49),u(),d(696,"br"),o(697," La complexit\xe9 sera ici "),a(698,"code"),o(699,"O(N*M)"),u(),o(700," pour initialiser le tableau 2D."),d(701,"br"),d(702,"br"),o(703," Si on ajoute une troisi\xe8me dimension "),a(704,"code"),o(705,"COULEUR"),u(),o(706," \xe0 ce tableau 2D, on peut calculer la somme du nombre de pixels d'une certaine couleur pour chaque rectangle de la grille."),d(707,"br"),d(708,"br"),o(709," L'initialisation de la structure se fera en "),a(710,"code"),o(711,"O(N*M*|COULEUR|)"),u(),o(712," (vu qu'on r\xe9alisera simplement la m\xeame chose que pour la grille 2D, mais pour chaque couleur)."),d(713,"br"),o(714," Ensuite, il suffit de parcourir la grille, et pour chaque case d'une couleur donn\xe9e, v\xe9rifier les sommes de 5 rectangles en temps constant, et ce pour les deux types de rectangles possibles, pour d\xe9terminer si on est bien en pr\xe9sence d'une forme de type rectangle 2x4 / 4x2."),d(715,"br"),d(716,"br"),a(717,"div",28),d(718,"img",50),u(),d(719,"br"),a(720,"h2",51),o(721," Exercice 5 "),u(),a(722,"h3",52),o(723," Enonc\xe9 "),u(),o(724," Le dernier probl\xe8me n'\xe9tait pas trivial, mais \xe9tait relativement classique pour les habitu\xe9s de ce genre de concours."),d(725,"br"),o(726," Nous avions en entr\xe9es: "),a(727,"ul"),a(728,"li"),o(729," Un tableau de 4 valeurs enti\xe8res (correspondant aux "),a(730,"b"),o(731,"valeurs initiales des 4 registres"),u(),o(732,") "),u(),a(733,"li"),o(734," Un tableau de 4 valeurs enti\xe8res (correspondant aux "),a(735,"b"),o(736,"valeurs cibles des 4 registres"),u(),o(737,")"),u(),a(738,"li"),o(739," Une "),a(740,"b"),o(741,"liste d'instructions"),u(),o(742," de 3 types diff\xe9rents: "),a(743,"ul"),a(744,"li"),a(745,"code"),o(746,"ADD A B C"),u(),o(747,", qui avait pour effet d'additionner les registres "),a(748,"code"),o(749,"A"),u(),o(750," et "),a(751,"code"),o(752,"B"),u(),o(753,", en mettant le r\xe9sultat dans le registre "),a(754,"code"),o(755,"C"),u(),u(),a(756,"li"),a(757,"code"),o(758,"MOV A B"),u(),o(759,", qui affectait la valeur du registre "),a(760,"code"),o(761,"B"),u(),o(762," au registre "),a(763,"code"),o(764,"A"),u(),o(765,", puis affectait 0 au registre "),a(766,"code"),o(767,"A"),u(),u(),a(768,"li"),a(769,"code"),o(770,"CPY A B"),u(),o(771,", m\xeame principe que pour le "),a(772,"code"),o(773,"MOV"),u(),o(774,", mais la valeur du registre "),a(775,"code"),o(776,"A"),u(),o(777," n'est pas modifi\xe9e "),u(),u(),o(778," A noter qu'un registre pouvait \xeatre pr\xe9sent plusieurs fois pour une instruction (par exemple "),a(779,"code"),o(780,"ADD A A B => registres[A] = registres[A] + registres[B]"),u(),o(781,") "),u(),u(),o(782," L'objectif \xe9tait de "),a(783,"b"),o(784,"trouver un ensemble d'instructions \xe0 supprimer"),u(),o(785,", de telle sorte que si l'on ex\xe9cute le nouveau programme cr\xe9\xe9 de mani\xe8re s\xe9quentielle en respectant l'ordre donn\xe9 par les entr\xe9es et en partant des registres initiaux, "),a(786,"b"),o(787,"on obtienne en fin d'ex\xe9cution les registres cibles"),u(),o(788,". "),d(789,"br"),d(790,"br"),o(791," Par exemple, si l'on a l'entr\xe9e "),a(792,"pre",10),a(793,"code"),o(794,"1 2 3 4\n1 2 7 7\n4\nADD A B C\nADD C D C\nMOV C D\nCPY C D"),u(),u(),o(795," si l'on supprime la premi\xe8re et troisi\xe8me instruction, on obtient "),a(796,"pre",10),a(797,"code"),o(798,"ADD C D C\nCPY C D"),u(),u(),o(799," ce qui donne comme ex\xe9cution "),a(800,"pre",10),a(801,"code"),o(802,"1 2 3 4 # etat initial\n1 2 7 4 # ADD C D C\n1 2 7 7 # CPY C D"),u(),u(),o(803," qui est donc une solution au probl\xe8me. "),d(804,"br"),d(805,"br"),a(806,"h3",53),o(807," Solution "),u(),d(808,"br"),o(809," Quand je suis arriv\xe9 \xe0 ce probl\xe8me, j'avais \xe9t\xe9 devanc\xe9 pendant tout le long du concours par au moins une personne. En arrivant \xe0 ce dernier probl\xe8me, j'\xe9tais deuxi\xe8me, avec 90 secondes de retard (de souvenir). "),d(810,"br"),o(811," A mes yeux, mon seul espoir de pouvoir d\xe9passer le coquin premier, c'\xe9tait d'avoir un dernier probl\xe8me plut\xf4t compliqu\xe9, et d'avoir tr\xe8s rapidement une bonne intuition que l'autre n'aurait pas eu (ou pas imm\xe9diatement). Malheureusement, en lisant l'\xe9nonc\xe9, je compris que l'on n'\xe9tait pas dans cette situation."),d(812,"br"),o(813," Nous allons comprendre ensemble pourquoi. "),d(814,"br"),d(815,"br"),o(816," Ici encore, nous allons appliquer \xe0 nouveau le premier r\xe9flexe \xe0 avoir dans la majorit\xe9 des cas: "),a(817,"ul"),a(818,"li"),o(819," Quelles sont les contraintes? "),u(),a(820,"li"),o(821," Qu'est ce que cela nous permet de faire? "),u(),u(),o(822," Ici, aucune contrainte sur les valeurs des registres, \xe0 part qu'elles sont enti\xe8res. On va supposer que ces valeurs peuvent \xeatre stock\xe9es dans des int. "),d(823,"br"),o(824," Par contre, on a une contrainte tr\xe8s restrictive : Il y "),a(825,"b"),o(826,"au maximum 20 instructions"),u(),o(827," dans le programme donn\xe9 en entr\xe9e. "),d(828,"br"),o(829," Voyons voir si on peut l'utiliser \xe0 notre avantage... "),d(830,"br"),d(831,"br"),o(832," Lorsque l'on teste toutes les possibilit\xe9s de programme, on peut repr\xe9senter cet espace d'exploration sous la forme d'un arbre:"),d(833,"br"),o(834," Le noeud initial correspond \xe0 l'\xe9tat des registres avant ex\xe9cution du programme, et les feuilles l'\xe9tat des registres apr\xe8s l'ex\xe9cution d'une version de notre programme. "),d(835,"br"),d(836,"br"),o(837," Si pour chaque noeud (sauf feuilles) \xe0 une "),a(838,"b"),o(839,"profondeur d"),u(),o(840,", on associe "),a(841,"b"),o(842,"deux enfants Gauche et Droite"),u(),o(843," (je ne vous conseille pas de choisir ces pr\xe9noms pour votre propre descendance, cela pourrait cr\xe9er des malentendus lors de d\xe9bats politiques), on pourrait associer \xe0 l'arc qui va vers "),a(844,"b"),o(845,"Gauche"),u(),o(846," le fait de ne "),a(847,"b"),o(848," PAS "),u(),o(849," ex\xe9cuter l'instruction d'indice "),a(850,"code"),o(851,"d"),u(),o(852,", et \xe0 l'arc qui va vers "),a(853,"b"),o(854,"Droite"),u(),o(855," le fait d'ex\xe9cuter l'instruction d'indice "),a(856,"code"),o(857,"d"),u(),o(858,". "),a(859,"div",28),d(860,"img",54),u(),d(861,"br"),o(862," Etant donn\xe9 que pour chaque noeud on a \xe0 chaque fois 2 possibilit\xe9s, le nombre de noeuds \xe0 chaque profondeur est \xe9gal \xe0 "),a(863,"code"),o(864," 2 ^ d"),u(),o(865,". On a donc "),a(866,"code"),o(867," 2 ^ N"),u(),o(868," \xe9tats finaux possibles, et "),a(869,"code"),o(870,"2 ^ N + 2 ^ (N - 1) .... + 2 ^ 0"),u(),o(871," noeuds au total dans notre graphe, soit "),a(872,"code"),o(873," 2 ^ (N+1) - 1"),u(),o(874,"."),d(875,"br"),o(876," Or, "),a(877,"code"),o(878," 2^(21) - 1 ~= 2* 10 ^ 6"),u(),o(879,"."),d(880,"br"),o(881," On a donc la possibilit\xe9 de faire ce qu'on appelle un "),a(882,"b"),o(883,"bruteforce"),u(),o(884,", c'est \xe0 dire essayer toutes les possibilit\xe9s en parcourant cet arbre, m\xe9thode tr\xe8s simple \xe0 impl\xe9menter, et qui donc selon moi allait \xeatre cod\xe9e tr\xe8s rapidement par la personne qui me devan\xe7ait. "),d(885,"br"),d(886,"br"),o(887," Personnellement j'ai utilis\xe9 une m\xe9thode assez proche:"),d(888,"br"),o(889," Plut\xf4t que d'avoir un arbre \xe0 parcourir, on peut mod\xe9liser les diff\xe9rentes possibilit\xe9s avec des tableaux de bool\xe9ens."),d(890,"br"),d(891,"br"),o(892," Par exemple, pour un programme avec 3 instructions, "),a(893,"pre",10),a(894,"code"),o(895,"[true, true, true]"),u(),u(),o(896," signifierait que l'on garde toutes les instructions, et "),a(897,"pre",10),a(898,"code"),o(899,"[false, false, false]"),u(),u(),o(900," serait le cas contraire, o\xf9 l'on ne prendrait aucune instruction. "),d(901,"br"),d(902,"br"),o(903,' Si l\'on remplace "true" par 1, et "false" par 0, on peut transformer ces tableaux en masques binaires: '),a(904,"pre",10),a(905,"code"),o(906,"(000) en base 2 = (0) en base 10"),u(),u(),a(907,"pre",10),a(908,"code"),o(909,"(111) en base 2 = (7) en base 10"),u(),u(),d(910,"br"),o(911," Essayer toutes les possibilit\xe9s revient donc \xe0 choisir "),a(912,"b"),o(913,"tous les masques binaires"),u(),o(914," entre "),a(915,"code"),o(916,"(0....0)"),u(),o(917," et "),a(918,"code"),o(919,"(1....1)"),u(),o(920," (soit entre "),a(921,"code"),o(922,"0"),u(),o(923," et "),a(924,"code"),o(925,"2^(N)-1"),u(),o(926,"). "),d(927,"br"),o(928," Puis, pour chacune des possibilit\xe9, simuler l'ex\xe9cution du programme, et v\xe9rifier \xe0 la fin de l'ex\xe9cution si oui ou non, on obtient les registres cibles. "),d(929,"br"),d(930,"br"),o(931," Les avantages: "),a(932,"ul"),a(933,"li"),o(934," On "),a(935,"b"),o(936,"\xe9vite les appels r\xe9cursifs"),u(),o(937,", ces derniers \xe9tant co\xfbteux avec l'utilisation de la stack (et limit\xe9s par d\xe9faut dans le cas de Python) "),u(),a(938,"li"),o(939," C'est... plus rapide \xe0 coder? D\xe9battez-en dans les commentaires "),u(),u(),d(940,"br"),o(941," Les inconv\xe9nients: "),a(942,"ul"),a(943,"li"),a(944,"b"),o(945,"Moins intuitif"),u(),o(946," (l'id\xe9e d'arbre est une repr\xe9sentation avec laquelle on a l'habitude de jongler, par exemple pour les jeux (si je sloubi de 1, il a 2 possibilit\xe9s de croc sloubi ou sloubi kamoulox, mais si j'inverse le tour, et que je casse le debreak des 3, il est forc\xe9 \xe0 caqueter, et j'le baise au tour d'apr\xe8s)) "),u(),a(947,"li"),o(948," Quasi n\xe9gligeable, et le r\xe9cursif p\xe9nalise bien plus: La complexit\xe9 est un peu moins bonne (on perd le backtracking): on passe de ~= 2^(N+1) op\xe9rations \xe0 (2^N)*(N), vu qu'on va it\xe9rer de 0 \xe0 N -1 pour v\xe9rifier si chaque instruction fait partie du masque binaire. "),u(),u(),a(949,"h3",55),o(950," Impl\xe9mentation "),u(),a(951,"p"),a(952,"button",34),ge("click",function(){return r.isCollapsed3=!r.isCollapsed3}),o(953," Afficher / R\xe9duire le code "),u(),u(),a(954,"div",35),a(955,"pre",36),a(956,"code"),o(957),u(),u(),u(),a(958,"h3",56),o(959," La solution du second (d\xe9so) "),u(),o(960," Alors avec tout \xe7a, par quel miracle ais-je termin\xe9 premier?"),d(961,"br"),o(962," Malheureusement, Nagrarok qui avait \xe9t\xe9 plus rapide jusqu'\xe0 ce dernier exercice, a fait une petite erreur d'\xe9tourderie lors de l'\xe9valuation de la complexit\xe9."),d(963,"br"),a(964,"code"),o(965,"(2^N)*(N)"),u(),o(966," passait largement, mais avec un peu de pr\xe9cipitation, le second avait pens\xe9 que ce n'\xe9tait pas le cas."),d(967,"br"),o(968," Mais \xe7a lui a permis de d\xe9velopper une solution int\xe9ressante, et d'\xe9toffer cet article en \xe9voquant sa m\xe9thode. "),d(969,"br"),d(970,"br"),o(971," Sa solution se base sur une m\xe9thode que l'on a d\xe9j\xe0 vu pr\xe9c\xe9demment, qui consistait \xe0 v\xe9rifier si l'on pouvait "),a(972,"b"),o(973,"\xe9viter de calculer plusieurs fois la m\xeame chose"),u(),o(974,"."),d(975,"br"),o(976," En effet, comme pour beaucoup de jeux (\xe9checs, dames ...), on peut obtenir "),a(977,"b"),o(978,"exactement le m\xeame \xe9tat"),u(),o(979,", le m\xeame plateau, mais "),a(980,"b"),o(981,"avec un encha\xeenement d'op\xe9rations diff\xe9rents"),u(),o(982,"."),d(983,"br"),d(984,"br"),o(985," Ici, si l'on reprend l'arbre d'exploration de tout \xe0 l'heure, un \xe9tat correspond \xe0 "),a(986,"ul"),a(987,"li"),o(988," Une profondeur (quelle instruction sommes-nous en train de traiter)"),u(),a(989,"li"),o(990," Des valeurs de registres "),u(),u(),o(991," Si deux noeuds on est les m\xeames valeurs de registres, et que l'on est en train d'essayer les deux possibilit\xe9s (utiliser ou non l'instruction "),a(992,"code"),o(993,"i"),u(),o(994,"), on va avoir un sous-arbre d'exploration identique."),d(995,"br"),o(996," Nous n'avons donc pas raison d'explorer \xe0 nouveau."),d(997,"br"),d(998,"br"),a(999,"div",28),d(1e3,"img",57),u(),d(1001,"br"),o(1002," L'id\xe9e est donc toute b\xeate \xe0 partir du moment o\xf9 l'on se rend compte de \xe7a:"),d(1003,"br"),o(1004," Il suffit d'associer cet \xe9tat \xe0 une "),a(1005,"b"),o(1006,"cl\xe9"),u(),o(1007," (par exemple un tuple de 5 entiers, qui contiendra les 4 valeurs de registres et la profondeur), et d'enregistrer pour ces cl\xe9s form\xe9es le fait d'avoir d\xe9j\xe0 explor\xe9 le sous-arbre constitu\xe9 des descendants de ce noeud."),d(1008,"br"),d(1009,"br"),o(1010," That's it. De la m\xeame fa\xe7on que pour l'exercice 3, on peut utiliser la structure C++ map qui aura la forme suivante :"),d(1011,"br"),a(1012,"code"),o(1013,"map<tuple<int,int,int,int,int>,bool> dejaExplore"),u(),o(1014,". "),d(1015,"br"),d(1016,"br"),o(1017," Maintenant, penchons-nous sur l'analyse du gain de cet algorithme."),d(1018,"br"),o(1019," Nous savons que cela nous permet d'\xe9laguer l'arbre d'exploration, en \xe9vitant d'explorer deux \"branches identiques\". Mais qu'en est-il du pire cas?"),d(1020,"br"),d(1021,"br"),o(1022," Une "),a(1023,"b"),o(1024,"m\xe9thode d'analyse pour les algorithmes \xe0 base de m\xe9mo\xefsation"),u(),o(1025,", qui donne dans beaucoup de cas une bonne estimation de complexit\xe9, est de se baser sur le "),a(1026,"b"),o(1027,"nombre d'\xe9tats uniques possibles"),u(),o(1028," que l'on peut avoir au niveau de l'arbre."),d(1029,"br"),o(1030," En l'occurence, n'ayant aucune contraintes sur les valeurs de registres, on ne peut pas analyser de mani\xe8re fine l'\xe9tendue de l'espace g\xe9n\xe9r\xe9 par les combinaisons d'instructions. Par contre le nombre d'instructions est limit\xe9 \xe0 "),a(1031,"code"),o(1032,"20"),u(),o(1033,". "),d(1034,"br"),d(1035,"br"),o(1036," Donc une limite haute du nombre d'\xe9tat serait de l'ordre de "),a(1037,"code"),o(1038,"|r1|*|r2|*|r3|*|r4|*20"),u(),o(1039,", avec "),a(1040,"code"),o(1041,"|r1|"),u(),o(1042,' la taille du domaine dans lequel le registre r1 prend des valeurs (taille immense pour le cas du type "int"). '),d(1043,"br"),d(1044,"br"),o(1045," Pour chaque \xe9tat, on fait une simple copie des registres (4 valeurs, op\xe9ration que l'on pourrait d'ailleurs encore plus optimiser), on peut donc consid\xe9rer que la complexit\xe9 de cette fonction recursive se r\xe9sume simplement \xe0 prendre:"),d(1046,"br"),a(1047,"code"),o(1048,"min(nombreEtatsUniques,(2^(N+1)-1))"),u(),o(1049," vu que notre arbre binaire ne peut pas avoir plus de "),a(1050,"code"),o(1051,"(2^(N+1)-1)"),u(),o(1052," noeuds explor\xe9s au total."),d(1053,"br"),d(1054,"br"),o(1055," Ce gain peut sembler tr\xe8s faible, mais il faut bien saisir que c'est d'une part une "),a(1056,"b"),o(1057,"limite haute"),u(),o(1058,", et d'autre part qu'elle est utilis\xe9e pour qualifier le "),a(1059,"b"),o(1060,"pire cas possible"),u(),o(1061,"."),d(1062,"br"),o(1063," En pratique, on intuite que l'espace est bien plus restreint: les op\xe9rations qui nous sont donn\xe9s ne permettant pas de partir d'un \xe9tat avec des valeurs tr\xe8s faibles ("),a(1064,"code"),o(1065,"(1,1,1,1)"),u(),o(1066," par exemple) pour arriver \xe0 un \xe9tat diam\xe9tralement oppos\xe9 ("),a(1067,"code"),o(1068,"(1e8,1e8,1e8,1e8)"),u(),o(1069,") en quelques op\xe9rations. "),d(1070,"br"),o(1071,"Une "),a(1072,"b"),o(1073,"progression d\xe9croissante"),u(),o(1074," est \xe9galement "),a(1075,"b"),o(1076,"impossible"),u(),o(1077,", \xe0 part pour atteindre des valeurs nulles (nous n'avons que "),a(1078,"code"),o(1079,"ADD"),u(),o(1080,", pas de "),a(1081,"code"),o(1082,"SUB"),u(),o(1083,". Seul "),a(1084,"code"),o(1085,"MOVE"),u(),o(1086," permet de diminuer un registre vers 0)."),d(1087,"br"),o(1088," Avec quelques exemples, on se rend compte qu'il peut y avoir beaucoup d'intersections au niveau des \xe9tats calcul\xe9s (notamment dans le cas d'un grand nombre d'instructions "),a(1089,"code"),o(1090,'"MOV"'),u(),o(1091," ou "),a(1092,"code"),o(1093,'"CPY"'),u(),o(1094,"). "),a(1095,"h3",58),o(1096," Seconde impl\xe9mentation (avec m\xe9mo\xefsation) "),u(),a(1097,"p"),a(1098,"button",34),ge("click",function(){return r.isCollapsed4=!r.isCollapsed4}),o(1099," Afficher / R\xe9duire le code "),u(),u(),a(1100,"div",35),a(1101,"pre",36),a(1102,"code"),o(1103),u(),u(),u(),u(),u(),u(),u()),2&e){const i=Hr(204),s=Hr(290);K(217),te("ngbNavOutlet",i),K(56),ra(["","{","","}"," => ","{",'"222": 1',"}"," => ","{",'"111": 1, "222": 1',"}"," => ","{",'"111": 1, "222": 2',"}"," => ","{",'"111": 1, "222": 2, "333": 1',"}",""]),K(30),te("ngbNavOutlet",s),K(57),te("icon",au(140,F4)),K(18),te("icon",au(141,F4)),K(120),Ft("aria-expanded",!r.isCollapsed2),K(2),te("ngbCollapse",r.isCollapsed2),K(3),ra(['#include <iostream>\n#include <map>\n#include <vector>\n#include <set>\n#include <algorithm>\n#include "exercise.hpp"\n\nContestExerciseImpl::ContestExerciseImpl() : Exercise() ',"{"," ","}","\n\nmap<int,int> memo;\nint nombreDescendants(int serveur, vector<vector<int> > &listeAdjacence)","{","\n    // Si on a d\xe9j\xe0 calcul\xe9 le nombre de noeuds accessibles depuis le serveur\n    if(memo.find(serveur) != memo.end()) ","{","\n        // On renvoie directement ce nombre\n        return memo[serveur];\n    ","}","\n    // Sinon, on ex\xe9cute les appels r\xe9cursifs sur les noeuds enfants\n    int resultat = 1;\n    for(auto child: listeAdjacence[serveur]) ","{","\n        resultat += nombreDescendants(child, listeAdjacence);\n    ","}","\n    // On enregistre le r\xe9sultat\n    memo[serveur] = resultat;\n    return resultat;\n","}","\n\nvoid ContestExerciseImpl::main() ","{","\n    int nbNodes, nbArcs;\n    cin>>nbNodes>>nbArcs;\n\n    vector<vector<int> > listeAdjacence(nbNodes);\n    set<int> racines;\n\n    for(int c=0;c<nbNodes;c++) racines.insert(c);\n\n    for(int c=0;c<nbArcs;c++) ","{","\n        int from, to;\n        cin>>from>>to;\n        from--;to--;\n        racines.erase(to);\n        listeAdjacence[from].push_back(to);\n    ","}","\n\n    pair<int,int> resultat = make_pair(-1,-1);\n    for(auto serveur: racines) ","{","\n        int taille = nombreDescendants(serveur, listeAdjacence);\n        resultat = max(resultat, make_pair(taille, -serveur));\n    ","}","\n\n    cout<<-resultat.second+1;\n","}","\n               "]),K(82),te("icon",au(142,F4)),K(62),Ft("aria-expanded",!r.isCollapsed),K(2),te("ngbCollapse",r.isCollapsed),K(3),ra(['#include <iostream>\n#include <vector>\n#include <algorithm>\n#include "exercise.hpp"\n\nContestExerciseImpl::ContestExerciseImpl() : Exercise() ',"{","","}","\n\nvoid ContestExerciseImpl::main() ","{","\n    int hauteur, largeur;\n    cin>>hauteur>>largeur;\n    vector<string> grille(hauteur);\n\n    const char VIDE = ' ';\n\n    for(int c=0;c<hauteur;c++) cin>>grille[c];\n\n// Pour calculer les coordonn\xe9es voisines\n    int dx[4]=","{","0,0,1,-1","}",";\n    int dy[4]=","{","1,-1,0,0","}",";\n\n    // Nos deux patterns de rectangles (4x2 et 2x4)\n    vector<vector<pair<int,int> > > patterns(2);\n    for(int x=0;x<4;x++) for(int y=0;y<2;y++) patterns[0].push_back(make_pair(x,y));\n    for(int x=0;x<2;x++) for(int y=0;y<4;y++) patterns[1].push_back(make_pair(x,y));\n\n    sort(patterns[0].begin(),patterns[0].end());\n    sort(patterns[1].begin(),patterns[1].end());\n\n\n    vector<pair<int,int> > resultat;\n\n    for(int x = 0; x < hauteur; x++) ","{","\n        for(int y = 0; y < largeur; y++) ","{","\n            // Si on est pas sur une case vide\n            if(grille[x][y] != VIDE)","{","\n\n                vector<pair<int,int> > parcours(1,make_pair(x,y));\n                vector<pair<int,int> > forme(1,make_pair(0,0));\n\n                // La couleur de notre forme\n                // x,y \xe9tant le sommet en haut \xe0 gauche de la forme\n                char couleurForme = grille[x][y];\n                grille[x][y] = VIDE;\n\n                // Algorithme de parcours classique\n                while(parcours.size() != 0) ","{","\n                    int currentX = parcours.back().first;\n                    int currentY = parcours.back().second;\n\n                    parcours.pop_back();\n\n                    for(int d=0;d<4;d++) ","{","\n                        int newX = dx[d] + currentX;\n                        int newY = dy[d] + currentY;\n\n                        // On v\xe9rifie qu'on reste dans la grille, et qu'on ne traite que les pixels ayant la bonne couleur\n                        if(newX >= 0 && newY >= 0 && newX < hauteur && newY < largeur && grille[newX][newY] == couleurForme) ","{","\n                            forme.push_back(make_pair(newX - x, newY - y));\n                            parcours.push_back(make_pair(newX, newY));\n                            grille[newX][newY] = VIDE;\n                        ","}","\n                    ","}","\n                ","}","\n\n                // Si l'on a un nombre de pixels \xe9gal au nombre de pixels d'un rectangle 2x4 ou 4x2\n                if(forme.size() == 8)","{","\n                    sort(forme.begin(),forme.end());\n\n                    // On compare les coordonn\xe9es\n                    for(int p = 0; p < 2; p++) ","{","\n                        bool correspond = true;\n                        for(int i = 0; i < forme.size(); i++) ","{","\n                            if(forme[i].first != patterns[p][i].first || forme[i].second != patterns[p][i].second) ","{","\n                                correspond = false;\n                                break;\n                            ","}","\n                        ","}","\n                        // Si \xe7a match, on ajoute \xe0 notre r\xe9ponse\n                        if(correspond) ","{","\n                            resultat.push_back(make_pair(x,y));\n                            // Si le premier pattern correspond, on peut gagner un peu d'instructions\n                            // en \xe9vitant de comparer avec le second pattern\n                            break;\n                        ","}","\n                    ","}","\n                ","}","\n            ","}","\n        ","}","\n    ","}","\n\n    // On affiche le nombre de rectangles trouv\xe9s\n    cout<<resultat.size()<<endl;\n    for(auto coordonnee: resultat) ","{",'\n        // On ajoute 1 vu qu\'on faisait du 0-index, mais que la solution attendue est en 1-index\n        cout<<coordonnee.first+1<<" "<<coordonnee.second+1<<"\\n";\n    ',"}","\n","}","\n               "]),K(300),Ft("aria-expanded",!r.isCollapsed3),K(2),te("ngbCollapse",r.isCollapsed3),K(3),ra(['#include <iostream>\n#include <vector>\n#include "exercise.hpp"\n\nContestExerciseImpl::ContestExerciseImpl() : Exercise() ',"{","","}",'\n\n// Fonction utilitaire qui nous transforme par exemple "ADD A B C" en ',"{",'"ADD","A","B","C"\nvector<string> split(string s) ',"{",'\n    s += " ";\n    string current = "";\n    vector<string> res;\n    for(int c=0;c<s.size();c++)',"{","\n        if(s[c] == ' ') ","{",'\n            if(current.size()) res.push_back(current);\n            current = "";\n        ',"}"," else ","{","\n            current += s[c];\n        ","}","\n    ","}","\n    return res;\n","}","\n\n\nvoid ContestExerciseImpl::main() ","{","\n    int nombreInstructions;\n    cin>>nombreInstructions;\n    \n    vector<int> registresInitiaux(4);\n    vector<int> registresCibles(4);\n    \n    vector<vector<string> > instructions(nombreInstructions);\n    \n    for(int c=0;c<4;c++) cin>>registresInitiaux[c];\n    cin.ignore();\n    for(int c=0;c<nombreInstructions;c++) ","{","\n        string line;\n        getline(cin,line);\n        instructions[c] = split(line);\n    ","}","\n    \n    for(int c=0;c<4;c++) cin>>registresCibles[c];\n    \n    // On it\xe8re sur tous les masks entre 0 et 2^N-1\n    for(int mask = 0; mask < (1<<nombreInstructions); mask++) ","{","\n        vector<int> registresExecution(4);\n        copy(registresInitiaux.begin(),registresInitiaux.end(),registresExecution.begin());\n        for(int i = 0; i < nombreInstructions; i++) ","{","\n            // Si le i\xe8me bit est \xe0 1, on prend l'instruction\n            if((1<<i) & mask) ","{",'\n                vector<string> words = instructions[i];\n                \n                if(words[0] == "ADD") ',"{","\n                    int r1 = words[1][0] - 'A';\n                    int r2 = words[2][0] - 'A';\n                    int r3 = words[3][0] - 'A';\n                    registresExecution[r3] = registresExecution[r1]+registresExecution[r2];\n                ","}",' else if (words[0] == "MOV") ',"{","\n                    int r1 = words[1][0] - 'A';\n                    int r2 = words[2][0] - 'A';\n                    registresExecution[r2] = registresExecution[r1];\n                    registresExecution[r1] = 0;\n                ","}",' else if (words[0] == "CPY") ',"{","\n                    int r1 = words[1][0] - 'A';\n                    int r2 = words[2][0] - 'A';\n                    registresExecution[r2] = registresExecution[r1];\n                ","}","\n            ","}","\n        ","}","\n        bool valide = true;\n        // On compare les registres obtenus avec les registres cibles\n        for(int rIdx = 0; rIdx < 4; rIdx ++) ","{","\n            if(registresExecution[rIdx] != registresCibles[rIdx]) ","{","\n                valide = false;\n                break;\n            ","}","\n        ","}","\n        if(valide) ","{","\n            for(int i = 0; i < nombreInstructions; i++) ","{",'\n                // On affiche uniquement les identifiants des instructions supprim\xe9es (bit \xe0 0)\n                if((1<<i) & mask) continue;\n                cout<<(i+1)<<" ";\n            ',"}","\n            return;\n        ","}","\n    ","}","\n","}","\n               "]),K(141),Ft("aria-expanded",!r.isCollapsed4),K(2),te("ngbCollapse",r.isCollapsed4),K(3),ra(['#include <iostream>\n#include <vector>\n#include <map>\n#include "exercise.hpp"\n\nContestExerciseImpl::ContestExerciseImpl() : Exercise() ',"{","","}",'\n\n// Fonction utilitaire qui nous transforme par exemple "ADD A B C" en ',"{",'"ADD","A","B","C"',"}","\nvector<string> split(string s) ","{",'\n    s += " ";\n    string current = "";\n    vector<string> res;\n    for(int c=0;c<s.size();c++)',"{","\n        if(s[c] == ' ') ","{",'\n            if(current.size()) res.push_back(current);\n            current = "";\n        ',"}"," else ","{","\n            current += s[c];\n        ","}","\n    ","}","\n    return res;\n","}","\n\nvector<int> registresCibles(4);\nvector<vector<string> > instructions;\n\nmap<tuple<int,int,int,int,int>,bool> alreadyExplore;\nbool recursion(int indice, vector<int> &registres, int currentMask) ","{","\n    \n    tuple<int,int,int,int,int> signature = make_tuple(indice,registres[0],registres[1],registres[2],registres[3]);\n    if(alreadyExplore.find(signature) != alreadyExplore.end()) ","{","\n        return false;\n    ","}","\n    \n    // Si on a d\xe9pass\xe9 la derni\xe8re instruction, on v\xe9rifie si on a le bon \xe9tat\n    if(indice >= instructions.size()) ","{","\n        for(int i=0;i<4;i++) ","{","\n            if(registres[i] != registresCibles[i]) return false;\n        ","}","\n        // On est content, on affiche les instructions supprim\xe9es\n        for(int i = 0; i < instructions.size(); i++) ","{",'\n            if((1<<i) & currentMask) continue;\n            cout<<(i+1)<<" ";\n        ',"}","\n        return true;\n    ","}","\n    \n    \n    // Cas o\xf9 l'on ignore l'instruction\n    if(recursion(indice+1,registres,currentMask))","{","\n        return true;\n    ","}","\n    // Cas o\xf9 l'on ex\xe9cute l'instruction\n    vector<string> words = instructions[indice];\n    vector<int> registresCopy(4);\n    copy(registres.begin(),registres.end(),registresCopy.begin());\n    if(words[0] == \"ADD\") ","{","\n        int r1 = words[1][0] - 'A';\n        int r2 = words[2][0] - 'A';\n        int r3 = words[3][0] - 'A';\n        registres[r3] = registres[r1]+registres[r2];\n    ","}",' else if (words[0] == "MOV") ',"{","\n        int r1 = words[1][0] - 'A';\n        int r2 = words[2][0] - 'A';\n        registres[r2] = registres[r1];\n        registres[r1] = 0;\n    ","}",' else if (words[0] == "CPY") ',"{","\n        int r1 = words[1][0] - 'A';\n        int r2 = words[2][0] - 'A';\n        registres[r2] = registres[r1];\n    ","}","\n    if(recursion(indice+1,registres,currentMask | (1<<indice)))","{","\n        return true;\n    ","}","\n    \n    // On remet nos registres dans le m\xeame \xe9tat qu'avant application de l'instruction pour \"ne pas polluer notre arbre r\xe9cursif\"\n    // (cf backtracking)\n    copy(registresCopy.begin(),registresCopy.end(),registres.begin());\n    \n    // On peut ignorer la mise \xe0 jour du m\xe9mo dans le cas d'un retour \"true\"\n    // \xe9tant donn\xe9 qu'un retour nous fera sortir de tous les appels r\xe9cursifs directement\n    // d\xfb aux conditions des lignes 49 et 71\n    alreadyExplore[signature] = true;\n    return false;\n","}","\n\n\nvoid ContestExerciseImpl::main() ","{","\n    int nombreInstructions;\n    cin>>nombreInstructions;\n    registresCibles.resize(4);\n    vector<int> registresInitiaux(4);\n    instructions.resize(nombreInstructions);\n    \n    for(int c=0;c<4;c++) cin>>registresInitiaux[c];\n    cin.ignore();\n    for(int c=0;c<nombreInstructions;c++) ","{","\n            string line;\n            getline(cin,line);\n            instructions[c] = split(line);\n    ","}","\n    \n    for(int c=0;c<4;c++) cin>>registresCibles[c];\n    \n    recursion(0,registresInitiaux,0);\n","}","\n               "])}},directives:[Zf,Kf,tx,a4,nx,o1,ZU],styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),aG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day1_2"]],decls:380,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day1_part1"],["href","https://adventofcode.com/2020/day/1"],["id","day1_part1_statement"],["id","day1_part1_solution_naive"],[1,"line-numbers","language-python"],["id","day1_part_1_other_solutions"],["id","day1_part_1_other_solutions_dichotomie"],[2,"text-align","center"],["src","assets/img/Dichotomie.png",2,"width","500px"],["id","day1_part_1_hash"],["id","day1_part2_statement"],["id","day1_part2_solutions"],["href","https://adventofcode.com/2020/day/2"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jours 1 \xe0 2) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article est (en th\xe9orie) le premier d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 1, partie 1:"),u(),u(),d(27,"br"),a(28,"h3",8),o(29," Enonc\xe9 "),u(),o(30," Le premier probl\xe8me consiste \xe0 trouver dans une liste de nombres, deux nombres diff\xe9rents de telle sorte que la somme de ces deux derniers donnent 2020. Ces deux nombres doivent ensuite \xeatre multipli\xe9s pour obtenir la valeur \xe0 soumettre. "),d(31,"br"),d(32,"br"),a(33,"h3",9),o(34," Solution Na\xefve "),u(),o(35," Une premi\xe8re solution na\xefve consiste simplement \xe0 it\xe9rer sur chaque pair d'\xe9l\xe9ments. "),d(36,"br"),o(37," Cette solution donne une complexit\xe9 de "),a(38,"code"),o(39,"O(N\xb2)"),u(),o(40," qui \xe9tait largement suffisante au vu de la taille des entr\xe9es. "),d(41,"br"),d(42,"br"),a(43,"pre",10),a(44,"code"),o(45,"import sys\n\nlines = open('input1.txt')\nvalues = [int(line) for line in lines]\nfor i in range(len(values)):\n    # i+1 nous permet d'optimiser l\xe9g\xe8rement,\n    # pour \xe9viter de tester dans les deux sens les paires (a,b) et (b,a)\n    # Egalement, en commen\xe7ant \xe0 i+1, on \xe9vite implicitement de prendre des paires de la forme (a,a)\n    for j in range(i+1, len(values)):\n        a, b = values[i], values[j]\n        if(a+b == 2020):\n            print(a*b)\n            sys.exit(0)"),u(),u(),a(46,"h3",11),o(47,"Solution avec tri"),u(),o(48," Une autre solution pouvait consister \xe0 trier la liste des valeurs. "),d(49,"br"),o(50," Gr\xe2ce \xe0 ce tri initial, on pouvait obtenir deux autres solutions, mais ces deux solutions reposent sur le m\xeame principe: "),d(51,"br"),d(52,"br"),o(53," It\xe9rer sur la liste, et pour chaque valeur V, v\xe9rifier si la valeur "),a(54,"code"),o(55,"2020 - V"),u(),o(56," existe dans la liste. "),a(57,"h4",12),o(58,"Solution par dichotomie"),u(),o(59," Une premi\xe8re possibilit\xe9 serait simplement de faire une recherche dichotomique dans la liste. "),d(60,"br"),o(61," Une recherche dichotomique (ou binaire) consiste en une recherche sur intervalle que l'on r\xe9duit de plus en plus jusqu'\xe0 obtenir un intervalle de taille 1 qui contient la solution. "),d(62,"br"),d(63,"br"),o(64," Ici, comme on a une liste tri\xe9e, si l'on prend un \xe9l\xe9ment "),a(65,"code"),o(66,"V2"),u(),o(67," au hasard dans la liste et que celui-ci est plus petit que "),a(68,"code"),o(69,"2020-V"),u(),o(70,", on sait d'avance que tous les \xe9l\xe9ments avant seront forc\xe9ments \xe9galement inf\xe9rieurs \xe0 "),a(71,"code"),o(72,"2020-V"),u(),o(73,", et donc ne nous int\xe9ressants pas. On peut donc restreindre l'intervalle de recherche aux \xe9l\xe9ments apr\xe8s "),a(74,"code"),o(75,"V2"),u(),o(76,". "),d(77,"br"),o(78," Inversement, si "),a(79,"code"),o(80,"V2"),u(),o(81," est sup\xe9rieur, tous les \xe9l\xe9ments apr\xe8s "),a(82,"code"),o(83,"V2"),u(),o(84," sont forc\xe9ment trop grands. De la m\xeame fa\xe7on, on restreint l'intervalle de recherche aux \xe9l\xe9ments avant "),a(85,"code"),o(86,"V2"),u(),o(87,". "),d(88,"br"),o(89," Bien entendu, si "),a(90,"code"),o(91,"V2"),u(),o(92," est \xe9gal \xe0 "),a(93,"code"),o(94,"2020-V"),u(),o(95,", alors on a trouv\xe9 une paire "),a(96,"code"),o(97,"(V2,V)"),u(),o(98," de telle sorte que "),a(99,"code"),o(100,"V+V2 == 2020"),u(),o(101,", on peut donc couper court \xe0 la dichotomie. "),d(102,"br"),d(103,"br"),o(104," Si \xe0 la place de prendre cet \xe9l\xe9ment "),a(105,"code"),o(106,"V2"),u(),o(107," compl\xe8tement au hasard, et qu'on prend celui-ci au milieu de l'intervalle courant, on r\xe9duit \xe0 chaque it\xe9ration de moiti\xe9 l'intervalle de recherche. "),d(108,"br"),d(109,"br"),o(110," Si "),a(111,"code"),o(112,"N"),u(),o(113," est la taille de l'intervalle initiale, on aura donc un intervalle de taille "),a(114,"code"),o(115,"N/2"),u(),o(116,", puis "),a(117,"code"),o(118,"N/4"),u(),o(119,", "),a(120,"code"),o(121,"N/8"),u(),o(122," etc... jusqu'\xe0 ce que "),a(123,"code"),o(124,"N/(2^x) = 1"),u(),o(125,", avec "),a(126,"code"),o(127,"x"),u(),o(128," le nombre d'it\xe9rations r\xe9alis\xe9es. "),d(129,"br"),o(130," Or, "),a(131,"code"),o(132,"N/(2^x) = 1 <=> N = 2^x <=> x = log2(N)"),u(),o(133,". "),d(134,"br"),o(135," D'o\xf9 la complexit\xe9 de "),a(136,"code"),o(137,"O(log N)"),u(),o(138,". "),d(139,"br"),d(140,"br"),o(141," Comme on r\xe9alise cette dichotomie dans le pire des cas pour chaque valeur "),a(142,"code"),o(143,"V"),u(),o(144," de la liste, on a donc une complexit\xe9 globale de "),a(145,"code"),o(146,"O(N log N)"),u(),o(147,". "),a(148,"div",13),d(149,"img",14),u(),d(150,"br"),d(151,"br"),a(152,"pre",10),a(153,"code"),o(154,"import sys\nlines = open('input1.txt')\nvalues = [int(line) for line in lines]\nvalues.sort()\nfor i in range(len(values)):\n    V1 = values[i]\n    limiteGauche, limiteDroite = 0, len(values)-1\n    while(limiteGauche < limiteDroite):\n        milieu = (limiteDroite + limiteGauche)//2\n        V2 = values[milieu]\n        if(V2 > 2020-V1):\n            limiteDroite = milieu-1\n        elif(V2 < 2020-V1):\n            limiteGauche = milieu+1\n        else:\n            limiteGauche = limiteDroite = milieu\n    if(limiteGauche < len(values)):\n        V2 = values[limiteGauche]\n        if(V1+V2 == 2020):\n            print(V1*V2)\n            sys.exit(0)"),u(),u(),d(155,"br"),d(156,"br"),a(157,"h4",12),o(158,"Solution avec deux pointeurs"),u(),o(159," Une solution ressemblant un peu \xe0 celle que l'on vient de faire pourrait consister en l'utilisation de deux pointeurs sur la liste tri\xe9e \xe0 l'int\xe9rieur de deux boucles imbriqu\xe9es "),d(160,"br"),d(161,"br"),o(162," Le pointeur \xe0 gauche serait initialis\xe9 \xe0 "),a(163,"code"),o(164,"0"),u(),o(165," et le pointeur \xe0 droite \xe0 "),a(166,"code"),o(167,"N-1"),u(),o(168,". Le pointeur \xe0 gauche serait increment\xe9 apr\xe8s chaque it\xe9ration de la boucle externe, et la valeur point\xe9e sera appell\xe9e "),a(169,"code"),o(170,"V1"),u(),o(171,". Le pointeur \xe0 droite, de mani\xe8re similaire \xe0 ce que l'on faisait pour la dichotomie, a pour but de rechercher la valeur "),a(172,"code"),o(173,"2020 - V2"),u(),o(174,". Pour ce faire, on d\xe9cr\xe9mente le pointeur de droite jusqu'\xe0 ce que la valeur point\xe9e soit inf\xe9rieure ou \xe9gale \xe0 "),a(175,"code"),o(176,"2020 - V2"),u(),o(177,". "),d(178,"br"),d(179,"br"),o(180," D\xfb au tri r\xe9alis\xe9, les pointeurs ne sont d\xe9plac\xe9s que dans une unique direction. On a donc au maximum "),a(181,"code"),o(182,"N"),u(),o(183," d\xe9placements vers la droite du pointeur de gauche (pour tester toutes les valeurs "),a(184,"code"),o(185,"V1"),u(),o(186,"), et "),a(187,"code"),o(188,"N"),u(),o(189," d\xe9placements vers la gauche du pointeur de droite (pour chercher les valeurs "),a(190,"code"),o(191,"2020-V1"),u(),o(192,"). "),d(193,"br"),d(194,"br"),o(195," On a tout de m\xeame une complexit\xe9 en O(N log N) et non O(N), d\xfb au tri pr\xe9alable n\xe9cessaire. "),d(196,"br"),d(197,"br"),o(198," On peut introduire une l\xe9g\xe8re optimisation, pour ne pas continuer \xe0 boucler \xe0 partir du moment o\xf9 le pointeur de gauche passe \xe0 droite du pointeur de droite, car, les tests qui seront faits ult\xe9rieurements correspondent \xe0 la sym\xe9trique des tests pr\xe9c\xe9demment effectu\xe9s. "),d(199,"br"),d(200,"br"),a(201,"pre",10),a(202,"code"),o(203,"import sys\n\nlines = open('input1.txt')\nvalues = [int(line) for line in lines]\nvalues.sort()\ndroite = len(values)-1\nfor gauche in range(len(values)):\n    while(droite > gauche and values[droite] + values[gauche] > 2020):\n        droite -= 1\n    if(values[droite]+values[gauche] == 2020):\n        print(values[droite]*values[gauche])\n        sys.exit(0)"),u(),u(),a(204,"h3",15),o(205,"Solution avec hash"),u(),o(206," Une derni\xe8re solution consiste \xe0 utiliser un tableau de bool\xe9en ou une structure de type hashage pour simplement stocker les diff\xe9rentes valeurs existantes et pouvoir acc\xe9der \xe0 celles-ci efficacement. "),d(207,"br"),d(208,"br"),o(209," On it\xe8re une premi\xe8re fois sur la liste pour remplir cette structure, puis on it\xe8re une seconde fois sur les diff\xe9rentes valeurs "),a(210,"code"),o(211,"V1"),u(),o(212,", en v\xe9rifiant que pour chacune de ces valeurs s'il existe "),a(213,"code"),o(214,"2020-V1"),u(),o(215," dans la structure pr\xe9remplie. "),d(216,"br"),d(217,"br"),o(218," Si la structure utilis\xe9e pr\xe9sente un co\xfbt constant en mise \xe0 jour et lecture, la complexit\xe9 passe donc \xe0 "),a(219,"code"),o(220,"O(N)"),u(),o(221,". "),d(222,"br"),d(223,"br"),a(224,"pre",10),a(225,"code"),o(226,"import sys\n\nlines = open('input1.txt')\nvalues = [int(line) for line in lines]\nh = dict()\nfor v in values:\n    h[v] = 1\nfor v in values:\n    if(2020-v in h):\n        print((2020-v)*v)\n        sys.exit(0)"),u(),u(),d(227,"br"),d(228,"br"),a(229,"h2",6),a(230,"a",7),o(231,"Jour 1, partie 2:"),u(),u(),d(232,"br"),a(233,"h3",16),o(234," Enonc\xe9 "),u(),o(235," La partie 2 du premier jour nous demandait de faire la m\xeame chose que pour la partie 1, mais avec 3 \xe9l\xe9ments \xe0 la place de 2. "),d(236,"br"),o(237," Comme pour la partie 1, il fallait ensuite retourner le produit de ces 3 \xe9l\xe9ments. "),a(238,"h3",17),o(239," Solutions "),u(),o(240," Je passerai rapidement sur les solutions de cette seconde partie, \xe9tant donn\xe9 que ce sont les m\xeames types de solutions que pour la partie 1. En effet, il suffit pour chacune des solutions pr\xe9c\xe9dentes d'ajouter une boucle pour it\xe9rer sur toutes les pairs "),a(241,"code"),o(242,"(V1,V2)"),u(),o(243,", et d'appliquer les diff\xe9rentes id\xe9es plus hauts pour trouver la valeur "),a(244,"code"),o(245," 2020 - (V1+V2)"),u(),o(246,". On a donc : "),a(247,"ul"),a(248,"li"),o(249,"Pour la solution na\xefve: une complexit\xe9 de "),a(250,"code"),o(251,"O(N^3)"),u(),u(),a(252,"li"),o(253,"Pour la solution \xe0 base de dichotomie: une complexit\xe9 de "),a(254,"code"),o(255,"O(N^2 log N)"),u(),u(),a(256,"li"),o(257,"Pour la solution \xe0 base de hash: une complexit\xe9 de "),a(258,"code"),o(259,"O(N^2)"),u(),u(),a(260,"li"),o(261,"Pour la solution avec 2 pointeurs: une complexit\xe9 de "),a(262,"code"),o(263,"O(N^2)"),u(),u(),u(),o(264," Plot-twist! vous attendiez "),a(265,"code"),o(266,"O(N^2 log N)"),u(),o(267," pour la solution avec 2 pointeurs, n'est-ce pas?"),d(268,"br"),d(269,"br"),o(270," Mais rappelez-vous: le "),a(271,"code"),o(272,"log N"),u(),o(273," provenait du pr\xe9tri, et non pas du processus de recherches."),d(274,"br"),d(275,"br"),o(276," En l'occurence, apr\xe8s avoir fix\xe9 V1 et en it\xe9rant avec nos pointeurs, on aura bien "),a(277,"code"),o(278,"O(N^2)"),u(),o(279,"."),d(280,"br"),o(281," Par la d\xe9finition de la complexit\xe9, le "),a(282,"code"),o(283,"O(N log N)"),u(),o(284,' est "absorb\xe9" par le '),a(285,"code"),o(286,"O(N^2)"),u(),o(287,". "),d(288,"br"),d(289,"br"),a(290,"h2",6),a(291,"a",18),o(292,"Jour 2, partie 1:"),u(),u(),d(293,"br"),a(294,"h3",16),o(295," Enonc\xe9 "),u(),o(296," Pour le second jour, nous avions une liste de contraintes et de passwords sous la forme suivante: [minimum]-[maximum] [caract\xe8re]: [password] Avec minimum et maximum deux valeurs enti\xe8res. Pour la premi\xe8re partie, il fallait compter le nombre de passwords qui avaient au moins [minimum] occurences de [caract\xe8re] et au plus [maximum] occurrences. Par exemple, pour "),a(297,"pre",10),a(298,"code"),o(299,"1-3 a: abcdab"),u(),u(),o(300," abcdab remplit la condition d'avoir au moins 1 et au maximum 3 caract\xe8res 'a', vu qu'il en a 2. "),a(301,"h3",17),o(302," Solutions "),u(),o(303," Encore une fois, une solution na\xefve permet de r\xe9soudre ce probl\xe8me sans aucune difficult\xe9."),d(304,"br"),o(305," La difficult\xe9 venait essentiellement du parsing des entr\xe9es."),d(306,"br"),d(307,"br"),o(308," N\xe9anmoins, on pourra tout de m\xeame souligner deux types principales de solutions. "),d(309,"br"),d(310,"br"),o(311," Le premier type consiste simplement \xe0 it\xe9rer sur les passwords, et \xe0 compter le nombre d'occurences du caract\xe8re recherch\xe9. "),d(312,"br"),d(313,"br"),a(314,"pre",10),a(315,"code"),o(316,"import re\n\nlines = open('input2.txt')\nr = re.compile(r'([0-9]+)-([0-9]+) ([a-z]): ([a-z]+)')\nres = 0\nfor line in lines:\n    m = r.match(line)\n    (minimum, maximum, car, password) = m.groups()\n    minimum, maximum = int(minimum), int(maximum)\n    compte = 0\n    for i in range(len(password)):\n        if(password[i] == car):\n            compte += 1\n    if(compte >= minimum and compte <= maximum):\n        res += 1\nprint(res)"),u(),u(),d(317,"br"),d(318,"br"),o(319," Le second type de solution plus \xe9l\xe9gant consiste \xe0 utiliser des fonctions sp\xe9cifiques du langage pour compter automatiquement les occurences. "),a(320,"pre",10),a(321,"code"),o(322,"import re\n                    \nlines = open('input2.txt')\nr = re.compile(r'([0-9]+)-([0-9]+) ([a-z]): ([a-z]+)')\nres = 0\nfor line in lines:\n    m = r.match(line)\n    (minimum, maximum, car, password) = m.groups()\n    minimum, maximum = int(minimum), int(maximum)\n    compte = password.count(car)\n    if(compte >= minimum and compte <= maximum):\n        res += 1\nprint(res)"),u(),u(),d(323,"br"),d(324,"br"),a(325,"h2",6),a(326,"a",18),o(327,"Jour 2, partie 2:"),u(),u(),d(328,"br"),a(329,"h3",16),o(330," Enonc\xe9 "),u(),o(331," La partie 2 change les r\xe8gles de v\xe9rifications de password. "),d(332,"br"),o(333," Ici aussi on doit compter le nombre de passwords qui r\xe9pondent aux contraintes. Mais \xe0 la place de faire la v\xe9rification du nombre d'occurences, on doit consid\xe9rer les contraintes sous la forme suivante: "),d(334,"br"),a(335,"code"),o(336,"[idx1]-[idx2] [caract\xe8re]: [password]"),u(),d(337,"br"),o(338," qui expriment qu'exactement un seul des deux caract\xe8res "),a(339,"code"),o(340,"password[idx1]"),u(),o(341," et "),a(342,"code"),o(343,"password[idx2]"),u(),o(344," est \xe9gal \xe0 "),a(345,"code"),o(346,"[caract\xe8re]"),u(),o(347,". "),d(348,"br"),d(349,"br"),a(350,"h3",17),o(351," Solutions "),u(),o(352," Ici, on a un simple probl\xe8me de logique bool\xe9enne. "),d(353,"br"),o(354," Tr\xe8s na\xefvement, on peut exprimer cette nouvelle contrainte ainsi: "),d(355,"br"),a(356,"code"),o(357," (password[idx1] == caract\xe8re et password[idx2] != caract\xe8re) ou (password[idx2] != caract\xe8re et password[idx1] == caract\xe8re) "),u(),d(358,"br"),d(359,"br"),o(360," On se rend compte que l'on peut exprimer \xe7a de mani\xe8re plus \xe9l\xe9gante en utilisant l'op\xe9rateur logique XOR ("),a(361,"code"),o(362,"a xor b = 1"),u(),o(363," si "),a(364,"code"),o(365,"a != b"),u(),o(366,", "),a(367,"code"),o(368,"a xor a = 0"),u(),o(369,"): "),d(370,"br"),a(371,"code"),o(372," (password[idx1] == caract\xe8re xor password[idx2] == caract\xe8re) "),u(),d(373,"br"),o(374," Il suffit ensuite de prendre la structure de la partie 1, et de changer nos v\xe9rifications. "),d(375,"br"),d(376,"br"),a(377,"pre",10),a(378,"code"),o(379,"import re\n\nlines = open('input2.txt')\nr = re.compile(r'([0-9]+)-([0-9]+) ([a-z]): ([a-z]+)')\nres = 0\nfor line in lines:\n    m = r.match(line)\n    (idx1, idx2, car, password) = m.groups()\n    idx1, idx2 = int(idx1), int(idx2)\n    if((password[idx1-1] == car) ^ (password[idx2-1] == car)):\n        res += 1\nprint(res)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),uG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day3"]],decls:142,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/3"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[2,"text-align","center"],["src","assets/img/modulo.png",2,"width","800px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jours 3) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 3, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Nous avons en entr\xe9e une liste de cha\xeenes de caract\xe8res (aussi appell\xe9es string en anglais) qui repr\xe9sentent une carte 2d, avec le caract\xe8re '.' correspondant \xe0 une coordonn\xe9e \"vide\", et le caract\xe8re '#' une coordonn\xe9e avec un arbre. "),d(30,"br"),o(31," A noter \xe9galement que la carte n'est repr\xe9sent\xe9e que partiellement: celle-ci se rep\xe8te \xe0 l'infini horizontalement "),d(32,"br"),d(33,"br"),o(34," On utilisera le formalisme suivant pour le reste de l'article pour d\xe9crire les coordonn\xe9es:"),d(35,"br"),a(36,"code"),o(37,"(x,y)"),u(),o(38," : "),a(39,"ul"),a(40,"li"),o(41,"x repr\xe9sentera la coordonn\xe9e verticale, avec 0 correspondant \xe0 la premi\xe8re ligne"),u(),a(42,"li"),o(43,"y repr\xe9sentera la coordonn\xe9e horizontale, avec 0 correspondant \xe0 la premi\xe8re colonne"),u(),u(),d(44,"br"),o(45," En se d\xe9pla\xe7ant depuis (0,0) avec une direction constante, combien d'arbres sont rencontr\xe9s avant de sortir de la carte verticalement? "),d(46,"br"),d(47,"br"),o(48," Petite pr\xe9cision concernant l'\xe9nonc\xe9: les collisions ne doivent \xeatre calcul\xe9es qu'apr\xe8s application d'un nombre entier du vecteur direction. Par exemple si on a : "),d(49,"br"),a(50,"pre",9),a(51,"code"),o(52,".###\n###."),u(),u(),d(53,"br"),o(54," et que notre vecteur direction est "),a(55,"code"),o(56,"(1,3)"),u(),o(57," (on descend de 1, on avance de 3), alors aucun arbre n'est touch\xe9. "),d(58,"br"),d(59,"br"),a(60,"h3"),o(61,"Solutions"),u(),o(62," Deux aspects principaux sont \xe0 g\xe9rer pour r\xe9soudre ce probl\xe8me: "),a(63,"ul"),a(64,"li"),a(65,"b"),o(66,"Comment dupliquer le graphe de mani\xe8re infinie horizontalement?"),u(),u(),a(67,"li"),a(68,"b"),o(69,"Comment simuler le d\xe9placement et compter les arbres?"),u(),u(),u(),o(70," Pour la premi\xe8re probl\xe9matique, il existe deux solutions: "),d(71,"br"),d(72,"br"),o(73," Etant donn\xe9 que l'on conna\xeet les dimensions de la grille et le vecteur direction de notre d\xe9placement, on peut calculer la coordonn\xe9e maximale atteinte \xe0 la fin de notre parcours. "),d(74,"br"),o(75," Il suffit ensuite de concat\xe9ner plusieurs fois nos cha\xeenes de caract\xe8res pour \xe9viter de d\xe9passer les limites horizontales. Egalement, sans calcul, on pouvait r\xe9aliser cette concat\xe9nation avec un nombre au hasard mais assez grand pour \xeatre s\xfbr d'avoir un graphe assez long. "),d(76,"br"),o(77," Cette solution a comme d\xe9faut de prendre un espace en m\xe9moire important, voire immense si les entr\xe9es donn\xe9es \xe9taient plus exigeantes."),d(78,"br"),o(79," De mani\xe8re g\xe9n\xe9rale en informatique, la duplication des donn\xe9es, aussi appell\xe9e "),a(80,"b"),o(81,'"redondance"'),u(),o(82,", est une pratique que l'on cherche \xe0 \xe9viter au maximum, pour des probl\xe9matiques d'espace et de propagation des traitements. "),d(83,"br"),d(84,"br"),o(85," Alors comment s'abstenir de toute r\xe9p\xe9tition? "),d(86,"br"),o(87," Il existe deux possibilit\xe9s, qui reviennent plus ou moins au m\xeame: "),a(88,"ul"),a(89,"li"),o(90," On met en place des conditions pour que lorsqu'on d\xe9passe les limites de la grille, on soustrait la taille de la grille jusqu'\xe0 ce qu'on soit de nouveau dans les limites "),u(),a(91,"li"),o(92," On utilise "),a(93,"b"),o(94,'l\'op\xe9ration "modulo" (%)'),u(),o(95," qui nous donne le reste d'une division enti\xe8re. "),u(),u(),d(96,"br"),d(97,"br"),o(98," Un peu \xe0 la mani\xe8re de Pacman, cela nous permet de nous t\xe9l\xe9porter du c\xf4t\xe9 gauche de la grille lorsque l'on sort du c\xf4t\xe9 droit. "),d(99,"br"),d(100,"br"),a(101,"div",10),d(102,"img",11),u(),d(103,"br"),d(104,"br"),o(105," Maintenant qu'on g\xe8re la r\xe9p\xe9tition horizontale du graphe, il nous faut maintenant trouver comment le parcourir."),d(106,"br"),d(107,"br"),o(108," En l'occurence, ici comme nous ne suivons qu'une unique direction pendant tout notre parcours, il nous suffit d'avoir deux variables "),a(109,"code"),o(110,"currentX"),u(),o(111," et "),a(112,"code"),o(113,"currentY"),u(),o(114," qui enregistreront la coordonn\xe9e actuelle \xe0 laquelle on se trouve, et l'on ajoute le vecteur directeur jusqu'\xe0 ce que l'on sorte des dimensions verticales de la grille, tout en mettant \xe0 jour un compteur en fonction de la pr\xe9sence ou non d'un arbre sur la coordon\xe9e "),a(115,"code"),o(116,"(currentX, currentY)"),u(),o(117,". "),d(118,"br"),d(119,"br"),a(120,"pre",9),a(121,"code"),o(122,"lines = open('input3.txt').readlines()\ncurrentX, currentY = 0, 0\n\nres = 0\n# Attention \xe0 la fin de ligne '\\n'\nwidth = len(lines[0])-1\nwhile(currentX < len(lines)):\n    if(lines[currentX][currentY % width] == '#'):\n        res += 1\n    currentX += 1\n    currentY += 3\nprint(res)"),u(),u(),d(123,"br"),d(124,"br"),a(125,"h2",6),a(126,"a",7),o(127,"Jour 3, partie 2:"),u(),u(),a(128,"h3"),o(129,"Enonc\xe9"),u(),o(130," La seconde partie \xe9tait plut\xf4t d\xe9cevante: Il nous \xe9tait demand\xe9 de faire la m\xeame chose que pour la partie 1, mais avec d'autres vecteurs directeurs, et d'afficher le produit des r\xe9sultats obtenus pour chaque vecteur. "),d(131,"br"),d(132,"br"),a(133,"h3"),o(134,"Solution"),u(),o(135," Le principe est le m\xeame qu'en partie 1. "),d(136,"br"),d(137,"br"),o(138," Pour it\xe9rer facilement sur les diff\xe9rents vecteurs directeurs, on peut faire une liste de ces vecteurs, et boucler sur ceux-ci (avec une fonction pour le parcours ou sans). "),a(139,"pre",9),a(140,"code"),o(141,"lines = open('input3.txt').readlines()\ndx = [1, 1, 1, 1, 2]\ndy = [3, 1, 5, 7, 1]\nres = 1\nfor d in range(len(dx)):\n    currentX, currentY = 0, 0\n\n    compteur = 0\n    # Attention \xe0 la fin de ligne '\\n'\n    width = len(lines[0])-1\n    while(currentX < len(lines)):\n        if(lines[currentX][currentY % width] == '#'):\n            compteur += 1\n        currentX += dx[d]\n        currentY += dy[d]\n    res *= compteur\nprint(res)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),lG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day4"]],decls:120,vars:10,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/4"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],["href","https://regex101.com/"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 4) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 4, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),a(29,"b"),o(30,"C'est de la merde."),u(),d(31,"br"),d(32,"br"),o(33," Mais bon, je vais pas le skip pour autant, et c'est l'occasion de vous montrer comment r\xe9soudre ce genre de probl\xe8mes de fa\xe7on vaguement \xe9l\xe9gante. "),d(34,"br"),d(35,"br"),o(36," On a en entr\xe9es des passeports mod\xe9lis\xe9s sous la forme d'une liste de cl\xe9 / valeurs. "),d(37,"br"),d(38,"br"),o(39," Pour la premi\xe8re partie, on doit compter le nombre de passeports ayant les cl\xe9s requises."),d(40,"br"),o(41," Egalement, il peut y avoir certaines cl\xe9s facultatives, qui, si elles sont absentes ou pr\xe9sentes, n'ont pas d'impact sur la v\xe9rification de validit\xe9 de la partie 1. "),d(42,"br"),d(43,"br"),a(44,"h3"),o(45,"Solution"),u(),o(46," La premi\xe8re \xe9tape importante est de r\xe9aliser le parsing des donn\xe9es d'entr\xe9es. "),d(47,"br"),d(48,"br"),o(49," Le format est le suivant "),a(50,"pre",9),a(51,"code"),o(52,"[cle1]:valeur1 [cle2]:valeur2 etc..."),u(),u(),d(53,"br"),d(54,"br"),o(55," Ces champs peuvent \xe9galement \xeatre s\xe9par\xe9s par des retours \xe0 la ligne, et une ligne vide indique le fait de passer \xe0 un autre passeport. "),d(56,"br"),d(57,"br"),o(58," Pour l'extraction des valeurs, on peut split nos lignes en premi\xe8re priorit\xe9 par espace (pour s\xe9parer les diff\xe9rents champs), puis par ':' pour s\xe9parer les cl\xe9s des valeurs. "),d(59,"br"),o(60," On pouvait ensuite traiter \xe0 la vol\xe9e les cl\xe9s r\xe9cup\xe9r\xe9es avec un "),a(61,"b"),o(62,"bitmask"),u(),o(63,", une liste ou stocker les cl\xe9s / values dans un "),a(64,"b"),o(65,"dictionnaire"),u(),o(66,"."),d(67,"br"),o(68," La seconde option permettait d'avoir un code plus simple \xe0 \xe9tendre pour d'\xe9ventuels traitements complexe lors de la partie 2. "),d(69,"br"),d(70,"br"),o(71," On prendra l'option du "),a(72,"b"),o(73,"dictionnaire"),u(),o(74," pour la suite."),d(75,"br"),o(76," La v\xe9rification des diff\xe9rents champs se fait ensuite tr\xe8s facilement: il suffit d'it\xe9rer sur une liste d\xe9crivant les diff\xe9rentes cl\xe9s obligatoires, et v\xe9rifier leurs pr\xe9sences dans le "),a(77,"b"),o(78,"dictionnaire"),u(),o(79,"."),d(80,"br"),d(81,"br"),a(82,"pre",9),a(83,"code"),o(84,"lines = list(map(lambda line: line.strip(), open('input4.txt').readlines()))\n# Garde-fou\nlines.append('')\ncurrentPasseport = dict()\nmandatory = ['byr', 'iyr', 'eyr', 'hgt', 'hcl', 'ecl', 'pid']\nres = 0\nfor line in lines:\n    if(len(line) <= 0):\n        res += all(map(lambda c: c in currentPasseport, mandatory))\n        currentPasseport = dict()\n    else:\n        for champ in line.split(' '):\n            key, value = champ.split(':')\n            currentPasseport[key] = value\nprint(res)"),u(),u(),a(85,"h2",6),a(86,"a",7),o(87,"Jour 4, partie 2:"),u(),u(),a(88,"h3",8),o(89," Enonc\xe9 "),u(),o(90," On s'ennuyait d\xe9j\xe0 en partie 1, et pourtant la torture commen\xe7ait seulement. "),d(91,"br"),d(92,"br"),o(93," Maintenant il s'agit de v\xe9rifier que les valeurs associ\xe9es aux diff\xe9rents cl\xe9s respectent certaines conditions, sp\xe9cifiques au type de champ. "),d(94,"br"),o(95," Par exemple, l'ann\xe9e de naissance (byr) doit \xeatre comprise entre 1920 et 2002. "),d(96,"br"),d(97,"br"),o(98," De la m\xeame mani\xe8re que le jour 2 partie 1, rien d'int\xe9ressant algorithmiquement parlant, mais ma\xeetriser son langage de programmation peut aider \xe0 faire des solutions plus \xe9l\xe9gantes que simplement it\xe9rer sur la cha\xeene de caract\xe8re. "),d(99,"br"),o(100," On peut par exemple utiliser la pwouissance des "),a(101,"b"),o(102,"regex"),u(),o(103," pour v\xe9rifier et extraire les donn\xe9es des diff\xe9rentes valeurs."),d(104,"br"),d(105,"br"),o(106," Mais tr\xe8ve de blabla, le mieux est de vous donner une solution en exemple. Si vous n'\xeates pas familiers avec les "),a(107,"b"),o(108,"regex"),u(),o(109,", vous pouvez copier/coller celles-ci sur le site "),a(110,"a",10),a(111,"b"),o(112,"regex"),u(),o(113,"101"),u(),o(114," pour que celles-ci soient analys\xe9es et expliqu\xe9es. "),d(115,"br"),d(116,"br"),a(117,"pre",9),a(118,"code"),o(119),u(),u(),u(),u(),u(),u()),2&e&&(K(119),ra(["import re\nlines = list(map(lambda line: line.strip(), open('input4.txt').readlines()))\n# Garde-fou\nlines.append('')\ncurrentPasseport = dict()\nmandatory = ['byr', 'iyr', 'eyr', 'hgt', 'hcl', 'ecl', 'pid']\nres = 0\n\ndef checkByr(passeport):\n    value = passeport['byr']\n    if(not re.match(r'^[0-9]","{","4","}","$', value)):\n        return False\n    v = int(value)\n    return v >= 1920 and v <= 2002\n\n\ndef checkIyr(passeport):\n    value = passeport['iyr']\n    if(not re.match(r'^[0-9]","{","4","}","$', value)):\n        return False\n    v = int(value)\n    return v >= 2010 and v <= 2020\n\n\ndef checkEyr(passeport):\n    value = passeport['eyr']\n    if(not re.match(r'^[0-9]","{","4","}","$', value)):\n        return False\n    v = int(value)\n    return v >= 2020 and v <= 2030\n\n\ndef checkHgt(passeport):\n    value = passeport['hgt']\n    m = re.match(r'^([0-9]+)(in|cm)$', value)\n    if(not m):\n        return False\n    (t, unit) = m.groups()\n    t = int(t)\n    if(unit == 'cm'):\n        return t >= 150 and t <= 193\n    else:\n        return t >= 59 and t <= 76\n\n\ndef checkHcl(passeport):\n    value = passeport['hcl']\n    return not (not re.match(r'^#[0-9a-f]","{","6","}","$', value))\n\n\ndef checkEcl(passeport):\n    value = passeport['ecl']\n    return value in ['amb', 'blu', 'brn', 'gry', 'grn', 'hzl', 'oth']\n\n\ndef checkPid(passeport):\n    value = passeport['pid']\n    return not(not re.match(r'^[0-9]","{","9","}","$', value))\n\n\ndef checkCid(passeport):\n    return True\n\nallChecks = [checkByr, checkIyr, checkEyr, checkHgt,\n             checkHcl, checkEcl, checkPid, checkCid]\n\nfor line in lines:\n    if(len(line) <= 0):\n        res += all(map(lambda c: c in currentPasseport, mandatory)\n                   ) and all(map(lambda c: c(currentPasseport), allChecks))\n        currentPasseport = dict()\n    else:\n        for champ in line.split(' '):\n            key, value = champ.split(':')\n            currentPasseport[key] = value\nprint(res)"]))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),cG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day5"]],decls:383,vars:4,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/5"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 5) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 5, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a "),a(30,"b"),o(31,"128"),u(),o(32," rang\xe9es de si\xe8ges, chacune de ces rang\xe9es contenant "),a(33,"b"),o(34,"8"),u(),o(35," si\xe8ges."),d(36,"br"),o(37," En entr\xe9e, on recup\xe8re une cha\xeene de caract\xe8re contenant: "),a(38,"ul"),a(39,"li"),o(40,"8 caract\xe8res compris dans le set "),a(41,"code"),o(42),u(),u(),a(43,"li"),o(44," 3 caract\xe8res compris dans le set "),a(45,"code"),o(46),u(),u(),u(),o(47," Les 8 premiers caract\xe8res de la cha\xeene permettent d'identifier de mani\xe8re unique une rang\xe9e en effectuant les op\xe9rations suivantes: "),a(48,"ul"),a(49,"li"),o(50,"On part de l'intervalle "),a(51,"code"),o(52,"[0,127]"),u(),u(),a(53,"li"),o(54,"On it\xe9re sur l'int\xe9gralit\xe9 des caract\xe8res et si: "),a(55,"ul"),a(56,"li"),o(57," On a le caract\xe8re "),a(58,"b"),o(59,"F"),u(),o(60," ("),a(61,"b"),o(62,"Front"),u(),o(63," / "),a(64,"b"),o(65,"Avant"),u(),o(66,"), on r\xe9duit l'intervalle de moiti\xe9 en prenant la premi\xe8re moiti\xe9 de l'intervalle actuel "),u(),a(67,"li"),o(68," On a le caract\xe8re "),a(69,"b"),o(70,"B"),u(),o(71," ("),a(72,"b"),o(73,"Back"),u(),o(74," / "),a(75,"b"),o(76,"Arri\xe8re"),u(),o(77,"), on r\xe9duit l'intervalle de moiti\xe9 en prenant la seconde moiti\xe9 de l'intervalle actuel "),u(),u(),u(),a(78,"li"),o(79," Quand on a fini d'it\xe9rer sur la cha\xeene de caract\xe8res, on a un intervalle r\xe9duit \xe0 un unique \xe9l\xe9ment, qui correspond au num\xe9ro de rang\xe9e. "),u(),u(),o(80," Exemple: "),d(81,"br"),a(82,"pre",9),a(83,"code"),o(84,"chaine = 'FFFFBBBBLLL'\ndepart = [0,127]\nF => [0,63]\nF => [0,31]\nF => [0,15]\nB => [8,15]\nB => [12,15]\nB => [14,15]\nB => [15,15]"),u(),u(),d(85,"br"),o(86," Pour d\xe9terminer la colonne, le principe est le m\xeame, mais appliqu\xe9 aux 3 derniers caract\xe8res, en partant de l'intervalle "),a(87,"code"),o(88,"[0,7]"),u(),o(89,", et en appliquant le traitement "),a(90,"b"),o(91,'"F"'),u(),o(92," aux caract\xe8res L ("),a(93,"b"),o(94,"Left"),u(),o(95,"/"),a(96,"b"),o(97,"Gauche"),u(),o(98,"), et le traitement "),a(99,"b"),o(100,'"B"'),u(),o(101," aux caract\xe8res R ("),a(102,"b"),o(103,"Right"),u(),o(104,"/"),a(105,"b"),o(106,"Droite"),u(),o(107,")."),d(108,"br"),o(109," L'identifiant d'un si\xe8ge est ensuite calcul\xe9 avec la formule suivante: "),d(110,"br"),a(111,"pre",9),a(112,"code"),o(113,"id = rangee*8 + colonne"),u(),u(),o(114," A partir d'une liste de cha\xeenes de caract\xe8res d\xe9crivant un si\xe8ge, il faut trouver le plus grand identifiant du si\xe8ge pr\xe9sent dans cette liste."),d(115,"br"),d(116,"br"),a(117,"h3",8),o(118," Solutions "),u(),o(119," La premi\xe8re \xe9tape est de calculer un identifiant de si\xe8ge \xe0 partir d'une cha\xeene de caract\xe8re. Deux solutions sont possibles ici: "),a(120,"ul"),a(121,"li"),o(122," Une solution na\xefve, qui consistera \xe0 r\xe9aliser le traitement comme d\xe9crit dans l'\xe9nonc\xe9 "),u(),a(123,"li"),o(124," Une solution un peu plus fut\xe9e, qui utilise le concept de repr\xe9sentation binaire"),u(),u(),o(125," Pour la premi\xe8re solution, l'impl\xe9mentation d\xe9coule naturellement de l'\xe9nonc\xe9, je ne donnerai donc pas plus de pr\xe9cision."),d(126,"br"),o(127," Je vous donne tout de m\xeame un exemple d'impl\xe9mentation: "),a(128,"pre",9),a(129,"code"),o(130,"lines = list(map(lambda l: l.strip(), open('input5.txt').readlines()))\nres = 0\nfor line in lines:\n    rangee = [0, 127]\n    colonne = [0, 7]\n    for car in line:\n        if(car == 'F'):\n            rangee[1] = (rangee[0]+rangee[1])//2\n        elif(car == 'B'):\n            rangee[0] = (rangee[0]+rangee[1]+1)//2\n        elif(car == 'L'):\n            colonne[1] = (colonne[0]+colonne[1])//2\n        elif(car == 'R'):\n            colonne[0] = (colonne[0]+colonne[1]+1)//2\n    res = max(res, rangee[0]*8+colonne[0])\nprint(res)"),u(),u(),d(131,"br"),d(132,"br"),o(133," Pour la seconde solution, on peut avoir une premi\xe8re intuition en remarquant que certaines valeurs de l'\xe9nonc\xe9 semblent famili\xe8res."),d(134,"br"),o(135," En effet, "),a(136,"b"),o(137,"127"),u(),o(138," et "),a(139,"b"),o(140,"63"),u(),o(141," sont des puissances de 2 auxquelles on a retir\xe9 "),a(142,"b"),o(143,"1"),u(),o(144,", et "),a(145,"b"),o(146,"32"),u(),o(147," est une puissance de "),a(148,"b"),o(149,"2"),u(),o(150,"."),d(151,"br"),d(152,"br"),o(153," Une seconde intuition peut \xe9merger de la composition de la cha\xeene de caract\xe8re d\xe9crivant les rang\xe9es et colonnes:"),d(154,"br"),o(155," On a \xe0 chaque fois une dualit\xe9, soit entre "),a(156,"b"),o(157,"front"),u(),o(158," et "),a(159,"b"),o(160,"back"),u(),o(161," pour les rang\xe9es, soit entre "),a(162,"b"),o(163,"left"),u(),o(164," et "),a(165,"b"),o(166,"right"),u(),o(167," pour les colonnes. "),d(168,"br"),d(169,"br"),o(170," Tout \xe7a peut donc nous amener \xe0 penser qu'une repr\xe9sentation binaire, dans laquelle on manipule des puissances de "),a(171,"b"),o(172,"2"),u(),o(173,", pourrait \xeatre impliqu\xe9es."),d(174,"br"),d(175,"br"),o(176," Pour rappel, la repr\xe9sentation binaire d'un nombre est une suite de chiffres "),a(177,"b"),o(178,"'0'"),u(),o(179," et "),a(180,"b"),o(181,"'1'"),u(),o(182," d\xe9crivant ce nombre."),d(183,"br"),o(184,' La repr\xe9sentation "base 10" fonctionne de la mani\xe8re suivante:'),d(185,"br"),o(186," Si on a un nombre "),a(187,"code"),o(188,"abc"),u(),o(189," (a,b et c des chiffres entre 0 et 9), alors sa valeur est de "),a(190,"code"),o(191,"a*(10^2) + b*(10^1) + c*(10^0)"),u(),o(192,"."),d(193,"br"),o(194," Dans le cas d'une repr\xe9sentation binaire, le principe est identique, mais on multiplie chaque chiffre par une puissance de 2."),d(195,"br"),d(196,"br"),o(197," Par exemple, 13 en base 2 donnerait "),a(198,"code"),o(199,'"1101"'),u(),o(200," car :"),d(201,"br"),a(202,"code"),o(203,"13 = 1*(2^3) + 1*(2^2) + 0*(2^1) + 1*(2^0)"),u(),d(204,"br"),d(205,"br"),o(206,' Une premi\xe8re observation int\xe9ressante est que le nombre de valeurs de la forme "0 suivi de N chiffres" est \xe9gal au nombre de valeurs de la forme "1 suivi de N chiffres", et que ces deux sets produisent 2 intervalles continus sans intersection.'),d(207,"br"),o(208," Par exemple pour N = 2, on a: "),a(209,"pre",9),a(210,"code"),o(211,"000 = 0, 001 = 1, 010 = 2, 011 = 3\n100 = 4, 101 = 5, 110 = 6, 111 = 7"),u(),u(),o(212," Egalement, si on a un intervalle de la forme "),a(213,"code"),o(214,"[abc0000,abc1111]"),u(),o(215,", on peut diviser l'intervalle en 2 parties \xe9gales, avec: "),a(216,"ul"),a(217,"li"),o(218," l'intervalle inf\xe9rieur = "),a(219,"code"),o(220,"[abc0000,abc0111]"),u(),u(),a(221,"li"),o(222," l'intervalle sup\xe9rieur = "),a(223,"code"),o(224,"[abc1000,abc1111]"),u(),u(),u(),o(225," D'une part, les intervalles obtenus sont \xe9galement de la forme "),a(226,"code"),o(227,"[abcd000,abcd111]"),u(),o(228," tous les deux (ce qui laisse entendre qu'on peut r\xe9it\xe9rer et de nouveau diviser en "),a(229,"b"),o(230,"2"),u(),o(231," l'intervalle), et on commence \xe0 reconna\xeetre un peu le processus de la solution na\xefve, d'autant plus que l'intervalle "),a(232,"code"),o(233,"[0,127]"),u(),o(234," peut s'exprimer en binaire de la fa\xe7on suivante: "),a(235,"code"),o(236,"[0000000,1111111]"),u(),o(237,"."),d(238,"br"),d(239,"br"),o(240," Pour ne pas surcharger trop l'article, je laisserai au lecteur le soin de raccorder ces informations avec la solution que je vais vous d\xe9crire maintenant:"),d(241,"br"),d(242,"br"),o(243," Lorsque l'on choisit le "),a(244,"b"),o(245,"front"),u(),o(246," / "),a(247,"b"),o(248,"left"),u(),o(249," d'une rang\xe9e / colonne, on prend la moiti\xe9 inf\xe9rieur de l'intervalle, et inversement pour le "),a(250,"b"),o(251,"back"),u(),o(252,"/"),a(253,"b"),o(254,"right"),u(),o(255,"."),d(256,"br"),o(257," Si on consid\xe8re que F et L sont des bits valoris\xe9s \xe0 0, et B et R sont des bits valoris\xe9s \xe0 1, alors on a: "),a(258,"ul"),a(259,"li"),o(260," la rang\xe9e qui est \xe9gale \xe0 la valeur binaire de la sous-cha\xeene des "),a(261,"b"),o(262,"'F'"),u(),o(263," et "),a(264,"b"),o(265,"'B'"),u(),o(266," mapp\xe9s vers "),a(267,"b"),o(268,"0"),u(),o(269," et "),a(270,"b"),o(271,"1"),u(),u(),a(272,"li"),o(273," la colonne qui est \xe9gale \xe0 la valeur binaire de la sous-cha\xeene des "),a(274,"b"),o(275,"'L'"),u(),o(276," et "),a(277,"b"),o(278,"'R'"),u(),o(279," mapp\xe9s vers "),a(280,"b"),o(281,"0"),u(),o(282," et "),a(283,"b"),o(284,"1"),u(),u(),u(),o(285," Par exemple, si on a "),a(286,"code"),o(287,"FBFBBFFLRL"),u(),o(288,": "),a(289,"pre",9),a(290,"code"),o(291,"rangee: FBFBBFF => 0101100 => 44\ncolonne: LRL => 010 => 2"),u(),u(),d(292,"br"),d(293,"br"),o(294," Dernier point pour calculer l'id: on nous demande de multiplier par 8 la rang\xe9e et de l'aditionner \xe0 la colonne. Or: "),a(295,"pre",9),a(296,"code"),o(297,"rangee = s[0]*(2^6)+s[1]*(2^5) ... +s[6]*(2^0)\ncolonne = s[7]*(2^2)+s[8]*(2^1)+s[9]*(2^0)\nid = rangee * 8 + colonne = rangee * 2^3 + colonne"),u(),u(),o(298," Si l'on distribue le produit "),a(299,"code"),o(300,"2^3"),u(),o(301,", on a: "),a(302,"pre",9),a(303,"code"),o(304,"id=s[0]*(2^(6+3))+s[1]*(2^(5+3)) ... +s[6]*(2^(0+3))+s[7]*(2^2)+s[8]*(2^1)+s[9]*(2^0)\nid=s[0]*(2^9)+s[1]*(2^8) ... +s[6]*(2^3)+s[7]*(2^2)+s[8]*(2^1)+s[9]*(2^0)\nid=base2(s)"),u(),u(),o(305," Ce qui fait que l'on peut directement calculer l'id via le masque binaire sans avoir \xe0 passer par le calcul des rang\xe9es ou colonnes. Un code utilisant cette technique pourrait donc \xeatre le suivant: "),a(306,"pre",9),a(307,"code"),o(308,"lines = list(map(lambda l: l.strip(), open('input5.txt').readlines()))\nres = 0\nfor line in lines:\n    # int(a,b) convertit une cha\xeene A repr\xe9sent\xe9e en base B en entier\n    id = int(line.replace('F', '0').replace('B', '1').replace('L', '0').replace('R', '1'), 2)\n    res = max(res, id)\nprint(res)"),u(),u(),d(309,"br"),d(310,"br"),a(311,"h2",6),a(312,"a",7),o(313,"Jour 5, partie 2:"),u(),u(),a(314,"h3",8),o(315," Enonc\xe9 "),u(),o(316," La seconde partie consiste \xe0 r\xe9utiliser le m\xeame syst\xe8me de calcul des identifiants de si\xe8ges, pour trouver le \"si\xe8ge manquant\" qui dans l'histoire de l'\xe9nonc\xe9 correspond \xe0 notre si\xe8ge."),d(317,"br"),o(318," L'id \xe0 trouver n'est donc pas dans la liste, mais on sait \xe9galement que le si\xe8ge d'id directement sup\xe9rieur existe dans la liste, et de m\xeame pour le si\xe8ge d'id directement inf\xe9rieur."),d(319,"br"),d(320,"br"),o(321," Par exemple, si on obtient la liste des identifiants suivante: "),a(322,"pre",9),a(323,"code"),o(324,"[13,10,9,11]"),u(),u(),o(325," le si\xe8ge manquant est le si\xe8ge "),a(326,"code"),o(327,"12"),u(),o(328,". "),d(329,"br"),d(330,"br"),a(331,"h3"),o(332,"Solutions"),u(),o(333," Rien de bien sexy dans cette seconde partie. On a d\xe9j\xe0 notre calcul d'identifiant design\xe9 pendant la premi\xe8re partie, il nous reste juste \xe0 trouver ce si\xe8ge manquant."),d(334,"br"),d(335,"br"),o(336," Comme bien souvent, on peut proc\xe9der de plusieurs mani\xe8res: "),a(337,"ul"),a(338,"li"),o(339,'Version "meh": '),a(340,"ul"),a(341,"li"),o(342," On parcourt une premi\xe8re fois la liste en stockant les identifiants dans une "),a(343,"b"),o(344,"hashmap"),u(),o(345," par exemple "),u(),a(346,"li"),o(347," On reparcourt une seconde fois, et pour chaque \xe9l\xe9ment "),a(348,"code"),o(349,"e"),u(),o(350,", on regarde si "),a(351,"code"),o(352,"e+1"),u(),o(353," n'existe pas et "),a(354,"code"),o(355,"e+2"),u(),o(356," existe. Si on est dans cette situation, "),a(357,"code"),o(358,"e+1"),u(),o(359," est notre r\xe9ponse. "),u(),u(),u(),a(360,"li"),o(361," Version plus sympa: "),a(362,"ul"),a(363,"li"),o(364," On "),a(365,"b"),o(366,"trie"),u(),o(367," la liste "),u(),a(368,"li"),o(369," On la parcourt, et si on a "),a(370,"code"),o(371,"arr[i] == arr[i+1]-2"),u(),o(372,", alors "),a(373,"code"),o(374,"arr[i]+1"),u(),o(375," est notre r\xe9ponse. "),u(),u(),u(),u(),d(376,"br"),o(377," L'impl\xe9mentation de la seconde version donne le code suivant:"),d(378,"br"),d(379,"br"),a(380,"pre",9),a(381,"code"),o(382,"lines = list(map(lambda l: l.strip(), open('input5.txt').readlines()))\nl = []\nfor line in lines:\n    # int(a,b) convertit une cha\xeene A repr\xe9sent\xe9e en base B en entier\n    id = int(line.replace('F', '0').replace(\n        'B', '1').replace('L', '0').replace('R', '1'), 2)\n    l.append(id)\nl.sort()\nfor i in range(len(l)-1):\n    if(l[i] == l[i+1]-2):\n        print(l[i]+1)\n        break"),u(),u(),u(),u(),u(),u()),2&e&&(K(42),zr("","{","'F','B'","}",""),K(4),zr("","{","'L','R'","}",""))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),dG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day6"]],decls:199,vars:4,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/6"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 6) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 6, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a en entr\xe9es plusieurs groupes de cha\xeenes de caract\xe8res (d\xe9limit\xe9s par des lignes vides). Pour chaque groupe, il est demand\xe9 de trouver le nombre de caract\xe8res qui apparaissent au moins une fois dans le groupe. "),d(30,"br"),o(31," Par exemple, si l'on a un groupe qui contient les lignes suivantes: "),a(32,"pre",9),a(33,"code"),o(34,"abc\nab\nac\nad"),u(),u(),o(35," alors, 4 caract\xe8res apparaissent("),a(36,"code"),o(37,"'a'"),u(),o(38,", "),a(39,"code"),o(40,"'b'"),u(),o(41,", "),a(42,"code"),o(43,"'c'"),u(),o(44," et "),a(45,"code"),o(46,"'d'"),u(),o(47,"). "),d(48,"br"),o(49," La r\xe9ponse \xe0 renvoyer est la somme globale (\xe0 travers chaque groupe) de ces caract\xe8res compt\xe9s. "),d(50,"br"),d(51,"br"),o(52," Exemple avec "),a(53,"b"),o(54,"2"),u(),o(55," groupes: "),a(56,"pre",9),a(57,"code"),o(58,"abc\nab\nac\n\nab\nab"),u(),u(),o(59," Le groupe "),a(60,"b"),o(61,"1"),u(),o(62," a 3 lettres distinctes("),a(63,"code"),o(64,"'a'"),u(),o(65,","),a(66,"code"),o(67,"'b'"),u(),o(68," et "),a(69,"code"),o(70,"'c'"),u(),o(71,"), le groupe "),a(72,"b"),o(73,"2"),u(),o(74," en a deux ("),a(75,"code"),o(76,"'a'"),u(),o(77," et "),a(78,"code"),o(79,"'b'"),u(),o(80,")."),d(81,"br"),o(82," La r\xe9ponse est donc "),a(83,"b"),o(84,"3"),u(),o(85,". "),d(86,"br"),d(87,"br"),a(88,"h3",8),o(89," Solutions "),u(),o(90," Si l'on conna\xeet bien les structures de donn\xe9es, ce probl\xe8me peut \xeatre r\xe9solu tr\xe8s facilement. "),d(91,"br"),d(92,"br"),o(93," En effet, il existe une structure permettant d'ins\xe9rer des \xe9l\xe9ments de mani\xe8re unique : le "),a(94,"b"),o(95,"set"),u(),o(96,"."),d(97,"br"),o(98,' La m\xe9thode "'),a(99,"b"),o(100,"union"),u(),o(101,'" du '),a(102,"b"),o(103,"set"),u(),o(104," peut nous \xeatre utile ici: elle prend en param\xe8tre un second set, et nous renvoie un "),a(105,"b"),o(106,"set"),u(),o(107," contenant les \xe9l\xe9ments uniques pr\xe9sents dans au moins un des deux sets. "),a(108,"pre",9),a(109,"code"),o(110),u(),u(),o(111," En appliquant \xe7a \xe0 notre probl\xe8me, on peut donc trouver pour chaque groupe les \xe9l\xe9ments communs: "),a(112,"pre",9),a(113,"code"),o(114,"lines = list(map(lambda l: l.strip(), open('input6.txt').readlines()))\nlines += ['']  # Garde-fou\ncurrentGroup = set()\nres = 0\nfor l in lines:\n    if(len(l) == 0):\n        res += len(currentGroup)\n        currentGroup = set()\n    else:\n        currentGroup = currentGroup.union(set(l))\nprint(res)\n"),u(),u(),d(115,"br"),d(116,"br"),a(117,"h2",6),a(118,"a",7),o(119,"Jour 6, partie 2:"),u(),u(),a(120,"h3",8),o(121," Enonc\xe9 "),u(),o(122," On a en entr\xe9es plusieurs groupes de cha\xeenes de caract\xe8res (d\xe9limit\xe9s par des lignes vides). Pour chaque groupe, il est demand\xe9 de trouver le nombre de caract\xe8res que l'on retrouve en commun dans l'int\xe9gralit\xe9 des lignes de ce groupe. Par exemple, si l'on a un groupe qui contient les lignes suivantes: "),a(123,"pre",9),a(124,"code"),o(125,"abc\nab\nac\nad"),u(),u(),o(126," alors, seul "),a(127,"code"),o(128,"'a'"),u(),o(129," doit \xeatre compt\xe9 ("),a(130,"code"),o(131,"'b'"),u(),o(132," et "),a(133,"code"),o(134,"'c'"),u(),o(135," ne sont pas pr\xe9sents sur "),a(136,"b"),o(137,"2"),u(),o(138," lignes, "),a(139,"code"),o(140,"'d'"),u(),o(141," sur "),a(142,"b"),o(143,"3"),u(),o(144," lignes)."),d(145,"br"),d(146,"br"),o(147," La r\xe9ponse \xe0 renvoyer est la somme globale (\xe0 travers chaque groupe) de ces caract\xe8res compt\xe9s. "),d(148,"br"),d(149,"br"),o(150," Exemple avec "),a(151,"b"),o(152,"2"),u(),o(153," groupes: "),a(154,"pre",9),a(155,"code"),o(156,"abc\nab\nac\n\nab\nab"),u(),u(),o(157," Le groupe "),a(158,"b"),o(159,"1"),u(),o(160," a une lettre commune \xe0 toutes les lignes ("),a(161,"code"),o(162,"'a'"),u(),o(163,"), le groupe "),a(164,"b"),o(165,"2"),u(),o(166," en a deux ("),a(167,"code"),o(168,"'a'"),u(),o(169," et "),a(170,"code"),o(171,"'b'"),u(),o(172,")."),d(173,"br"),o(174," La r\xe9ponse est donc "),a(175,"b"),o(176,"3"),u(),o(177,". "),d(178,"br"),d(179,"br"),a(180,"h3",8),o(181," Solutions "),u(),o(182,' La m\xe9thode "'),a(183,"b"),o(184,"intersection"),u(),o(185,'" du '),a(186,"b"),o(187,"set"),u(),o(188," nous permet de r\xe9soudre le probl\xe8me tr\xe8s facilement: elle prend en param\xe8tre un second set, et nous renvoie un "),a(189,"b"),o(190,"set"),u(),o(191," contenant les \xe9l\xe9ments qui sont en communs entre les deux sets. "),a(192,"pre",9),a(193,"code"),o(194),u(),u(),o(195," En appliquant \xe7a \xe0 notre probl\xe8me, on peut donc trouver pour chaque groupe les \xe9l\xe9ments communs: "),a(196,"pre",9),a(197,"code"),o(198,"lines = list(map(lambda l: l.strip(), open('input6.txt').readlines()))\nlines += ['']  # Garde-fou\ncurrentGroup = set([chr(i) for i in range(ord('a'), ord('z')+1)])\nres = 0\nfor l in lines:\n    if(len(l) == 0):\n        res += len(currentGroup)\n        currentGroup = set([chr(i) for i in range(ord('a'), ord('z')+1)])\n    else:\n        currentGroup = currentGroup.intersection(set(l))\nprint(res)\n"),u(),u(),u(),u(),u(),u()),2&e&&(K(110),zr("s1=set(['a','b','d'])\ns2=set(['c','d','a'])\ns1.union(s2) # Retourne le set ","{","'a','b','c','d'","}",""),K(84),zr("s1=set(['a','b','d'])\ns2=set(['c','d','a'])\ns1.inter(s2) # Retourne le set ","{","'a','d'","}",""))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),hG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day7"]],decls:267,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/7"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[2,"text-align","center"],["src","assets/img/graphDay7.png",2,"width","800px"],["src","assets/img/revGraphDay7.png",2,"width","800px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 7) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 7, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a en entr\xe9es un ensemble de lignes d\xe9crivant le contenu de diff\xe9rents types de sacs:"),d(30,"br"),o(31," Chaque sac peut contenir un/des/z\xe9ros sac(s) et ce de mani\xe8re r\xe9cursive."),d(32,"br"),d(33,"br"),o(34," Par exemple, si l'on a:"),d(35,"br"),a(36,"pre",9),a(37,"code"),o(38,"red bags contains 1 white bag\nwhite bags contains 1 golden bag\ngolden bags contains no bag\n                "),u(),u(),d(39,"br"),o(40," alors, un "),a(41,"code"),o(42,"sac rouge"),u(),o(43," contient un "),a(44,"code"),o(45,"sac blanc"),u(),o(46," qui contient un "),a(47,"code"),o(48,"sac violet"),u(),o(49,"."),d(50,"br"),d(51,"br"),o(52," Pour la partie 1, on souhaite compter le nombre de sacs pouvant contenir un "),a(53,"code"),o(54,"sac brillant dor\xe9"),u(),o(55," ("),a(56,"code"),o(57,"shiny golden"),u(),o(58,")."),d(59,"br"),o(60," Ce sac peut \xeatre contenu de mani\xe8re directe (dans l'exemple pr\xe9c\xe9dent, les "),a(61,"b"),o(62,"sacs blancs"),u(),o(63," contiennent de mani\xe8re "),a(64,"b"),o(65,"directe"),u(),o(66," un "),a(67,"code"),o(68,"sac dor\xe9"),u(),o(69,") ou de mani\xe8re "),a(70,"b"),o(71,"indirecte"),u(),o(72," (toujours avec l'exemple pr\xe9c\xe9dent, les "),a(73,"code"),o(74,"sacs rouges"),u(),o(75," contiennnent des "),a(76,"code"),o(77,"sacs blancs"),u(),o(78," qui contiennent des "),a(79,"code"),o(80,"sacs dor\xe9s"),u(),o(81,". "),d(82,"br"),o(83," On aurait donc pour l'exemple pr\xe9c\xe9dent la r\xe9ponse "),a(84,"b"),o(85,"2"),u(),o(86," ("),a(87,"code"),o(88,"'red bag'"),u(),o(89," et "),a(90,"code"),o(91,"'white bag'"),u(),o(92,"). "),d(93,"br"),d(94,"br"),a(95,"h3"),o(96,"Solutions"),u(),o(97," Une premi\xe8re difficult\xe9 dans cet exercice r\xe9side dans l'"),a(98,"b"),o(99,"extraction des informations"),u(),o(100," des lignes."),d(101,"br"),o(102," Pour voir une possibilit\xe9 d'extraction, je vous laisse regarder le code de la solution plus bas, mais ne donnerai pas d'autres explications (d'un point de vue algorithmique, \xe7a n'introduit aucune nouveaut\xe9)."),d(103,"br"),d(104,"br"),o(105," Par contre, les informations r\xe9cup\xe9r\xe9es doivent \xeatre stock\xe9es dans une "),a(106,"b"),o(107,"structure de donn\xe9es"),u(),o(108," de mani\xe8re intelligente pour pouvoir les exploiter."),d(109,"br"),d(110,"br"),o(111," Dans un premier temps, r\xe9fl\xe9chissons \xe0 comment calculer le nombre de sacs pouvant contenir un sac dor\xe9."),d(112,"br"),o(113," Si l'on repr\xe9sente chaque sac sous la forme d'un "),a(114,"b"),o(115,"noeud"),u(),o(116," dans un "),a(117,"b"),o(118,"graphe dirig\xe9"),u(),o(119,", et que chaque "),a(120,"b"),o(121,"arc"),u(),o(122," entre les noeuds correspond au fait que le noeud parent contient N fois le sac du noeud fils (avec N une \xe9tiquette de l'arc), alors on pourrait par exemple partir de chaque noeud pour voir si en parcourant le graphe, on arrive au noeud du "),a(123,"code"),o(124,"sac dor\xe9"),u(),o(125,"."),d(126,"br"),d(127,"br"),o(128," On remarque que si un "),a(129,"code"),o(130,"sac S"),u(),o(131," peut contenir au moins un "),a(132,"code"),o(133,"sac dor\xe9"),u(),o(134,", alors un "),a(135,"code"),o(136,"sac S2"),u(),o(137," contenant un "),a(138,"code"),o(139,"sac S"),u(),o(140," contiendra \xe9galement au moins un "),a(141,"code"),o(142,"sac dor\xe9"),u(),o(143,". On peut donc \xe9viter de refaire les parcours en entiers en stockant l'information sur chaque noeud."),d(144,"br"),o(145," Cela nous fait passer d'une complexit\xe9 en "),a(146,"code"),o(147,"O(N!)"),u(),o(148," (en faisant des parcours complets pour chaque noeud) \xe0 une complexit\xe9 en "),a(149,"code"),o(150,"O(N)"),u(),o(151," (on ne parcourt qu'une seule fois chaque noeud)."),d(152,"br"),o(153," Les "),a(154,"b"),o(155,"noeuds rouge"),u(),o(156," correspondent aux sacs depuis lesquels on ne peut pas atteindre le "),a(157,"code"),o(158,"sac dor\xe9"),u(),o(159,"."),d(160,"br"),o(161," Les "),a(162,"b"),o(163,"noeuds verts"),u(),o(164," correspondent aux sacs depuis lesquels on peut pas atteindre le "),a(165,"code"),o(166,"sac dor\xe9"),u(),o(167,"."),d(168,"br"),d(169,"br"),a(170,"div",10),d(171,"img",11),u(),d(172,"br"),o(173," Seconde optimisation, plus l\xe9g\xe8re cette fois:"),d(174,"br"),o(175," Plut\xf4t que de partir de chaque noeud, on peut "),a(176,"b"),o(177,"inverser le sens des arcs"),u(),o(178," (les fils pointent du doigt les parents) et partir du "),a(179,"code"),o(180,"sac dor\xe9"),u(),o(181," pour trouver tous ses anc\xeatres."),d(182,"br"),o(183," L'avantage de cette approche est que l'on ne parcourra que les sacs qui pourront contenir le sac dor\xe9."),d(184,"br"),o(185," L'inconv\xe9nient est que, si l'on doit conserver la structure initiale du graphe, on doit dupliquer ce graphe pour g\xe9n\xe9rer une version inverse. "),d(186,"br"),d(187,"br"),o(188," Le choix entre ces deux versions d\xe9pendra du contexte (pr\xe9f\xe8re-t-on optimiser le "),a(189,"b"),o(190,"temps"),u(),o(191," ou "),a(192,"b"),o(193,"l'espace"),u(),o(194,"?) et de la distribution de donn\xe9es."),d(195,"br"),o(196," Ici on privil\xe9giera le temps en impl\xe9mentant la seconde option."),d(197,"br"),d(198,"br"),a(199,"div",10),d(200,"img",12),u(),d(201,"br"),d(202,"br"),o(203," En terme de structures de donn\xe9es pour repr\xe9senter un graphe, on prendra la repr\xe9sentation par "),a(204,"b"),o(205,"liste d'adjacence"),u(),o(206,", qui consiste \xe0 associer \xe0 un noeud une liste d'arcs partants de ce noeud vers ses noeuds voisins."),d(207,"br"),d(208,"br"),a(209,"pre",9),a(210,"code"),o(211,"import re\n\nlines = open('input7.txt').read().split('\\n')\ngraphe = dict()\ngrapheInverse = dict()\nfor line in lines:\n    (parent, childs) = map(str.strip, line.split('bags contain'))\n    parent = parent.replace('bag', '')\n    if(re.match(r'.*[0-9].*', childs)):\n        allChilds = list(map(lambda child: child.replace(\n            'bags', '').replace('bag', '').replace('.', '').strip(), childs.split(',')))\n        for child in allChilds:\n            (compte, key) = int(child.split(' ')\n                                [0]), ' '.join(child.split(' ')[1:])\n            graphe[parent] = graphe.get(parent, [])+[(compte, key)]\n            grapheInverse[key] = grapheInverse.get(\n                key, [])+[(compte, parent)]\nvisited = set()\n\n\ndef parcours(node):\n    if(node in visited):\n        return 0\n    visited.add(node)\n    res = 1\n    for (_, parent) in grapheInverse.get(node, []):\n        res += parcours(parent)\n    return res\n\n\nprint(parcours('shiny gold')-1)"),u(),u(),d(212,"br"),d(213,"br"),a(214,"h2",6),a(215,"a",7),o(216,"Jour 7, partie 2:"),u(),u(),a(217,"h3",8),o(218," Enonc\xe9 "),u(),o(219," Pour la partie 2, on souhaite calculer le nombre total de sacs que contient un sac dor\xe9."),d(220,"br"),d(221,"br"),o(222," Par exemple, avec l'entr\xe9e suivante: "),a(223,"pre",9),a(224,"code"),o(225,"shiny golden bags contain 2 dark red bags.\ndark red bags contain 2 glowing purple bags.\nglowing purple bags contain no other bag."),u(),u(),o(226," Un sac dor\xe9 contient 2 sacs, qui contiennent chacun deux autres sacs. On aura donc au total 2+2*2 = 6 sacs \xe0 l'int\xe9rieur du sac dor\xe9."),d(227,"br"),d(228,"br"),a(229,"h3",8),o(230," Solution "),u(),o(231," Une solution na\xefve serait de partir de notre graphe de tout \xe0 l'heure (celui qui n'\xe9tait pas invers\xe9), et en partant du "),a(232,"code"),o(233,"sac dor\xe9"),u(),o(234,", faire des appels r\xe9cursifs sur ses noeuds enfants pour parcourir tout le graphe et calculer combien de sacs sont contenus au total."),d(235,"br"),d(236,"br"),o(237," Cette approche a le m\xeame d\xe9faut que la solution na\xefve de la partie 1: elle peut \xeatre tr\xe8s lente suivant les entr\xe9es."),d(238,"br"),o(239," Mais l'optimisation \xe0 mettre en place est tr\xe8s similaire!"),d(240,"br"),d(241,"br"),o(242," Il suffit d'enregistrer pour chaque noeud, combien de sacs sont contenus \xe0 l'int\xe9rieur."),d(243,"br"),o(244," Lorsque l'on fait notre parcours, si l'on repasse sur un noeud pour lequel cette information a d\xe9j\xe0 \xe9t\xe9 calcul\xe9e, pas besoin de continuer nos appels r\xe9cursifs depuis ce noeud, on remonte directement l'information."),d(245,"br"),o(246," Cette m\xe9thode est aussi appell\xe9e "),a(247,"b"),o(248,'"m\xe9mo\xefsation"'),u(),o(249," et est un exemple sp\xe9cifique d'application de "),a(250,"b"),o(251,"programmation dynamique"),u(),o(252,"."),d(253,"br"),o(254," Cela nous fait encore une fois passer d'une complexit\xe9 en "),a(255,"code"),o(256,"O(N!)"),u(),o(257," vers du "),a(258,"code"),o(259,"O(N)"),u(),o(260,"."),d(261,"br"),d(262,"br"),o(263," Si on utilise un dictionnaire pour enregistrer cette information, l'impl\xe9mentation se d\xe9duit naturellement: "),a(264,"pre",9),a(265,"code"),o(266,"import re\nlines = open('input7.txt').read().split('\\n')\ngraphe = dict()\nfor line in lines:\n    (parent, childs) = map(str.strip, line.split('bags contain'))\n    parent = parent.replace('bag', '')\n    if(re.match(r'.*[0-9].*', childs)):\n        allChilds = list(map(lambda child: child.replace(\n            'bags', '').replace('bag', '').replace('.', '').strip(), childs.split(',')))\n        for child in allChilds:\n            (compte, key) = int(child.split(' ')\n                                [0]), ' '.join(child.split(' ')[1:])\n            graphe[parent] = graphe.get(parent, [])+[(compte, key)]\n\ncompte = dict()\n\ndef parcours(node):\n    if(node in compte):\n        return compte[node]\n    res = 1\n    for (nombre, parent) in graphe.get(node, []):\n        res += nombre*parcours(parent)\n    compte[node] = res\n    return res\n\nprint(parcours('shiny gold')-1)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),fG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day8"]],decls:281,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/8"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[2,"text-align","center"],["src","assets/img/PremiereEtapeDay8.png",2,"width","1000px"],["src","assets/img/SecondeEtapeDay8.png",2,"width","200px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 8) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 8, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour ce probl\xe8me, il fallait lire un programme \xe9crit dans un langage proche de l'"),a(30,"b"),o(31,"assembleur"),u(),o(32," et qui comportait 3 types d'instructions: "),a(33,"ul"),a(34,"li"),a(35,"code"),o(36,"JMP"),u(),o(37," valeur: Instruction incr\xe9mentant le pointeur d'instruction de la valeur indiqu\xe9e "),u(),a(38,"li"),a(39,"code"),o(40,"ACC"),u(),o(41," valeur: Instruction incr\xe9mentant un registre "),a(42,"code"),o(43,"accumulateur"),u(),o(44," de la valeur indiqu\xe9e "),u(),a(45,"li"),a(46,"code"),o(47,"NOP"),u(),o(48," valeur: Instruction ne faisant rien "),u(),u(),d(49,"br"),o(50," Apr\xe8s l'ex\xe9cution de chacune de ces instructions (sauf pour le "),a(51,"code"),o(52,"JMP"),u(),o(53,"), le pointeur d'instruction est ensuite increment\xe9 de "),a(54,"b"),o(55,"1"),u(),o(56," pour passer \xe0 l'instruction suivante."),d(57,"br"),d(58,"br"),o(59," Dans la premi\xe8re partie, il est demand\xe9 de simuler le programme jusqu'\xe0 ce que celui-ci boucle sur une instruction d\xe9j\xe0 ex\xe9cut\xe9e pr\xe9c\xe9demment."),d(60,"br"),o(61," A ce moment de l'ex\xe9cution du programme, l'accumulateur contiendra la valeur qu'il faudra soumettre pour valider le probl\xe8me. "),a(62,"h3"),o(63,"Solution"),u(),o(64," Cette premi\xe8re partie ne laissait pas tellement de place \xe0 la cr\xe9ativit\xe9. Sauf si l'on sortait des sentiers battus, les solutions \xe9taient toutes similaires, et reposaient sur la "),a(65,"b"),o(66,"simulation"),u(),o(67," du programme, avec une "),a(68,"b"),o(69,"d\xe9tection de cycle"),u(),o(70,"."),d(71,"br"),d(72,"br"),o(73," Seul ce dernier point de d\xe9tection de cycle pouvait montrer diff\xe9rentes versions, notamment dans les "),a(74,"b"),o(75,"structures"),u(),o(76," utilis\xe9es."),d(77,"br"),o(78," Les diff\xe9rences concernant la "),a(79,"b"),o(80,"complexit\xe9 algorithmique spatiale"),u(),o(81,", et en "),a(82,"b"),o(83,"temps d'insertion"),u(),o(84," et de "),a(85,"b"),o(86,"recherche d'un indice"),u(),o(87,". On pouvait par exemple utiliser: "),a(88,"ul"),a(89,"li"),o(90,"Une simple "),a(91,"b"),o(92,"liste"),u(),o(93," classique dans laquelle on ins\xe8re les instructions visit\xe9es (recherche: "),a(94,"code"),o(95,"O(N)"),u(),o(96,", insertion : "),a(97,"code"),o(98,"O(1)"),u(),o(99,")/li> "),u(),a(100,"li"),o(101,"Un "),a(102,"b"),o(103,"treeSet"),u(),o(104," (recherche: "),a(105,"code"),o(106,"O(log N)"),u(),o(107,", insertion: "),a(108,"code"),o(109,"O(log N)"),u(),o(110,") "),u(),a(111,"li"),o(112,"Un "),a(113,"b"),o(114,"tableau de hachage"),u(),o(115," / "),a(116,"b"),o(117,"hashMap"),u(),o(118," (la cl\xe9 correspondant \xe0 l'index d'instruction) (recherche: "),a(119,"code"),o(120,"O(1)"),u(),o(121,", insertion: "),a(122,"code"),o(123,"O(1)"),u(),o(124,") "),u(),u(),d(125,"br"),o(126," On prendra la derni\xe8re structure avec un simple tableau de taille "),a(127,"b"),o(128,"300"),u(),o(129," (on a "),a(130,"b"),o(131,"300"),u(),o(132," instructions)."),d(133,"br"),o(134," La simulation combin\xe9e avec la d\xe9tection de cycle peut \xeatre impl\xe9ment\xe9e via ce code: "),a(135,"pre",9),a(136,"code"),o(137,"lines = open('input8.txt').read().split('\\n')\nprogram = list(map(lambda i: (i.split(' ')[0], int(i.split(' ')[1])), lines))\n\ncurrentInstruction = 0\naccumulateur = 0\n\nvisited = [False for _ in program]\n\nwhile(not visited[currentInstruction]):\n    visited[currentInstruction] = True\n    (op, val) = program[currentInstruction]\n    if(op == 'acc'):\n        accumulateur += val\n    elif(op == 'jmp'):\n        currentInstruction += val - 1\n    currentInstruction += 1\nprint(accumulateur)"),u(),u(),d(138,"br"),d(139,"br"),a(140,"h2",6),a(141,"a",7),o(142,"Jour 8, partie 2:"),u(),u(),a(143,"h3",8),o(144," Enonc\xe9 "),u(),o(145," Pour la seconde partie, on veut trouver une unique instruction de type "),a(146,"code"),o(147,"JMP"),u(),o(148," ou "),a(149,"code"),o(150,"NOP"),u(),o(151,", telle que : "),a(152,"ul"),a(153,"li"),o(154," si cette instruction est de type "),a(155,"code"),o(156,"JMP"),u(),o(157,", en la changeant en "),a(158,"code"),o(159,"NOP"),u(),o(160," on arrive \xe0 la fin du programme "),u(),a(161,"li"),o(162," si cette instruction est de type "),a(163,"code"),o(164,"NOP"),u(),o(165,", en la changeant en "),a(166,"code"),o(167,"JMP"),u(),o(168," on arrive \xe0 la fin du programme "),u(),u(),o(169," On ne peut changer qu'une seule instruction."),d(170,"br"),o(171," De mani\xe8re formelle, \"arriver \xe0 la fin du programme\" correspond \xe0 atteindre l'instruction d'indice X+1, si X est le nombre d'instructions du programme. "),d(172,"br"),d(173,"br"),a(174,"h3"),o(175,"Solutions"),u(),o(176," Il existe deux solutions principales."),d(177,"br"),o(178," La premi\xe8re, tr\xe8s intuitive, consiste simplement \xe0 tenter toutes les modifications possibles des instructions "),a(179,"code"),o(180,"JUMP"),u(),o(181,"/"),a(182,"code"),o(183,"NOP"),u(),o(184,"."),d(185,"br"),o(186," Ca donne une complexit\xe9 en "),a(187,"code"),o(188,"O(N^2)"),u(),o(189,": "),a(190,"ul"),a(191,"li"),o(192," On a "),a(193,"b"),o(194,"N"),u(),o(195," changements possibles au maximum (si on a aucune instruction "),a(196,"code"),o(197,"ACC"),u(),o(198,") "),u(),a(199,"li"),o(200," Chaque simulation n'ex\xe9cute au maximum que "),a(201,"b"),o(202,"N"),u(),o(203," instructions vu que si on ex\xe9cute deux fois la m\xeame instruction, on aura boucl\xe9. "),u(),u(),d(204,"br"),d(205,"br"),o(206," L'entr\xe9e fourni \xe9tant tr\xe8s petite, cette complexit\xe9 reste acceptable."),d(207,"br"),o(208," Mais il est possible de faire mieux, avec une complexit\xe9 en "),a(209,"code"),o(210,"O(N)"),u(),o(211,". "),d(212,"br"),d(213,"br"),o(214," Si l'on fait un parcours depuis chaque instruction pour savoir si depuis une instruction, sans changer aucune instruction, on peut acc\xe9der \xe0 la fin du programme, on peut enregistrer cette information pour chaque instruction."),d(215,"br"),d(216,"br"),o(217," Cette premi\xe8re \xe9tape se fait en complexit\xe9 "),a(218,"code"),o(219,"O(N)"),u(),o(220,", vu que chaque noeud \"instruction\" ne sera visit\xe9 qu'une fois: s'il a d\xe9j\xe0 \xe9t\xe9 visit\xe9, alors il aura d\xe9j\xe0 \xe9t\xe9 marqu\xe9 comme pouvant acc\xe9der ou non \xe0 la fin, et donc propager cette information au noeud pr\xe9c\xe9dent en complexit\xe9 constante."),d(221,"br"),d(222,"br"),o(223," Ici, le sch\xe9ma pr\xe9sente cette premi\xe8re \xe9tape: "),a(224,"ul"),a(225,"li"),a(226,"code"),o(227,"Depart"),u(),o(228," est l'instruction \xe0 partir de laquelle on lance le parcours (on le fait pour chaque instruction)"),u(),a(229,"li"),o(230," La couleur blanche correspond \xe0 un noeud pas encore explor\xe9"),u(),a(231,"li"),o(232," La couleur verte correspond \xe0 un noeud explor\xe9 qui peut acc\xe8der \xe0 la fin du programme sans changement"),u(),a(233,"li"),o(234," La couleur rouge correspond \xe0 un noeud explor\xe9 ne pouvant pas acc\xe8der \xe0 la fin du programme "),u(),u(),d(235,"br"),d(236,"br"),o(237," Un programme correspondant pourrait \xeatre par exemple le suivant: "),a(238,"pre",9),a(239,"code"),o(240,"ACC +42\nJMP -1\nNOP 1\nACC 1337"),u(),u(),d(241,"br"),d(242,"br"),a(243,"div",10),d(244,"img",11),u(),d(245,"br"),d(246,"br"),o(247," La seconde \xe9tape consiste \xe0 simuler le programme comme pour la partie 1. "),d(248,"br"),o(249," Sauf qu'\xe0 chaque nop / jmp crois\xe9, on v\xe9rifie si le fait de changer cette instruction permet d'acc\xe9der \xe0 un noeud vert:"),d(250,"br"),a(251,"ul"),a(252,"li"),o(253," Si c'est le cas, on switche cette instruction (on a trouv\xe9 l'"),a(254,"b"),o(255,"instruction probl\xe9matique"),u(),o(256,") et on continue le programme jusqu'\xe0 sa terminaison de mani\xe8re classique. "),u(),a(257,"li"),o(258," Sinon, on garde l'instruction dans son \xe9tat originale, et on continue l'ex\xe9cution. "),u(),u(),o(259," M\xeame principe que pour la partie 1, cette simulation se fait en un maximum de "),a(260,"b"),o(261,"N"),u(),o(262," instructions."),d(263,"br"),d(264,"br"),o(265," Sur le sch\xe9ma, la seconde instruction posait probl\xe8me: le "),a(266,"code"),o(267," JMP -1 "),u(),o(268," doit \xeatre remplac\xe9 par un "),a(269,"code"),o(270," NOP -1 "),u(),d(271,"br"),d(272,"br"),a(273,"div",10),d(274,"img",12),u(),d(275,"br"),d(276,"br"),o(277," Une impl\xe9mentation donnerait par exemple : "),a(278,"pre",9),a(279,"code"),o(280,"lines = open('input8.txt').read().split('\\n')\nprogram = list(map(lambda i: (i.split(' ')[0], int(i.split(' ')[1])), lines))\n\ncurrentInstruction = 0\naccumulateur = 0\n\nNOT_VISITED, CAN_FINISH, CANT_FINISH = 0, 1, 2\n\ncoloration = dict()\ncoloration[len(program)] = CAN_FINISH\n\n\ndef parcours(index):\n    if(coloration.get(index, NOT_VISITED) != NOT_VISITED):\n        return coloration[index]\n    if(index > len(program) or index < 0):\n        return CANT_FINISH\n    (op, val) = program[index]\n    nextIndex = [index+1, index+val][op == 'jmp']\n    coloration[index] = CANT_FINISH\n    coloration[index] = parcours(nextIndex)\n    return coloration[index]\n\n\nfor i in range(len(program)):\n    parcours(i)\n\nwhile(currentInstruction != len(program)):\n    (op, val) = program[currentInstruction]\n    if(coloration[currentInstruction] == CANT_FINISH):\n        if(op == 'jmp' and coloration.get(currentInstruction+1, NOT_VISITED) == CAN_FINISH):\n            currentInstruction += 1\n            continue\n        elif(op == 'nop' and coloration.get(currentInstruction+val, NOT_VISITED) == CAN_FINISH):\n            currentInstruction += val\n            continue\n    accumulateur += [0, val][op == 'acc']\n    currentInstruction += [1, val][op == 'jmp']\nprint(accumulateur)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})();const pG=function(){return["far","lightbulb"]};let mG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day9"]],decls:313,vars:2,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/9"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[1,"proTip"],[3,"icon"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 9) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 9, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour aujourd'hui, on r\xe9cup\xe8re une liste d'entiers, et l'on doit v\xe9rifier que pour chaque \xe9l\xe9ment autre que les 25 premiers, si l'\xe9l\xe9ment est \xe0 l'indice i, alors il existe "),a(30,"code"),o(31,"i-25 <= j < k < i"),u(),o(32," tels que "),a(33,"code"),o(34,"tab[j]+tab[k] = tab[i]"),u(),o(35,"."),d(36,"br"),d(37,"br"),o(38," Le premier \xe9l\xe9ment qui ne r\xe9pond pas \xe0 cette r\xe8gle sera l'intrus (et la r\xe9ponse) de la partie 1. Par exemple, si \xe0 la place d'une pr\xe9d\xe9cence d'ordre 25, on simplifie \xe0 une valeur de 3, alors pour l'entr\xe9e: "),a(39,"pre",9),a(40,"code"),o(41,"1\n2\n3\n4\n6\n10\n11\n16"),u(),u(),o(42," Alors on a : "),a(43,"pre",9),a(44,"code"),o(45,"tab[3] = 4  = tab[0]+tab[2]     // i = 3, j = 0, k = 2\ntab[4] = 6  = tab[1]+tab[3]     // i = 4, j = 1, k = 3\ntab[5] = 10 = tab[3]+tab[4]     // i = 5, j = 3, k = 4\ntab[6] = 11\ntab[7] = 16 = tab[4]+tab[5]     // i = 7, j = 4, k = 5"),u(),u(),d(46,"br"),o(47," Et donc, l'\xe9l\xe9ment "),a(48,"code"),o(49,"tab[6]=11"),u(),o(50," est l'intrus. "),d(51,"br"),d(52,"br"),a(53,"h3",8),o(54," Solution "),u(),o(55," Ici on a un cas un peu particulier, o\xf9 une solution optimis\xe9e th\xe9oriquement peut \xeatre en pratique plus lente qu'une solution na\xefve. "),d(56,"br"),d(57,"br"),o(58," La solution na\xefve se devine tr\xe8s facilement: il suffit d'it\xe9rer sur chaque \xe9l\xe9ment, v\xe9rifier pour chaque pair d'\xe9l\xe9ments dans les 25 pr\xe9c\xe9dents si la somme de ceux-ci peut \xeatre \xe9gale \xe0 l'\xe9l\xe9ment qu'on cherche. "),d(59,"br"),d(60,"br"),o(61," L'ordre de grandeur des op\xe9rations est de l'ordre de "),a(62,"code"),o(63,"N*(25^2)"),u(),o(64,". On peut affiner l\xe9g\xe8rement cet ordre : "),d(65,"br"),d(66,"br"),o(67," Pour chaque "),a(68,"code"),o(69,"j"),u(),o(70," test\xe9, on ne v\xe9rifiera que les "),a(71,"code"),o(72,"k"),u(),o(73," compris entre "),a(74,"code"),o(75,"j+1"),u(),o(76," et "),a(77,"code"),o(78,"i-1"),u(),o(79,"."),d(80,"br"),o(81," Donc on aura pour : "),a(82,"ul"),a(83,"li"),a(84,"code"),o(85,"j = i-25"),u(),o(86,", on a "),a(87,"code"),o(88,"24 k"),u(),o(89," diff\xe9rents"),u(),a(90,"li"),a(91,"code"),o(92,"j = i-24"),u(),o(93,", on a "),a(94,"code"),o(95,"23 k"),u(),o(96," diff\xe9rents"),u(),a(97,"li"),o(98,"..."),u(),u(),o(99," soit "),a(100,"code"),o(101,"24+23+22... = (24*25)/2 "),u(),o(102," pairs "),a(103,"code"),o(104,"(j,k)"),u(),o(105," v\xe9rifi\xe9es."),d(106,"br"),d(107,"br"),o(108," On pourrait \xe0 la place stocker les donn\xe9es des "),a(109,"b"),o(110,"25"),u(),o(111," pr\xe9c\xe9dents nombres, et les mettre \xe0 jour au fur et \xe0 mesure du parcours de la liste, en retirant le "),a(112,"b"),o(113,"25"),u(),o(114," \xe8me \xe9l\xe9ment plus ancien, et en ajoutant le nouveau \xe9l\xe9ment apr\xe8s l'avoir trait\xe9."),d(115,"br"),o(116," Cette technique s'apparente \xe0 une approche de type "),a(117,"b"),o(118,'"fen\xeatre coulissante"'),u(),o(119,"."),d(120,"br"),o(121," Ensuite, un peu comme pour le jour 1, plut\xf4t que d'it\xe9rer sur chaque pair "),a(122,"code"),o(123,"(j,k)"),u(),o(124,", on peut it\xe9rer uniquement sur les indices "),a(125,"code"),o(126,"j"),u(),o(127,", et chercher si l'\xe9l\xe9ment "),a(128,"code"),o(129,"tab[k]-tab[j]"),u(),o(130," existe dans la structure."),d(131,"br"),o(132," Une structure de ce type pourrait \xeatre par exemple un multiset, qui permet de faire des requ\xeates d'insertion / recherche en "),a(133,"code"),o(134,"O(logN)"),u(),o(135,", tout en conservant la multiplicit\xe9 \xe9ventuelle des \xe9l\xe9ments (contrairement aux sets qui ne conservent les \xe9l\xe9ments que de mani\xe8re unique)."),d(136,"br"),d(137,"br"),o(138," Ce genre de structure, suivant l'impl\xe9mentation, peut n\xe9anmoins \xeatre relativement lourde, notamment pour des donn\xe9es de petite tailles."),d(139,"br"),o(140," L'ordre de grandeur pour cette seconde strat\xe9gie est "),a(141,"code"),o(142,"N*25*log(25)"),u(),o(143," op\xe9rations, mais selon certaines situations, la strat\xe9gie na\xefve peut rester pr\xe9f\xe9rable."),d(144,"br"),d(145,"br"),o(146," Une impl\xe9mentation de la strat\xe9gie na\xefve pourrait prendre la forme suivante: "),d(147,"br"),d(148,"br"),a(149,"pre",9),a(150,"code"),o(151,"lines = list(map(int, open('input9.txt').read().split('\\n')))\n\nfor i in range(25, len(lines)):\n    found = False\n    for j in range(i-25, i):\n        if(found):\n            break\n        for k in range(j+1, i):\n            if(lines[j]+lines[k] == lines[i]):\n                found = True\n                break\n    if(not found):\n        print(lines[i])\n        break"),u(),u(),a(152,"h2",6),a(153,"a",7),o(154,"Jour 9, partie 2:"),u(),u(),a(155,"h3",8),o(156," Enonc\xe9 "),u(),o(157," En seconde partie, on cherche \xe0 trouver un ensemble d'\xe9l\xe9ments contigu\xebs (au minimum 2) de telle sorte que la somme de ces \xe9l\xe9ments soit \xe9gale \xe0 l'intrus trouv\xe9 en partie 1."),d(158,"br"),d(159,"br"),o(160," Par exemple, si on a comme intrus "),a(161,"b"),o(162,"42"),u(),o(163,", et qu'on a entr\xe9e: "),a(164,"pre",9),a(165,"code"),o(166,"14\n12\n7\n13              \n5\n17\n16"),u(),u(),d(167,"br"),o(168," alors on a 7+13+5+17. "),d(169,"br"),d(170,"br"),o(171," La r\xe9ponse \xe0 soumettre est la somme des du plus grand et du plus petit nombre de l'intervalle (ici, 5+17=22). "),d(172,"br"),d(173,"br"),a(174,"h3",8),o(175," Solution "),u(),o(176," Une solution na\xefve consisterait simplement \xe0 essayer toutes les pairs (x,y) avec ("),a(177,"code"),o(178,"x < y"),u(),o(179,") et faire la somme de l'intervalle [x,y] pour v\xe9rifier si l'on atteint la cible. "),d(180,"br"),o(181," Cette solution est en "),a(182,"code"),o(183,"O(N^2)"),u(),o(184," et ne pr\xe9sente pas grand int\xe9r\xeat."),d(185,"br"),d(186,"br"),a(187,"pre",9),a(188,"code"),o(189,"import sys\nlines = list(map(int, open('input9.txt').read().split('\\n')))\n\nintrus = 22477624  # Remplacer par sa valeur\nfor i in range(len(lines)):\n    for j in range(i+1, len(lines)):\n        if(sum(lines[i:j+1]) == intrus):\n            print(min(lines[i:j+1])+max(lines[i:j+1]))\n            sys.exit(0)"),u(),u(),d(190,"br"),d(191,"br"),o(192," Une solution plus optimis\xe9e utilise un concept tr\xe8s int\xe9ressant en algorithmique: le "),a(193,"b"),o(194,"balayage de donn\xe9es avec 2 pointeurs"),u(),o(195,"."),d(196,"br"),o(197," Le principe pr\xe9sente des similarit\xe9s avec le concept de "),a(198,"b"),o(199,"fen\xeatre glissante"),u(),o(200,", qui contiendra un intervalle de donn\xe9es, et qui sera mise \xe0 jour au fur et \xe0 mesure du balayage d'une structure plus grosse (liste par exemple), sans recalculer l'int\xe9gralit\xe9 des informations de l'intervalle."),d(201,"br"),d(202,"br"),o(203," Dans le cas d'un balayage \xe0 deux pointeurs, c'est un peu un balayage avec une "),a(204,"b"),o(205,"fen\xeatre glissante"),u(),o(206,", mais de taille dynamique."),d(207,"br"),o(208," On a un pointeur "),a(209,"code"),o(210,"gauche"),u(),o(211," et un pointeur "),a(212,"code"),o(213,"droite"),u(),o(214," qui pointent sur les extr\xeames de l'intervalle courant."),d(215,"br"),d(216,"br"),a(217,"b"),o(218,"Etape 0"),u(),o(219,": Les deux pointeurs sont initalis\xe9s \xe0 "),a(220,"b"),o(221,"-1"),u(),o(222,"."),d(223,"br"),a(224,"b"),o(225,"Etape 1"),u(),o(226,": A chaque it\xe9ration de la boucle externe, on incr\xe9mente le pointeur "),a(227,"code"),o(228,"droite"),u(),o(229,", en ajoutant la donn\xe9e point\xe9e \xe0 un accumulateur "),a(230,"code"),o(231,"somme"),u(),o(232,"."),d(233,"br"),a(234,"b"),o(235,"Etape 2"),u(),o(236,": Tant que cette somme est sup\xe9rieure \xe0 la valeur recherch\xe9e, on enl\xe8ve la donn\xe9e point\xe9e par "),a(237,"code"),o(238,"gauche"),u(),o(239," de "),a(240,"code"),o(241,"somme"),u(),o(242,", et on incr\xe9mente le pointeur."),d(243,"br"),o(244," Si cette somme est \xe9gale (et que l'on n'a pas "),a(245,"code"),o(246,"gauche = droite"),u(),o(247," (intervalle de taille 1)), alors on a trouv\xe9 notre intervalle."),d(248,"br"),o(249," Sinon on boucle en repartant de l'\xe9tape 1."),d(250,"br"),d(251,"br"),o(252," En proc\xe9dant ainsi, on trouve pour chaque indice "),a(253,"code"),o(254,"droite"),u(),o(255," le plus petit intervalle "),a(256,"code"),o(257,"[gauche,droite]"),u(),o(258," telle que: "),a(259,"pre",9),a(260,"code"),o(261,"somme(tab[gauche:droite+1]) <= cible"),u(),u(),d(262,"br"),d(263,"br"),o(264," Egalement, comme nos pointeurs ne font qu'augmenter, on ne peut avoir au maximum que "),a(265,"code"),o(266,"2*N"),u(),o(267," \xe9tapes."),d(268,"br"),d(269,"br"),a(270,"div",10),d(271,"fa-icon",11),o(272," Il existe un type d'algorithme qui ressemble beaucoup \xe0 un balayage lin\xe9aire (en complexit\xe9 "),a(273,"code"),o(274,"O(N)"),u(),o(275,") avec deux pointeurs, mais qui sont en r\xe9alit\xe9 de complexit\xe9 "),a(276,"code"),o(277,"O(N^2)"),u(),o(278,"."),d(279,"br"),o(280," J'appelle ces algorithmes les algorithmes "),a(281,"b"),o(282,"accord\xe9ons"),u(),o(283,"."),d(284,"br"),o(285," La principale diff\xe9rence est que plut\xf4t qu'avoir deux pointeurs ne se d\xe9pla\xe7ant que dans une seule direction, on a au moins un des deux pointeurs qui peut prendre plusieurs directions."),d(286,"br"),d(287,"br"),o(288," Dans ce cas, on peut tr\xe8s bien avoir de tr\xe8s grosses oscillations de taille de l'intervalle entre deux it\xe9rations, par exemple avoir : "),a(289,"pre",9),a(290,"code"),o(291,"//[gauche,droite]\n[0,42]  // iteration 42\n[42,43] // iteration 43\n[0,44]  // iteration 44\n[43,45] // iteration 45\n..."),u(),u(),o(292," Si la transition d'un intervalle "),a(293,"code"),o(294,"[x,y]"),u(),o(295," vers un intervalle "),a(296,"code"),o(297,"[x+z,y]"),u(),o(298," se fait en "),a(299,"code"),o(300,"z"),u(),o(301," op\xe9rations, ce genre de dilatations / compressions peut \xeatre tr\xe8s co\xfbteux, avec toutes les paires "),a(302,"code"),o(303,"(x,y)"),u(),o(304," (pour "),a(305,"code"),o(306,"x <= y"),u(),o(307,") prises comme intervalles. "),u(),d(308,"br"),o(309," Une impl\xe9mentation de la solution avec deux pointeurs suit: "),a(310,"pre",9),a(311,"code"),o(312,"lines = list(map(int, open('input9.txt').read().split('\\n')))\nintrus = 22477624  # Remplacer par sa valeur\nsomme,gauche,droite = 0,0,0\n\nwhile(droite < len(lines)):\n    somme += lines[droite]\n    while(somme > intrus):\n        somme -= lines[gauche]\n        gauche += 1\n    if(somme == intrus):\n        print(min(lines[gauche:droite+1])+max(lines[gauche:droite+1]))\n        break\n    droite += 1"),u(),u(),u(),u(),u(),u()),2&e&&(K(271),te("icon",au(1,pG)))},directives:[o1],styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})();const AC=function(){return["far","lightbulb"]};let gG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day10"]],decls:233,vars:4,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/10"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[1,"proTip"],[3,"icon"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 10) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 10, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a en entr\xe9es une liste d'entiers correspondant \xe0 des adaptateurs \xe9l\xe9ctriques, chaque valeur donnant la valeur du flux sortant de l'adaptateur."),d(30,"br"),o(31," Egalement, on a une prise fournissant un flux de valeur "),a(32,"b"),o(33,"0"),u(),o(34,", ainsi qu'un dernier adapteur \xe9l\xe9ctrique absent de la liste, qui aura pour valeur la valeur maximale de la liste "),a(35,"b"),o(36,"+ 3"),u(),o(37,"."),d(38,"br"),d(39,"br"),o(40," Chaque adapteur de valeur "),a(41,"code"),o(42,"V"),u(),o(43," peut prendre en entr\xe9e un flux de valeur "),a(44,"code"),o(45,"V-1"),u(),o(46,", "),a(47,"code"),o(48,"V-2"),u(),o(49," ou "),a(50,"code"),o(51,"V-3"),u(),o(52,". En partant de la source 0, et en allant jusqu'au dernier adaptateur en passant par tous les adaptateurs, il faut trouver le nombre de transitions r\xe9alis\xe9es entre une entr\xe9e "),a(53,"code"),o(54,"V"),u(),o(55," et une sortie "),a(56,"code"),o(57,"V+1"),u(),o(58,", de m\xeame pour le nombre de transitions entre une entr\xe9e "),a(59,"code"),o(60,"V"),u(),o(61," et une sortie "),a(62,"code"),o(63,"V+3"),u(),o(64,". Par exemple, pour la liste "),a(65,"pre",9),a(66,"code"),o(67,"1\n3\n5\n6\n9\n12"),u(),u(),d(68,"br"),o(69," On a "),a(70,"b"),o(71,"2"),u(),o(72," transitions de valeurs "),a(73,"b"),o(74,"1"),u(),o(75," ("),a(76,"b"),o(77,"0=>1"),u(),o(78," et "),a(79,"b"),o(80,"5=>6"),u(),o(81,"), 2 transitions de valeurs "),a(82,"b"),o(83,"2"),u(),o(84," ("),a(85,"b"),o(86,"1=>3"),u(),o(87," et "),a(88,"b"),o(89,"3=>5"),u(),o(90,") et "),a(91,"b"),o(92,"3"),u(),o(93," transitions de valeurs "),a(94,"b"),o(95,"3"),u(),o(96," ("),a(97,"b"),o(98,"6=>9"),u(),o(99,", "),a(100,"b"),o(101,"9=>12"),u(),o(102," et "),a(103,"b"),o(104,"12=>15"),u(),o(105,")."),d(106,"br"),d(107,"br"),o(108," La valeur \xe0 soumettre est le produit des deux nombres trouv\xe9s. "),a(109,"h3",8),o(110," Solution "),u(),o(111," Etant donn\xe9 que les transitions ne se font que de mani\xe8re croissante, et que l'on doit passer par tous les adapteurs, on peut trier la liste, cela nous donnera l'ordre dans lequel on doit parcourir les adapteurs."),d(112,"br"),d(113,"br"),o(114," A partir de cette liste, la solution est triviale:"),d(115,"br"),o(116," Il suffit de parcourir la liste en enregistrant les diff\xe9rences entre les \xe9l\xe9ments successifs, et garder deux variables \xe0 jour pour compter le nombre de transitions des deux types \xe0 enregistrer."),d(117,"br"),d(118,"br"),o(119," En code, cela donne ceci: "),a(120,"pre",9),a(121,"code"),o(122,"lines = list(map(int, open('input10.txt').read().split('\\n')))\nlines.sort()\nlines = [0] + lines + [lines[-1]+3]\ncompte = dict()\nfor i in range(1, len(lines)):\n    compte[lines[i]-lines[i-1]] = compte.get(lines[i]-lines[i-1], 0)+1\nprint(compte[1]*compte[3])"),u(),u(),d(123,"br"),d(124,"br"),a(125,"h2",6),a(126,"a",7),o(127,"Jour 10, partie 2:"),u(),u(),a(128,"h3",8),o(129," Enonc\xe9 "),u(),o(130," Pour la partie 2, plut\xf4t que d'utiliser l'int\xe9gralit\xe9 des adaptateurs, on veut trouver le nombre d'arrangements possibles de telle sorte que l'on puisse relier la source 0 au dernier adaptateur (celui absent de notre liste)."),d(131,"br"),d(132,"br"),o(133," Si on prend l'exemple suivant: "),a(134,"pre",9),a(135,"code"),o(136,"1\n2\n3"),u(),u(),o(137," alors on peut avoir les chemins suivants: "),a(138,"pre",9),a(139,"code"),o(140,"0 => 1 => 2 => 3 => 6\n0 => 1 => 3 => 6\n0 => 2 => 3 => 6\n0 => 3 => 6"),u(),u(),a(141,"h3",8),o(142," Enonc\xe9 "),u(),o(143," Jusqu'\xe0 maintenant, les solutions demandaient des connaissances algorithmiques de niveaux variant entre d\xe9butants et interm\xe9diaires."),d(144,"br"),o(145," Ici on passe au niveau sup\xe9rieur, vu que l'on va utiliser une notion plus avanc\xe9e, appell\xe9e "),a(146,"b"),o(147,"programmation dynamique"),u(),o(148,"."),d(149,"br"),d(150,"br"),o(151," Ce nom, bien qu'intimidant, cache en fait des techniques qui peuvent parfois \xeatre appliqu\xe9es de mani\xe8re tr\xe8s simple."),d(152,"br"),o(153," Le principe est de r\xe9soudre un probl\xe8me, en le d\xe9composant en sous-probl\xe8mes, sous-probl\xe8mes qui eux-m\xeames peuvent \xe9galement \xeatre d\xe9compos\xe9s. "),d(154,"br"),o(155,"Ces r\xe9solutions conduisent \xe0 la d\xe9couverte de r\xe9sultats interm\xe9diaires, qui seront \xe9galement stock\xe9s pour \xeatre r\xe9utilis\xe9s dans d'autres d\xe9compositions \xe9ventuelles."),d(156,"br"),d(157,"br"),o(158," Un exemple tr\xe8s simple de "),a(159,"b"),o(160,"programmation dynamique"),u(),o(161," (m\xeame si ce n'est pas forc\xe9ment la solution la plus adapt\xe9e \xe0 ce probl\xe8me), peut s'appliquer au calcul de la fonction fibonacci: "),d(162,"br"),d(163,"br"),o(164," Une impl\xe9mentation na\xefve fera une simple r\xe9cursion sur l'arbre de calcul des diff\xe9rents termes, et recalculera plusieurs fois certains termes: "),a(165,"pre",9),a(166,"code"),o(167,"def fibonacci(n):\nif(n<=1):\n    return n\nreturn fibonacci(n-1)+fibonacci(n-2)"),u(),u(),d(168,"br"),o(169," On peut \xe0 la place enregistrer dans un tableau les termes d\xe9j\xe0 calcul\xe9s (principe de "),a(170,"b"),o(171,"m\xe9mo\xefsation"),u(),o(172,"): "),a(173,"pre",9),a(174,"code"),o(175,"allFib = dict()\nallFib[0] = 0\nallFib[1] = 1\n\ndef fibonacci(n):\n    if(n in allFib):\n        return allFib[n]\n    allFib[n] = fibonacci(n-1)+fibonacci(n-2)\n    return allFib[n]"),u(),u(),d(176,"br"),o(177," (Pour la culture g\xe9n\xe9rale, si l'on a un unique \xe9l\xe9ment \xe0 calculer, il est plus adapt\xe9 d'utiliser la solution suivante): "),a(178,"pre",9),a(179,"code"),o(180,"def fibonacci(n):\n    a, b = 0, 1\n    for i in range(n):\n        a, b = b, a+b\n    return a"),u(),u(),d(181,"br"),a(182,"div",10),d(183,"fa-icon",11),o(184," De mani\xe8re g\xe9n\xe9rale, si vous avez l'impression de recalculer plusieurs fois les m\xeames choses, et que ces choses ont un domaine restreint, il peut \xeatre int\xe9ressant de voir si une approche de type "),a(185,"b"),o(186,"programmation dynamique peut s'appliquer"),u(),o(187,". "),u(),d(188,"br"),o(189," Pour en revenir \xe0 notre probl\xe8me, plut\xf4t que de faire un parcours de l'arbre des possibilit\xe9s avec une r\xe9cursion et tester tous les chemins possibles ("),a(190,"b"),o(191,"bruteforce"),u(),o(192,"), on peut enregistrer pour chaque adaptateur depuis lequel on part, le nombre de chemins permettant d'acc\xe8der au dernier adaptateur."),d(193,"br"),d(194,"br"),o(195," On passe ainsi d'une complexit\xe9 en "),a(196,"code"),o(197,"O(N!)"),u(),o(198," \xe0 du "),a(199,"code"),o(200,"O(N)"),u(),o(201," (vu qu'il n'existe que N \xe9tats \xe0 calculer). "),a(202,"pre",9),a(203,"code"),o(204,"lines = list(map(int, open('input10.txt').read().split('\\n')))\nlines.sort()\nlines = [0] + lines + [lines[-1]+3]\n\nmemo = [None for i in lines]\n\ndef dp(idx):\n    if(idx == len(lines)-1):\n        return 1\n    if(memo[idx] is not None):\n        return memo[idx]\n\n    res = 0\n    idx2 = idx + 1\n    while(idx2 < len(lines) and lines[idx2] <= lines[idx]+3):\n        res += dp(idx2)\n        idx2 += 1\n\n    memo[idx] = res\n    return res\n\nprint(dp(0))"),u(),u(),d(205,"br"),a(206,"div",10),d(207,"fa-icon",11),o(208," Attention: \"nombre d'\xe9tats d'un "),a(209,"b"),o(210,"dp"),u(),o(211," = ordre de grandeur du nombre d'instructions\" n'est pas une affirmation tout le temps correcte!"),d(212,"br"),o(213," Cela d\xe9pend \xe9galement des traitements qui sont faits au niveau de l'\xe9tat."),d(214,"br"),d(215,"br"),o(216," Par exemple ici, j'it\xe9re sur les "),a(217,"code"),o(218,"idx2"),u(),o(219," pour lesquels je peux faire une transition depuis "),a(220,"code"),o(221,"idx"),u(),o(222,". Comme ma liste est strictement croissante, et que les transitions ne peuvent pas d\xe9passer 3, je ne fais donc au maximum que 3 op\xe9rations ici, MAIS dans un cas plus g\xe9n\xe9rique avec des transitions plus libres, je pourrais avoir par exemple "),a(223,"code"),o(224,"N"),u(),o(225," op\xe9rations, et l'on se retrouverait avec un algorithme de programmation dynamique avec "),a(226,"code"),o(227,"N"),u(),o(228," \xe9tats, mais avec un ordre grandeur d'op\xe9rations de "),a(229,"code"),o(230,"N^2"),u(),o(231,"! "),u(),d(232,"br"),u(),u(),u(),u()),2&e&&(K(183),te("icon",au(2,AC)),K(24),te("icon",au(3,AC)))},directives:[o1],styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),vG=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day11"]],decls:147,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/11"],["id","day3_part1_statement"],["href","https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"],[1,"line-numbers","language-python"],["href","https://twitter.com/C_Papazian"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 11) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 11, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour ce probl\xe8me, on a une "),a(30,"b"),o(31,"grille 2d"),u(),o(32," sous la forme d'une liste de cha\xeenes de caract\xe8res, d\xe9crivant l'\xe9tat d'une salle d'attente, avec des si\xe8ges vides, des si\xe8ges occup\xe9s et du sol."),d(33,"br"),d(34,"br"),o(35," Apr\xe8s chaque minute, cet \xe9tat transite vers un nouvel \xe9tat d\xe9pendant uniquement de l'\xe9tat pr\xe9c\xe9dent."),d(36,"br"),o(37," On a, pour chaque si\xe8ge de la grille : "),a(38,"ul"),a(39,"li"),o(40,"Une transition de si\xe8ge vide vers si\xe8ge occup\xe9 s'il n'y a aucun si\xe8ge occup\xe9 autour"),u(),a(41,"li"),o(42,"Une transition de si\xe8ge occup\xe9 vers si\xe8ge vide s'il y a "),a(43,"b"),o(44,"4"),u(),o(45," si\xe8ges occup\xe9s ou plus autour "),u(),u(),o(46," Ce processus se poursuit tant qu'il y a au moins un changement entre deux \xe9tats successifs."),d(47,"br"),d(48,"br"),o(49," La valeur \xe0 soumettre est le nombre de si\xe8ges occup\xe9s \xe0 la fin de ce processus."),d(50,"br"),d(51,"br"),o(52," Cette simulation rappelle le principe des automates cellulaires, notamment "),a(53,"a",9),a(54,"b"),o(55,"Conway's Game of life"),u(),u(),o(56," o\xf9 l'on a ici aussi, des transitions entre diff\xe9rents \xe9tats influenc\xe9s par des conditions sur des voisinnages restreints. "),d(57,"br"),d(58,"br"),a(59,"h3",8),o(60," Enonc\xe9 "),u(),o(61," Comme bien souvent pour l'AoC, une solution tr\xe8s simple na\xefve permet de r\xe9soudre le probl\xe8me sans souci."),d(62,"br"),o(63," Ici par exemple, en simulant le processus de mani\xe8re tr\xe8s classique de la grille actuelle sur une autre grille, puis en consid\xe9rant cette nouvelle grille comme la grille de la prochaine it\xe9ration, on trouve tr\xe8s rapidement la solution."),d(64,"br"),d(65,"br"),o(66," On va tout de m\xeame s'amuser un peu en rajoutant deux optimisations."),d(67,"br"),d(68,"br"),o(69," La premi\xe8re optimisation \xe0 laquelle on peut penser, est que plut\xf4t que de faire des copies / recopies / cr\xe9ations de nouvelles grilles, pourquoi ne pourrait-on pas simplement modifier la grille que l'on a d\xe9j\xe0?"),d(70,"br"),o(71," Un probl\xe8me \xe0 \xe7a est que, si l'on n'a pas de structure auxiliaire permettant de calculer le nombre de si\xe8ges occup\xe9s des si\xe8ges voisins de chaque coordonn\xe9e, lorsque l'on met \xe0 jour la coordonn\xe9e "),a(72,"code"),o(73,"(x,y)"),u(),o(74,", on risque d'impacter le calcul des autres coordonn\xe9es voisines. Et maintenir cette structure auxiliaire pr\xe9senterait le m\xeame co\xfbt qu'utiliser de nouvelles grilles."),d(75,"br"),d(76,"br"),o(77," Une solution est possible, en plus de la valeur au niveau de la grille, on peut \xe9galement enregistrer le tour du dernier changement."),d(78,"br"),o(79," Si ce tour r\xe9cup\xe9r\xe9 pour un voisin correspond au tour actuel, alors on prend sa valeur oppos\xe9e."),d(80,"br"),d(81,"br"),o(82," Une deuxi\xe8me optimisation pourrait \xeatre de ne prendre en compte au tour "),a(83,"b"),o(84,"T+1"),u(),o(85," seulement les coordonn\xe9es et voisinnages des si\xe8ges ayant chang\xe9 pendant le tour "),a(86,"b"),o(87,"T"),u(),o(88,". "),d(89,"br"),o(90," En effet, les si\xe8ges n'ayant aucun si\xe8ge voisin avec un changement d'\xe9tat, ne changeront pas d'\xe9tat \xe0 ce tour."),d(91,"br"),d(92,"br"),o(93," Si l'on combine ces deux optimisations, on obtient le code suivant : "),a(94,"pre",10),a(95,"code"),o(96,"from itertools import *\nlines = list(map(list, open('input11.txt').read().split('\\n')))\n\nlastChange = [[-1 for i in line] for line in lines]\n\nchanges = set([(x, y) for y in range(len(lines[0]))\n               for x in range(len(lines)) if lines[x][y] != '.'])\n\nit = 0\nwhile(len(changes) != 0) :\n    newChanges = set()\n    for (x, y) in changes:\n        countBusy = 0\n        intervalle = list(product(range(max(x-1, 0), min(x+2, len(lines))),\n                                  range(max(y-1, 0), min(y+2, len(lines[0])))))\n        for (x2, y2) in intervalle :\n            if(x2 == x and y2 == y) :\n                continue\n            val = lines[x2][y2] == '#'\n            if(lastChange[x2][y2] == it) :\n                val = not val\n            countBusy += val\n        if(lines[x][y] == 'L' and countBusy == 0) :\n            lastChange[x][y] = it\n            lines[x][y] = '#'\n        elif(lines[x][y] == '#' and countBusy >= 4) :\n            lastChange[x][y] = it\n            lines[x][y] = 'L'\n        if(lastChange[x][y] == it) :\n            for (x2, y2) in intervalle :\n                newChanges.add((x2, y2))\n    changes = newChanges\n    it += 1\nres = 0\nfor x in range(len(lines)) :\n    for y in range(len(lines[x])) :\n        res += (lines[x][y] == '#')\nprint(res)"),u(),u(),d(97,"br"),d(98,"br"),o(99," En local, j'obtiens une ex\xe9cution de ~= "),a(100,"b"),o(101,"1.9"),u(),o(102," secondes en python 3.8. Sans optimisations, je passe \xe0 "),a(103,"b"),o(104,"5"),u(),o(105," secondes."),d(106,"br"),d(107,"br"),o(108," N\xe9anmoins, il existe \xe9norm\xe9ment d'autres possibilit\xe9s d'optimisation, bien meilleures que celles pr\xe9sent\xe9es ici."),d(109,"br"),o(110," Notamment "),a(111,"a",11),o(112,"Xoff"),u(),o(113," a utilis\xe9 d'autres techniques d'optimisations: "),a(114,"ul"),a(115,"li"),o(116,"Un pr\xe9calcul des coordonn\xe9es voisines"),u(),a(117,"li"),o(118,"Une forme d'aplatissement des structures qu'il manipule"),u(),u(),o(119," Son code utilise chez moi "),a(120,"b"),o(121,"0.9"),u(),o(122," secondes pour s'ex\xe9cuter enti\xe8rement (partie 1 et partie 2 comprises). "),d(123,"br"),d(124,"br"),a(125,"h2",6),a(126,"a",7),o(127,"Jour 11, partie 2 :"),u(),u(),a(128,"h3",8),o(129," Enonc\xe9 "),u(),o(130," La seconde partie consistait \xe0 changer uniquement une r\xe8gle :"),d(131,"br"),o(132," Le "),a(133,"b"),o(134,"4"),u(),o(135," de \"Une transition de si\xe8ge occup\xe9 vers si\xe8ge vide s'il y a "),a(136,"b"),o(137,"4"),u(),o(138,' si\xe8ges occup\xe9s ou plus autour" devenait un '),a(139,"b"),o(140,"5"),u(),o(141,". La question \xe9tait ensuite la m\xeame. "),d(142,"br"),d(143,"br"),a(144,"h3",8),o(145," Solution "),u(),o(146," La solution \xe9tant identique \xe0 la partie 1 en modifiant le 4, exceptionnellement je m'abstiendrai de tout code / description dans cette section. "),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),EG=(()=>{class t{constructor(){}ngOnInit(){this.equations=["\\begin{pmatrix}x_2\\\\y_2\\end{pmatrix} =  \\begin{pmatrix} cos(rotation) & -sin(rotation) \\\\ sin(rotation) & cos(rotation)\\end{pmatrix} * \\begin{pmatrix}x\\\\y\\end{pmatrix}"],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day12"]],decls:330,vars:11,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/12"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[3,"equation"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 12) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 12, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour ce probl\xe8me, on doit simuler le d\xe9placement d'un bateau sur une grille "),a(30,"b"),o(31,"2D"),u(),o(32," \xe0 coordonn\xe9es enti\xe8res. "),d(33,"br"),o(34," Pour cela, on re\xe7oit en entr\xe9e un ensemble d'instructions d\xe9crivant les d\xe9placements/rotations du bateau: "),a(35,"ul"),a(36,"li"),o(37," Les instructions "),a(38,"code"),o(39,"N"),u(),o(40,", "),a(41,"code"),o(42,"S"),u(),o(43,", "),a(44,"code"),o(45,"E"),u(),o(46," et "),a(47,"code"),o(48,"W"),u(),o(49," correspondent respectivement \xe0 des d\xe9placements vers le Nord (North), Sud (South), Est (East) et Ouest (West) "),u(),a(50,"li"),o(51," Les instructions "),a(52,"code"),o(53,"L"),u(),o(54," et "),a(55,"code"),o(56,"R"),u(),o(57," correspondent \xe0 des rotations vers la gauche ou vers la droite d'un nombre de degr\xe9s donn\xe9s "),u(),a(58,"li"),o(59," L'instruction "),a(60,"code"),o(61,"F"),u(),o(62," (Forward) permet de faire avancer le bateau dans la direction point\xe9e actuellement "),u(),u(),d(63,"br"),o(64," Les premiers types d'instructions ("),a(65,"code"),o(66,"N"),u(),o(67,", "),a(68,"code"),o(69,"S"),u(),o(70,", "),a(71,"code"),o(72,"E"),u(),o(73," et "),a(74,"code"),o(75,"W"),u(),o(76,") ne sont pas impact\xe9s et n'impactent pas l'orientation du bateau."),d(77,"br"),o(78," De plus, seuls des multiples de "),a(79,"b"),o(80,"90"),u(),o(81," sont pris en tant que valeurs de rotations."),d(82,"br"),d(83,"br"),o(84," La valeur \xe0 soumettre est la "),a(85,"b"),o(86,"distance de Manhattan"),u(),o(87," s\xe9parant les coordonn\xe9es de d\xe9part et les coordonn\xe9es de fin du bateau apr\xe8s application des instructions. "),d(88,"br"),d(89,"br"),a(90,"h3",8),o(91," Solution "),u(),o(92," Cette simulation ne pose pas de complexit\xe9 particuli\xe8re. "),d(93,"br"),o(94," On a besoin de conserver 3 valeurs au fur et \xe0 mesure de la simulation: "),d(95,"br"),o(96," x et y, qui nous donnent les positions du bateau, ainsi qu'une troisi\xe8me variable pour nous indiquer l'orientation du bateau."),d(97,"br"),o(98," Cette troisi\xe8me variable pourrait par exemple \xeatre la valeur en degr\xe9s de l'orientation du bateau, ou simplement une valeur du set "),a(99,"code"),o(100),u(),o(101," pour indiquer vers quelle direction l'on pointe "),a(102,"code"),o(103,"N"),u(),o(104,", "),a(105,"code"),o(106,"S"),u(),o(107,", "),a(108,"code"),o(109,"E"),u(),o(110," et "),a(111,"code"),o(112,"W"),u(),o(113,"."),d(114,"br"),d(115,"br"),o(116," Le premier choix permettrait de simplifier les calculs de rotations, on va donc faire ce choix. "),d(117,"br"),d(118,"br"),o(119," A partir de cette mod\xe9lisation, il suffit de lire les instructions et d'appliquer les traitements de la mani\xe8re suivante: "),a(120,"ul"),a(121,"li"),o(122," Pour "),a(123,"code"),o(124,"N"),u(),o(125,", "),a(126,"code"),o(127,"S"),u(),o(128,", "),a(129,"code"),o(130,"E"),u(),o(131," et "),a(132,"code"),o(133,"W"),u(),o(134,", simplement modifier x et y avec un delta correspondant \xe0 la direction"),u(),a(135,"li"),o(136," Pour "),a(137,"code"),o(138,"F"),u(),o(139,", pareil que pour "),a(140,"code"),o(141,"N"),u(),o(142,", "),a(143,"code"),o(144,"S"),u(),o(145,", "),a(146,"code"),o(147,"E"),u(),o(148," et "),a(149,"code"),o(150,"W"),u(),o(151,", en prenant la direction "),a(152,"code"),o(153,"d = orientation/90"),u(),u(),a(154,"li"),o(155," Pour "),a(156,"code"),o(157,"L"),u(),o(158," et "),a(159,"code"),o(160,"R"),u(),o(161,", modifier l'orientation, en prenant sa valeur modulo "),a(162,"b"),o(163,"360"),u(),o(164," ("),a(165,"b"),o(166,"360\xb0"),u(),o(167," est \xe9quivalent \xe0 "),a(168,"b"),o(169,"0\xb0"),u(),o(170,", "),a(171,"b"),o(172,"90\xb0"),u(),o(173," est \xe9quivalent \xe0 "),a(174,"b"),o(175,"450\xb0"),u(),o(176," etc...) "),u(),u(),o(177," En codant cette approche, on a le code suivant: "),a(178,"pre",9),a(179,"code"),o(180),u(),u(),d(181,"br"),d(182,"br"),a(183,"h2",6),a(184,"a",7),o(185,"Jour 12, partie 2 :"),u(),u(),a(186,"h3",8),o(187," Enonc\xe9 "),u(),o(188," Pour la seconde partie, le principe est le m\xeame: on a toujours notre bateau pour lequel on simule les mouvements."),d(189,"br"),o(190," Mais par contre, on se rend compte que l'interpr\xe9tation que l'on a faite des instructions durant la partie 1 est en grande partie erron\xe9e. "),d(191,"br"),d(192,"br"),o(193," En effet, s'ajoute \xe0 notre bateau un concept que l'on appelera \"vecteur directeur\"."),d(194,"br"),o(195," Pour l'instruction "),a(196,"code"),o(197,"Forward"),u(),o(198,", \xe0 la place de faire des d\xe9placements d'une valeur fix\xe9e par les instructions, cette valeur sera multipli\xe9e par le vecteur directeur. "),d(199,"br"),o(200," De plus, le reste des instructions n'est plus que destin\xe9e \xe0 manipuler ce vecteur directeur: "),a(201,"ul"),a(202,"li"),a(203,"code"),o(204,"N"),u(),o(205,", "),a(206,"code"),o(207,"S"),u(),o(208,", "),a(209,"code"),o(210,"E"),u(),o(211," et "),a(212,"code"),o(213,"W"),u(),o(214," d\xe9placent le point cibl\xe9 par le vecteur directeur suivant la direction et la valeur donn\xe9e"),u(),a(215,"li"),a(216,"code"),o(217,"L"),u(),o(218," et "),a(219,"code"),o(220,"R"),u(),o(221," r\xe9alisent une rotation de ce vecteur autour du bateau"),u(),u(),o(222," Par exemple, si notre bateau est en "),a(223,"code"),o(224,"(0,0)"),u(),o(225,", avec un vecteur directeur initial "),a(226,"code"),o(227,"(0,0)"),u(),o(228,", voici un exemple d'\xe9x\xe9cution d'instructions: "),a(229,"pre",9),a(230,"code"),o(231,"N2      # Le vecteur directeur passe de (0,0) \xe0 (-2,0)\nL90     # Le vecteur passe \xe0 (0,-2)\nL90     # Le vecteur passe \xe0 (2,0)\nF2      # On avance le bateau de 2 fois le vecteur directeur, soit (4,0)"),u(),u(),o(232," En rajoutant deux nouvelles variables "),a(233,"code"),o(234,"vx"),u(),o(235," et "),a(236,"code"),o(237,"vy"),u(),o(238," pour repr\xe9senter le vecteur directeur, les instructions "),a(239,"code"),o(240,"N"),u(),o(241,", "),a(242,"code"),o(243,"S"),u(),o(244,", "),a(245,"code"),o(246,"E"),u(),o(247,", "),a(248,"code"),o(249,"W"),u(),o(250," et "),a(251,"code"),o(252,"F"),u(),o(253," sont tr\xe8s simples \xe0 impl\xe9menter."),d(254,"br"),d(255,"br"),o(256," La principale difficult\xe9 de cette partie 2 r\xe9side dans la rotation de notre vecteur directeur autour du bateau."),d(257,"br"),d(258,"br"),o(259," On peut avoir 2 approches fonctionnant aussi bien toutes les deux."),d(260,"br"),o(261," Dans un premier temps, on peut essayer quelques exemples, pour voir le r\xe9sultat de ces rotations sur un vecteur quelconque."),d(262,"br"),d(263,"br"),a(264,"pre",9),a(265,"code"),o(266,"L90 sur (0,0)       => (0,0)\nL90 sur (2,0)       => (0,2)\nL90 sur (-2,0)      => (0,-2)\nR90 sur (0,2)       => (2,0)\nL90 sur (3,4)       => (-4,3)\nL90 sur (-4,3)      => (-3,-4)\nL90 sur (-3,-4)     => (4,-3)\nR90 sur (3,4)       => (4,-3)"),u(),u(),o(267," Il semblerait qu'en appliquant une rotation d'un multiple de "),a(268,"b"),o(269,"90\xb0"),u(),o(270,", on garde des valeurs similaires, qu'on "),a(271,"b"),o(272,"permute"),u(),o(273," et/ou pour lesquelles on prend des valeurs "),a(274,"b"),o(275,"oppos\xe9es"),u(),o(276,"."),d(277,"br"),d(278,"br"),o(279," En fait,"),d(280,"br"),a(281,"pre",9),a(282,"code"),o(283,"L 90(x,y)   = (-y,x)    = R 270(x,y)\nR 90(x,y)   = (y,-x)    = L 270(x,y)\nL 180(x,y)  = (-x,-y)   = R 180(x,y)"),u(),u(),o(284," Comme on peut appliquer nos "),a(285,"b"),o(286,"rotation modulo 360"),u(),o(287,", on a toutes les formules n\xe9cessaires \xe0 la simulation des rotations. "),d(288,"br"),d(289,"br"),o(290," Une solution plus avanc\xe9e aurait \xe9t\xe9 d'utiliser les "),a(291,"b"),o(292,"matrices de rotations"),u(),o(293,". "),d(294,"br"),o(295," Ici l'int\xe9r\xeat est inexistant: les formules pr\xe9c\xe9dentes sont "),a(296,"b"),o(297,"rigoureusements exactes"),u(),o(298," et ont l'avantage de ne pas utiliser de calcul sur les flottants / fonctions trigonom\xe9triques lourdes."),d(299,"br"),d(300,"br"),o(301," N\xe9anmoins, pour une version plus complexe de l'\xe9nonc\xe9 o\xf9 les rotations n'\xe9taient pas limit\xe9es \xe0 des multiples de "),a(302,"b"),o(303,"90"),u(),o(304,", les formules de la premi\xe8re version n'auraient pas suffi."),d(305,"br"),o(306," Pour r\xe9aliser la rotation d'un point par rapport au point "),a(307,"code"),o(308,"(0,0)"),u(),o(309,", il suffit de r\xe9aliser la "),a(310,"b"),o(311,"multiplication matricielle"),u(),o(312," suivante: "),d(313,"br"),d(314,"br"),a(315,"div"),d(316,"ng-katex",10),u(),d(317,"br"),d(318,"br"),d(319,"br"),o(320," La matrice de gauche est ici appell\xe9e "),a(321,"b"),o(322,"matrice de rotation"),u(),o(323,"."),d(324,"br"),d(325,"br"),o(326," Comme cette seconde version pr\xe9sente une lourdeur sans int\xe9r\xeat ici, l'impl\xe9mentation qui suit reprendra la logique de la premi\xe8re version: "),a(327,"pre",9),a(328,"code"),o(329),u(),u(),u(),u(),u(),u()),2&e&&(K(100),zr("","{","0,1,2,3","}",""),K(80),g0("lines = open('input12.txt').read().split('\\n')\n\ndelta = ","{","0: (-1, 0), 90: (0, -1), 180: (1, 0), 270: (0, 1)","}","\nd = ","{","'N': 0, 'W': 90, 'S': 180, 'E': 270","}","\n(x, y, orientation) = (0, 0, d['E'])\n\nfor l in lines:\n    (typ, val) = (l[0], int(l[1:]))\n    if(typ == 'L'):\n        orientation = (orientation+val) % 360\n    elif(typ == 'R'):\n        orientation = (orientation-val+360) % 360\n    elif(typ == 'F'):\n        x += delta[orientation][0]*val\n        y += delta[orientation][1]*val\n    else:\n        x += delta[d[typ]][0]*val\n        y += delta[d[typ]][1]*val\n\n# Manhattan: abs(x-0)+abs(y-0) == abs(x)+abs(y)\nprint(abs(x)+abs(y))"),K(136),te("equation",r.equations[0]),K(13),g0("lines = open('input12.txt').read().split('\\n')\n\ndelta = ","{","0: (-1, 0), 90: (0, -1), 180: (1, 0), 270: (0, 1)","}","\nd = ","{","'N': 0, 'W': 90, 'S': 180, 'E': 270","}","\n(x, y, vx, vy) = (0, 0, -1, 10)\n\ndef leftRot(coord):\n    return (-coord[1], coord[0])\n\ndef rightRot(coord):\n    return (coord[1], -coord[0])\n\nfor l in lines:\n    (typ, val) = (l[0], int(l[1:]))\n    if(typ == 'L'):\n        for r in range((val % 360)//90):\n            (vx, vy) = leftRot((vx, vy))\n    elif(typ == 'R'):\n        for r in range((val % 360)//90):\n            (vx, vy) = rightRot((vx, vy))\n    elif(typ == 'F'):\n        x += vx*val\n        y += vy*val\n    else:\n        vx += delta[d[typ]][0]*val\n        vy += delta[d[typ]][1]*val\n\n# Manhattan: abs(x-0)+abs(y-0) == abs(x)+abs(y)\nprint(abs(x)+abs(y))"))},directives:[Mf],styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),_G=(()=>{class t{constructor(){}ngOnInit(){this.equations=["id*\\left \\lceil{t/id}\\right \\rceil ","\\left \\lceil{x}\\right \\rceil "],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day13"]],decls:213,vars:2,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/13"],["id","day3_part1_statement"],[3,"equation"],[1,"line-numbers","language-python"],["href","https://en.wikipedia.org/wiki/Chinese_remainder_theorem"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 13) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 13, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour ce probl\xe8me, on a en entr\xe9es la description des horaires de passages d'un ensemble de bus."),d(30,"br"),o(31," Ces derniers r\xe9alisent tous leurs premiers passages \xe0 un instant "),a(32,"code"),o(33,"t=0"),u(),o(34,", et ensuite r\xe9alisent des passages p\xe9riodiques avec une p\xe9riode \xe9gale \xe0 l'identifiant du bus."),d(35,"br"),d(36,"br"),o(37," Par exemple, le bus "),a(38,"b"),o(39,"2"),u(),o(40," passera aux temps "),a(41,"code"),o(42,"t=0,2,4,6,8 ..."),u(),o(43,", le bus "),a(44,"b"),o(45,"3"),u(),o(46," passera aux temps "),a(47,"code"),o(48,"t=0,3,6,9,12"),u(),o(49,"."),d(50,"br"),d(51,"br"),o(52," On cherche \xe0 d\xe9terminer le premier bus que l'on peut prendre \xe0 partir d'un certain temps "),a(53,"code"),o(54,"t"),u(),o(55,"."),d(56,"br"),o(57," La r\xe9ponse sera l'identifiant de ce bus multipli\xe9 par le d\xe9lai "),a(58,"code"),o(59,"d"),u(),o(60," qu'on devra attendre avant de prendre le bus. "),d(61,"br"),d(62,"br"),a(63,"h3",8),o(64," Solution "),u(),o(65," Pour trouver la r\xe9ponse, on peut soit: "),a(66,"ul"),a(67,"li"),o(68," Simuler pour chaque instant "),a(69,"code"),o(70,"t"),u(),o(71,", et v\xe9rifier si un bus peut \xeatre pris \xe0 cet instant "),u(),a(72,"li"),o(73," Etre un peu plus malin "),u(),u(),o(74," Tout simuler peut \xeatre tr\xe8s co\xfbteux. Ici, on pouvait compl\xe8ter le probl\xe8me sans souci, mais cette approche a peu d'int\xe9r\xeat \xe0 \xeatre d\xe9velopp\xe9e. "),d(75,"br"),d(76,"br"),o(77," A la place, plut\xf4t que d'essayer tous les temps possibles, on peut tester pour chaque bus, le prochain instant t pour lequel le bus passera. "),d(78,"br"),o(79," Exprim\xe9 autrement, si on a le bus d'identifiant "),a(80,"code"),o(81,"id"),u(),o(82,", on cherche le plus petit multiple de "),a(83,"code"),o(84,"id"),u(),o(85," qui soit sup\xe9rieur ou \xe9gal \xe0 notre temps d'arriv\xe9e \xe0 l'arr\xeat "),a(86,"code"),o(87,"t"),u(),o(88,". "),d(89,"br"),d(90,"br"),o(91," Or, ce plus petit multiple peut \xeatre exprim\xe9 ainsi: "),d(92,"br"),d(93,"ng-katex",9),o(94," avec "),d(95,"ng-katex",9),o(96," la valeur "),a(97,"code"),o(98,"x"),u(),o(99," arrondie \xe0 l'entier sup\xe9rieur. "),d(100,"br"),d(101,"br"),o(102," Il suffit ensuite de calculer cette valeur pour chaque bus, et prendre la plus petite."),d(103,"br"),d(104,"br"),a(105,"pre",10),a(106,"code"),o(107,"import math\n\nlines = open('input13.txt').read().split('\\n')\ndebut = int(lines[0])\nbuses = lines[1].split(',')\nres = (1e9, 1e9)\n\nfor bus in buses:\n    if(bus != 'x'):\n        periode = int(bus)\n        nextStop = math.ceil(debut/periode)*periode\n        res = min(res, (nextStop-debut, periode))\nprint(res[0]*res[1])"),u(),u(),d(108,"br"),d(109,"br"),a(110,"h2",6),a(111,"a",7),o(112,"Jour 13, partie 2 :"),u(),u(),a(113,"h3",8),o(114," Enonc\xe9 "),u(),o(115," Pour la seconde partie, les bus et p\xe9riodes ne changent pas."),d(116,"br"),d(117,"br"),o(118," On doit maintenant trouver l'instant "),a(119,"code"),o(120,"t"),u(),o(121," minimal, tel qu'\xe0 cet instant, le premier bus de la liste est \xe0 l'arr\xeat, et que pour chaque autre bus de la liste, l'\xe9cart entre ces deux bus dans la liste correspond au nombre de minutes d'\xe9carts entre les arriv\xe9es \xe0 la station de bus."),d(122,"br"),d(123,"br"),o(124," Un exemple sera plus clair. Si on a : "),d(125,"br"),d(126,"br"),a(127,"pre",10),a(128,"code"),o(129,"2,5,x,7"),u(),u(),o(130," alors, si l'instant "),a(131,"code"),o(132,"t"),u(),o(133," est la solution, le bus d'identifiant "),a(134,"code"),o(135,"2"),u(),o(136," passe \xe0 l'instant "),a(137,"code"),o(138,"t"),u(),o(139,", le bus "),a(140,"code"),o(141,"5"),u(),o(142," \xe0 l'instant "),a(143,"code"),o(144,"t+1"),u(),o(145,", le bus "),a(146,"code"),o(147,"7"),u(),o(148," \xe0 l'instant "),a(149,"code"),o(150,"t+3"),u(),o(151," (on saute x, mais l'\xe9cart est preserv\xe9)."),d(152,"br"),d(153,"br"),o(154," Avec une notation math\xe9matique, on aura donc: "),a(155,"pre",10),a(156,"code"),o(157,"(t)     %   2   == 0\n(t+1)   %   5   == 0\n(t+3)   %   7   == 0"),u(),u(),d(158,"br"),d(159,"br"),a(160,"h3",8),o(161," Solution "),u(),o(162," Ici encore, une solution na\xefve permet de r\xe9soudre le probl\xe8me, mais resterait tout de m\xeame tr\xe8s tr\xe8s lente."),d(163,"br"),d(164,"br"),o(165," Par contre, on peut changer l\xe9g\xe8rement les \xe9quations de l'exemple pr\xe9c\xe9dent pour d\xe9celer un pattern connu: "),d(166,"br"),a(167,"pre",10),a(168,"code"),o(169,"t   %   2   == 0\nt   %   5   == (-1)%5\nt   %   7   == (-3)%7"),u(),u(),d(170,"br"),o(171," Un th\xe9or\xe8me appell\xe9 le "),a(172,"b"),a(173,"a",11),o(174,"th\xe9or\xe8me des restes chinois"),u(),u(),o(175," \xe9nonce que ce genre de syst\xe8me d'\xe9quations peut \xeatre r\xe9solu de mani\xe8re unique si les "),a(176,"b"),o(177,'"diviseurs"'),u(),o(178," (ici "),a(179,"b"),o(180,"2"),u(),o(181,", "),a(182,"b"),o(183,"5"),u(),o(184," et "),a(185,"b"),o(186,"7"),u(),o(187,") sont premiers entre eux."),d(188,"br"),o(189," C'est le cas pour cet exemple, vu que "),a(190,"b"),o(191,"2"),u(),o(192,", "),a(193,"b"),o(194,"5"),u(),o(195," et "),a(196,"b"),o(197,"7"),u(),o(198," sont tous premiers et diff\xe9rents. "),d(199,"br"),d(200,"br"),o(201," Un examen de l'entr\xe9e nous montre que c'est \xe9galement le cas pour l'entr\xe9e \xe0 r\xe9soudre."),d(202,"br"),d(203,"br"),o(204," Pour la r\xe9solution de ce syst\xe8me d'\xe9quation, je ne vais pas rentrer dans les d\xe9tails de l'algorithme qui sont un peu complexes pour le contexte de cet article."),d(205,"br"),o(206," On peut notamment utiliser une librairie ("),a(207,"b"),o(208,"sympy"),u(),o(209,"), qui impl\xe9mente cet algorithme, de la mani\xe8re suivante, en \xe9num\xe9rant simplement les variables constituant le syst\xe8me: "),a(210,"pre",10),a(211,"code"),o(212,"from sympy.ntheory.modular import crt\n\nlines = open('input13.txt').readlines()\nb = lines[1].split(',')\n\ndivisors = []\nremainders = []\n\nfor i in range(len(b)):\n    if(b[i] == 'x'):\n        continue\n    divisor = int(b[i])\n    # t % divisor = (-i)%divisor\n    divisors.append(divisor)\n    remainders.append(-i)\nprint(crt(divisors, remainders)[0])"),u(),u(),u(),u(),u(),u()),2&e&&(K(93),te("equation",r.equations[0]),K(2),te("equation",r.equations[1]))},directives:[Mf],styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),bG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day14"]],decls:332,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/14"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[2,"text-align","center"],["src","assets/img/Day14Part2.png",2,"width","500px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 14) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 14, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Le probl\xe8me du jour 14 nous demande de simuler un programme avec diff\xe9rents types d'instructions qui modifient une m\xe9moire virtuelle initialis\xe9e \xe0 "),a(30,"b"),o(31,"0"),u(),o(32,"."),d(33,"br"),d(34,"br"),o(35," On a \xe9galement en compl\xe9ment de cette m\xe9moire une variable "),a(36,"code"),o(37,"mask"),u(),o(38,", qui modifie la mani\xe8re avec laquelle on interpr\xe8te les instructions."),d(39,"br"),d(40,"br"),o(41," Les diff\xe9rents types d'instructions sont les suivants : "),a(42,"ul"),a(43,"li"),o(44," L'instruction "),a(45,"code"),o(46,"mask = x"),u(),o(47," qui affecte le masque "),a(48,"code"),o(49,"x"),u(),o(50," \xe0 la variable "),a(51,"code"),o(52,"mask"),u(),u(),a(53,"li"),o(54," L'instruction "),a(55,"code"),o(56,"mem[x] = y"),u(),o(57," qui affecte la valeur "),a(58,"code"),o(59,"y"),u(),a(60,"b"),o(61," modifi\xe9e par mask"),u(),o(62," \xe0 la case m\xe9moire "),a(63,"code"),o(64,"x"),u(),o(65,". "),u(),u(),o(66," Pour le second type d'instruction, la modification se fait de la mani\xe8re suivante: "),a(67,"ul"),a(68,"li"),o(69," Pour chaque caract\xe8re "),a(70,"b"),o(71,"'0'"),u(),o(72," de la variable "),d(73,"code"),o(74,", on change le bit correspondant de y pour lui faire prendre la valeur "),a(75,"b"),o(76,"0"),u(),u(),a(77,"li"),o(78," Pour chaque caract\xe8re "),a(79,"b"),o(80,"'1'"),u(),o(81," de la variable "),d(82,"code"),o(83,", on change le bit correspondant de y pour lui faire prendre la valeur "),a(84,"b"),o(85,"1"),u(),u(),a(86,"li"),o(87," Les caract\xe8res "),a(88,"b"),o(89,"'x'"),u(),o(90," ne pr\xe9sentent pas d'impact "),u(),u(),o(91," Par exemple, on a: "),a(92,"pre",9),a(93,"code"),o(94,"mask = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX01\nmem[0] = 6 \n# Repr\xe9sentation binaire de 6: (0....0110)2\n# y est transform\xe9 en (0....0101)2 = 5"),u(),u(),d(95,"br"),d(96,"br"),o(97," La valeur \xe0 soumettre est la somme des valeurs en m\xe9moire apr\xe8s ex\xe9cution du programme. "),d(98,"br"),d(99,"br"),a(100,"h3",8),o(101," Solution"),u(),o(102," La premi\xe8re \xe9tape de choisir une structure de donn\xe9e pour stocker la m\xe9moire n'est pas compl\xe8tement triviale:"),d(103,"br"),o(104," Les adresses sont encod\xe9es sur "),a(105,"b"),o(106,"36 bits"),u(),o(107,", et donc peuvent atteindre th\xe9oriquement des valeurs entre "),a(108,"b"),o(109,"0"),u(),o(110," et "),a(111,"b"),o(112,"2^36-1=68719476735"),u(),o(113,"."),d(114,"br"),o(115," Un simple tableau de "),a(116,"b"),o(117,"68719476735"),u(),o(118," cases m\xe9moires occuperait bien trop de place en m\xe9moire."),d(119,"br"),o(120," Par contre, on peut utiliser une structure que l'on a d\xe9j\xe0 vu \xe0 maintes reprises durant les pr\xe9c\xe9dents jours: un "),a(121,"b"),o(122,"dictionnaire"),u(),o(123,", qui aura pour cl\xe9 l'adresse m\xe9moire."),d(124,"br"),d(125,"br"),o(126," Maintenant qu'on a la structure utilis\xe9e pour la m\xe9moire, il faut maintenant voir comment interpr\xe9ter les diff\xe9rentes instructions."),d(127,"br"),d(128,"br"),o(129," La principale complexit\xe9 provient du deuxi\xe8me type d'instruction, qui met \xe0 jour la m\xe9moire."),d(130,"br"),o(131," En effet, si l'on conserve un unique masque binaire pour la mise \xe0 jour des valeurs, on n'a pas en notre disposition le moindre op\xe9rateur binaire qui ferai la transformation en une unique op\xe9ration."),d(132,"br"),d(133,"br"),o(134," On pourrait par contre, de mani\xe8re na\xefve, it\xe9rer sur l'int\xe9gralit\xe9 des bits de la valeur "),a(135,"code"),o(136,"y"),u(),o(137," pour v\xe9rifier si, dans le cas o\xf9 le caract\xe8re correspondant du masque n'est pas "),a(138,"b"),o(139,"'X'"),u(),o(140,", la valeur n'est pas diff\xe9rente, et la changer si les deux diff\xe8rent."),d(141,"br"),d(142,"br"),o(143," Pour changer le bit "),a(144,"b"),o(145,"b"),u(),o(146," \xe0 "),a(147,"b"),o(148,"0"),u(),o(149,", on peut faire ainsi (avec "),a(150,"b"),o(151,"~"),u(),o(152," l'op\xe9rateur "),a(153,"b"),o(154,"not"),u(),o(155,", "),a(156,"b"),o(157,"&"),u(),o(158," l'op\xe9rateur binaire "),a(159,"b"),o(160,"and"),u(),o(161,"): "),a(162,"pre",9),a(163,"code"),o(164,"       b\n  111111111\n       &\n~(111110111)   # ~(1<<b)\n       =\n  111111111\n       &\n (000001000)\n       =\n  111110111"),u(),u(),d(165,"br"),d(166,"br"),o(167," Inversement, pour changer le bit "),a(168,"b"),o(169,"b"),u(),o(170," \xe0 "),a(171,"b"),o(172,"1"),u(),o(173,", on peut proc\xe9der ainsi(avec "),a(174,"b"),o(175,"~"),u(),o(176," l'op\xe9rateur binaire "),a(177,"b"),o(178,"or"),u(),o(179,"): "),a(180,"pre",9),a(181,"code"),o(182,"       b\n  100000000\n       |\n (000001000)   # (1<<b)\n       =\n  100001000"),u(),u(),d(183,"br"),d(184,"br"),o(185," Cette solution pourrait \xeatre impl\xe9ment\xe9e ainsi: "),a(186,"pre",9),a(187,"code"),o(188,"import re\nlines = open('input14.txt').read().split('\\n')\nmemory = dict()\nmask = None\nregexMask = r'^mask = (?P<mask>[01X]*)$'\nregexMem = r'^mem\\[(?P<x>\\d*)\\] = (?P<y>\\d*)$'\n\nfor line in lines:\n    g = re.search(regexMask, line) or re.search(regexMem, line)\n    if(len(g.groups()) == 1):\n        # On inverse le masque pour que le caract\xe8re 0\n        # corresponde au bit 0\n        mask = list(reversed(g.group('mask')))\n    else:\n        (x, y) = map(int, g.groups())\n        for b in range(len(mask)):\n            if(mask[b] == 'X'):\n                continue\n            bitForce = int(mask[b])\n            if((bitForce << b) != (y & (1 << b))):\n                if(bitForce == 0):\n                    # Pour mettre \xe0 0 le bit b\n                    y &= ~(1 << b)\n                else:\n                    # Pour mettre \xe0 1 le bit b\n                    y |= (1 << b)\n        memory[x] = y\nprint(sum(memory.values()))\n"),u(),u(),d(189,"br"),d(190,"br"),o(191," Une solution plus \xe9l\xe9gante existe:"),d(192,"br"),d(193,"br"),o(194," Supposons que l'on conserve deux masques binaires \xe0 la place d'un unique masque, et que le premier masque contient tous les "),a(195,"b"),o(196,"0"),u(),o(197,' du masque "initial", avec des '),a(198,"b"),o(199,"1"),u(),o(200," pour tous les autres bits ("),a(201,"b"),o(202,"X"),u(),o(203," ou "),a(204,"b"),o(205,"1"),u(),o(206,"), et que le deuxi\xe8me masque contient tous les "),a(207,"b"),o(208,"1"),u(),o(209,' du masque "initial", avec des '),a(210,"b"),o(211,"0"),u(),o(212," pour tous les autres bits ("),a(213,"b"),o(214,"X"),u(),o(215," ou "),a(216,"b"),o(217,"0"),u(),o(218,")."),d(219,"br"),o(220," Par exemple (en racourcissant le masque pour plus de simplicit\xe9): "),a(221,"pre",9),a(222,"code"),o(223,"mask = 1X0X01\nmask1 = 110101\nmask2 = 100001"),u(),u(),o(224," alors, la valeur y peut \xeatre transform\xe9e simplement ainsi: "),a(225,"pre",9),a(226,"code"),o(227,"y2 = (y & mask1) | mask2"),u(),u(),o(228," Le code devient donc: "),a(229,"pre",9),a(230,"code"),o(231,"import re\nlines = open('input14.txt').read().split('\\n')\nmemory = dict()\nmask = mask1 = mask2 = None\nregexMask = r'^mask = (?P<mask>[01X]*)$'\nregexMem = r'^mem\\[(?P<x>\\d*)\\] = (?P<y>\\d*)$'\nfor line in lines:\n    g = re.search(regexMask, line) or re.search(regexMem, line)\n    if(len(g.groups()) == 1):\n        mask = g.group('mask')\n        mask1 = int(mask.replace('X', '1'), 2)\n        mask2 = int(mask.replace('X', '0'), 2)\n    else:\n        (x, y) = map(int, g.groups())\n        memory[x] = (y & mask1) | mask2\nprint(sum(memory.values()))\n"),u(),u(),d(232,"br"),d(233,"br"),a(234,"h2",6),a(235,"a",7),o(236,"Jour 14, partie 2 :"),u(),u(),a(237,"h3",8),o(238," Enonc\xe9 "),u(),o(239," La seconde partie red\xe9finit compl\xe8tement la mani\xe8re d'utiliser la variable masque."),d(240,"br"),a(241,"ul"),a(242,"li"),o(243," Un caract\xe8re "),a(244,"b"),o(245,"0"),u(),o(246," doit \xeatre ignor\xe9, et correspondrait donc \xe0 un X de la partie 1"),u(),a(247,"li"),o(248," Un caract\xe8re "),a(249,"b"),o(250,"1"),u(),o(251," force la valeur d'un bit \xe0 "),a(252,"b"),o(253,"1"),u(),u(),a(254,"li"),o(255,"Un caract\xe8re "),a(256,"b"),o(257,"X"),u(),o(258," est un caract\xe8re flottant et peut avoir deux impacts diff\xe9rents: forcer un bit \xe0 0 ou forcer un bit \xe0 1."),u(),u(),o(259," En attribuant chaque possibilit\xe9 d'impact \xe0 chaque caract\xe8re "),a(260,"b"),o(261,"X"),u(),o(262,", on obtient un certain nombre de mani\xe8res d'interpr\xe9ter la variable masque."),d(263,"br"),o(264," Pour chacune de ces possibilit\xe9s, lorsque l'on ex\xe9cute le second type d'instruction, on transforme l'adresse avec cette possibilit\xe9 pour modifier les valeurs en m\xe9moires."),d(265,"br"),d(266,"br"),o(267," Par exemple, avec un masque r\xe9duit \xe0 4 bits: "),a(268,"pre",9),a(269,"code"),o(270,"mask = 1XX01"),u(),u(),o(271," et qu'on traduit les possibilit\xe9s dans un format similaire \xe0 la partie 1, on aura: "),a(272,"pre",9),a(273,"code"),o(274,"possibilites=['100X1','101X1','110X1','111X1']"),u(),u(),d(275,"br"),d(276,"br"),a(277,"h3",8),o(278," Solution "),u(),o(279," Si l'on transforme les possibilit\xe9s de la mani\xe8re d\xe9crite plus haut, on peut facilement appliquer la solution de la partie 1 aux adresses pour mettre \xe0 jour la m\xe9moire."),d(280,"br"),o(281," Il nous manque donc un algorithme pour g\xe9n\xe9rer les diff\xe9rentes possibilit\xe9s \xe0 partir de la variable masque."),d(282,"br"),d(283,"br"),o(284," Ce genre d'algorithme dit "),a(285,"b"),o(286,"g\xe9n\xe9ratif"),u(),o(287," est souvent r\xe9alis\xe9 des mani\xe8res suivantes: "),a(288,"ul"),a(289,"li"),o(290,"via un parcours, qui peut \xeatre fait de mani\xe8re it\xe9rative, ou r\xe9cursive"),u(),a(291,"li"),o(292,"via la g\xe9n\xe9ration de masques binaires"),u(),u(),o(293," Ici, aucune solution ne m'a pleinement satisfait en terme d'\xe9l\xe9gance."),d(294,"br"),o(295," Je vais donc choisir la solution en fonction de son aspect intuitif, plut\xf4t que pour des m\xe9triques de performances ou de compacit\xe9. "),d(296,"br"),o(297," Ma pr\xe9f\xe9rence portera donc sur l'utilisation d'un parcours r\xe9cursif."),d(298,"br"),d(299,"br"),o(300," De mani\xe8re g\xe9n\xe9rale, toutes les solutions auraient pr\xe9sent\xe9 une complexit\xe9 de "),a(301,"code"),o(302,"O(2^N)"),u(),o(303," pour g\xe9n\xe9rer les diff\xe9rentes possibilit\xe9s, \xe9tant donn\xe9 que pour chaque "),a(304,"b"),o(305,"X"),u(),o(306,", on a "),a(307,"b"),o(308,"2"),u(),o(309," possibilit\xe9s de bits."),d(310,"br"),o(311," Par contre les solutions r\xe9cursifs pr\xe9sentent habituellement un co\xfbt plus important, du fait de la manipulation de la pile."),d(312,"br"),d(313,"br"),o(314," La solution r\xe9cursive consistera \xe0 parcourir le masque, et pour chaque "),a(315,"b"),o(316,"X"),u(),o(317," \xe0 explorer les deux possibilit\xe9s de mani\xe8re r\xe9cursive. "),d(318,"br"),a(319,"div",10),d(320,"img",11),u(),d(321,"br"),d(322,"br"),o(323," Ces masques obtenus peuvent ensuite \xeatre simplement appliqu\xe9s comme pour la partie 1."),d(324,"br"),d(325,"br"),o(326," Exemple de code : "),d(327,"br"),d(328,"br"),a(329,"pre",9),a(330,"code"),o(331,"import re\nlines = open('input14.txt').read().split('\\n')\nmemory = dict()\nregexMask = r'^mask = (?P<mask>[01X]*)$'\nregexMem = r'^mem\\[(?P<x>\\d*)\\] = (?P<y>\\d*)$'\n\nallMasks = set()\n\ndef recu(s, i):\n    global allMasks\n    if(i >= len(s)):\n        allMasks.add(''.join(s))\n    else:\n        ori = s[i]\n        if(s[i] == '1'):\n            recu(s, i+1)\n        elif(s[i] == 'X'):\n            s[i] = '0'\n            recu(s, i+1)\n            s[i] = '1'\n            recu(s, i+1)\n        elif(s[i] == '0'):\n            s[i] = 'X'\n            recu(s, i+1)\n        s[i] = ori\n\nfor line in lines:\n    g = re.search(regexMask, line) or re.search(regexMem, line)\n    if(len(g.groups()) == 1):\n        mask = g.group('mask')\n        allMasks = set()\n        recu(list(mask), 0)\n    else:\n        (x, y) = map(int, g.groups())\n        for mask in allMasks:\n            mask1 = int(mask.replace('X', '1'), 2)\n            mask2 = int(mask.replace('X', '0'), 2)\n            memory[(x & mask1) | mask2] = y\nprint(sum(memory.values()))"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),yG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day15"]],decls:92,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/15"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 15) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 15, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Le but du probl\xe8me de ce jour 15 est de g\xe9n\xe9rer une suite de nombres, ayant pour premiers termes l'entr\xe9e donn\xe9e."),d(30,"br"),d(31,"br"),o(32," Cette suite est g\xe9n\xe9r\xe9e \xe0 partir des termes initiaux de la fa\xe7on suivante: "),a(33,"ul"),a(34,"li"),o(35,"Si le dernier terme n'a jamais \xe9t\xe9 vu auparavant, le terme suivant est "),a(36,"b"),o(37,"0"),u(),u(),a(38,"li"),o(39," Sinon, le terme suivant est la distance entre le dernier terme et la position du dernier terme de m\xeame valeur "),u(),u(),d(40,"br"),d(41,"br"),o(42," Par exemple: "),a(43,"pre",9),a(44,"code"),o(45,"suiteInitiale = [0,3,6]\n[0,3,6,0]           # On a un seul 6\n[0,3,6,0,3]         # 3 - 0 = 3\n[0,3,6,0,3,3]       # 4 - 1 = 3\n[0,3,6,0,3,3,1]     # 5 - 4 = 1\n[0,3,6,0,3,3,1,0]   # Premier 1"),u(),u(),d(46,"br"),d(47,"br"),o(48," On doit soumettre le 2020 \xe8me terme de cette suite. "),d(49,"br"),d(50,"br"),a(51,"h3",8),o(52," Solution "),u(),o(53," La solution na\xefve consiste \xe0 g\xe9n\xe9rer au fur et \xe0 mesure le tableau que l'on a vu plus haut en exemple. "),d(54,"br"),o(55," Pour v\xe9rifier si un nombre est d\xe9j\xe0 pr\xe9sent, on peut it\xe9rer sur le tableau, et dans le cas o\xf9 ce nombre existe, conserver dans une variable l'indice pour lequel on l'a vu en dernier."),d(56,"br"),d(57,"br"),o(58," La complexit\xe9 est en "),a(59,"code"),o(60,"O(N^2)"),u(),o(61,", avec N le nombre de termes de la suite (pour chaque \xe9l\xe9ment, on it\xe9rera sur l'int\xe9gralit\xe9 du tableau dans le pire des cas)."),d(62,"br"),d(63,"br"),o(64," Une solution plus intelligente serait d'utiliser un dictionnaire pour stocker le dernier indice de chaque valeur."),d(65,"br"),o(66," Gr\xe2ce \xe0 \xe7a, on pourra v\xe9rifier en temps constant la pr\xe9sence d'un nombre ainsi que sa derni\xe8re position."),d(67,"br"),d(68,"br"),o(69," On passe donc \xe0 une complexit\xe9 en "),a(70,"code"),o(71,"O(N)"),u(),o(72,"."),d(73,"br"),o(74," L'impl\xe9mentation est tr\xe8s simple: "),a(75,"pre",9),a(76,"code"),o(77,"starting = [8, 0, 17, 4, 1, 12] # A remplacer avec l'input\n\nd = dict()\nfor i in range(len(starting)-1):\n    d[starting[i]] = i\n\nlast = starting[-1]\nfor i in range(len(starting)-1, 2019):\n    previous = last\n    if(last in d):\n        last = i - d[last]\n    else:\n        last = 0\n    d[previous] = i\nprint(last)"),u(),u(),a(78,"h2",6),a(79,"a",7),o(80,"Jour 15, partie 2 :"),u(),u(),a(81,"h3",8),o(82," Enonc\xe9 "),u(),o(83," Le principe est le m\xeame qu'en partie 1, mais \xe0 la place du 2020 \xe8me terme, on cherche le 30000000 \xe8me terme. "),a(84,"h3",8),o(85," Solution "),u(),o(86," La solution est la m\xeame que pour la partie 1. "),d(87,"br"),o(88," Les contraintes de la partie 2 sont essentiellement destin\xe9es \xe0 emp\xeacher la r\xe9solution via l'algorithme na\xeff en "),a(89,"code"),o(90,"O(N^2)"),u(),o(91,". "),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),xG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day16"]],decls:234,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/16"],["id","day3_part1_statement"],[1,"line-numbers","language-cxx"],[1,"line-numbers","language-python"],["href","https://twitter.com/Tashiqi"],[2,"text-align","center"],["src","assets/img/Day16Part2Fig1.png",2,"width","500px"],["src","assets/img/Day16Part2Fig2.png",2,"width","500px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 16) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 16, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," L'entr\xe9e du probl\xe8me d'aujourd'hui est scind\xe9e en trois parties: "),a(30,"ul"),a(31,"li"),o(32," La premi\xe8re d\xe9crit un ensemble de champs, ainsi que des contraintes de taille associ\xe9es"),u(),a(33,"li"),o(34," La seconde nous donne la longueur des champs que l'on a sur notre ticket "),u(),a(35,"li"),o(36," Pour finir, on nous donne un ensemble de tickets avec les longueurs des champs pr\xe9sents sur chacun de ces tickets "),u(),u(),o(37," Dans cette premi\xe8re sous-t\xe2che, l'objectif est de d\xe9terminer les champs qui ne peuvent pas correspondre au moindre champs."),d(38,"br"),o(39," La r\xe9ponse sera la somme des tailles de ces champs."),d(40,"br"),d(41,"br"),o(42," Par exemple: "),a(43,"pre",9),a(44,"code"),o(45,"class: 1-3 or 5-7\nrow: 6-11 or 33-44\nseat: 13-40 or 45-50\n\nyour ticket:\n7,1,14\n\nnearby tickets:\n7,3,47\n40,4,50"),u(),u(),o(46," Un champs "),a(47,"code"),o(48,"class"),u(),o(49," doit faire entre "),a(50,"b"),o(51,"1"),u(),o(52," et "),a(53,"b"),o(54,"3"),u(),o(55," caract\xe8res ou entre "),a(56,"b"),o(57,"5"),u(),o(58," et "),a(59,"b"),o(60,"7"),u(),o(61," caract\xe8res."),d(62,"br"),d(63,"br"),o(64," Le premier ticket est valide ("),a(65,"b"),o(66,"7"),u(),o(67," peut correspondre \xe0 "),a(68,"code"),o(69,"class"),u(),o(70," ou "),a(71,"code"),o(72,"row"),u(),o(73,", "),a(74,"b"),o(75,"3"),u(),o(76," \xe0 "),a(77,"code"),o(78,"class"),u(),o(79,", "),a(80,"b"),o(81,"47"),u(),o(82," \xe0 "),a(83,"code"),o(84,"seat"),u(),o(85,")."),d(86,"br"),o(87," Par contre, pour le second ticket, "),a(88,"b"),o(89,"4"),u(),o(90," n'est pr\xe9sent dans aucun intervalle, mais les autres champs sont valides."),d(91,"br"),o(92," Pour cet exemple, on devrait donc renvoyer "),a(93,"b"),o(94,"4"),u(),o(95,". "),d(96,"br"),d(97,"br"),a(98,"h3",8),o(99," Solution "),u(),o(100," Pour cette premi\xe8re partie, rien de bien compliqu\xe9."),d(101,"br"),o(102," C'est essentiellement un probl\xe8me de parsing d'entr\xe9es et de mod\xe9lisation, les v\xe9rifications se font ensuite simplement en it\xe9rant sur les champs des tickets et sur les contraintes."),d(103,"br"),d(104,"br"),a(105,"pre",10),a(106,"code"),o(107,"import re\nlines = open('input16.txt').read().split('\\n')\npart = 0\nchampDefinitions = []\nr = r'^(?P<key>[a-z ]*): (?P<from1>[0-9]*)-(?P<to1>[0-9]*) or (?P<from2>[0-9]*)-(?P<to2>[0-9]*)$'\n\nres = 0\nfor line in lines:\n    if(len(line) == 0):\n        part += 1\n    elif(part == 0):\n        (key, from1, to1, from2, to2) = re.search(r, line).groups()\n        (from1, to1, from2, to2) = map(int, [from1, to1, from2, to2])\n        champDefinitions.append((key, from1, to1, from2, to2))\n    elif(part == 2):\n        if('tickets' in line):\n            continue\n        allFields = list(map(int, line.split(',')))\n        for field in allFields:\n            res += field\n            for (_, from1, to1, from2, to2) in champDefinitions:\n                if((field >= from1 and field <= to1) or (field >= from2 and field <= to2)):\n                    res -= field\n                    break\nprint(res)"),u(),u(),d(108,"br"),d(109,"br"),a(110,"h2",6),a(111,"a",7),o(112,"Jour 16, partie 2 :"),u(),u(),a(113,"h3",8),o(114," Enonc\xe9 "),u(),o(115," Pour cette seconde partie, \xe7a se corse s\xe9rieusement."),d(116,"br"),d(117,"br"),o(118," On apprend que l'ordre dans lequel les champs apparaissent dans les tickets est fixe, et l'on cherche \xe0 d\xe9terminer \xe0 quelle d\xe9finition de champ correspond chaque champ du ticket."),d(119,"br"),o(120," Egalement, un ticket valide ne contient que des champs valides. Les tickets contentant les champs que l'on a donc d\xe9tect\xe9 comme invalides en partie 1 doivent donc \xeatre \xe9cart\xe9s."),d(121,"br"),d(122,"br"),o(123," Si l'on multiplie la longueur des champs de notre ticket pour lesquels la cl\xe9 commence par "),a(124,"code"),o(125,"departure"),u(),o(126,", on obtient notre r\xe9ponse \xe0 la sous-t\xe2che 2."),d(127,"br"),d(128,"br"),a(129,"h3",8),o(130," Solution "),u(),o(131," Ce probl\xe8me peut \xeatre r\xe9solu via un algorithme classique dit de "),a(132,"b"),o(133,"Maximum Matching"),u(),o(134,"."),d(135,"br"),d(136,"br"),o(137," Dans un probl\xe8me de matching maximal dans un groupe biparti, on a un ensemble de noeuds d'un c\xf4t\xe9 (ici nos champs de tickets) connect\xe9s \xe0 un ensemble de noeuds d'un autre c\xf4t\xe9 (les d\xe9finitions de champs, si les contraintes sont satisfaites)."),d(138,"br"),o(139," Le but est ensuite d'associer des noeuds de chaque c\xf4t\xe9, de telle que chaque noeud ne soit associ\xe9 \xe0 un unique autre noeud (pr\xe9sent de l'autre c\xf4t\xe9)."),d(140,"br"),d(141,"br"),o(142," Plut\xf4t que d'utiliser des algorithmes de matching complexes, on peut exploiter une propri\xe9t\xe9 qui d\xe9coule du fait que la solution attendue est unique."),d(143,"br"),d(144,"br"),o(145," Si le matching maximal est unique, au moins un noeud de ce matching pr\xe9sente un "),a(146,"b"),o(147,"degr\xe9"),u(),o(148," (nombre d'arcs connect\xe9s) \xe0 "),a(149,"b"),o(150,"1"),u(),o(151,"."),d(152,"br"),d(153,"br"),o(154," La preuve qui suit a \xe9t\xe9 d\xe9velopp\xe9e par "),a(155,"b"),a(156,"a",11),o(157,"Tashiqi"),u(),u(),o(158,":"),d(159,"br"),d(160,"br"),o(161," Si l'on part du matching maximal, et que l'on suppose que tous les noeuds ont un degr\xe9 sup\xe9rieur ou \xe9gal \xe0 "),a(162,"b"),o(163,"2"),u(),o(164,', alors il est possible de r\xe9aliser un cycle "alternant" (un arc sur deux est dans le matching maximal, un arc sur deux ne l\'est pas).'),d(165,"br"),d(166,"br"),o(167," En effet, tant que l'on ne boucle pas, \xe0 chaque noeud, on aura forc\xe9ment un arc connect\xe9 qui fait partie du matching, et au moins un arc qui n'en fera pas partie."),d(168,"br"),o(169," On peut donc parcourir les noeuds en alternant ces arcs jusqu'\xe0 r\xe9aliser un cycle."),d(170,"br"),o(171,' A partir de ce cycle, il suffira ensuite d\'"inverser" le matching des arcs contenus dans ce cycle: '),a(172,"ul"),a(173,"li"),o(174," Chaque arc du cycle contenu dans le matching en est retir\xe9 "),u(),a(175,"li"),o(176," Chaque arc non contenu est ajout\xe9 "),u(),u(),o(177," On obtient ainsi un nouveau matching diff\xe9rent, et l'on peut donc conclure que pour avoir un matching unique, il faut au moins un noeud de "),a(178,"b"),o(179,"degr\xe9 1"),u(),o(180," contenu dans le matching."),d(181,"br"),d(182,"br"),o(183," Un exemple est donn\xe9 ici, avec un matching initial repr\xe9sent\xe9 par les arcs rouges ("),a(184,"code"),o(185,"A=>2"),u(),o(186,", "),a(187,"code"),o(188,"B=>3"),u(),o(189," et "),a(190,"code"),o(191,"C=>1"),u(),o(192,"). "),d(193,"br"),d(194,"br"),a(195,"div",12),d(196,"img",13),u(),d(197,"br"),d(198,"br"),o(199," On peut obtenir par exemple le cycle alternant "),a(200,"code"),o(201,"B=>3=>C=>1=>A=>2=>B"),u(),o(202,"."),d(203,"br"),o(204," Si l'on inverse le matching de ce cycle, on obtiendra le matching suivant: "),d(205,"br"),d(206,"br"),a(207,"div",12),d(208,"img",14),u(),d(209,"br"),d(210,"br"),o(211," A partir de \xe7a, on peut en d\xe9duire un algorithme."),d(212,"br"),o(213," Le noeud de degr\xe9 "),a(214,"b"),o(215,"1"),u(),o(216," pourra \xeatre coupl\xe9 imm\xe9diatement avec son noeud voisin."),d(217,"br"),o(218," Si l'on retire ensuite ces deux noeuds et que l'on cherche \xe0 nouveau un matching maximal des noeuds restants, on aura une fois de plus au moins un noeud de degr\xe9 "),a(219,"b"),o(220,"1"),u(),o(221," pour que la contrainte d'unicit\xe9 soit respect\xe9e."),d(222,"br"),d(223,"br"),o(224," Il suffira donc d'it\xe9rer sur les noeuds de degr\xe9s "),a(225,"b"),o(226,"1"),u(),o(227," jusqu'\xe0 la r\xe9solution compl\xe8te du probl\xe8me."),d(228,"br"),d(229,"br"),o(230," Voici un code qui impl\xe9mente cette logique: "),a(231,"pre",10),a(232,"code"),o(233,"import re\nlines = open('input16.txt').read().split('\\n')\npart = 0\ndefinitions = []\nmyTicket = None\notherTickets = []\nr = r'^(?P<key>[a-z ]*): (?P<from1>[0-9]*)-(?P<to1>[0-9]*) or (?P<from2>[0-9]*)-(?P<to2>[0-9]*)$'\n\nres = 0\n\npossibleFields = dict()\ndegreesOne = []\n\nfor line in lines:\n    if(len(line) == 0):\n        part += 1\n    elif(part == 0):\n        (key, from1, to1, from2, to2) = re.search(r, line).groups()\n        (from1, to1, from2, to2) = map(int, [from1, to1, from2, to2])\n        definitions.append((key, from1, to1, from2, to2))\n    elif(part == 1):\n        if('ticket' in line):\n            continue\n        myTicket = list(map(int, line.split(',')))\n    elif(part == 2):\n        if('tickets' in line):\n            continue\n        allFields = list(map(int, line.split(',')))\n        allPossibilities = []\n        for field in allFields:\n            possibilities = []\n            for i in range(len(definitions)):\n                (_, from1, to1, from2, to2) = definitions[i]\n                if((field >= from1 and field <= to1) or (field >= from2 and field <= to2)):\n                    possibilities.append(i)\n            # Si un champs ne correspond \xe0 aucune d\xe9finition, on n'ajoute pas ses possibilit\xe9s\n            if(len(possibilities) == 0):\n                break\n            allPossibilities.append(possibilities)\n        \n        # Si la liste de toutes les listes de possibilit\xe9s n'est pas \xe9gale au nombre de colonnes, on a donc au moins un champs invalide\n        # Le ticket est donc invalide\n        if(len(allPossibilities) != len(allFields)):\n            continue\n\n\n        # On r\xe9alise l'intersection des possibilit\xe9s pour chaque champs, pour ne conserver que les possibilit\xe9s communes coh\xe9rentes entre tous les tickets\n        for i in range(len(allPossibilities)):\n            possibleFields[i] = possibleFields.get(\n                i, set(range(len(definitions)))).intersection(set(allPossibilities[i]))\n\n# On initialise une premi\xe8re fois notre liste de noeuds \xe0 degr\xe9 1\nfor i in possibleFields.keys():\n    if(len(possibleFields[i]) == 1):\n        degreesOne.append(i)\n\n# Permettra de stocker l'index de la d\xe9finition correspondante \xe0 un champs\ncorrespondance = [None for i in possibleFields.keys()]\n\nwhile(len(degreesOne) != 0):\n    current = degreesOne.pop()\n    # On r\xe9cup\xe8re le premier et unique \xe9l\xe9ment du set possibleFields[current]\n    for k in possibleFields[current]:\n        correspondance[current] = k\n    toRemove = correspondance[current]\n    for k in possibleFields.keys():\n        if toRemove in possibleFields[k]:\n            possibleFields[k].remove(toRemove)\n            # Si un champs n'a qu'une possibilit\xe9 APRES SUPPRESSION d'une autre possibilit\xe9, alors il est ajout\xe9 aux noeuds de degr\xe9s 1\n            if(len(possibleFields[k]) == 1):\n                degreesOne.append(k)\n\nres = 1\nfor k in range(len(correspondance)):\n    if('departure' in definitions[correspondance[k]][0]):\n        res *= myTicket[k]\n\nprint(res)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),CG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day17"]],decls:152,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/17"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 17) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 17, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Le probl\xe8me du jour 17 se rapproche un peu du probl\xe8me du jour 11:"),d(30,"br"),d(31,"br"),o(32," On doit r\xe9aliser une simulation de type automate cellulaire, avec des r\xe8gles \xe0 appliquer aux diff\xe9rentes coordonn\xe9es en fonction de leurs voisins."),d(33,"br"),o(34," Mais contrairement au jour 11, cette fois-ci la simulation doit \xeatre r\xe9alis\xe9e dans un "),a(35,"b"),o(36,"espace \xe0 3 dimensions"),u(),o(37,", et les coordonn\xe9es voisines sont celles qui diff\xe9rent au maximum de "),a(38,"b"),o(39,"1"),u(),o(40," suivant l'un des axe."),d(41,"br"),o(42," Par exemple, "),a(43,"code"),o(44,"(0,0,0)"),u(),o(45," a, entre autres, les voisins "),a(46,"code"),o(47,"(1,1,1)"),u(),o(48,", "),a(49,"code"),o(50,"(-1,0,-1)"),u(),o(51,", "),a(52,"code"),o(53,"(1,0,-1)"),u(),o(54," mais n'a pas pour voisin "),a(55,"code"),o(56,"(2,0,1)"),u(),o(57," et "),a(58,"code"),o(59,"(0,0,-2)"),u(),o(60,"."),d(61,"br"),d(62,"br"),o(63," Les r\xe8gles de mise \xe0 jour des coordonn\xe9es sont les suivantes: "),a(64,"ul"),a(65,"li"),o(66,"Si une position est active et qu'elle a 2 ou 3 voisins activ\xe9s, alors elle reste active. Sinon elle devient inactive. "),u(),a(67,"li"),o(68," Si une position est inactive et qu'elle a 3 voisins activ\xe9s, alors elle devient active. Sinon elle reste inactive. "),u(),u(),d(69,"br"),o(70," La valeur \xe0 soumettre est le nombre de positions actives apr\xe8s "),a(71,"b"),o(72,"6 \xe9tapes"),u(),o(73," de simulation."),d(74,"br"),d(75,"br"),a(76,"h3",8),o(77," Solution "),u(),o(78," On peut en premier lieu d\xe9finir la structure qui va stocker l'\xe9tat de nos positions:"),d(79,"br"),o(80," Etant donn\xe9 que la simulation s'\xe9tend dans toutes les directions, et que la structure peut \xeatre tr\xe8s peu dense (avoir des positions activ\xe9es tr\xe8s \xe9cart\xe9es, mais d'un nombre tr\xe8s faible au total), plut\xf4t que de stocker ces donn\xe9es dans un tableau \xe0 multiples dimensions, et de g\xe9rer les coordonn\xe9es avec des offsets (pour \xe9viter les coordonn\xe9es n\xe9gatives avec la propagation multi directionnelle), on peut utiliser un "),a(81,"b"),o(82,"dictionnaire avec les coordonn\xe9es en cl\xe9"),u(),o(83,"."),d(84,"br"),d(85,"br"),o(86," Par exemple, si l'on a la coordonn\xe9e "),a(87,"b"),o(88,"(x,y,z)"),u(),o(89," activ\xe9e initialement, il suffira de faire "),a(90,"code"),o(91,"d[(x,y,z)]='#'"),u(),o(92,"."),d(93,"br"),d(94,"br"),o(95," Une seconde remarque importante est qu'une position d\xe9sactiv\xe9e ne changera jamais d'\xe9tat si elle n'est jamais voisine avec une position activ\xe9e."),d(96,"br"),o(97," Comme on cherche le nombre de positions actives \xe0 la fin, on peut faire en sorte de stocker uniquement les positions actives, et de mettre \xe0 jour celles-ci ainsi que leurs positions voisines \xe0 chaque \xe9tape."),d(98,"br"),o(99," Plut\xf4t que de passer par un "),a(100,"b"),o(101,"dictionnaire"),u(),o(102," (d\xe9sol\xe9 pour la feinte plus haut), on peut donc avoir un simple "),a(103,"b"),o(104,"set"),u(),o(105," de positions actives."),d(106,"br"),o(107," On utilise plut\xf4t un set qu'une "),a(108,"b"),o(109,"liste"),u(),o(110," pour \xe9viter la v\xe9rification en "),a(111,"code"),o(112,"O(N)"),u(),o(113," de la pr\xe9sence d'une position active dans cette "),a(114,"b"),o(115,"liste"),u(),o(116,", lorsque l'on r\xe9alise les \xe9tapes de simulation."),d(117,"br"),d(118,"br"),o(119," Le fait de stocker uniquement les positions actives permet grandement d'optimiser notre solution: beaucoup de positions sont activ\xe9es puis desactiv\xe9es au fur et \xe0 mesure de la simulation."),d(120,"br"),d(121,"br"),o(122," Une derni\xe8re \xe9tape est d'appliquer les r\xe8gles de voisinnage."),d(123,"br"),o(124," On peut encore une fois utiliser un "),a(125,"b"),o(126,"dictionnaire"),u(),o(127," pour incr\xe9menter les diff\xe9rents compteurs de voisins activ\xe9s \xe0 partir de notre set, et ainsi v\xe9rifier les changements d'\xe9tats des diff\xe9rentes positions."),d(128,"br"),d(129,"br"),o(130," Exemple de code: "),a(131,"pre",9),a(132,"code"),o(133,"import itertools\nlines = open('input17.txt').read().split('\\n')\n\nactives = set()\n\nfor i in range(len(lines)):\n    for j in range(len(lines[i])):\n        if(lines[i][j] == '#'):\n            actives.add((0, i, j))\n\nfor e in range(6):\n    actives2 = set()\n    neighs = dict()\n    for (x, y, z) in actives:\n        # itertools.product donne le produit cart\xe9sien des it\xe9rables pass\xe9s\n        # par exemple, itertools.product(range(x-1,x+2),range(y-1,y+2))\n        # donne [(-1, -1), (-1, 0), (-1, 1), (0, -1), (0, 0), (0, 1), (1, -1), (1, 0), (1, 1)]\n        for (x2, y2, z2) in itertools.product(range(x-1, x+2), range(y-1, y+2), range(z-1, z+2)):\n            if(x2 == x and y2 == y and z2 == z):\n                continue\n            neighs[(x2, y2, z2)] = neighs.get((x2, y2, z2), 0) + 1\n    for (x, y, z) in neighs.keys():\n        if((x, y, z) not in actives):\n            if(neighs[(x, y, z)] == 3):\n                actives2.add((x, y, z))\n        else:\n            # Faut avouer que python a des trucs parfois kiffants\n            if(3 >= neighs[(x, y, z)] >= 2):\n                actives2.add((x, y, z))\n    actives = actives2.copy()\n\nprint(len(actives))"),u(),u(),d(134,"br"),d(135,"br"),a(136,"h2",6),a(137,"a",7),o(138,"Jour 17, partie 2 :"),u(),u(),a(139,"h3",8),o(140," Enonc\xe9 "),u(),o(141," La seconde partie est tr\xe8s simple:"),d(142,"br"),o(143," On a exactement les m\xeames r\xe8gles / objectifs que pour la partie 1, sauf que l'on rajoute une 4 \xe8me dimension. "),d(144,"br"),d(145,"br"),a(146,"h3",8),o(147," Enonc\xe9 "),u(),o(148," On peut tr\xe8s facilement adapter notre code de la partie 1 pour ajouter cette 4 \xe8me dimension, et obtenir directement la valeur attendue: "),a(149,"pre",9),a(150,"code"),o(151,"import itertools\nlines = open('input17.txt').read().split('\\n')\n\nactives = set()\n\nfor i in range(len(lines)):\n    for j in range(len(lines[i])):\n        if(lines[i][j] == '#'):\n            actives.add((0, 0, i, j))\n\nfor e in range(6):\n    actives2 = set()\n    neighs = dict()\n    for (x, y, z, k) in actives:\n        for (x2, y2, z2, k2) in itertools.product(range(x-1, x+2), range(y-1, y+2), range(z-1, z+2), range(k-1, k+2)):\n            if(x2 == x and y2 == y and z2 == z and k2 == k):\n                continue\n            neighs[(x2, y2, z2, k2)] = neighs.get((x2, y2, z2, k2), 0)+1\n    for (x, y, z, k) in neighs.keys():\n        if((x, y, z, k) not in actives):\n            if(neighs[(x, y, z, k)] == 3):\n                actives2.add((x, y, z, k))\n        else:\n            if(3 >= neighs[(x, y, z, k)] >= 2):\n                actives2.add((x, y, z, k))\n    actives = actives2.copy()\n\nprint(len(actives))"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),SG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day18"]],decls:137,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/18"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 18) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 18, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Le probl\xe8me d'aujourd'hui demandait d'\xe9valuer un ensemble d'expressions arithm\xe9tiques simples, constitu\xe9es uniquement "),a(30,"b"),o(31,"d'additions"),u(),o(32,", de "),a(33,"b"),o(34,"multiplications"),u(),o(35,", mais avec des r\xe8gles un peu diff\xe9rentes que pour une \xe9valuation classique."),d(36,"br"),o(37," En effet, pour cette premi\xe8re sous-partie, la "),a(38,"b"),o(39,"multiplication"),u(),o(40," et "),a(41,"b"),o(42,"l'addition"),u(),o(43," avaient les "),a(44,"b"),o(45,"m\xeames priorit\xe9s"),u(),o(46,", l'\xe9valuation des expressions se faisant de gauche \xe0 droite (exception pour les expressions parenth\xe9s\xe9es qui conservaient leurs priorit\xe9s)."),d(47,"br"),d(48,"br"),o(49," Pour chaque expression, on obtient une valeur, et la solution est la somme de toutes ces valeurs."),d(50,"br"),d(51,"br"),o(52," Par exemple, si on "),a(53,"pre",9),a(54,"code"),o(55,"1 + 2 * 3       # Evalu\xe9e comme (1 + 2) * 3 = 9\n1 * 2 + 3       # Evalu\xe9e comme (1 * 2) + 3 = 5\n1 * (2 + 3)     # Evalu\xe9e comme 1 * (2 + 3) = 5"),u(),u(),o(56," on obtient donc la r\xe9ponse "),a(57,"b"),o(58,"(9+5+5) = 19"),u(),o(59,". "),d(60,"br"),d(61,"br"),a(62,"h3",8),o(63," Solution "),u(),o(64," Ce probl\xe8me peut \xeatre abord\xe9 de deux mani\xe8res diff\xe9rentes: "),a(65,"ul"),a(66,"li"),o(67,"Soit on construit un parser syntaxique (plus ou moins bricol\xe9) et l'on \xe9value suivant les appels r\xe9cursifs / parcours de l'arbre g\xe9ner\xe9"),u(),a(68,"li"),o(69,"Soit on ruse un peu"),u(),u(),o(70," La premi\xe8re solution peut \xeatre assez p\xe9nible "),a(71,"ul"),a(72,"li"),o(73," Si l'on fait une solution propre, le code peut \xeatre assez consid\xe9rable \xe0 \xe9crire"),u(),a(74,"li"),o(75," Si l'on fait une solution bricolage, le code est peu \xe9l\xe9gant et tr\xe8s sp\xe9cifique"),u(),u(),o(76," C'est pourquoi on verra plut\xf4t une solution rus\xe9e."),d(77,"br"),d(78,"br"),o(79," La solution rus\xe9e consiste \xe0 garder les \xe9valuateurs d'expressions arithm\xe9tiques existants, mais en tweakant l\xe9g\xe8rement ces expressions ou la mani\xe8re avec laquelle elles sont \xe9valu\xe9es, pour correspondre \xe0 l'\xe9nonc\xe9."),d(80,"br"),d(81,"br"),o(82," Dans mon cas, ce que j'ai fait c'est que j'ai cr\xe9\xe9 une classe "),a(83,"code"),o(84,"MyInt"),u(),o(85,", pour laquelle je red\xe9finis ses op\xe9rateurs."),d(86,"br"),o(87," Ici, comme l'addition et la multiplication ont la m\xeame priorit\xe9, si l'on remplace une multiplication par une soustraction, on respecte les r\xe8gles de priorit\xe9 classiques."),d(88,"br"),o(89," Il suffit ensuite, au niveau de la classe, de red\xe9finir "),a(90,"b"),o(91,'l\'op\xe9rateur "soustraction"'),u(),o(92," comme effectuant une "),a(93,"b"),o(94,"op\xe9ration de multiplication"),u(),o(95,"."),d(96,"br"),d(97,"br"),o(98," Ensuite, on peut remplacer \xe0 la vol\xe9e les lignes pour changer les op\xe9rateurs, et encapsuler nos diff\xe9rentes valeurs num\xe9riques \xe0 l'int\xe9rieur d'une instance de cette classe "),a(99,"code"),o(100,"MyInt"),u(),o(101,", et de l'interpr\xe9ter avec la fonction "),a(102,"code"),o(103,"exec"),u(),o(104,"."),d(105,"br"),d(106,"br"),o(107," Cela donne ceci: "),a(108,"pre",9),a(109,"code"),o(110,"import re\n\nlines = open('input18.txt').read().split('\\n')\n\nclass MyInt:\n    def __init__(self, val):\n        self.val = val\n\n    def __add__(self, other):\n        return MyInt(self.val+other.val)\n\n    def __sub__(self, other):\n        # C'est ici que la magie op\xe8re\n        return MyInt(self.val*other.val)\n\nsomme = MyInt(0)\nit = 0\nfor line in lines:\n    # Transforme par exemple \"1 + 2 * 3\" en  \"tmp = MyInt(1) + MyInt(2) * MyInt(3)\"\n    line = 'tmp = ' + \\\n        re.sub('([0-9]+)', 'MyInt(\\\\1)', line).replace('*','-')\n    exec(line)\n    somme = somme + tmp\n\nprint(somme.val)"),u(),u(),d(111,"br"),d(112,"br"),a(113,"h2",6),a(114,"a",7),o(115,"Jour 18, partie 2 :"),u(),u(),a(116,"h3",8),o(117," Enonc\xe9 "),u(),o(118," Pour la seconde partie, plut\xf4t que d'avoir un m\xeame niveau de priorit\xe9, cette fois-ci l'addition a un niveau de priorit\xe9 plus important que la multiplication."),d(119,"br"),o(120," Le reste de l'\xe9nonc\xe9 ne change pas. "),d(121,"br"),d(122,"br"),a(123,"h3",8),o(124," Solution "),u(),o(125," On peut utiliser le m\xeame type de magouille que pour la premi\xe8re partie."),d(126,"br"),d(127,"br"),o(128," Cette fois-ci, pour inverser les priorit\xe9s, on remplacera au niveau de la cha\xeene \xe0 \xe9valuer les additions par des multiplications et vice-versa. "),d(129,"br"),o(130," On inversera \xe9galement au niveau des op\xe9rateurs de la classe les deux traitements."),d(131,"br"),d(132,"br"),o(133," En code, \xe7a nous donne donc: "),a(134,"pre",9),a(135,"code"),o(136,"import re\n\nlines = open('input18.txt').read().split('\\n')\n\nclass MyInt:\n    def __init__(self, val):\n        self.val = val\n\n    def __add__(self, other):\n        return MyInt(self.val*other.val)\n\n    def __mul__(self, other):\n        return MyInt(self.val+other.val)\n\nsomme = MyInt(0)\nit = 0\ntmp = None\nfor line in lines:\n\n    line = 'tmp = ' + \\\n        re.sub('([0-9]+)', 'MyInt(\\\\1)', line).replace('+','?').replace('*', '+').replace('?', '*')\n\n    exec(line)\n    somme = somme * tmp\n\nprint(somme.val)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),DG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day19"]],decls:133,vars:42,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/19"],["id","day3_part1_statement"],["href","https://fr.wikipedia.org/wiki/Grammaire_formelle"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 19) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 19, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a en entr\xe9e ce qu'on appelle en informatique la description d'une "),a(30,"b"),a(31,"a",9),o(32,"grammaire formelle"),u(),u(),o(33,", soit un ensemble de r\xe8gles permettant de d\xe9finir un ensemble de mots accept\xe9s par cette grammaire."),d(34,"br"),d(35,"br"),o(36," Ici, les nombres correspondent \xe0 des "),a(37,"b"),o(38,"symboles non terminaux"),u(),o(39,", c'est \xe0 dire que l'on peut d\xe9velopper ces symboles, alors que les caract\xe8res "),a(40,"b"),o(41,"'a' ... 'z'"),u(),o(42," sont des symboles terminaux."),d(43,"br"),d(44,"br"),o(45," Par exemple, si l'on a la grammaire suivante: "),a(46,"pre",10),a(47,"code"),o(48,"\n1 : 2 3 | 4\n2 : 4 4\n3: 'a'\n4: 'b'"),u(),u(),o(49," alors les mots accept\xe9s sont les suivants: "),a(50,"b"),o(51,"'bba' et 'b'"),u(),o(52,"."),d(53,"br"),d(54,"br"),o(55," En plus de la description de la grammaire, on a \xe9galement un ensemble de mots."),d(56,"br"),o(57," La valeur \xe0 soumettre est le nombre de mots appartenant \xe0 la grammaire formelle. "),d(58,"br"),d(59,"br"),a(60,"h3",8),o(61," Solutions "),u(),o(62," Certaines solutions ont \xe9t\xe9 d\xe9velopp\xe9es \xe0 partir de "),a(63,"b"),o(64,"regex"),u(),o(65," (expressions r\xe9guli\xe8res), mais je ne connais pas les d\xe9tails de ces solutions. "),d(66,"br"),d(67,"br"),o(68," Je suis parti sur une autre approche, qui consiste \xe0 parcourir r\xe9cursivement les r\xe8gles, en extrayant les sous-cha\xeenes d'un motif \xe0 rechercher."),d(69,"br"),d(70,"br"),o(71," L'id\xe9e globale est la suivante:"),d(72,"br"),d(73,"br"),o(74,' Le premier appel \xe0 la fonction r\xe9cursive passe en param\xe8tre le symbole "racine" duquel est g\xe9ner\xe9 l\'int\xe9gralit\xe9 des mots de la grammaire formelle.'),d(75,"br"),o(76," Egalement, est pass\xe9 en param\xe8tre le mot pour lequel on veut v\xe9rifier son appartenance \xe0 la grammaire."),d(77,"br"),d(78,"br"),o(79," Pour chaque option de d\xe9veloppement (les options \xe9tant s\xe9par\xe9s par le symbole "),a(80,"b"),o(81,"'|'"),u(),o(82,"), on it\xe8re r\xe9cursivement sur les diff\xe9rents symboles non terminaux pour trouver l'ensemble des r\xe9ductions de pr\xe9fixes possibles du motif \xe0 rechercher."),d(83,"br"),o(84," Lorsque l'on \xe9tudie s\xe9quentiellement les diff\xe9rents symboles non terminaux, on r\xe9cup\xe8re donc un ensemble de mots de l'appel r\xe9cursif, et cet ensemble constitue l'ensemble des mots de d\xe9parts que l'on va chercher pour les symboles terminaux suivants de ce m\xeame groupe."),d(85,"br"),d(86,"br"),o(87," Par exemple, si l'on a la grammaire: "),a(88,"pre",10),a(89,"code"),o(90,"1: 23\n2: 4 5 | 5\n4: 5 5 | 5\n3: 5 | 6\n5: 'a'\n6: 'b'"),u(),u(),o(91," et que l'on cherche \xe0 d\xe9terminer si le mot 'aab' appartient \xe0 la grammeire, alors notre premier appel r\xe9cursif aura les arguments (1,'aab'), et on aura le d\xe9roulement suivant: "),a(92,"pre",10),a(93,"code"),o(94),u(),u(),d(95,"br"),d(96,"br"),o(97," Comme on obtient une cha\xeene vide dans le retour de l'appel principal, on en d\xe9duit que le mot est accept\xe9 par la grammaire."),d(98,"br"),d(99,"br"),o(100," Exemple d'impl\xe9mentation: "),a(101,"pre",10),a(102,"code"),o(103,"lines = open('input19.txt').read().split('\\n')\n\ng = dict()\n\nfor i in range(len(lines)):\n    line = lines[i]\n    if(len(line) < 1):\n        break\n\n    (f, to) = line.split(':')\n    f = int(f)\n\n    if('\"' in to):\n        g[f] = to.replace('\"', '').strip()\n        continue\n    allTos = list(map(str.strip, to.split('|')))\n\n    for i in range(len(allTos)):\n        allTos[i] = list(map(int, allTos[i].split(' ')))\n\n    g[f] = allTos\n\ntests = lines[i+1:]\n\ndef recu(rule, searching):\n    if(isinstance(g[rule], str)):\n        if(len(searching) > 0 and searching[0] == g[rule][0]):\n            return set([searching[1:]])\n        return set()\n    res = set()\n    for group in g[rule]:\n        currentSearch = set([searching])\n        for w in group:\n            newSearch = set()\n            for z in currentSearch:\n                newSearch = newSearch.union(recu(w, z))\n            currentSearch = newSearch.copy()\n        res = res.union(currentSearch)\n    return res\n\nres = 0\nfor message in tests:\n    if('' in recu(0, message)):\n        res += 1\nprint(res)"),u(),u(),d(104,"br"),d(105,"br"),a(106,"h2",6),a(107,"a",7),o(108,"Jour 19, partie 2 :"),u(),u(),a(109,"h3",8),o(110," Enonc\xe9 "),u(),o(111," La partie 2 est identique \xe0 la partie 1 \xe0 l'exception de deux r\xe8gles de la grammaire qui ont \xe9t\xe9 modifi\xe9es, pour permettre les cycles."),d(112,"br"),d(113,"br"),a(114,"h3",8),o(115," Solution "),u(),o(116," La solution d\xe9crite plus haut n'est pas affect\xe9e par ce changement."),d(117,"br"),o(118," C'est d\xfb au fait que le cycle est de la forme "),a(119,"code"),o(120,'"a: b a | b"'),u(),o(121," et non "),a(122,"code"),o(123,'"a: a b | b"'),u(),o(124,". "),d(125,"br"),o(126," Comme le symbole b n'aboutit pas sur des cycles, \xe9tant donn\xe9 que les appels r\xe9cursifs r\xe9duisent d'au moins un caract\xe8re les cha\xeenes \xe0 rechercher, on n'a donc pas de r\xe9cursivit\xe9 infinie. "),d(127,"br"),d(128,"br"),o(129," Le code ne change donc pas, \xe0 part la partie permettant de modifier \xe0 la vol\xe9e les deux r\xe8gles: "),a(130,"pre",10),a(131,"code"),o(132,"lines = open('input19.txt').read().split('\\n')\n\ng = dict()\n\nfor i in range(len(lines)):\n    line = lines[i]\n    if(len(line) < 1):\n        break\n\n    (f, to) = line.split(':')\n    f = int(f)\n    if(f == 8):\n        to = ' 42 | 42 8'\n    elif(f == 11):\n        to = ' 42 31 | 42 11 31'\n\n    if('\"' in to):\n        g[f] = to.replace('\"', '').strip()\n        continue\n    allTos = list(map(str.strip, to.split('|')))\n\n    for i in range(len(allTos)):\n        allTos[i] = list(map(int, allTos[i].split(' ')))\n\n    g[f] = allTos\n\ntests = lines[i+1:]\n\n\ndef recu(rule, searching):\n    if(isinstance(g[rule], str)):\n        if(len(searching) > 0 and searching[0] == g[rule][0]):\n            return set([searching[1:]])\n        return set()\n    res = set()\n    for group in g[rule]:\n        currentSearch = set([searching])\n        for w in group:\n            newSearch = set()\n            for z in currentSearch:\n                newSearch = newSearch.union(recu(w, z))\n            currentSearch = newSearch.copy()\n        res = res.union(currentSearch)\n    return res\n\nres = 0\nfor message in tests:\n    if('' in recu(0, message)):\n        res += 1\nprint(res)"),u(),u(),u(),u(),u(),u()),2&e&&(K(94),ra(["appel(1,'aab') \nPremi\xe8re \xe9tape (recherches: ","{","'aab'","}","):\n    appel(2,'aab')\n    Premier groupe (45):\n        Premiere \xe9tape (recherches: ","{","'aab'","}","):\n            appel(4,'aab')\n            Premier groupe (55):\n                appel(5,'aab') => retourne ","{","'ab'","}","\n                appel(5,'ab') => retourne ","{","'b'","}","\n            => ","{","'b'","}","\n            Second groupe (5):\n                appel(5,'aab') => retourne ","{","'ab'","}","\n            => ","{","'ab'","}","\n\n            Donc \n            appel(4,'aab') => retourne ","{","'ab','b'","}","\n        \n        Seconde \xe9tape (recherches: ","{","'ab','b'","}","):\n            appel(5,'ab') => retourne ","{","'b'","}","\n            appel(5,'b') => retourne ","{","","}","\n    =>","{","'b'","}","\n\n    Second groupe (5):\n        appel(5,'aab') => retourne ","{","'ab'","}","\n    => ","{","'ab'","}","\n\n    appel(2,'aab') => retourne ","{","'b','ab'","}","\n\nSeconde \xe9tape (recherches: ","{","'b','ab'","}","):\n    appel(3,'b'):\n    Premier groupe (5):\n        appel(5,'b') => retourne ","{","","}","\n    Second groupe (6):\n        appel(6,'b') => retourne ","{","''","}","\n    \n    appel(3,'ab'):\n    Premier groupe (5):\n        appel(5,'b') => retourne ","{","'b'","}","\n    Second groupe (6):\n        appel(6,'b') => retourne ","{","","}","\n\nappel(1,'aab') => ","{","'','b'","}",""]))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})();const wG=function(){return["far","lightbulb"]};let TG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day20"]],decls:233,vars:2,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/20"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],[1,"proTip"],[3,"icon"],[2,"text-align","center"],["src","assets/img/matches.png",2,"width","500px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 20) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 20, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a en entr\xe9e un ensemble de pi\xe8ces de puzzle sous la forme de grilles 2D avec 2 valeurs possibles pour chaque case ("),a(30,"code"),o(31,"'#'"),u(),o(32," ou "),a(33,"code"),o(34,"'.'"),u(),o(35,") et auxquelles sont associ\xe9s des identifiants."),d(36,"br"),d(37,"br"),o(38," L'objectif est de reconstruire le puzzle, de telle sorte que deux pi\xe8ces se touchent via un c\xf4t\xe9 que si ce c\xf4t\xe9 est identique pour les deux pi\xe8ces."),d(39,"br"),o(40," Par exemple, cette reconstruction est valide: "),a(41,"pre",9),a(42,"code"),o(43,"..# #..\n#.# #..\n#.# #..\n\n#.# ###\n... .#.\n### ###"),u(),u(),o(44," mais pas celle-ci: "),a(45,"pre",9),a(46,"code"),o(47,"#.. ..#\n#.. #.#\n#.. #.#\n\n#.# ###\n... .#.\n### ###"),u(),u(),o(48," On peut appliquer des rotations aux pi\xe8ces, ainsi que des retournements sym\xe9triques."),d(49,"br"),o(50," Par exemple, pour une pi\xe8ce de "),a(51,"b"),o(52,"3x3"),u(),o(53," avec les cases num\xe9rot\xe9es de "),a(54,"b"),o(55,"1"),u(),o(56," \xe0 "),a(57,"b"),o(58,"9"),u(),o(59," de la mani\xe8re suivante: "),a(60,"pre",9),a(61,"code"),o(62,"1 2 3 \n4 5 6\n7 8 9"),u(),u(),o(63," toutes les transformations possibles sont les suivantes: "),a(64,"pre",9),a(65,"code"),o(66,"1 2 3     7 4 1     9 8 7     3 6 9\n4 5 6     8 5 2     6 5 4     2 5 8\n7 8 9     9 6 3     3 2 1     1 4 7\n\n7 8 9     9 6 3     3 2 1     1 4 7\n1 2 3     7 4 1     9 8 7     3 6 9\n4 5 6     8 5 2     6 5 4     2 5 8"),u(),u(),o(67," La ligne du haut est g\xe9n\xe9r\xe9e en appliquant une rotation suppl\xe9mentaire par rapport \xe0 la pi\xe8ce de gauche, et la ligne d'en bas correspond au retournement de la pi\xe8ce du dessus verticalement."),d(68,"br"),o(69," On a donc une m\xe9thode simple pour g\xe9n\xe9rer toutes les variantes de la pi\xe8ce."),d(70,"br"),d(71,"br"),o(72," Un \xe9l\xe9ment suppl\xe9mentaire concernant le puzzle est que "),a(73,"b"),o(74,"le bord ext\xe9rieur des pi\xe8ces formant le contour n'a aucune correspondance avec les autres pi\xe8ces"),u(),o(75,"."),d(76,"br"),d(77,"br"),o(78," La r\xe9ponse \xe0 renvoyer est le produit des id des pi\xe8ces pr\xe9sentes dans les coins."),d(79,"br"),d(80,"br"),a(81,"h3"),o(82,"Solution"),u(),o(83," Pour la premi\xe8re partie, il n'\xe9tait pas n\xe9cessaire de reconstruire tout le puzzle. "),d(84,"br"),o(85," En effet, il suffisait de trouver les pi\xe8ces pour lesquels on avait deux bords avec lesquels aucune correspondance ne pouvait \xeatre r\xe9alis\xe9e."),d(86,"br"),d(87,"br"),o(88," N\xe9anmoins, comme on aura besoin de la reconstruction du puzzle pour la partie 2, la r\xe9solution du puzzle sera faite d\xe8s la partie 1."),d(89,"br"),d(90,"br"),o(91," Ce probl\xe8me \xe9tait assez complexe, et n\xe9cessitait la mise en place de beaucoup d'\xe9l\xe9ments pour une r\xe9solution efficace."),d(92,"br"),a(93,"div",10),d(94,"fa-icon",11),o(95," Il est int\xe9ressant dans certains cas de pr\xe9calculer beaucoup d'informations, si celles-ci permettent d'acc\xe9l\xe9rer des calculs ult\xe9rieurs."),d(96,"br"),o(97," Ici par exemple, plut\xf4t que de faire des rotations / retournements des pi\xe8ces, ainsi que de comparer les bords des pi\xe8ces au fur et \xe0 mesure de notre algorithme, on peut pr\xe9calculer ces informations d\xe8s le d\xe9but pour plus tard. "),u(),d(98,"br"),o(99," Pour pr\xe9calculer toutes les versions d'une pi\xe8ce, il nous faut \xe9galement les fonctions permettant de : "),a(100,"ul"),a(101,"li"),o(102,"Faire une rotation"),u(),a(103,"li"),o(104,"Faire un retournement"),u(),u(),o(105," Le retournement est tr\xe8s simple, il suffit de retourner simplement chaque ligne d'une pi\xe8ce: "),a(106,"pre",9),a(107,"code"),o(108,"1 2 3      3 2 1\n4 5 6  =>  6 5 4\n7 8 9      9 8 7"),u(),u(),o(109," La rotation est l\xe9g\xe8rement plus complexe, l'algorithme \xe9tant le suivant: "),a(110,"pre",9),a(111,"code"),o(112,"rotation(piece):\nres = copie(piece)\npour i dans [0,N-1]:\n    pour j dans [0,N-1]:\n         res[N-1-j][i] = piece[i][j]"),u(),u(),o(113," A partir de \xe7a, on peut d\xe9finir une m\xe9thode qui prendra en param\xe8tre, et qui g\xe9n\xe8rera toutes les rotations / retournements de cette pi\xe8ce."),d(114,"br"),d(115,"br"),o(116," Une seconde \xe9tape de pr\xe9calcul est de trouver, pour chaque pi\xe8ce dans une configuration donn\xe9e (rotation / retournement), trouver les pi\xe8ces et configurations pouvant matcher."),d(117,"br"),o(118," On verra les raisons plus tard, mais j'ai stock\xe9 cette information pour acc\xe8der efficacement \xe0 l'information \"quelles pi\xe8ces ("),a(119,"b"),o(120,"avec configuration"),u(),o(121,") peuvent \xeatre ajout\xe9es en haut/en bas/\xe0 droite/\xe0 gauche de ma pi\xe8ce ("),a(122,"b"),o(123,"avec configuration"),u(),o(124,')?".'),d(125,"br"),d(126,"br"),o(127," Pour \xe9viter de r\xe9aliser un grand nombre de comparaisons plus ou moins complexes (matcher les bords horizontaux/ verticaux), pour calculer les matchs on va uniquement comparer 2 lignes: "),a(128,"b"),o(129,"la ligne du bas"),u(),o(130," de la premi\xe8re pi\xe8ce avec "),a(131,"b"),o(132,"la ligne du haut"),u(),o(133," de la second pi\xe8ce."),d(134,"br"),d(135,"br"),o(136," Cette comparaison, si fructueuse, nous permet en fait de retrouver \xe0 partir d'une configuration, toutes les autres rotations pour lesquels on aura \xe9galement un match."),d(137,"br"),o(138," En effet, si l'on a un match pour une rotation r1 et une rotation r2, alors le match sera \xe9galement pr\xe9sent pour une rotation suppl\xe9mentaire sur les deux pi\xe8ces (mais dans une direction diff\xe8rente)."),d(139,"br"),o(140," On peut ainsi appliquer les 4 rotations pour ajouter ces nouvelles configurations aux matchs."),d(141,"br"),d(142,"br"),a(143,"div",12),d(144,"img",13),u(),o(145," On a maintenant toutes les informations n\xe9cessaires pour acc\xe9l\xe9rer notre bruteforce."),d(146,"br"),o(147," En effet, l'algorithme final de r\xe9solution est un simple bruteforce avec backtracking:"),d(148,"br"),o(149," On essaie \xe0 chaque coordonn\xe9e les pi\xe8ces, et on v\xe9rifie si les contraintes de matching sont bien respect\xe9es."),d(150,"br"),d(151,"br"),o(152," Si l'on faisait ainsi de mani\xe8re na\xefve, m\xeame avec pr\xe9calcul des variantes de pi\xe8ces, on risque d'avoir un programme qui prend beaucoup de temps."),d(153,"br"),o(154," C'est ici que rentre en jeu le pr\xe9calcul des matchings suivant les directions. Cela nous permet en effet d'\xe9laguer certains noeuds d'explorations, en v\xe9rifiant les cas suivants: "),a(155,"ul"),a(156,"li"),o(157," Si on est en "),a(158,"b"),o(159,"premi\xe8re ligne"),u(),o(160,", il faut que notre pi\xe8ce n'ait "),a(161,"b"),o(162,"aucun matching possible vers le haut "),u(),u(),a(163,"li"),o(164," Si on est en "),a(165,"b"),o(166,"premi\xe8re colonne"),u(),o(167,", il faut que notre pi\xe8ce n'ait "),a(168,"b"),o(169,"aucun matching possible vers la gauche"),u(),u(),a(170,"li"),o(171," M\xeames principes pour "),a(172,"b"),o(173,"derni\xe8re ligne / colonne"),u(),u(),a(174,"li"),o(175," Si on est dans les "),a(176,"b"),o(177,"cas contraires"),u(),o(178,", il faut au contraire qu'il existe "),a(179,"b"),o(180,"un matching possible vers les directions avec pi\xe8ces"),u(),u(),u(),o(181," Egalement, on v\xe9rifie au fur et \xe0 mesure le matching avec les pi\xe8ces d\xe9j\xe0 pos\xe9es (\xe0 gauche ou en haut)."),d(182,"br"),d(183,"br"),o(184," Avec toutes ces optimisations, la complexit\xe9 reste la m\xeame (un bon "),a(185,"code"),o(186,"O(N!)"),u(),o(187," hideux), mais on \xe9lague beaucoup de branches, et vu que c'est l'AOC, les cas d'entr\xe9e sont \"simples\"."),d(188,"br"),o(189," On obtient donc un programme quasi instantan\xe9 (0.4 secondes). "),a(190,"pre",9),a(191,"code"),o(192,"import math\nlines = open('input20.txt').read().split('\\n')\nallTiles = []\ncurrentTile = []\ncurrentId = ''\nfor line in lines:\n    if(len(line) == 0):\n        allTiles.append((currentTile, currentId))\n        currentTile = []\n    elif('Tile' in line):\n        currentId = line.replace('Tile', '').replace(':', '').strip()\n    else:\n        currentTile.append(line)\n\ntileDim = len(allTiles[0][0])\npuzzleDim = int(math.sqrt(len(allTiles)))\n\ndef flip(tile):\n    return [''.join(line[::-1]) for line in tile]\n\ndef rotate(tile):\n    return [''.join([tile[len(tile)-1-y][x] for y in range(len(tile))]) for x in range(len(tile))]\n\ndef generateAllVersions(tile):\n    currentFlip = tile.copy()\n    res = []\n    for f in range(2):\n        currentRot = currentFlip.copy()\n        for r in range(4):\n            res.append(currentRot)\n            currentRot = rotate(currentRot)\n        currentFlip = flip(currentFlip)\n    return res\n\nversionsPerId = dict([(id, generateAllVersions(tile))\n                        for (tile, id) in allTiles])\n\nSOUTH, WEST, NORTH, EAST = 0, 1, 2, 3\n\nallCorners = []\n\ndef matchs(tile1Versions, tile2Versions):\n    res = []\n    for i in range(len(tile1Versions)):\n        for j in range(len(tile2Versions)):\n            if(tile1Versions[i][-1] == tile2Versions[j][0]):\n                res.append((i, j))\n\n    return res\n\nallMatches = dict()\n\nfor k in versionsPerId.keys():\n    allMatches[k] = dict([((f, r, direction), []) for f in range(2)\n                            for r in range(4) for direction in range(4)])\n    for k2 in versionsPerId.keys():\n        if(k == k2):\n            continue\n        ms = matchs(versionsPerId[k], versionsPerId[k2])\n        for (i, j) in ms:\n            f1 = i//4\n            f2 = j//4\n            r1 = i % 4\n            r2 = j % 4\n            # Si deux pi\xe8ces ont les lignes inf\xe9rieurs qui matchent, alors si l'on fait\n            # le m\xeame nombre de rotations gauches pour une pi\xe8ce que le nombre de rotations\n            # droite pour l'autre, on a un match\n            for r in range(4):\n                key = (f1, (r1+r) % 4, r)\n\n                allMatches[k][key] = allMatches[k].get(\n                    key, [])+[(k2, f2, (r2+r) % 4)]\n\ndef bruteforce(grid, i, j, allMatches, remaining, allKeys):\n    if(i >= len(grid)):\n        return True\n    i2 = i+(j+1)//len(grid)\n    j2 = (j+1) % len(grid)\n\n    for kIdx in range(len(allKeys)):\n        if((1 << kIdx) & remaining):\n            continue\n        k = allKeys[kIdx]\n        for f in range(2):\n            for r in range(4):\n                if(i == 0):\n                    if(len(allMatches[k][(f, r, NORTH)]) > 0):\n                        continue\n                elif(grid[i-1][j] not in allMatches[k][(f, r, NORTH)]):\n                    continue\n\n                if(i+1 < len(grid)):\n                    if(len(allMatches[k][(f, r, SOUTH)]) == 0):\n                        continue\n\n                if(j == 0):\n                    if(len(allMatches[k][(f, r, WEST)]) > 0):\n                        continue\n                elif(grid[i][j-1] not in allMatches[k][(f, r, WEST)]):\n                    continue\n\n                if(j+1 < len(grid)):\n                    if(len(allMatches[k][(f, r, EAST)]) == 0):\n                        continue\n\n                grid[i][j] = (k, f, r)\n                if(bruteforce(grid, i2, j2, allMatches, remaining | (1 << kIdx), allKeys)):\n                    return True\n                grid[i][j] = None\n    return False\n\ngrid = [[None for col in range(puzzleDim)] for row in range(puzzleDim)]\nbruteforce(grid, 0, 0, allMatches, 0, list(allMatches.keys()))\n\ncorners = 1\nfor i in range(0, puzzleDim, puzzleDim-1):\n    for j in range(0, puzzleDim, puzzleDim-1):\n        corners *= int(grid[i][j][0])\n\nprint(corners)"),u(),u(),d(193,"br"),d(194,"br"),a(195,"h2",6),a(196,"a",7),o(197,"Jour 20, partie 2 :"),u(),u(),a(198,"h3",8),o(199," Enonc\xe9 "),u(),o(200," Pour la seconde partie, on part du puzzle reconstitu\xe9 lors de la partie 1, en supprimant les bords de chaque pi\xe8ce."),d(201,"br"),d(202,"br"),o(203," A partir de cette grille obtenue, on doit chercher un certain pattern, et supprimer les cases "),a(204,"code"),o(205,"'#'"),u(),o(206," appartenant \xe0 ce pattern de la grille, puis compter les cases "),a(207,"code"),o(208,"'#'"),u(),o(209," restantes."),d(210,"br"),o(211," Etant donn\xe9 que ce pattern n'appara\xeet pas pour tous les retournements / rotations de la grille reconstitu\xe9e, il faut tester toutes les configurations possibles."),d(212,"br"),d(213,"br"),o(214," La valeur \xe0 soumettre est donc le nombre de cases "),a(215,"code"),o(216,"'#'"),u(),o(217," n'appartenant pas \xe0 ce pattern trouv\xe9 dans la bonne configuration de la grille. "),d(218,"br"),d(219,"br"),a(220,"h3",8),o(221," Solution "),u(),o(222," Ayant d\xe9j\xe0 r\xe9solu le puzzle en premi\xe8re partie, cette seconde partie est triviale:"),d(223,"br"),o(224," On peut r\xe9utiliser la fonction qui nous permet de g\xe9n\xe9rer toutes les variantes d'une pi\xe8ce sur la nouvelle grille reconstruite, pour tester toutes les possibilit\xe9s de rotations / retournements."),d(225,"br"),o(226," Ensuite, il suffit d'appliquer de mani\xe8re na\xefve la recherche du pattern \xe0 travers la grille."),d(227,"br"),d(228,"br"),o(229," Une seule configuration fait appara\xeetre le pattern (c'est la seule configuration pour laquelle on affiche une valeur diff\xe9rente), la valeur \xe0 soumettre correspond donc \xe0 cette configuration. "),a(230,"pre",9),a(231,"code"),o(232,"import math\nlines = open('input20.txt').read().split('\\n')\nallTiles = []\ncurrentTile = []\ncurrentId = ''\nfor line in lines:\n    if(len(line) == 0):\n        allTiles.append((currentTile, currentId))\n        currentTile = []\n    elif('Tile' in line):\n        currentId = line.replace('Tile', '').replace(':', '').strip()\n    else:\n        currentTile.append(line)\n\ntileDim = len(allTiles[0][0])\npuzzleDim = int(math.sqrt(len(allTiles)))\n\ndef flip(tile):\n    return [''.join(line[::-1]) for line in tile]\n\ndef rotate(tile):\n    return [''.join([tile[len(tile)-1-y][x] for y in range(len(tile))]) for x in range(len(tile))]\n\ndef generateAllVersions(tile):\n    currentFlip = tile.copy()\n    res = []\n    for f in range(2):\n        currentRot = currentFlip.copy()\n        for r in range(4):\n            res.append(currentRot)\n            currentRot = rotate(currentRot)\n        currentFlip = flip(currentFlip)\n    return res\n\nversionsPerId = dict([(id, generateAllVersions(tile))\n                        for (tile, id) in allTiles])\n\nSOUTH, WEST, NORTH, EAST = 0, 1, 2, 3\n\nallCorners = []\n\ndef matchs(tile1Versions, tile2Versions):\n    res = []\n    for i in range(len(tile1Versions)):\n        for j in range(len(tile2Versions)):\n            if(tile1Versions[i][-1] == tile2Versions[j][0]):\n                res.append((i, j))\n\n    return res\n\nallMatches = dict()\n\nfor k in versionsPerId.keys():\n    allMatches[k] = dict([((f, r, direction), []) for f in range(2)\n                            for r in range(4) for direction in range(4)])\n    for k2 in versionsPerId.keys():\n        if(k == k2):\n            continue\n        ms = matchs(versionsPerId[k], versionsPerId[k2])\n        for (i, j) in ms:\n            f1 = i//4\n            f2 = j//4\n            r1 = i % 4\n            r2 = j % 4\n            # Si deux pi\xe8ces ont les lignes inf\xe9rieurs qui matchent, alors si l'on fait\n            # le m\xeame nombre de rotations gauches pour une pi\xe8ce que le nombre de rotations\n            # droite pour l'autre, on a un match\n            for r in range(4):\n                key = (f1, (r1+r) % 4, r)\n\n                allMatches[k][key] = allMatches[k].get(\n                    key, [])+[(k2, f2, (r2+r) % 4)]\n\ndef bruteforce(grid, i, j, allMatches, remaining, allKeys):\n    if(i >= len(grid)):\n        return True\n    i2 = i+(j+1)//len(grid)\n    j2 = (j+1) % len(grid)\n\n    for kIdx in range(len(allKeys)):\n        if((1 << kIdx) & remaining):\n            continue\n        k = allKeys[kIdx]\n        for f in range(2):\n            for r in range(4):\n                if(i == 0):\n                    if(len(allMatches[k][(f, r, NORTH)]) > 0):\n                        continue\n                elif(grid[i-1][j] not in allMatches[k][(f, r, NORTH)]):\n                    continue\n\n                if(i+1 < len(grid)):\n                    if(len(allMatches[k][(f, r, SOUTH)]) == 0):\n                        continue\n\n                if(j == 0):\n                    if(len(allMatches[k][(f, r, WEST)]) > 0):\n                        continue\n                elif(grid[i][j-1] not in allMatches[k][(f, r, WEST)]):\n                    continue\n\n                if(j+1 < len(grid)):\n                    if(len(allMatches[k][(f, r, EAST)]) == 0):\n                        continue\n\n                grid[i][j] = (k, f, r)\n                if(bruteforce(grid, i2, j2, allMatches, remaining | (1 << kIdx), allKeys)):\n                    return True\n                grid[i][j] = None\n    return False\n\ngrid = [[None for col in range(puzzleDim)] for row in range(puzzleDim)]\nbruteforce(grid, 0, 0, allMatches, 0, list(allMatches.keys()))\n\nreconstruction = []\n\nfor i in range(puzzleDim):\n    for r in range(1, tileDim-1):\n        current = ''\n        for j in range(puzzleDim):\n            g = versionsPerId[grid[i][j][0]][grid[i][j][1]*4+grid[i][j][2]]\n            current += g[r][1: -1]\n        reconstruction.append(current)\n\npattern = '''                  # \n#    ##    ##    ###\n    #  #  #  #  #  #   '''\npatternSharp = pattern.count('#')\npattern = pattern.split('\\n')\n\nfor r in generateAllVersions(reconstruction):\n    allSharp = 0\n    for x in range(len(r)):\n        for y in range(len(r[x])):\n            if(r[x][y] == '#'):\n                allSharp += 1\n            if(x+len(pattern)-1 >= len(r)):\n                continue\n            if(y+len(pattern[0])-1 >= len(r[0])):\n                continue\n            found = True\n            for x2 in range(len(pattern)):\n                for y2 in range(len(pattern[0])):\n                    if(pattern[x2][y2] == '#' and r[x+x2][y+y2] != '#'):\n                        found = False\n                        break\n            if(found):\n                allSharp -= patternSharp\n\n    print(allSharp)"),u(),u(),u(),u(),u(),u()),2&e&&(K(94),te("icon",au(1,wG)))},directives:[o1],styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),AG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day21"]],decls:79,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/21"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 21) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 21, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour le jour 21, on a en entr\xe9e une liste de plats, chacun de ces plats \xe9tant d\xe9crits par une liste d'ingr\xe9dients ainsi qu'une liste d'allerg\xe8nes."),d(30,"br"),o(31," Chacun de ces allerg\xe8ne est inclus \xe0 l'int\xe9rieur d'un et un seul ingr\xe9dient."),d(32,"br"),d(33,"br"),o(34," Pour la premi\xe8re partie, il s'agit de d\xe9duire \xe0 partir de la description de chacun des plats, quels sont les ingr\xe9dients qui ne peuvent \xeatre des allerg\xe8nes."),d(35,"br"),o(36," Ce nombre sera la valeur \xe0 soumettre pour valider la premi\xe8re partie."),d(37,"br"),d(38,"br"),a(39,"h3",8),o(40," Solution "),u(),o(41," Pour chaque allerg\xe8ne pr\xe9sent dans un plat, on sait qu'un des ingr\xe9dient de ce plat le contient."),d(42,"br"),o(43," Or, si cet allerg\xe8ne revient dans diff\xe9rents plats, comme un seul ingr\xe9dient doit \xeatre associ\xe9 \xe0 l'allerg\xe8ne, alors l'ingr\xe9dient en question sera donc commun \xe0 l'ensemble de ces plats."),d(44,"br"),d(45,"br"),o(46," Il est donc possible de d\xe9terminer les ingr\xe9dients candidats pour chaque allerg\xe8ne, en r\xe9alisant l'intersection des ingr\xe9dients des plats contenant l'allerg\xe8ne."),d(47,"br"),o(48," On peut coder \xe7a tr\xe8s facilement avec des sets: "),a(49,"pre",9),o(50," "),a(51,"code"),o(52,"lines = open('input21.txt').read().split('\\n')\n\nfoods = []\n# Le set de tous les allerg\xe8nes\ntotAl = set()\n# Le set de tous les ingr\xe9dients\ntotIng = set()\n# Le dictionnaire liant un allerg\xe8ne aux diff\xe9rents ingr\xe9dients candidats\nrevIng = dict()\n# Le nombre d'occurences d'un ingr\xe9dient\napparition = dict()\n\nfor line in lines:\n    (ingredients, alergens) = line.replace(\n        'contains', '').replace(')', '').replace(',', '').split('(')\n    allIng = ingredients.strip().split(' ')\n    allAle = alergens.strip().split(' ')\n    foods.append((allIng, allAle))\n    for al in allAle:\n        totAl.add(al)\n        revIng[al] = set()\n    for ing in allIng:\n        totIng.add(ing)\n        apparition[ing] = 0\n\n# On initialise les diff\xe9rents candidats d'un allerg\xe8ne au set complet d'ingr\xe9dients\nfor al in revIng.keys():\n    revIng[al] = totIng.copy()\n\nfor (ings, ales) in foods:\n    for ing in ings:\n        apparition[ing] += 1\n    for al in ales:\n        revIng[al] = revIng[al].intersection(set(ings))\n\nres = 0\nfor ing in totIng:\n    present = False\n    for al in revIng.keys():\n        if(ing in revIng[al]):\n            present = True\n            break\n    # Si un ingr\xe9dient n'est candidat d'aucun allerg\xe8ne\n    if(not present):\n        # On compte le nombre d'occurences pour l'ajouter \xe0 la r\xe9ponse du cas 1\n        res += apparition[ing]\n\nprint(res)"),u(),u(),d(53,"br"),d(54,"br"),u(),a(55,"h2",6),a(56,"a",7),o(57,"Jour 21, partie 2 :"),u(),u(),a(58,"h3",8),o(59," Enonc\xe9 "),u(),o(60," Pour la seconde partie, on doit d\xe9terminer pour chaque allerg\xe8ne quel est l'ingr\xe9dient associ\xe9."),d(61,"br"),o(62," A partir de ce matching r\xe9alis\xe9, on doit ensuite afficher les ingr\xe9dients en question tri\xe9s par l'ordre alphab\xe8tique de l'allerg\xe8ne correspondant."),d(63,"br"),d(64,"br"),a(65,"h3",8),o(66," Solution "),u(),o(67," La solution \xe0 ce probl\xe8me est tr\xe8s proche de celle du jour 16."),d(68,"br"),o(69," Pour les m\xeames raisons que pour la preuve donn\xe9e du jour 16, on peut simplement it\xe9rer en prenant l'allerg\xe8ne pour lequel un seul ingr\xe9dient peut correspondre."),d(70,"br"),d(71,"br"),o(72," Le code en d\xe9coule naturellement: "),a(73,"pre",9),a(74,"code"),o(75,"lines = open('input21.txt').read().split('\\n')\n\nfoods = []\n# Le set de tous les allerg\xe8nes\ntotAl = set()\n# Le set de tous les ingr\xe9dients\ntotIng = set()\n# Le dictionnaire liant un allerg\xe8ne aux diff\xe9rents ingr\xe9dients candidats\nrevIng = dict()\n# Le nombre d'occurences d'un ingr\xe9dient\napparition = dict()\n\nfor line in lines:\n    (ingredients, alergens) = line.replace(\n        'contains', '').replace(')', '').replace(',', '').split('(')\n    allIng = ingredients.strip().split(' ')\n    allAle = alergens.strip().split(' ')\n    foods.append((allIng, allAle))\n    for al in allAle:\n        totAl.add(al)\n        revIng[al] = set()\n    for ing in allIng:\n        totIng.add(ing)\n        apparition[ing] = 0\n\n# On initialise les diff\xe9rents candidats d'un allerg\xe8ne au set complet d'ingr\xe9dients\nfor al in revIng.keys():\n    revIng[al] = totIng.copy()\n\nfor (ings, ales) in foods:\n    for ing in ings:\n        apparition[ing] += 1\n    for al in ales:\n        revIng[al] = revIng[al].intersection(set(ings))\n\nres=[]\n\nwhile(len(revIng) != 0):\n    ingredient = None\n\n    for al in revIng.keys():\n        if(len(revIng[al]) == 1):\n            ingredient = list(revIng[al])[0]\n            res += [(al,ingredient)]\n            break\n    \n    if(ingredient is not None):\n        for al in revIng.keys():\n            if(ingredient in revIng[al]):\n                revIng[al].remove(ingredient)\n    else:\n        break\n\nres.sort()\nprint(','.join(map(lambda x:x[1],res)))"),u(),u(),a(76,"pre"),a(77,"code"),o(78,"\n\n            "),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),MG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day22"]],decls:135,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/22"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 22) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 22, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour le jour 22, on nous donne les r\xe8gles d'un jeu de cartes, ainsi que les decks de deux joueurs. "),d(30,"br"),o(31," Il s'agit ensuite de simuler le r\xe9sultat de l'affrontement de ces deux joueurs, pour calculer la r\xe9ponse \xe0 retourner."),d(32,"br"),d(33,"br"),o(34," Pour la partie 1, les r\xe8gles sont similaires aux r\xe8gles du jeu de la bataille:"),d(35,"br"),a(36,"ul"),a(37,"li"),o(38,"Chaque joueur tire la premi\xe8re carte de son paquet"),u(),a(39,"li"),o(40,"On compare les valeurs de ces deux cartes"),u(),a(41,"li"),o(42,"Le joueur ayant la carte avec la plus haute valeur remporte la carte de l'adversaire, et remet d'abord sa carte, puis la carte de l'adversaire en dessous de sa pile"),u(),u(),o(43," Par exemple, si l'on a les decks suivants: "),a(44,"pre",9),a(45,"code"),o(46,"Joueur 1: 1 2 3\nJoueur 2: 4 5 6"),u(),u(),o(47," Alors, \xe0 l'\xe9tape suivante on se retrouve avec : "),a(48,"pre",9),a(49,"code"),o(50,"Joueur 1: 2 3\nJoueur 2: 5 6 4 1"),u(),u(),o(51," A pr\xe9ciser que toutes les cartes ont des valeurs diff\xe9rentes. Il n'y a donc pas de r\xe8gle concernant l'\xe9galit\xe9, qui n'arrivera jamais."),d(52,"br"),d(53,"br"),a(54,"h3"),o(55,"Solution"),u(),o(56," Avec cet exercice, on r\xe9gresse fortement d'un point de vue algorithmique, vu que la solution consiste simplement \xe0 impl\xe9menter la simulation du d\xe9roulement de la partie. "),d(57,"br"),o(58," Il faut n\xe9anmoins faire attention aux structures / op\xe9rations utilis\xe9es \xe0 chaque \xe9tape, pour \xe9viter que la simulation ne soit trop co\xfbteuse."),d(59,"br"),d(60,"br"),o(61," Ici, \xe9tant donn\xe9 que les op\xe9rations consistent simplement \xe0 extraire en d\xe9but de liste et rajouter en fin de listes un nombre constant et infime d'\xe9l\xe9m\xe9nts, le co\xfbt est en "),a(62,"code"),o(63,"O(1)"),u(),o(64," et est donc n\xe9gligeable."),d(65,"br"),d(66,"br"),o(67," Une impl\xe9mentation assez efficace pour les besoins de l'AOC suit: "),a(68,"pre",9),a(69,"code"),o(70,"lines = open('input22.txt').read().split('\\n')\nplayers = [[] for i in range(2)]\n\ni = 0\nfor line in lines:\n    if('Player 2' in line):\n        i = 1\n    if('Player' not in line and len(line) > 0):\n        players[i].append(int(line))\n\ndef playGame(player1, player2, visited):\n    while(len(player1) > 0 and len(player2) > 0):\n        a,b=player1[0],player2[0]\n        \n        player1 = player1[1:]\n        player2 = player2[1:]\n        if(b > a):\n            player2 = player2+[b,a]\n        else:\n            player1 = player1+[a,b]\n    return (player1, player2)\n\np1 = players[0]\np2 = players[1]\n(p1,p2)=playGame(p1, p2, [])\nif(len(p1) == 0):\n    (p1,p2) = (p2,p1)\np1.reverse()\ns = 0\nfor (i,val) in enumerate(p1):\n    s += (i+1)*val\nprint(s)"),u(),u(),a(71,"h2",6),a(72,"a",7),o(73,"Jour 22, partie 2 :"),u(),u(),a(74,"h3",8),o(75," Enonc\xe9 "),u(),o(76," Pour la seconde partie du jour, les r\xe8gles sont un peu modifi\xe9es."),d(77,"br"),d(78,"br"),o(79," On conserve les r\xe8gles de la premi\xe8re partie, mais si la valeur des cartes tir\xe9es par chacun des joueurs est inf\xe9rieure ou \xe9gale \xe0 la taille restante des decks des joueurs correspondants, alors le gagnant est non plus d\xe9termin\xe9e par la carte la plus haute, mais par le gagnant d'une sous-partie."),d(80,"br"),o(81," Cette sous-partie a les m\xeames r\xe8gles (partie 1 + l'aspect r\xe9cursif introduit en partie 2), et commence avec les decks de l'\xe9tat parent r\xe9duits de telle sorte que la taille des nouveaux decks est \xe9gale \xe0 la valeur des cartes de l'\xe9tape pr\xe9c\xe9dente."),d(82,"br"),d(83,"br"),o(84," Par exemple, si l'on a : "),a(85,"pre",9),a(86,"code"),o(87,"Joueur 1: 1 4 6\nJoueur 2: 2 3 5"),u(),u(),o(88," Alors le gagnant de cette \xe9tape est le gagnant de la sous-partie: "),a(89,"pre",9),a(90,"code"),o(91,"Joueur 1: 4\nJoueur 2: 3 5"),u(),u(),o(92," Apr\xe8s avoir calcul\xe9 le gagnant de cette sous-partie, les r\xe8gles d'attributions des cartes reste le m\xeame pour les cartes "),a(93,"b"),o(94,"1"),u(),o(95," et "),a(96,"b"),o(97,"2"),u(),o(98," ici."),d(99,"br"),d(100,"br"),o(101," Egalement, en ajout de cette r\xe8gle, si durant une partie un \xe9tat est crois\xe9 plusieurs fois (on se retrouve plusieurs fois avec exactement les m\xeames cartes pour les deux joueurs), automatiquement le joueur "),a(102,"b"),o(103,"1"),u(),o(104," est d\xe9clar\xe9 vainqueur."),d(105,"br"),d(106,"br"),a(107,"h3"),o(108,"Solution"),u(),o(109," M\xeame chose que pour la partie 1, on peut se contenter de simuler. "),d(110,"br"),d(111,"br"),o(112," On peut g\xe9rer les nouvelles r\xe8gles de la mani\xe8re suivante: "),a(113,"ul"),a(114,"li"),o(115,"R\xe8gle d'\xe9tat d\xe9j\xe0 visit\xe9: on peut ajouter au fur et \xe0 mesure du d\xe9roulement de la partie les decks des joueurs dans une structure, pour v\xe9rifier que l'\xe9tat n'est pas d\xe9j\xe0 apparu"),u(),a(116,"li"),o(117,"R\xe8gle des sous-parties r\xe9cursives: well, l'item nous donne d\xe9j\xe0 la piste de r\xe9solution: il suffit de faire un appel r\xe9cursif sur les sous-listes des decks des joueurs. "),u(),u(),o(118," Deux petites pr\xe9cisions concernant les performances: "),a(119,"ul"),a(120,"li"),o(121,"Une premi\xe8re pr\xe9cision qui concerne \xe9galement la premi\xe8re partie: Pour la simulation il est pr\xe9f\xe9rable d'\xe9viter les appels r\xe9cursifs, quand on peut ici se contenter de boucler avec while. Notamment en seconde partie, cela nous aurait donn\xe9 une profondeur d'appel r\xe9cursifs assez consid\xe9rable"),u(),a(122,"li"),o(123,"Second point: Si l'on se contente de stocker les \xe9tats d\xe9j\xe0 visit\xe9s dans des listes, on peut sans souci r\xe9soudre ce probl\xe8me. Avec mon code, cela prend ~= 20 secondes. N\xe9anmoins, la v\xe9rification de la pr\xe9sence d'un \xe9tat se fait en complexit\xe9 lin\xe9aire "),a(124,"code"),o(125,"O(N)"),u(),o(126," (voire quadratique si l'on prend en compte le fait que l'\xe9tat est compos\xe9e de deux listes). "),d(127,"br"),o(128," On peut am\xe9liorer \xe7a en rempla\xe7ant par un set, auxquels on ajoute des tuples (list n'\xe9tant pas hashable en python), et obtenir une complexit\xe9 "),a(129,"code"),o(130,"O(log(N))"),u(),u(),u(),o(131," En appliquant ce second point d'optimisation, on obtient le code suivant: "),a(132,"pre",9),a(133,"code"),o(134,"lines = open('input22.txt').read().split('\\n')\nplayers = [[] for i in range(2)]\n\ni = 0\nfor line in lines:\n    if('Player 2' in line):\n        i = 1\n    if('Player' not in line and len(line) > 0):\n        players[i].append(int(line))\n\ndef playGame(player1, player2):\n    visited = set()\n    while(len(player1) > 0 and len(player2) > 0):\n        h = (tuple(player1),tuple(player2))\n        if(h in visited):\n            return (player1, player2, True)\n        visited.add(h)\n        a,b=player1[0],player2[0]\n        \n        player1 = player1[1:]\n        player2 = player2[1:]\n        isWin = False\n        if(len(player1) >= a and len(player2) >= b):\n            isWin = playGame(player1[0:a],player2[0:b])[2]\n        else:\n            isWin = a > b\n        \n        if(not isWin):\n            player2 = player2+[b,a]\n        else:\n            player1 = player1+[a,b]\n    return (player1, player2, len(player1) > 0)\n\np1 = players[0]\np2 = players[1]\n(p1,p2,_)=playGame(p1, p2)\nif(len(p1) == 0):\n    (p1,p2) = (p2,p1)\np1.reverse()\ns = 0\nfor (i,val) in enumerate(p1):\n    s += (i+1)*val\nprint(s)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),NG=(()=>{class t{constructor(){}ngOnInit(){this.equations=[],this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day23"]],decls:168,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2020/"],["id","day3_part1"],["href","https://adventofcode.com/2020/day/23"],["id","day3_part1_statement"],[1,"line-numbers","language-python"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2020 (jour 23) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 23, partie 1 :"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Le jour 23 est un peu similaire au jour 22, dans le sens o\xf9 l'on nous demande de simuler un processus sur une sorte de liste."),d(30,"br"),o(31," Ici, on a un ensemble de tasses num\xe9rot\xe9es, et l'on applique un algorithme qui modifie l'ordre de ces tasses."),d(32,"br"),o(33," Les tasses sont dispos\xe9es en cercle, on a donc la premi\xe8re tasse voisine avec la derni\xe8re tasse."),d(34,"br"),d(35,"br"),o(36," Initialement, la premi\xe8re tasse est choisie comme rep\xe8re."),d(37,"br"),o(38," L'algorithme consiste \xe0 r\xe9p\xe9ter les \xe9tapes suivantes: "),a(39,"ul"),a(40,"li"),o(41,"Choisir les "),a(42,"b"),o(43,"3"),u(),o(44," tasses suivant la tasse rep\xe8re. Les enlever."),u(),a(45,"li"),o(46,"Rep\xe9rer la tasse destination, qui a pour valeur la valeur de la tasse rep\xe8re moins un. Si cette derni\xe8re n'est pas pr\xe9sente, alors on d\xe9cr\xe9ment la valeur recherch\xe9e jusqu'\xe0 ce qu'il y ait une tasse correspondante (si l'on d\xe9cr\xe9mente depuis "),a(47,"b"),o(48,"1"),u(),o(49,", on boucle sur la valeur maximale). "),u(),a(50,"li"),o(51,"Placer les "),a(52,"b"),o(53,"3"),u(),o(54," tasses enlev\xe9es \xe0 la suite de la tasse destination"),u(),a(55,"li"),o(56,"La nouvelle tasse rep\xe8re est la tasse qui suit la tasse rep\xe8re actuelle"),u(),u(),o(57," Pour la premi\xe8re partie, on a "),a(58,"b"),o(59,"9"),u(),o(60," tasses. On doit simuler "),a(61,"b"),o(62,"100"),u(),o(63," \xe9tapes, et retourner les tasses suivant la tasse 1 dans l'ordre. "),a(64,"h3"),o(65,"Solution"),u(),o(66," Ici, les contraintes sont tr\xe8s faibles: on a 9 tasses et 100 \xe9tapes."),d(67,"br"),o(68," On pourrait donc se contenter de simuler de mani\xe8re tr\xe8s na\xefve le processus avec des listes classiques, sans se poser de question."),d(69,"br"),d(70,"br"),o(71," N\xe9anmoins, ma patience est de plus en plus challeng\xe9e au fur et \xe0 mesure de l'avanc\xe9e de cette s\xe9rie d'articles."),d(72,"br"),o(73," Je vais donc tricher, et plut\xf4t aborder d\xe8s \xe0 pr\xe9sent les \xe9l\xe9ments de solutions permettant de passer \xe0 la fois la partie 1 ET la partie 2."),d(74,"br"),d(75,"br"),o(76," Ici, on a deux \xe9l\xe9ments cl\xe9s \xe0 g\xe9rer: "),a(77,"ul"),a(78,"li"),o(79," La structure est cruciale: il nous faut savoir quels \xe9l\xe9ments suivent d'autres \xe9l\xe9ments. "),d(80,"br"),o(81,"Ce point est important pour enlever les "),a(82,"b"),o(83,"3"),u(),o(84," tasses, les repositionner, et changer de rep\xe8re. "),u(),a(85,"li"),o(86," On veut faire en sorte de trouver facilement la tasse destination \xe0 partir de son \xe9tiquette, sans avoir \xe0 it\xe9rer sur toute la liste."),u(),u(),o(87," Le premier \xe9l\xe9ment peut \xeatre r\xe9solu avec une structure de donn\xe9e de type "),a(88,"code"),o(89,"linked list"),u(),o(90,". "),d(91,"br"),o(92," Cette structure stocke en effet une valeur, ainsi que l'\xe9l\xe9ment suivant dans la liste."),d(93,"br"),o(94," Cette liste peut repr\xe9senter notre cercle sans souci, il suffit de pr\xe9ciser que le dernier \xe9l\xe9ment a pour \xe9l\xe9ment suivant le premier \xe9l\xe9ment."),d(95,"br"),d(96,"br"),o(97," Le second \xe9l\xe9ment est \xe9galement tr\xe8s simple \xe0 r\xe9soudre, et exploite une structure que l'on a vu maintes et maintes fois durant l'Aoc:"),d(98,"br"),o(99," Une "),a(100,"code"),o(101,"hashmap"),u(),o(102,"."),d(103,"br"),o(104," Ici, on aura comme cl\xe9 la valeur d'une tasse, et comme valeur l'\xe9l\xe9ment de la "),a(105,"code"),o(106,"linked list"),u(),o(107," correspondant."),d(108,"br"),d(109,"br"),o(110," Ces deux structures seront bien entendues \xe0 \xeatre maintenues \xe0 jour au cours des diff\xe9rentes \xe9tapes."),d(111,"br"),d(112,"br"),o(113," Pour la premi\xe8re partie, le code donnera ceci: "),a(114,"pre",9),a(115,"code"),o(116,"s = \"523764819\"\n\nclass LinkedList:\n    def __init__(self, val):\n        self.val = val\n        self.next = None\n\nhashMap = dict()\nall = []\nfor i in range(len(s)):\n    all.append(LinkedList(int(s[i])))\n    if(i > 0):\n        all[i-1].next = all[i]\n    hashMap[all[i].val] = all[i]\n\nall[-1].next = all[0]\n\ncurrent = all[0]\n\nfor it in range(100):\n    l = []\n    previous = current\n    for i in range(3):\n        l.append(previous.next)\n        previous = l[-1]\n    current.next = l[-1].next\n    allVals = [a.val for a in l]\n    target = current.val-1\n    if(target == 0):\n        target = len(all)\n    while target in allVals:\n        target -= 1\n        if(target == 0):\n            target = len(all)\n\n    targetNode = hashMap[target]\n    previous_next = targetNode.next\n\n    targetNode.next = l[0]\n    l[2].next = previous_next\n    current = current.next\ncurrent = hashMap[1].next\nfor i in range(len(s)-1):\n    print(current.val,end='')\n    current=current.next"),u(),u(),a(117,"h2",6),a(118,"a",7),o(119,"Jour 23, partie 2 :"),u(),u(),a(120,"h3",8),o(121," Enonc\xe9 "),u(),o(122," Comme je le laissais entendre plus haut, la seconde partie est tr\xe8s fortement li\xe9e \xe0 la partie 1."),d(123,"br"),d(124,"br"),o(125," En effet, la simulation reste la m\xeame, mais \xe0 la place des "),a(126,"b"),o(127,"9"),u(),o(128," \xe9l\xe9ments composants la liste (d\xe9crits par la cha\xeene de caract\xe8re), on en a \xe0 la place "),a(129,"b"),o(130,"1 million"),u(),o(131,". "),d(132,"br"),o(133," Ces \xe9l\xe9ments sont ajout\xe9s de mani\xe8re croissante apr\xe8s la liste que l'on avait en partie 1."),d(134,"br"),o(135," Donc: "),a(136,"pre",9),a(137,"code"),o(138,"5 2 3 7 6 4 8 1 9 10 11 12 13 ... 1000000"),u(),u(),o(139," Egalement, pour la partie 1, seulement "),a(140,"b"),o(141,"100"),u(),o(142," \xe9tapes \xe9taient \xe0 simuler. Ici on doit en simuler "),a(143,"b"),o(144,"1 million"),u(),o(145,"."),d(146,"br"),d(147,"br"),o(148," La valeur \xe0 retourner est le produit des deux tasses suivant la tasse "),a(149,"b"),o(150,"1"),u(),o(151,". "),a(152,"h3",8),o(153," Solution "),u(),o(154," Avec cette partie, on comprend les besoins d'optimisations que j'avais introduit durant la partie 1."),d(155,"br"),o(156," En effet, rechercher de mani\xe8re na\xefve sur une liste de "),a(157,"b"),o(158,"1 000 000"),u(),o(159," \xe9l\xe9ments la tasse destination aurait \xe9t\xe9 hyper co\xfbteux."),d(160,"br"),o(161," Egalement, la suppression et l'insertion d'\xe9l\xe9ments en plein milieu d'une liste classique de python est co\xfbteux."),d(162,"br"),d(163,"br"),o(164," Malheureusement, comme nous avons d\xe9j\xe0 r\xe9solu ces probl\xe9matiques de performances lors de la partie 1, cet article se clot ici avec simplement le code: "),a(165,"pre",9),a(166,"code"),o(167,'s = "523764819"\n\nclass LinkedList:\n    def __init__(self, val):\n        self.val = val\n        self.next = None\n\nhashMap = dict()\nall = []\nfor i in range(1000000):\n    if(i < len(s)):\n        all.append(LinkedList(int(s[i])))\n    else:\n        all.append(LinkedList(i+1))\n    if(i > 0):\n        all[i-1].next = all[i]\n    hashMap[all[i].val] = all[i]\n\nall[-1].next = all[0]\n\ncurrent = all[0]\n\nfor it in range(10000000):\n    l = []\n    previous = current\n    for i in range(3):\n        l.append(previous.next)\n        previous = l[-1]\n    current.next = l[-1].next\n    allVals = [a.val for a in l]\n    target = current.val-1\n    if(target == 0):\n        target = len(all)\n    while target in allVals:\n        target -= 1\n        if(target == 0):\n            target = len(all)\n\n    targetNode = hashMap[target]\n    previous_next = targetNode.next\n\n    targetNode.next = l[0]\n    l[2].next = previous_next\n    current = current.next\n\nprint(hashMap[1].next.val * hashMap[1].next.next.val)'),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}pre[class*=language-][_ngcontent-%COMP%]{font-size:.75em}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding:10px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})();var FG=setTimeout,MC="undefined"!=typeof setImmediate?setImmediate:null;function NC(t){return Boolean(t&&void 0!==t.length)}function kG(){}function lr(t){if(!(this instanceof lr))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],IC(t,this)}function OC(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,lr._immediateFn(function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(i){return void s1(n.promise,i)}k4(n.promise,r)}else(1===t._state?k4:s1)(n.promise,t._value)})):t._deferreds.push(n)}function k4(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof lr)return t._state=3,t._value=n,void L4(t);if("function"==typeof e)return void IC(function(t,n){return function(){t.apply(n,arguments)}}(e,n),t)}t._state=1,t._value=n,L4(t)}catch(r){s1(t,r)}}function s1(t,n){t._state=2,t._value=n,L4(t)}function L4(t){2===t._state&&0===t._deferreds.length&&lr._immediateFn(function(){t._handled||lr._unhandledRejectionFn(t._value)});for(var n=0,e=t._deferreds.length;n<e;n++)OC(t,t._deferreds[n]);t._deferreds=null}function BG(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function IC(t,n){var e=!1;try{t(function(r){e||(e=!0,k4(n,r))},function(r){e||(e=!0,s1(n,r))})}catch(r){if(e)return;e=!0,s1(n,r)}}lr.prototype.catch=function(t){return this.then(null,t)},lr.prototype.then=function(t,n){var e=new this.constructor(kG);return OC(this,new BG(t,n,e)),e},lr.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},lr.all=function(t){return new lr(function(n,e){if(!NC(t))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var i=r.length;function s(c,h){try{if(h&&("object"==typeof h||"function"==typeof h)){var f=h.then;if("function"==typeof f)return void f.call(h,function(v){s(c,v)},e)}r[c]=h,0==--i&&n(r)}catch(v){e(v)}}for(var l=0;l<r.length;l++)s(l,r[l])})},lr.allSettled=function(t){return new this(function(e,r){if(!t||void 0===t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var s=i.length;function l(h,f){if(f&&("object"==typeof f||"function"==typeof f)){var v=f.then;if("function"==typeof v)return void v.call(f,function(E){l(h,E)},function(E){i[h]={status:"rejected",reason:E},0==--s&&e(i)})}i[h]={status:"fulfilled",value:f},0==--s&&e(i)}for(var c=0;c<i.length;c++)l(c,i[c])})},lr.resolve=function(t){return t&&"object"==typeof t&&t.constructor===lr?t:new lr(function(n){n(t)})},lr.reject=function(t){return new lr(function(n,e){e(t)})},lr.race=function(t){return new lr(function(n,e){if(!NC(t))return e(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)lr.resolve(t[r]).then(n,e)})},lr._immediateFn="function"==typeof MC&&function(t){MC(t)}||function(t){FG(t,0)},lr._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};const qG=lr;var UG=Me(943),HG=Me.n(UG);if(self.Promise||(self.Promise=qG),Object.assign||(Object.assign=HG()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var VG=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-VG}}for(var B4=Date.now(),PC=["ms","moz","webkit","o"],q4=0;q4<PC.length&&!self.requestAnimationFrame;++q4){var U4=PC[q4];self.requestAnimationFrame=self[U4+"RequestAnimationFrame"],self.cancelAnimationFrame=self[U4+"CancelAnimationFrame"]||self[U4+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var n=Date.now(),e=16+B4-n;return e<0&&(e=0),B4=n,self.setTimeout(function(){B4=Date.now(),t(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(n){return 0===(n=Number(n))||isNaN(n)?n:n>0?1:-1}),Number.isInteger||(Number.isInteger=function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var H4=/iPhone/i,RC=/iPod/i,FC=/iPad/i,kC=/\biOS-universal(?:.+)Mac\b/i,z4=/\bAndroid(?:.+)Mobile\b/i,LC=/Android/i,U0=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,dp=/Silk/i,Pa=/Windows Phone/i,BC=/\bWindows(?:.+)ARM\b/i,qC=/BlackBerry/i,UC=/BB10/i,HC=/Opera Mini/i,zC=/\b(CriOS|Chrome)(?:.+)Mobile/i,VC=/Mobile(?:.+)Firefox\b/i,GC=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},Cs=function(t){var n={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?n.userAgent=t:t&&t.userAgent&&(n={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=n.userAgent,r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i=function(t){return function(n){return n.test(t)}}(e),s={apple:{phone:i(H4)&&!i(Pa),ipod:i(RC),tablet:!i(H4)&&(i(FC)||GC(n))&&!i(Pa),universal:i(kC),device:(i(H4)||i(RC)||i(FC)||i(kC)||GC(n))&&!i(Pa)},amazon:{phone:i(U0),tablet:!i(U0)&&i(dp),device:i(U0)||i(dp)},android:{phone:!i(Pa)&&i(U0)||!i(Pa)&&i(z4),tablet:!i(Pa)&&!i(U0)&&!i(z4)&&(i(dp)||i(LC)),device:!i(Pa)&&(i(U0)||i(dp)||i(z4)||i(LC))||i(/\bokhttp\b/i)},windows:{phone:i(Pa),tablet:i(BC),device:i(Pa)||i(BC)},other:{blackberry:i(qC),blackberry10:i(UC),opera:i(HC),firefox:i(VC),chrome:i(zC),device:i(qC)||i(UC)||i(HC)||i(VC)||i(zC)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(self.navigator),hp=(()=>(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(hp||(hp={})),hp))(),fp=(()=>(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(fp||(fp={})),fp))(),pp=(()=>(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(pp||(pp={})),pp))(),mp=(()=>(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(mp||(mp={})),mp))(),H0=(()=>(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(H0||(H0={})),H0))(),gp=(()=>(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(gp||(gp={})),gp))(),Ze={MIPMAP_TEXTURES:pp.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:gp.NONE,SPRITE_MAX_TEXTURES:function(t){var e,n=!0;(Cs.tablet||Cs.phone)&&(Cs.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(n=!1),Cs.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(n=!1));return n?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:mp.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:fp.CLAMP,SCALE_MODE:hp.LINEAR,PRECISION_VERTEX:H0.HIGH,PRECISION_FRAGMENT:Cs.apple.device?H0.HIGH:H0.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Cs.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},WG=Me(170),a1=Me.n(WG),XG=Me(469),jC=Me.n(XG),V4=Me(762),Ss=(()=>(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Ss||(Ss={})),Ss))(),z0=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(z0||(z0={})),z0))(),u1=(()=>(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(u1||(u1={})),u1))(),tt=(()=>(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(tt||(tt={})),tt))(),go=(()=>(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(go||(go={})),go))(),Fe=(()=>(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Fe||(Fe={})),Fe))(),_u=(()=>(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(_u||(_u={})),_u))(),at=(()=>(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(at||(at={})),at))(),l1=(()=>(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(l1||(l1={})),l1))(),Ds=(()=>(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Ds||(Ds={})),Ds))(),ws=(()=>(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(ws||(ws={})),ws))(),Ra=(()=>(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Ra||(Ra={})),Ra))(),Ho=(()=>(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Ho||(Ho={})),Ho))(),Fa=(()=>(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Fa||(Fa={})),Fa))(),vp=(()=>(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(vp||(vp={})),vp))(),zo=(()=>(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(zo||(zo={})),zo))(),ii=(()=>(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(ii||(ii={})),ii))(),br=(()=>(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(br||(br={})),br))(),Vo=(()=>(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Vo||(Vo={})),Vo))(),V0={parse:V4.Qc,format:V4.WU,resolve:V4.DB};Ze.RETINA_PREFIX=/@([0-9\.]+)x/,Ze.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var j4,G4=!1,BY={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function G0(t,n){return void 0===n&&(n=[]),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,n}function YC(t){var n=t.toString(16);return"#"+("000000".substr(0,6-n.length)+n)}function WC(t){return"string"==typeof t&&"#"===(t=BY[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}var XC=function(){for(var t=[],n=[],e=0;e<32;e++)t[e]=e,n[e]=e;t[tt.NORMAL_NPM]=tt.NORMAL,t[tt.ADD_NPM]=tt.ADD,t[tt.SCREEN_NPM]=tt.SCREEN,n[tt.NORMAL]=tt.NORMAL_NPM,n[tt.ADD]=tt.ADD_NPM,n[tt.SCREEN]=tt.SCREEN_NPM;var r=[];return r.push(n),r.push(t),r}();function JC(t,n){return XC[n?1:0][t]}function $4(t,n){if(1===n)return(255*n<<24)+t;if(0===n)return 0;var e=t>>16&255,r=t>>8&255,i=255&t;return(255*n<<24)+((e=e*n+.5|0)<<16)+((r=r*n+.5|0)<<8)+(i*n+.5|0)}function KC(t,n,e,r){return(e=e||new Float32Array(4))[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,(r||void 0===r)&&(e[0]*=n,e[1]*=n,e[2]*=n),e[3]=n,e}function Y4(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}function Ep(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function ZC(t){return!(t&t-1||!t)}function QC(t){var n=(t>65535?1:0)<<4,e=((t>>>=n)>255?1:0)<<3;return n|=e,n|=e=((t>>>=e)>15?1:0)<<2,(n|=e=((t>>>=e)>3?1:0)<<1)|(t>>>=e)>>1}function j0(t,n,e){var i,r=t.length;if(!(n>=r||0===e)){var s=r-(e=n+e>r?r-n:e);for(i=n;i<s;++i)t[i]=t[i+e];t.length=s}}function $0(t){return 0===t?0:t<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var VY=0;function el(){return++VY}var eS={};function bu(t,n,e){if(void 0===e&&(e=3),!eS[n]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",n+"\nDeprecated since v"+t):(r=r.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",n+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",n+"\nDeprecated since v"+t),console.warn(r))),eS[n]=!0}}var _p,tS={},io=Object.create(null),Go=Object.create(null),nS=function(){function t(n,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Ze.RESOLUTION,this.resize(n,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(n,e){this.canvas.width=Math.round(n*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(n){this.canvas.width=Math.round(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(n){this.canvas.height=Math.round(n)},enumerable:!1,configurable:!0}),t}();function bp(t,n){var e=Ze.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):void 0!==n?n:1}var yp=2*Math.PI,YY=180/Math.PI,WY=Math.PI/180,cr=(()=>(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(cr||(cr={})),cr))(),Xt=function(){function t(n,e,r,i){void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(n),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=cr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(n){return this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this},t.prototype.copyTo=function(n){return n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n},t.prototype.contains=function(n,e){return!(this.width<=0||this.height<=0)&&n>=this.x&&n<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(n,e){return void 0===n&&(n=0),void 0===e&&(e=n),this.x-=n,this.y-=e,this.width+=2*n,this.height+=2*e,this},t.prototype.fit=function(n){var e=Math.max(this.x,n.x),r=Math.min(this.x+this.width,n.x+n.width),i=Math.max(this.y,n.y),s=Math.min(this.y+this.height,n.y+n.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(n,e){void 0===n&&(n=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*n)/n,i=Math.ceil((this.y+this.height-e)*n)/n;return this.x=Math.floor((this.x+e)*n)/n,this.y=Math.floor((this.y+e)*n)/n,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(n){var e=Math.min(this.x,n.x),r=Math.max(this.x+this.width,n.x+n.width),i=Math.min(this.y,n.y),s=Math.max(this.y+this.height,n.y+n.height);return this.x=e,this.width=r-e,this.y=i,this.height=s-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),XY=function(){function t(n,e,r){void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=n,this.y=e,this.radius=r,this.type=cr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(n,e){if(this.radius<=0)return!1;var i=this.x-n,s=this.y-e;return(i*=i)+(s*=s)<=this.radius*this.radius},t.prototype.getBounds=function(){return new Xt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),JY=function(){function t(n,e,r,i){void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=n,this.y=e,this.width=r,this.height=i,this.type=cr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(n,e){if(this.width<=0||this.height<=0)return!1;var r=(n-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new Xt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),xp=function(){function t(){for(var n=arguments,e=[],r=0;r<arguments.length;r++)e[r]=n[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var s=[],l=0,c=i.length;l<c;l++)s.push(i[l].x,i[l].y);i=s}this.points=i,this.type=cr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(n,e){for(var r=!1,i=this.points.length/2,s=0,l=i-1;s<i;l=s++){var c=this.points[2*s],h=this.points[2*s+1],v=this.points[2*l+1];h>e!=v>e&&n<(e-h)/(v-h)*(this.points[2*l]-c)+c&&(r=!r)}return r},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(n,e){return n+", "+e},"")+"]"},t}(),KY=function(){function t(n,e,r,i,s){void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=20),this.x=n,this.y=e,this.width=r,this.height=i,this.radius=s,this.type=cr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(n,e){if(this.width<=0||this.height<=0)return!1;if(n>=this.x&&n<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||n>=this.x+this.radius&&n<=this.x+this.width-this.radius)return!0;var r=n-(this.x+this.radius),i=e-(this.y+this.radius),s=this.radius*this.radius;if(r*r+i*i<=s||(r=n-(this.x+this.width-this.radius))*r+i*i<=s||r*r+(i=e-(this.y+this.height-this.radius))*i<=s||(r=n-(this.x+this.radius))*r+i*i<=s)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),yr=function(){function t(n,e){void 0===n&&(n=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=n,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(n){return this.set(n.x,n.y),this},t.prototype.copyTo=function(n){return n.set(this.x,this.y),n},t.prototype.equals=function(n){return n.x===this.x&&n.y===this.y},t.prototype.set=function(n,e){return void 0===n&&(n=0),void 0===e&&(e=n),this.x=n,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Y0=function(){function t(n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=n,this.scope=e}return t.prototype.clone=function(n,e){return void 0===n&&(n=this.cb),void 0===e&&(e=this.scope),new t(n,e,this._x,this._y)},t.prototype.set=function(n,e){return void 0===n&&(n=0),void 0===e&&(e=n),(this._x!==n||this._y!==e)&&(this._x=n,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(n){return(this._x!==n.x||this._y!==n.y)&&(this._x=n.x,this._y=n.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(n){return n.set(this._x,this._y),n},t.prototype.equals=function(n){return n.x===this._x&&n.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(n){this._x!==n&&(this._x=n,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(n){this._y!==n&&(this._y=n,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),xr=function(){function t(n,e,r,i,s,l){void 0===n&&(n=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),this.array=null,this.a=n,this.b=e,this.c=r,this.d=i,this.tx=s,this.ty=l}return t.prototype.fromArray=function(n){this.a=n[0],this.b=n[1],this.c=n[3],this.d=n[4],this.tx=n[2],this.ty=n[5]},t.prototype.set=function(n,e,r,i,s,l){return this.a=n,this.b=e,this.c=r,this.d=i,this.tx=s,this.ty=l,this},t.prototype.toArray=function(n,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return n?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(n,e){e=e||new yr;var r=n.x,i=n.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(n,e){e=e||new yr;var r=1/(this.a*this.d+this.c*-this.b),i=n.x,s=n.y;return e.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(n,e){return this.tx+=n,this.ty+=e,this},t.prototype.scale=function(n,e){return this.a*=n,this.d*=e,this.c*=n,this.b*=e,this.tx*=n,this.ty*=e,this},t.prototype.rotate=function(n){var e=Math.cos(n),r=Math.sin(n),i=this.a,s=this.c,l=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=s*e-this.d*r,this.d=s*r+this.d*e,this.tx=l*e-this.ty*r,this.ty=l*r+this.ty*e,this},t.prototype.append=function(n){var e=this.a,r=this.b,i=this.c,s=this.d;return this.a=n.a*e+n.b*i,this.b=n.a*r+n.b*s,this.c=n.c*e+n.d*i,this.d=n.c*r+n.d*s,this.tx=n.tx*e+n.ty*i+this.tx,this.ty=n.tx*r+n.ty*s+this.ty,this},t.prototype.setTransform=function(n,e,r,i,s,l,c,h,f){return this.a=Math.cos(c+f)*s,this.b=Math.sin(c+f)*s,this.c=-Math.sin(c-h)*l,this.d=Math.cos(c-h)*l,this.tx=n-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(n){var e=this.tx;if(1!==n.a||0!==n.b||0!==n.c||1!==n.d){var r=this.a,i=this.c;this.a=r*n.a+this.b*n.c,this.b=r*n.b+this.b*n.d,this.c=i*n.a+this.d*n.c,this.d=i*n.b+this.d*n.d}return this.tx=e*n.a+this.ty*n.c+n.tx,this.ty=e*n.b+this.ty*n.d+n.ty,this},t.prototype.decompose=function(n){var e=this.a,r=this.b,i=this.c,s=this.d,l=n.pivot,c=-Math.atan2(-i,s),h=Math.atan2(r,e),f=Math.abs(c+h);return f<1e-5||Math.abs(yp-f)<1e-5?(n.rotation=h,n.skew.x=n.skew.y=0):(n.rotation=0,n.skew.x=c,n.skew.y=h),n.scale.x=Math.sqrt(e*e+r*r),n.scale.y=Math.sqrt(i*i+s*s),n.position.x=this.tx+(l.x*e+l.y*i),n.position.y=this.ty+(l.x*r+l.y*s),n},t.prototype.invert=function(){var n=this.a,e=this.b,r=this.c,i=this.d,s=this.tx,l=n*i-e*r;return this.a=i/l,this.b=-e/l,this.c=-r/l,this.d=n/l,this.tx=(r*this.ty-i*s)/l,this.ty=-(n*this.ty-e*s)/l,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var n=new t;return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n},t.prototype.copyTo=function(n){return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n},t.prototype.copyFrom=function(n){return this.a=n.a,this.b=n.b,this.c=n.c,this.d=n.d,this.tx=n.tx,this.ty=n.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),tl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],nl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],rl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],il=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],W4=[],rS=[],Cp=Math.sign;!function(){for(var t=0;t<16;t++){var n=[];W4.push(n);for(var e=0;e<16;e++)for(var r=Cp(tl[t]*tl[e]+rl[t]*nl[e]),i=Cp(nl[t]*tl[e]+il[t]*nl[e]),s=Cp(tl[t]*rl[e]+rl[t]*il[e]),l=Cp(nl[t]*rl[e]+il[t]*il[e]),c=0;c<16;c++)if(tl[c]===r&&nl[c]===i&&rl[c]===s&&il[c]===l){n.push(c);break}}for(t=0;t<16;t++){var h=new xr;h.set(tl[t],nl[t],rl[t],il[t],0,0),rS.push(h)}}();var rr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return tl[t]},uY:function(t){return nl[t]},vX:function(t){return rl[t]},vY:function(t){return il[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,n){return W4[t][n]},sub:function(t,n){return W4[t][rr.inv(n)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,n){return 2*Math.abs(t)<=Math.abs(n)?n>=0?rr.S:rr.N:2*Math.abs(n)<=Math.abs(t)?t>0?rr.E:rr.W:n>0?t>0?rr.SE:rr.SW:t>0?rr.NE:rr.NW},matrixAppendRotationInv:function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=rS[rr.inv(n)];i.tx=e,i.ty=r,t.append(i)}},iS=function(){function t(){this.worldTransform=new xr,this.localTransform=new xr,this.position=new Y0(this.onChange,this,0,0),this.scale=new Y0(this.onChange,this,1,1),this.pivot=new Y0(this.onChange,this,0,0),this.skew=new Y0(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(n){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){var r=n.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=n._worldID,this._worldID++}},t.prototype.setFromMatrix=function(n){n.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();Ze.SORTABLE_CHILDREN=!1;var Sp=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(n){return this.minX>this.maxX||this.minY>this.maxY?Xt.EMPTY:((n=n||new Xt(0,0,1,1)).x=this.minX,n.y=this.minY,n.width=this.maxX-this.minX,n.height=this.maxY-this.minY,n)},t.prototype.addPoint=function(n){this.minX=Math.min(this.minX,n.x),this.maxX=Math.max(this.maxX,n.x),this.minY=Math.min(this.minY,n.y),this.maxY=Math.max(this.maxY,n.y)},t.prototype.addPointMatrix=function(n,e){var f=n.a*e.x+n.c*e.y+n.tx,v=n.b*e.x+n.d*e.y+n.ty;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,v),this.maxY=Math.max(this.maxY,v)},t.prototype.addQuad=function(n){var e=this.minX,r=this.minY,i=this.maxX,s=this.maxY,l=n[0],c=n[1];e=l<e?l:e,r=c<r?c:r,i=l>i?l:i,s=c>s?c:s,e=(l=n[2])<e?l:e,r=(c=n[3])<r?c:r,i=l>i?l:i,s=c>s?c:s,e=(l=n[4])<e?l:e,r=(c=n[5])<r?c:r,i=l>i?l:i,s=c>s?c:s,r=(c=n[7])<r?c:r,i=(l=n[6])>i?l:i,s=c>s?c:s,this.minX=e=l<e?l:e,this.minY=r,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(n,e,r,i,s){this.addFrameMatrix(n.worldTransform,e,r,i,s)},t.prototype.addFrameMatrix=function(n,e,r,i,s){var l=n.a,c=n.b,h=n.c,f=n.d,v=n.tx,E=n.ty,b=this.minX,y=this.minY,T=this.maxX,A=this.maxY,O=l*e+h*r+v,R=c*e+f*r+E;b=O<b?O:b,y=R<y?R:y,T=O>T?O:T,A=R>A?R:A,b=(O=l*i+h*r+v)<b?O:b,y=(R=c*i+f*r+E)<y?R:y,T=O>T?O:T,A=R>A?R:A,b=(O=l*e+h*s+v)<b?O:b,y=(R=c*e+f*s+E)<y?R:y,T=O>T?O:T,A=R>A?R:A,y=(R=c*i+f*s+E)<y?R:y,T=(O=l*i+h*s+v)>T?O:T,A=R>A?R:A,this.minX=b=O<b?O:b,this.minY=y,this.maxX=T,this.maxY=A},t.prototype.addVertexData=function(n,e,r){for(var i=this.minX,s=this.minY,l=this.maxX,c=this.maxY,h=e;h<r;h+=2){var f=n[h],v=n[h+1];i=f<i?f:i,s=v<s?v:s,l=f>l?f:l,c=v>c?v:c}this.minX=i,this.minY=s,this.maxX=l,this.maxY=c},t.prototype.addVertices=function(n,e,r,i){this.addVerticesMatrix(n.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(n,e,r,i,s,l){void 0===s&&(s=0),void 0===l&&(l=s);for(var c=n.a,h=n.b,f=n.c,v=n.d,E=n.tx,b=n.ty,y=this.minX,T=this.minY,A=this.maxX,O=this.maxY,R=r;R<i;R+=2){var q=e[R],Q=e[R+1],B=c*q+f*Q+E,L=v*Q+h*q+b;y=Math.min(y,B-s),A=Math.max(A,B+s),T=Math.min(T,L-l),O=Math.max(O,L+l)}this.minX=y,this.minY=T,this.maxX=A,this.maxY=O},t.prototype.addBounds=function(n){var e=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=n.minX<e?n.minX:e,this.minY=n.minY<r?n.minY:r,this.maxX=n.maxX>i?n.maxX:i,this.maxY=n.maxY>s?n.maxY:s},t.prototype.addBoundsMask=function(n,e){var r=n.minX>e.minX?n.minX:e.minX,i=n.minY>e.minY?n.minY:e.minY,s=n.maxX<e.maxX?n.maxX:e.maxX,l=n.maxY<e.maxY?n.maxY:e.maxY;if(r<=s&&i<=l){var c=this.minX,h=this.minY,f=this.maxX,v=this.maxY;this.minX=r<c?r:c,this.minY=i<h?i:h,this.maxX=s>f?s:f,this.maxY=l>v?l:v}},t.prototype.addBoundsMatrix=function(n,e){this.addFrameMatrix(e,n.minX,n.minY,n.maxX,n.maxY)},t.prototype.addBoundsArea=function(n,e){var r=n.minX>e.x?n.minX:e.x,i=n.minY>e.y?n.minY:e.y,s=n.maxX<e.x+e.width?n.maxX:e.x+e.width,l=n.maxY<e.y+e.height?n.maxY:e.y+e.height;if(r<=s&&i<=l){var c=this.minX,h=this.minY,f=this.maxX,v=this.maxY;this.minX=r<c?r:c,this.minY=i<h?i:h,this.maxX=s>f?s:f,this.maxY=l>v?l:v}},t.prototype.pad=function(n,e){void 0===n&&(n=0),void 0===e&&(e=n),this.isEmpty()||(this.minX-=n,this.maxX+=n,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(n,e,r,i,s,l){e-=l,r+=s,i+=l,this.minX=this.minX<(n-=s)?this.minX:n,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),X4=function(t,n){return(X4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function J4(t,n){function e(){this.constructor=t}X4(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var Cr=function(t){function n(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new iS,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Sp,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return J4(n,t),n.mixin=function(e){for(var r=Object.keys(e),i=0;i<r.length;++i){var s=r[i];Object.defineProperty(n.prototype,s,Object.getOwnPropertyDescriptor(e,s))}},Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),n.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},n.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},n.prototype.getBounds=function(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Xt),r=this._boundsRect),this._bounds.getRectangle(r)},n.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Xt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Sp);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,l=this._boundsID;this._bounds=this._localBounds;var c=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-l,c},n.prototype.toGlobal=function(e,r,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},n.prototype.toLocal=function(e,r,i,s){return r&&(e=r.toGlobal(e,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},n.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},n.prototype.setTransform=function(e,r,i,s,l,c,h,f,v){return void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===s&&(s=1),void 0===l&&(l=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),void 0===v&&(v=0),this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=s||1,this.rotation=l,this.skew.x=c,this.skew.y=h,this.pivot.x=f,this.pivot.y=v,this},n.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(n.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new oS),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),n.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},n.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(n.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.transform.rotation*YY},set:function(e){this.transform.rotation=e*WY},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(e){var r;this._mask!==e&&(this._mask&&((r=this._mask.maskObject||this._mask)._maskRefCount--,0===r._maskRefCount&&(r.renderable=!0,r.isMask=!1)),this._mask=e,this._mask&&(0===(r=this._mask.maskObject||this._mask)._maskRefCount&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++))},enumerable:!1,configurable:!0}),n}(a1()),oS=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return J4(n,t),n}(Cr);Cr.prototype.displayObjectUpdateTransform=Cr.prototype.updateTransform;var Dp=(()=>(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Dp||(Dp={})),Dp))();function QY(t,n){return t.zIndex===n.zIndex?t._lastSortedIndex-n._lastSortedIndex:t.zIndex-n.zIndex}var jo=function(t){function n(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=Ze.SORTABLE_CHILDREN,e.sortDirty=!1,e}return J4(n,t),n.prototype.onChildrenChange=function(e){},n.prototype.addChild=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(r.length>1)for(var s=0;s<r.length;s++)this.addChild(r[s]);else{var l=r[0];l.parent&&l.parent.removeChild(l),l.parent=this,this.sortDirty=!0,l.transform._parentID=-1,this.children.push(l),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",l,this,this.children.length-1),l.emit("added",this)}return r[0]},n.prototype.addChildAt=function(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e},n.prototype.swapChildren=function(e,r){if(e!==r){var i=this.getChildIndex(e),s=this.getChildIndex(r);this.children[i]=r,this.children[s]=e,this.onChildrenChange(i<s?i:s)}},n.prototype.getChildIndex=function(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},n.prototype.setChildIndex=function(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);j0(this.children,i,1),this.children.splice(r,0,e),this.onChildrenChange(r)},n.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},n.prototype.removeChild=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(r.length>1)for(var s=0;s<r.length;s++)this.removeChild(r[s]);else{var l=r[0],c=this.children.indexOf(l);if(-1===c)return null;l.parent=null,l.transform._parentID=-1,j0(this.children,c,1),this._boundsID++,this.onChildrenChange(c),l.emit("removed",this),this.emit("childRemoved",l,this,c)}return r[0]},n.prototype.removeChildAt=function(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,j0(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r},n.prototype.removeChildren=function(e,r){void 0===e&&(e=0),void 0===r&&(r=this.children.length);var c,l=r-e;if(l>0&&l<=r){c=this.children.splice(e,l);for(var h=0;h<c.length;++h)c[h].parent=null,c[h].transform&&(c[h].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),h=0;h<c.length;++h)c[h].emit("removed",this),this.emit("childRemoved",c[h],this,h);return c}if(0===l&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.sortChildren=function(){for(var e=!1,r=0,i=this.children.length;r<i;++r){var s=this.children[r];s._lastSortedIndex=r,!e&&0!==s.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(QY),this.sortDirty=!1},n.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];i.visible&&i.updateTransform()}},n.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];if(r.visible&&r.renderable)if(r.calculateBounds(),r._mask){var i=r._mask.maskObject||r._mask;i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},n.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var s=0,l=this.children.length;s<l;++s){var c=this.children[s];c.visible&&c.updateTransform()}return i},n.prototype._calculateBounds=function(){},n.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var r=0,i=this.children.length;r<i;++r)this.children[r].render(e)}},n.prototype.renderAdvanced=function(e){var r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<r.length;s++)r[s].enabled&&this._enabledFilters.push(r[s])}var l=r&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Dp.NONE));l&&e.batch.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this._render(e),s=0;for(var c=this.children.length;s<c;s++)this.children[s].render(e);l&&e.batch.flush(),i&&e.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},n.prototype._render=function(e){},n.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var s=0;s<i.length;++s)i[s].destroy(e)},Object.defineProperty(n.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e},enumerable:!1,configurable:!0}),n}(Cr);jo.prototype.containerUpdateTransform=jo.prototype.updateTransform,Cr.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var aW=function(){function t(n){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Cs.tablet||Cs.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=n,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var n=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){n._isMobileAccessibility=!0,n.activate(),n.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var n;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(n=this.renderer.view.parentNode)||void 0===n||n.appendChild(this.div))},t.prototype.deactivate=function(){var n;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(n=this.div.parentNode)||void 0===n||n.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(n){if(n.visible&&n.accessibleChildren){n.accessible&&n.interactive&&(n._accessibleActive||this.addChild(n),n.renderId=this.renderId);var e=n.children;if(e)for(var r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var n=performance.now();if(!(Cs.android.device&&n<this.androidUpdateCount)&&(this.androidUpdateCount=n+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.top,c=this.renderer,h=c.width,f=c.height,v=c.resolution,E=e.width/h*v,b=e.height/f*v,y=this.div;y.style.left=e.left+"px",y.style.top=i+"px",y.style.width=h+"px",y.style.height=f+"px";for(var T=0;T<this.children.length;T++){var A=this.children[T];if(A.renderId!==this.renderId)A._accessibleActive=!1,j0(this.children,T,1),this.div.removeChild(A._accessibleDiv),this.pool.push(A._accessibleDiv),A._accessibleDiv=null,T--;else{y=A._accessibleDiv;var O=A.hitArea,R=A.worldTransform;A.hitArea?(y.style.left=(R.tx+O.x*R.a)*E+"px",y.style.top=(R.ty+O.y*R.d)*b+"px",y.style.width=O.width*R.a*E+"px",y.style.height=O.height*R.d*b+"px"):(O=A.getBounds(),this.capHitArea(O),y.style.left=O.x*E+"px",y.style.top=O.y*b+"px",y.style.width=O.width*E+"px",y.style.height=O.height*b+"px",y.title!==A.accessibleTitle&&null!==A.accessibleTitle&&(y.title=A.accessibleTitle),y.getAttribute("aria-label")!==A.accessibleHint&&null!==A.accessibleHint&&y.setAttribute("aria-label",A.accessibleHint)),(A.accessibleTitle!==y.title||A.tabIndex!==y.tabIndex)&&(y.title=A.accessibleTitle,y.tabIndex=A.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}},t.prototype.updateDebugHTML=function(n){n.innerHTML="type: "+n.type+"</br> title : "+n.title+"</br> tabIndex: "+n.tabIndex},t.prototype.capHitArea=function(n){n.x<0&&(n.width+=n.x,n.x=0),n.y<0&&(n.height+=n.y,n.y=0);var e=this.renderer,r=e.width,i=e.height;n.x+n.width>r&&(n.width=r-n.x),n.y+n.height>i&&(n.height=i-n.y)},t.prototype.addChild=function(n){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=n.accessiblePointerEvents,e.type=n.accessibleType,n.accessibleTitle&&null!==n.accessibleTitle?e.title=n.accessibleTitle:(!n.accessibleHint||null===n.accessibleHint)&&(e.title="displayObject "+n.tabIndex),n.accessibleHint&&null!==n.accessibleHint&&e.setAttribute("aria-label",n.accessibleHint),this.debug&&this.updateDebugHTML(e),n._accessibleActive=!0,n._accessibleDiv=e,e.displayObject=n,this.children.push(n),this.div.appendChild(n._accessibleDiv),n._accessibleDiv.tabIndex=n.tabIndex},t.prototype._onClick=function(n){var e=this.renderer.plugins.interaction,r=n.target.displayObject,i=e.eventData;e.dispatchEvent(r,"click",i),e.dispatchEvent(r,"pointertap",i),e.dispatchEvent(r,"tap",i)},t.prototype._onFocus=function(n){n.target.getAttribute("aria-live")||n.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(n.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(n){n.target.getAttribute("aria-live")||n.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(n.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(n){9===n.keyCode&&this.activate()},t.prototype._onMouseMove=function(n){0===n.movementX&&0===n.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();Ze.TARGET_FPMS=.06;var Ts=(()=>(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Ts||(Ts={})),Ts))(),K4=function(){function t(n,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=n,this.context=e,this.priority=r,this.once=i}return t.prototype.match=function(n,e){return void 0===e&&(e=null),this.fn===n&&this.context===e},t.prototype.emit=function(n){this.fn&&(this.context?this.fn.call(this.context,n):this.fn(n));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(n){this.previous=n,n.next&&(n.next.previous=this),this.next=n.next,n.next=this},t.prototype.destroy=function(n){void 0===n&&(n=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=n?null:e,this.previous=null,e},t}(),oi=function(){function t(){var n=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new K4(null,null,1/0),this.deltaMS=1/Ze.TARGET_FPMS,this.elapsedMS=1/Ze.TARGET_FPMS,this._tick=function(e){n._requestId=null,n.started&&(n.update(e),n.started&&null===n._requestId&&n._head.next&&(n._requestId=requestAnimationFrame(n._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(n,e,r){return void 0===r&&(r=Ts.NORMAL),this._addListener(new K4(n,e,r))},t.prototype.addOnce=function(n,e,r){return void 0===r&&(r=Ts.NORMAL),this._addListener(new K4(n,e,r,!0))},t.prototype._addListener=function(n){var e=this._head.next,r=this._head;if(e){for(;e;){if(n.priority>e.priority){n.connect(r);break}r=e,e=e.next}n.previous||n.connect(r)}else n.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(n,e){for(var r=this._head.next;r;)r=r.match(n,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var n=0,e=this._head;e=e.next;)n++;return n},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var n=this._head.next;n;)n=n.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(n){var e;if(void 0===n&&(n=performance.now()),n>this.lastTime){if((e=this.elapsedMS=n-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=n-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=n-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ze.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(n){var e=Math.min(this.maxFPS,n),r=Math.min(Math.max(0,e)/1e3,Ze.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(n){if(0===n)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,n);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var n=t._shared=new t;n.autoStart=!0,n._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var n=t._system=new t;n.autoStart=!0,n._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),uW=function(){function t(){}return t.init=function(n){var e=this;n=Object.assign({autoStart:!0,sharedTicker:!1},n),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ts.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=n.sharedTicker?oi.shared:new oi,n.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}},t}(),uS=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new yr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(n,e,r){return n.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(n){"isPrimary"in n&&n.isPrimary&&(this.isPrimary=!0),this.button="button"in n&&n.button;var e="buttons"in n&&n.buttons;this.buttons=Number.isInteger(e)?e:"which"in n&&n.which,this.width="width"in n&&n.width,this.height="height"in n&&n.height,this.tiltX="tiltX"in n&&n.tiltX,this.tiltY="tiltY"in n&&n.tiltY,this.pointerType="pointerType"in n&&n.pointerType,this.pressure="pressure"in n&&n.pressure,this.rotationAngle="rotationAngle"in n&&n.rotationAngle,this.twist="twist"in n&&n.twist||0,this.tangentialPressure="tangentialPressure"in n&&n.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),Z4=function(t,n){return(Z4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)},cW=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Q4=function(){function t(n){this._pointerId=n,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(n,e){this._flags=e?this._flags|n:this._flags&~n},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(n){this._flags=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(n){this._doSet(t.FLAGS.OVER,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(n){this._doSet(t.FLAGS.RIGHT_DOWN,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(n){this._doSet(t.FLAGS.LEFT_DOWN,n)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),dW=function(){function t(){this._tempPoint=new yr}return t.prototype.recursiveFindHit=function(n,e,r,i,s){if(!e||!e.visible)return!1;var l=n.data.global,c=!1,h=s=e.interactive||s,f=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(l,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?c=!0:(i=!1,f=!1)),h=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(l)||(i=!1)),f&&e.interactiveChildren&&e.children)for(var v=e.children,E=v.length-1;E>=0;E--){var b=v[E],y=this.recursiveFindHit(n,b,r,i,h);if(y){if(!b.parent)continue;h=!1,y&&(n.target&&(i=!1),c=!0)}}return s&&(i&&!n.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(l)&&(c=!0),e.interactive&&(c&&!n.target&&(n.target=e),r&&r(n,e,!!c))),c},t.prototype.findHit=function(n,e,r,i){this.recursiveFindHit(n,e,r,i,!1)},t}(),hW={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Cr.mixin(hW);var Ap={target:null,data:{global:null}},fW=function(t){function n(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new uS,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new cW,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new dW,i._tempDisplayObject=new oS,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,n){function e(){this.constructor=t}Z4(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),Object.defineProperty(n.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),n.prototype.hitTest=function(e,r){return Ap.target=null,Ap.data.global=e,r||(r=this.lastObjectRendered),this.processInteractive(Ap,r,null,!0),Ap.target},n.prototype.setTargetElement=function(e,r){void 0===r&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents(),this.addTickerListener()},n.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(oi.system.add(this.tickerUpdate,this,Ts.INTERACTION),this.tickerAdded=!0)},n.prototype.removeTickerListener=function(){!this.tickerAdded||(oi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},n.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},n.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},n.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},n.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},n.prototype.setCursorMode=function(e){e=e||"default";var r=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(r=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.interactionDOMElement.style,i)}else r&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},n.prototype.dispatchEvent=function(e,r,i){(!i.stopPropagationHint||e===i.stopsPropagatingAt)&&(i.currentTarget=e,i.type=r,e.emit(r,i),e[r]&&e[r](i))},n.prototype.delayDispatchEvent=function(e,r,i){this.delayedEvents.push({displayObject:e,eventString:r,eventData:i})},n.prototype.mapPositionToPoint=function(e,r,i){var s;s=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var l=1/this.resolution;e.x=this.interactionDOMElement.width/s.width*(r-s.left)*l,e.y=this.interactionDOMElement.height/s.height*(i-s.top)*l},n.prototype.processInteractive=function(e,r,i,s){var l=this.search.findHit(e,r,i,s),c=this.delayedEvents;if(!c.length)return l;e.stopPropagationHint=!1;var h=c.length;this.delayedEvents=[];for(var f=0;f<h;f++){var v=c[f],E=v.displayObject,b=v.eventString,y=v.eventData;y.stopsPropagatingAt===E&&(y.stopPropagationHint=!0),this.dispatchEvent(E,b,y)}return l},n.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var s=r.length,l=0;l<s;l++){var c=r[l],h=this.getInteractionDataForPointerId(c),f=this.configureInteractionEventForDOMEvent(this.eventData,c,h);f.data.originalEvent=e,this.processInteractive(f,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",f),"touch"===c.pointerType?this.emit("touchstart",f):"mouse"!==c.pointerType&&"pen"!==c.pointerType||this.emit(2===c.button?"rightdown":"mousedown",this.eventData)}}},n.prototype.processPointerDown=function(e,r,i){var s=e.data,l=e.data.identifier;if(i)if(r.trackedPointers[l]||(r.trackedPointers[l]=new Q4(l)),this.dispatchEvent(r,"pointerdown",e),"touch"===s.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;c?r.trackedPointers[l].rightDown=!0:r.trackedPointers[l].leftDown=!0,this.dispatchEvent(r,c?"rightdown":"mousedown",e)}},n.prototype.onPointerComplete=function(e,r,i){for(var s=this.normalizeToPointerData(e),l=s.length,c=e.target!==this.interactionDOMElement?"outside":"",h=0;h<l;h++){var f=s[h],v=this.getInteractionDataForPointerId(f),E=this.configureInteractionEventForDOMEvent(this.eventData,f,v);E.data.originalEvent=e,this.processInteractive(E,this.lastObjectRendered,i,r||!c),this.emit(r?"pointercancel":"pointerup"+c,E),"mouse"===f.pointerType||"pen"===f.pointerType?this.emit(2===f.button?"rightup"+c:"mouseup"+c,E):"touch"===f.pointerType&&(this.emit(r?"touchcancel":"touchend"+c,E),this.releaseInteractionDataForPointerId(f.pointerId))}},n.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},n.prototype.processPointerCancel=function(e,r){var i=e.data,s=e.data.identifier;void 0!==r.trackedPointers[s]&&(delete r.trackedPointers[s],this.dispatchEvent(r,"pointercancel",e),"touch"===i.pointerType&&this.dispatchEvent(r,"touchcancel",e))},n.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},n.prototype.processPointerUp=function(e,r,i){var s=e.data,l=e.data.identifier,c=r.trackedPointers[l],h="touch"===s.pointerType,f="mouse"===s.pointerType||"pen"===s.pointerType,v=!1;if(f){var E=2===s.button,b=Q4.FLAGS,T=void 0!==c&&c.flags&(E?b.RIGHT_DOWN:b.LEFT_DOWN);i?(this.dispatchEvent(r,E?"rightup":"mouseup",e),T&&(this.dispatchEvent(r,E?"rightclick":"click",e),v=!0)):T&&this.dispatchEvent(r,E?"rightupoutside":"mouseupoutside",e),c&&(E?c.rightDown=!1:c.leftDown=!1)}i?(this.dispatchEvent(r,"pointerup",e),h&&this.dispatchEvent(r,"touchend",e),c&&((!f||v)&&this.dispatchEvent(r,"pointertap",e),h&&(this.dispatchEvent(r,"tap",e),c.over=!1))):c&&(this.dispatchEvent(r,"pointerupoutside",e),h&&this.dispatchEvent(r,"touchendoutside",e)),c&&c.none&&delete r.trackedPointers[l]},n.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);("mouse"===r[0].pointerType||"pen"===r[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var i=r.length,s=0;s<i;s++){var l=r[s],c=this.getInteractionDataForPointerId(l),h=this.configureInteractionEventForDOMEvent(this.eventData,l,c);h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",h),"touch"===l.pointerType&&this.emit("touchmove",h),("mouse"===l.pointerType||"pen"===l.pointerType)&&this.emit("mousemove",h)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},n.prototype.processPointerMove=function(e,r,i){var s=e.data,l="touch"===s.pointerType,c="mouse"===s.pointerType||"pen"===s.pointerType;c&&this.processPointerOverOut(e,r,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(r,"pointermove",e),l&&this.dispatchEvent(r,"touchmove",e),c&&this.dispatchEvent(r,"mousemove",e))},n.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e)[0];"mouse"===i.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),l=this.configureInteractionEventForDOMEvent(this.eventData,i,s);l.data.originalEvent=i,this.processInteractive(l,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",l),"mouse"===i.pointerType||"pen"===i.pointerType?this.emit("mouseout",l):this.releaseInteractionDataForPointerId(s.identifier)}},n.prototype.processPointerOverOut=function(e,r,i){var s=e.data,l=e.data.identifier,c="mouse"===s.pointerType||"pen"===s.pointerType,h=r.trackedPointers[l];i&&!h&&(h=r.trackedPointers[l]=new Q4(l)),void 0!==h&&(i&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(r,"pointerover",e),c&&this.delayDispatchEvent(r,"mouseover",e)),c&&null===this.cursor&&(this.cursor=r.cursor)):h.over&&(h.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),c&&this.dispatchEvent(r,"mouseout",e),h.none&&delete r.trackedPointers[l]))},n.prototype.onPointerOver=function(e){var i=this.normalizeToPointerData(e)[0],s=this.getInteractionDataForPointerId(i),l=this.configureInteractionEventForDOMEvent(this.eventData,i,s);l.data.originalEvent=i,"mouse"===i.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",l),("mouse"===i.pointerType||"pen"===i.pointerType)&&this.emit("mouseover",l)},n.prototype.getInteractionDataForPointerId=function(e){var i,r=e.pointerId;return 1===r||"mouse"===e.pointerType?i=this.mouse:this.activeInteractionData[r]?i=this.activeInteractionData[r]:((i=this.interactionDataPool.pop()||new uS).identifier=r,this.activeInteractionData[r]=i),i.copyEvent(e),i},n.prototype.releaseInteractionDataForPointerId=function(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},n.prototype.configureInteractionEventForDOMEvent=function(e,r,i){return e.data=i,this.mapPositionToPoint(i.global,r.clientX,r.clientY),"touch"===r.pointerType&&(r.globalX=i.global.x,r.globalY=i.global.y),i.originalEvent=r,e.reset(),e},n.prototype.normalizeToPointerData=function(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,s=e.changedTouches.length;i<s;i++){var l=e.changedTouches[i];void 0===l.button&&(l.button=e.touches.length?1:0),void 0===l.buttons&&(l.buttons=e.touches.length?1:0),void 0===l.isPrimary&&(l.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===l.width&&(l.width=l.radiusX||1),void 0===l.height&&(l.height=l.radiusY||1),void 0===l.tiltX&&(l.tiltX=0),void 0===l.tiltY&&(l.tiltY=0),void 0===l.pointerType&&(l.pointerType="touch"),void 0===l.pointerId&&(l.pointerId=l.identifier||0),void 0===l.pressure&&(l.pressure=l.force||.5),void 0===l.twist&&(l.twist=0),void 0===l.tangentialPressure&&(l.tangentialPressure=0),void 0===l.layerX&&(l.layerX=l.offsetX=l.clientX),void 0===l.layerY&&(l.layerY=l.offsetY=l.clientY),l.isNormalized=!0,r.push(l)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var c=e;void 0===c.isPrimary&&(c.isPrimary=!0),void 0===c.width&&(c.width=1),void 0===c.height&&(c.height=1),void 0===c.tiltX&&(c.tiltX=0),void 0===c.tiltY&&(c.tiltY=0),void 0===c.pointerType&&(c.pointerType="mouse"),void 0===c.pointerId&&(c.pointerId=1),void 0===c.pressure&&(c.pressure=.5),void 0===c.twist&&(c.twist=0),void 0===c.tangentialPressure&&(c.tangentialPressure=0),c.isNormalized=!0,r.push(c)}else r.push(e);return r},n.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},n}(a1()),vi=function(){function t(n){this.items=[],this._name=n,this._aliasCount=0}return t.prototype.emit=function(n,e,r,i,s,l,c,h){if(arguments.length>8)throw new Error("max arguments reached");var f=this,v=f.name,E=f.items;this._aliasCount++;for(var b=0,y=E.length;b<y;b++)E[b][v](n,e,r,i,s,l,c,h);return E===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(n){return n[this._name]&&(this.ensureNonAliasedItems(),this.remove(n),this.items.push(n)),this},t.prototype.remove=function(n){var e=this.items.indexOf(n);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(n){return-1!==this.items.indexOf(n)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(vi.prototype,{dispatch:{value:vi.prototype.emit},run:{value:vi.prototype.emit}}),Ze.PREFER_ENV=Cs.any?Ss.WEBGL:Ss.WEBGL2,Ze.STRICT_TEXTURE_CACHE=!1;var Mp=[];function e3(t,n){if(!t)return null;var e="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(e=r[1].toLowerCase())}for(var i=Mp.length-1;i>=0;--i){var s=Mp[i];if(s.test&&s.test(t,e))return new s(t,n)}throw new Error("Unrecognized source type to auto-detect Resource")}var t3=function(t,n){return(t3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function Rn(t,n){function e(){this.constructor=t}t3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var n3=function(){return n3=Object.assign||function(n){for(var r,e=arguments,i=1,s=arguments.length;i<s;i++)for(var l in r=e[i])Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l]);return n},n3.apply(this,arguments)},W0=function(){function t(n,e){void 0===n&&(n=0),void 0===e&&(e=0),this._width=n,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new vi("setRealSize"),this.onUpdate=new vi("update"),this.onError=new vi("onError")}return t.prototype.bind=function(n){this.onResize.add(n),this.onUpdate.add(n),this.onError.add(n),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(n){this.onResize.remove(n),this.onUpdate.remove(n),this.onError.remove(n)},t.prototype.resize=function(n,e){(n!==this._width||e!==this._height)&&(this._width=n,this._height=e,this.onResize.emit(n,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(n,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(n,e){return!1},t}(),c1=function(t){function n(e,r){var i=this,s=r||{},l=s.width,c=s.height;if(!l||!c)throw new Error("BufferResource width or height invalid");return(i=t.call(this,l,c)||this).data=e,i}return Rn(n,t),n.prototype.upload=function(e,r,i){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ho.UNPACK);var l=r.realWidth,c=r.realHeight;return i.width===l&&i.height===c?s.texSubImage2D(r.target,0,0,0,l,c,r.format,i.type,this.data):(i.width=l,i.height=c,s.texImage2D(r.target,0,i.internalFormat,l,c,0,r.format,i.type,this.data)),!0},n.prototype.dispose=function(){this.data=null},n.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},n}(W0),mW={scaleMode:Ds.NEAREST,format:Fe.RGBA,alphaMode:Ho.NPM},an=function(t){function n(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,s=(r=r||{}).alphaMode,l=r.mipmap,c=r.anisotropicLevel,h=r.scaleMode,f=r.width,v=r.height,E=r.wrapMode,b=r.format,y=r.type,T=r.target,A=r.resolution;return e&&!(e instanceof W0)&&((e=e3(e,r.resourceOptions)).internal=!0),i.resolution=A||Ze.RESOLUTION,i.width=Math.round((f||0)*i.resolution)/i.resolution,i.height=Math.round((v||0)*i.resolution)/i.resolution,i._mipmap=void 0!==l?l:Ze.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==c?c:Ze.ANISOTROPIC_LEVEL,i._wrapMode=E||Ze.WRAP_MODE,i._scaleMode=void 0!==h?h:Ze.SCALE_MODE,i.format=b||Fe.RGBA,i.type=y||at.UNSIGNED_BYTE,i.target=T||_u.TEXTURE_2D,i.alphaMode=void 0!==s?s:Ho.UNPACK,i.uid=el(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=f>0&&v>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Rn(n,t),Object.defineProperty(n.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),n.prototype.setStyle=function(e,r){var i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==r&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this},n.prototype.setSize=function(e,r,i){return this.setRealSize(e*(i=i||this.resolution),r*i,i)},n.prototype.setRealSize=function(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},n.prototype._refreshPOT=function(){this.isPowerOfTwo=ZC(this.realWidth)&&ZC(this.realHeight)},n.prototype.setResolution=function(e){var r=this.resolution;return r===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT()),this},n.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},n.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},n.prototype.onError=function(e){this.emit("error",this,e)},n.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Go[this.cacheId],delete io[this.cacheId],this.cacheId=null),this.dispose(),n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},n.prototype.dispose=function(){this.emit("dispose",this)},n.prototype.castToBaseTexture=function(){return this},n.from=function(e,r,i){void 0===i&&(i=Ze.STRICT_TEXTURE_CACHE);var s="string"==typeof e,l=null;s?l=e:(e._pixiId||(e._pixiId=(r&&r.pixiIdPrefix||"pixiid")+"_"+el()),l=e._pixiId);var h=Go[l];if(s&&i&&!h)throw new Error('The cacheId "'+l+'" does not exist in BaseTextureCache.');return h||((h=new n(e,r)).cacheId=l,n.addToCache(h,l)),h},n.fromBuffer=function(e,r,i,s){e=e||new Float32Array(r*i*4);var l=new c1(e,{width:r,height:i}),c=e instanceof Float32Array?at.FLOAT:at.UNSIGNED_BYTE;return new n(l,Object.assign(mW,s||{width:r,height:i,type:c}))},n.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Go[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Go[r]=e)},n.removeFromCache=function(e){if("string"==typeof e){var r=Go[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete Go[e],r}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)delete Go[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},n._globalBatch=0,n}(a1()),r3=function(t){function n(e,r){var i=this,s=r||{};(i=t.call(this,s.width,s.height)||this).items=[],i.itemDirtyIds=[];for(var h=0;h<e;h++){var f=new an;i.items.push(f),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return Rn(n,t),n.prototype.initFromArray=function(e,r){for(var i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):this.addResourceAt(e[i]instanceof W0?e[i]:e3(e[i],r),i))},n.prototype.dispose=function(){for(var e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},n.prototype.addResourceAt=function(e,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this},n.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},n.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},n.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(s){return s.resource}).filter(function(s){return s}).map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=e.items[0];return e.resize(s.realWidth,s.realHeight),Promise.resolve(e)}),this._load},n}(W0),lS=function(t){function n(e,r){var h,f,i=this,s=r||{},l=s.width,c=s.height;return Array.isArray(e)?(h=e,f=e.length):f=e,i=t.call(this,f,{width:l,height:c})||this,h&&i.initFromArray(h,r),i}return Rn(n,t),n.prototype.addBaseTextureAt=function(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this},n.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=_u.TEXTURE_2D_ARRAY},n.prototype.upload=function(e,r,i){var s=this,l=s.length,c=s.itemDirtyIds,h=s.items,f=e.gl;i.dirtyId<0&&f.texImage3D(f.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,l,0,r.format,i.type,null);for(var v=0;v<l;v++){var E=h[v];c[v]<E.dirtyId&&(c[v]=E.dirtyId,E.valid&&f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,v,E.resource.width,E.resource.height,1,r.format,i.type,E.resource.source))}return!0},n}(r3),ka=function(t){function n(e){var r=this;return(r=t.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,r.noSubImage=!1,r}return Rn(n,t),n.crossOrigin=function(e,r,i){void 0===i&&0!==r.indexOf("data:")?e.crossOrigin=function(t,n){if(void 0===n&&(n=self.location),0===t.indexOf("data:"))return"";n=n||self.location,_p||(_p=document.createElement("a")),_p.href=t;var e=V0.parse(_p.href);return e.hostname!==n.hostname||(e.port||""!==n.port)&&e.port!==n.port||e.protocol!==n.protocol?"anonymous":""}(r):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},n.prototype.upload=function(e,r,i,s){var l=e.gl,c=r.realWidth,h=r.realHeight;return s=s||this.source,l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ho.UNPACK),this.noSubImage||r.target!==l.TEXTURE_2D||i.width!==c||i.height!==h?(i.width=c,i.height=h,l.texImage2D(r.target,0,i.internalFormat,r.format,i.type,s)):l.texSubImage2D(l.TEXTURE_2D,0,0,0,r.format,i.type,s),!0},n.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),t.prototype.update.call(this)}},n.prototype.dispose=function(){this.source=null},n}(W0),i3=function(t){function n(e){return t.call(this,e)||this}return Rn(n,t),n.test=function(e){var r=self.OffscreenCanvas;return!!(r&&e instanceof r)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},n}(ka),cS=function(t){function n(e,r){var i=this,s=r||{},l=s.width,c=s.height,h=s.autoLoad,f=s.linkBaseTexture;if(e&&e.length!==n.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=t.call(this,6,{width:l,height:c})||this;for(var v=0;v<n.SIDES;v++)i.items[v].target=_u.TEXTURE_CUBE_MAP_POSITIVE_X+v;return i.linkBaseTexture=!1!==f,e&&i.initFromArray(e,r),!1!==h&&i.load(),i}return Rn(n,t),n.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=_u.TEXTURE_CUBE_MAP},n.prototype.addBaseTextureAt=function(e,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=_u.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},n.prototype.upload=function(e,r,i){for(var s=this.itemDirtyIds,l=0;l<n.SIDES;l++){var c=this.items[l];s[l]<c.dirtyId&&(c.valid&&c.resource?(c.resource.upload(e,c,i),s[l]=c.dirtyId):s[l]<-1&&(e.gl.texImage2D(c.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),s[l]=-1))}return!0},n.test=function(e){return Array.isArray(e)&&e.length===n.SIDES},n.SIDES=6,n}(r3),o3=function(t){function n(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var s=new Image;ka.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}return i=t.call(this,e)||this,!e.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:Ze.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return Rn(n,t),n.prototype.load=function(e){var r=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(i,s){var l=r.source;r.url=l.src;var c=function(){r.destroyed||(l.onload=null,l.onerror=null,r.resize(l.width,l.height),r._load=null,i(r.createBitmap?r.process():r))};l.complete&&l.src?c():(l.onload=c,l.onerror=function(h){s(h),r.onError.emit(h)})})),this._load},n.prototype.process=function(){var e=this,r=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var i=self.createImageBitmap;return this._process=fetch(r.src,{mode:r.crossOrigin&&"anonymous"!==r.crossOrigin?"no-cors":"cors"}).then(function(l){return l.blob()}).then(function(l){return i(l,0,0,r.width,r.height,{premultiplyAlpha:e.alphaMode===Ho.UNPACK?"premultiply":"none"})}).then(function(l){return e.destroyed?Promise.reject():(e.bitmap=l,e.update(),e._process=null,Promise.resolve(e))}),this._process},n.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var s=!0,l=r._glTextures;for(var c in l){var h=l[c];if(h!==i&&h.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},n.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},n.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},n}(ka),dS=function(t){function n(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return Rn(n,t),n.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},n.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},n.prototype._loadSvg=function(){var e=this,r=new Image;ka.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(i){!e._resolve||(r.onerror=null,e.onError.emit(i))},r.onload=function(){if(e._resolve){var i=r.width,s=r.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var l=i*e.scale,c=s*e.scale;(e._overrideWidth||e._overrideHeight)&&(l=e._overrideWidth||e._overrideHeight/s*i,c=e._overrideHeight||e._overrideWidth/i*s),l=Math.round(l),c=Math.round(c);var h=e.source;h.width=l,h.height=c,h._pixiId="canvas_"+el(),h.getContext("2d").drawImage(r,0,0,i,s,0,0,l,c),e._resolve(),e._resolve=null}}},n.getSize=function(e){var r=n.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},n.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},n.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&n.SVG_XML.test(e)},n.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,n.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,n}(ka),hS=function(t){function n(e,r){var i=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),ka.crossOrigin(s,e[0].src||e[0],r.crossorigin);for(var c=0;c<e.length;++c){var h=document.createElement("source"),f=e[c],v=f.src,E=f.mime,b=(v=v||e[c]).split("?").shift().toLowerCase(),y=b.substr(b.lastIndexOf(".")+1);E=E||n.MIME_TYPES[y]||"video/"+y,h.src=v,h.type=E,s.appendChild(h)}e=s}return(i=t.call(this,e)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return Rn(n,t),n.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-oi.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},n.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,r.load())}),this._load},n.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},n.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},n.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},n.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(oi.shared.add(this.update,this),this._isConnectedToTicker=!0)},n.prototype._onPlayStop=function(){this._isConnectedToTicker&&(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1)},n.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},n.prototype.dispose=function(){this._isConnectedToTicker&&(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(oi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),n.test=function(e,r){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||n.TYPES.indexOf(r)>-1},n.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],n.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},n}(ka),fS=function(t){function n(e){return t.call(this,e)||this}return Rn(n,t),n.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},n}(ka);Mp.push(o3,fS,i3,hS,dS,c1,cS,lS);var pS={__proto__:null,Resource:W0,BaseImageResource:ka,INSTALLED:Mp,autoDetectResource:e3,AbstractMultiResource:r3,ArrayResource:lS,BufferResource:c1,CanvasResource:i3,CubeResource:cS,ImageResource:o3,SVGResource:dS,VideoResource:hS,ImageBitmapResource:fS},gW=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Rn(n,t),n.prototype.upload=function(e,r,i){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ho.UNPACK);var l=r.realWidth,c=r.realHeight;return i.width===l&&i.height===c?s.texSubImage2D(r.target,0,0,0,l,c,r.format,i.type,this.data):(i.width=l,i.height=c,s.texImage2D(r.target,0,i.internalFormat,l,c,0,r.format,i.type,this.data)),!0},n}(c1),s3=function(){function t(n,e){this.width=Math.round(n||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vi("disposeFramebuffer"),this.multisample=br.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(n,e){return void 0===n&&(n=0),this.colorTextures[n]=e||new an(null,{scaleMode:Ds.NEAREST,resolution:1,mipmap:Ra.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(n){return this.depthTexture=n||new an(new gW(null,{width:this.width,height:this.height}),{scaleMode:Ds.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ra.OFF,format:Fe.DEPTH_COMPONENT,type:at.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(n,e){if(n=Math.round(n),e=Math.round(e),n!==this.width||e!==this.height){this.width=n,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r];i.setSize(n/(s=i.resolution),e/s)}var s;this.depthTexture&&this.depthTexture.setSize(n/(s=this.depthTexture.resolution),e/s)}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),mS=function(t){function n(e){var r=this;if("number"==typeof e){var i=arguments[0],s=arguments[1],l=arguments[2],c=arguments[3];e={width:i,height:s,scaleMode:l,resolution:c}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:br.NONE,(r=t.call(this,null,e)||this).mipmap=Ra.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new s3(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=e.multisample,r.maskStack=[],r.filterStack=[{}],r}return Rn(n,t),n.prototype.resize=function(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},n.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},n}(an),gS=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(n,e,r){var i=e.width,s=e.height;if(r){var l=n.width/2/i,c=n.height/2/s,h=n.x/i+l,f=n.y/s+c;r=rr.add(r,rr.NW),this.x0=h+l*rr.uX(r),this.y0=f+c*rr.uY(r),r=rr.add(r,2),this.x1=h+l*rr.uX(r),this.y1=f+c*rr.uY(r),r=rr.add(r,2),this.x2=h+l*rr.uX(r),this.y2=f+c*rr.uY(r),r=rr.add(r,2),this.x3=h+l*rr.uX(r),this.y3=f+c*rr.uY(r)}else this.x0=n.x/i,this.y0=n.y/s,this.x1=(n.x+n.width)/i,this.y1=n.y/s,this.x2=(n.x+n.width)/i,this.y2=(n.y+n.height)/s,this.x3=n.x/i,this.y3=(n.y+n.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),vS=new gS,pt=function(t){function n(e,r,i,s,l,c){var h=t.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new Xt(0,0,1,1)),e instanceof n&&(e=e.baseTexture),h.baseTexture=e,h._frame=r,h.trim=s,h.valid=!1,h._uvs=vS,h.uvMatrix=null,h.orig=i||r,h._rotate=Number(l||0),!0===l)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=c?new yr(c.x,c.y):new yr(0,0),h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=r:e.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&e.on("update",h.onBaseTextureUpdated,h),h}return Rn(n,t),n.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},n.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},n.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture.resource;r&&r.url&&io[r.url]&&n.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,n.removeFromCache(this),this.textureCacheIds=null},n.prototype.clone=function(){var e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new n(this.baseTexture,!this.noFrame&&e,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},n.prototype.updateUvs=function(){this._uvs===vS&&(this._uvs=new gS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},n.from=function(e,r,i){void 0===r&&(r={}),void 0===i&&(i=Ze.STRICT_TEXTURE_CACHE);var s="string"==typeof e,l=null;s?l=e:e instanceof an?(e.cacheId||(e.cacheId=(r&&r.pixiIdPrefix||"pixiid")+"-"+el(),an.addToCache(e,e.cacheId)),l=e.cacheId):(e._pixiId||(e._pixiId=(r&&r.pixiIdPrefix||"pixiid")+"_"+el()),l=e._pixiId);var h=io[l];if(s&&i&&!h)throw new Error('The cacheId "'+l+'" does not exist in TextureCache.');return h||e instanceof an?!h&&e instanceof an&&(h=new n(e),n.addToCache(h,l)):(r.resolution||(r.resolution=bp(e)),(h=new n(new an(e,r))).baseTexture.cacheId=l,an.addToCache(h.baseTexture,l),n.addToCache(h,l)),h},n.fromURL=function(e,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),s=n.from(e,Object.assign({resourceOptions:i},r),!1),l=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):l.load().then(function(){return Promise.resolve(s)})},n.fromBuffer=function(e,r,i,s){return new n(an.fromBuffer(e,r,i,s))},n.fromLoader=function(e,r,i,s){var l=new an(e,Object.assign({scaleMode:Ze.SCALE_MODE,resolution:bp(r)},s)),c=l.resource;c instanceof o3&&(c.url=r);var h=new n(l);return i||(i=r),an.addToCache(h.baseTexture,i),n.addToCache(h,i),i!==r&&(an.addToCache(h.baseTexture,r),n.addToCache(h,r)),h.baseTexture.valid?Promise.resolve(h):new Promise(function(f){h.baseTexture.once("loaded",function(){return f(h)})})},n.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),io[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),io[r]=e)},n.removeFromCache=function(e){if("string"==typeof e){var r=io[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete io[e],r}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)io[e.textureCacheIds[s]]===e&&delete io[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(n.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var r=e.x,i=e.y,s=e.width,l=e.height,c=r+s>this.baseTexture.width,h=i+l>this.baseTexture.height;if(c||h)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.width+" "+(c&&h?"and":"or")+" Y: "+i+" + "+l+" = "+(i+l)+" > "+this.baseTexture.height);this.valid=s&&l&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),n.prototype.castToBaseTexture=function(){return this.baseTexture},n}(a1());function Np(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}pt.EMPTY=new pt(new an),Np(pt.EMPTY),Np(pt.EMPTY.baseTexture),pt.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var n=t.getContext("2d");return n.fillStyle="white",n.fillRect(0,0,16,16),new pt(new an(new i3(t)))}(),Np(pt.WHITE),Np(pt.WHITE.baseTexture);var ol=function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Rn(n,t),Object.defineProperty(n.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),n.prototype.resize=function(e,r,i){void 0===i&&(i=!0);var s=this.baseTexture.resolution,l=Math.round(e*s)/s,c=Math.round(r*s)/s;this.valid=l>0&&c>0,this._frame.width=this.orig.width=l,this._frame.height=this.orig.height=c,i&&this.baseTexture.resize(l,c),this.updateUvs()},n.prototype.setResolution=function(e){var r=this.baseTexture;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))},n.create=function(e){for(var r=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=r[s];return"number"==typeof e&&(bu("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new n(new mS(e))},n}(pt),EW=function(){function t(n){this.texturePool={},this.textureOptions=n||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(n,e,r){void 0===r&&(r=br.NONE);var i=new mS(Object.assign({width:n,height:e,resolution:1,multisample:r},this.textureOptions));return new ol(i)},t.prototype.getOptimalTexture=function(n,e,r,i){var s;void 0===r&&(r=1),void 0===i&&(i=br.NONE),n=Math.ceil(n*r),e=Math.ceil(e*r),this.enableFullScreen&&n===this._pixelsWidth&&e===this._pixelsHeight?s=i>1?-i:-1:(s=((65535&(n=Ep(n)))<<16|65535&(e=Ep(e)))>>>0,i>1&&(s+=4294967296*i)),this.texturePool[s]||(this.texturePool[s]=[]);var l=this.texturePool[s].pop();return l||(l=this.createTexture(n,e,i)),l.filterPoolKey=s,l.setResolution(r),l},t.prototype.getFilterTexture=function(n,e,r){var i=this.getOptimalTexture(n.width,n.height,e||n.resolution,r||br.NONE);return i.filterFrame=n.filterFrame,i},t.prototype.returnTexture=function(n){var e=n.filterPoolKey;n.filterFrame=null,this.texturePool[e].push(n)},t.prototype.returnFilterTexture=function(n){this.returnTexture(n)},t.prototype.clear=function(n){if(n=!1!==n)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(n){if(n.width!==this._pixelsWidth||n.height!==this._pixelsHeight){for(var e in this.enableFullScreen=n.width>0&&n.height>0,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=n.width,this._pixelsHeight=n.height}},t.SCREEN_KEY=-1,t}(),ES=function(){function t(n,e,r,i,s,l,c){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=at.FLOAT),this.buffer=n,this.size=e,this.normalized=r,this.type=i,this.stride=s,this.start=l,this.instance=c}return t.prototype.destroy=function(){this.buffer=null},t.from=function(n,e,r,i,s){return new t(n,e,r,i,s)},t}(),_W=0,kr=function(){function t(n,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=n||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=_W++,this.disposeRunner=new vi("disposeBuffer")}return t.prototype.update=function(n){n instanceof Array&&(n=new Float32Array(n)),this.data=n||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Vo.ELEMENT_ARRAY_BUFFER},set:function(n){this.type=n?Vo.ELEMENT_ARRAY_BUFFER:Vo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(n){return n instanceof Array&&(n=new Float32Array(n)),new t(n)},t}(),bW={Float32Array,Uint32Array,Int32Array,Uint8Array},_S={5126:4,5123:2,5121:1},xW=0,CW={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},d1=function(){function t(n,e){void 0===n&&(n=[]),void 0===e&&(e={}),this.buffers=n,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=xW++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new vi("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(n,e,r,i,s,l,c,h){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===h&&(h=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof kr||(e instanceof Array&&(e=new Float32Array(e)),e=new kr(e));var f=n.split("|");if(f.length>1){for(var v=0;v<f.length;v++)this.addAttribute(f[v],e,r,i,s);return this}var E=this.buffers.indexOf(e);return-1===E&&(this.buffers.push(e),E=this.buffers.length-1),this.attributes[n]=new ES(E,r,i,s,l,c,h),this.instanced=this.instanced||h,this},t.prototype.getAttribute=function(n){return this.attributes[n]},t.prototype.getBuffer=function(n){return this.buffers[this.getAttribute(n).buffer]},t.prototype.addIndex=function(n){return n instanceof kr||(n instanceof Array&&(n=new Uint16Array(n)),n=new kr(n)),n.type=Vo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=n,-1===this.buffers.indexOf(n)&&this.buffers.push(n),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var i,n=[],e=[],r=new kr;for(i in this.attributes){var s=this.attributes[i];n.push(this.buffers[s.buffer].data),e.push(s.size*_S[s.type]/4),s.buffer=0}for(r.data=function(t,n){for(var e=0,r=0,i={},s=0;s<t.length;s++)r+=n[s],e+=t[s].length;var l=new ArrayBuffer(4*e),c=null,h=0;for(s=0;s<t.length;s++){var f=n[s],v=t[s],E=Y4(v);i[E]||(i[E]=new bW[E](l)),c=i[E];for(var b=0;b<v.length;b++)c[(b/f|0)*r+h+b%f]=v[b];h+=f}return new Float32Array(l)}(n,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var n in this.attributes){var e=this.attributes[n];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var n=new t,e=0;e<this.buffers.length;e++)n.buffers[e]=new kr(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];n.attributes[e]=new ES(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(n.indexBuffer=n.buffers[this.buffers.indexOf(this.indexBuffer)],n.indexBuffer.type=Vo.ELEMENT_ARRAY_BUFFER),n},t.merge=function(n){for(var l,e=new t,r=[],i=[],s=[],c=0;c<n.length;c++){l=n[c];for(var h=0;h<l.buffers.length;h++)i[h]=i[h]||0,i[h]+=l.buffers[h].data.length,s[h]=0}for(c=0;c<l.buffers.length;c++)r[c]=new(CW[Y4(l.buffers[c].data)])(i[c]),e.buffers[c]=new kr(r[c]);for(c=0;c<n.length;c++)for(l=n[c],h=0;h<l.buffers.length;h++)r[h].set(l.buffers[h].data,s[h]),s[h]+=l.buffers[h].data.length;if(e.attributes=l.attributes,l.indexBuffer){e.indexBuffer=e.buffers[l.buffers.indexOf(l.indexBuffer)],e.indexBuffer.type=Vo.ELEMENT_ARRAY_BUFFER;var f=0,v=0,E=0,b=0;for(c=0;c<l.buffers.length;c++)if(l.buffers[c]!==l.indexBuffer){b=c;break}for(var c in l.attributes){var y=l.attributes[c];(0|y.buffer)===b&&(v+=y.size*_S[y.type]/4)}for(c=0;c<n.length;c++){var T=n[c].indexBuffer.data;for(h=0;h<T.length;h++)e.indexBuffer.data[h+E]+=f;f+=n[c].buffers[b].data.length/v,E+=T.length}}return e},t}(),SW=function(t){function n(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Rn(n,t),n}(d1),bS=function(t){function n(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new kr(e.vertices),e.uvBuffer=new kr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Rn(n,t),n.prototype.map=function(e,r){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+r.width/e.width,this.uvs[3]=s,this.uvs[4]=i+r.width/e.width,this.uvs[5]=s+r.height/e.height,this.uvs[6]=i,this.uvs[7]=s+r.height/e.height,s=r.y,this.vertices[0]=i=r.x,this.vertices[1]=s,this.vertices[2]=i+r.width,this.vertices[3]=s,this.vertices[4]=i+r.width,this.vertices[5]=s+r.height,this.vertices[6]=i,this.vertices[7]=s+r.height,this.invalidate(),this},n.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},n}(d1),DW=0,sl=function(){function t(n,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=DW++,this.static=!!e,this.ubo=!!r,n instanceof kr?(this.buffer=n,this.buffer.type=Vo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=n,this.ubo&&(this.buffer=new kr(new Float32Array(1)),this.buffer.type=Vo.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(n,e,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[n]=new t(e,r)},t.from=function(n,e,r){return new t(n,e,r)},t.uboFrom=function(n,e){return new t(n,null==e||e,!0)},t}(),wW=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=br.NONE,this.sourceFrame=new Xt,this.destinationFrame=new Xt,this.bindingSourceFrame=new Xt,this.bindingDestinationFrame=new Xt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Op=[new yr,new yr,new yr,new yr],a3=new xr,yS=function(){function t(n){this.renderer=n,this.defaultFilterStack=[{}],this.texturePool=new EW,this.texturePool.setScreenSize(n.view),this.statePool=[],this.quad=new SW,this.quadUv=new bS,this.tempRect=new Xt,this.activeState={},this.globalUniforms=new sl({outputFrame:new Xt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(n,e){for(var r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new wW,l=this.renderer.renderTexture,c=e[0].resolution,h=e[0].multisample,f=e[0].padding,v=e[0].autoFit,E=e[0].legacy,b=1;b<e.length;b++){var y=e[b];c=Math.min(c,y.resolution),h=Math.min(h,y.multisample),f=this.useMaxPadding?Math.max(f,y.padding):f+y.padding,v=v&&y.autoFit,E=E||y.legacy}if(1===i.length&&(this.defaultFilterStack[0].renderTexture=l.current),i.push(s),s.resolution=c,s.multisample=h,s.legacy=E,s.target=n,s.sourceFrame.copyFrom(n.filterArea||n.getBounds(!0)),s.sourceFrame.pad(f),v){var T=this.tempRect.copyFrom(l.sourceFrame);r.projection.transform&&this.transformAABB(a3.copyFrom(r.projection.transform).invert(),T),s.sourceFrame.fit(T)}this.roundFrame(s.sourceFrame,l.current?l.current.resolution:r.resolution,l.sourceFrame,l.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,h),s.filters=e,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var A=this.tempRect;A.x=0,A.y=0,A.width=s.sourceFrame.width,A.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(l.sourceFrame),s.bindingDestinationFrame.copyFrom(l.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,l.bind(s.renderTexture,s.sourceFrame,A),r.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var n=this.defaultFilterStack,e=n.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var s=i.inputSize,l=i.inputPixel,c=i.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],l[0]=Math.round(s[0]*e.resolution),l[1]=Math.round(s[1]*e.resolution),l[2]=1/l[0],l[3]=1/l[1],c[0]=.5*l[2],c[1]=.5*l[3],c[2]=e.sourceFrame.width*s[2]-.5*l[2],c[3]=e.sourceFrame.height*s[3]-.5*l[3],e.legacy){var h=i.filterArea;h[0]=e.destinationFrame.width,h[1]=e.destinationFrame.height,h[2]=e.sourceFrame.x,h[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var f=n[n.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,f.renderTexture,Fa.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var v=e.renderTexture,E=this.getOptimalFilterTexture(v.width,v.height,e.resolution);E.filterFrame=v.filterFrame;var b=0;for(b=0;b<r.length-1;++b){1===b&&e.multisample>1&&((E=this.getOptimalFilterTexture(v.width,v.height,e.resolution)).filterFrame=v.filterFrame),r[b].apply(this,v,E,Fa.CLEAR,e);var y=v;v=E,E=y}r[b].apply(this,v,f.renderTexture,Fa.BLEND,e),b>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(v),this.returnFilterTexture(E)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(n,e){void 0===e&&(e=Fa.CLEAR);var r=this.renderer,i=r.renderTexture,s=r.state;if(this.renderer.projection.transform=n===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,n&&n.filterFrame){var l=this.tempRect;l.x=0,l.y=0,l.width=n.filterFrame.width,l.height=n.filterFrame.height,i.bind(n,n.filterFrame,l)}else n!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(n):this.renderer.renderTexture.bind(n,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Fa.CLEAR||e===Fa.BLIT&&(1&s.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(n,e,r,i){var s=this.renderer;s.state.set(n.state),this.bindAndClear(r,i),n.uniforms.uSampler=e,n.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(n),n.legacy=!!n.program.attributeData.aTextureCoord,n.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(go.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(go.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(n,e){var r=this.activeState,i=r.sourceFrame,s=r.destinationFrame,l=e._texture.orig,c=n.set(s.width,0,0,s.height,i.x,i.y),h=e.worldTransform.copyTo(xr.TEMP_MATRIX);return h.invert(),c.prepend(h),c.scale(1/l.width,1/l.height),c.translate(e.anchor.x,e.anchor.y),c},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(n,e,r,i){return void 0===r&&(r=1),void 0===i&&(i=br.NONE),this.texturePool.getOptimalTexture(n,e,r,i)},t.prototype.getFilterTexture=function(n,e,r){if("number"==typeof n){var i=n;n=e,e=i}var s=this.texturePool.getOptimalTexture((n=n||this.activeState.renderTexture).width,n.height,e||n.resolution,r||br.NONE);return s.filterFrame=n.filterFrame,s},t.prototype.returnFilterTexture=function(n){this.texturePool.returnTexture(n)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(n,e){var r=Op[0],i=Op[1],s=Op[2],l=Op[3];r.set(e.left,e.top),i.set(e.left,e.bottom),s.set(e.right,e.top),l.set(e.right,e.bottom),n.apply(r,r),n.apply(i,i),n.apply(s,s),n.apply(l,l);var c=Math.min(r.x,i.x,s.x,l.x),h=Math.min(r.y,i.y,s.y,l.y),f=Math.max(r.x,i.x,s.x,l.x),v=Math.max(r.y,i.y,s.y,l.y);e.x=c,e.y=h,e.width=f-c,e.height=v-h},t.prototype.roundFrame=function(n,e,r,i,s){if(s){var l=s.a,h=s.c,f=s.d;if((Math.abs(s.b)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(f)>1e-4))return}(s=s?a3.copyFrom(s):a3.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,n),n.ceil(e),this.transformAABB(s.invert(),n)},t}(),Ip=function(){function t(n){this.renderer=n}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(n){},t}(),xS=function(){function t(n){this.renderer=n,this.emptyRenderer=new Ip(n),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(n){this.currentRenderer!==n&&(this.currentRenderer.stop(),this.currentRenderer=n,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(n,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)n[i]=r[i]||null,n[i]&&(n[i]._batchLocation=i)},t.prototype.boundArray=function(n,e,r,i){for(var s=n.elements,l=n.ids,c=n.count,h=0,f=0;f<c;f++){var v=s[f],E=v._batchLocation;if(E>=0&&E<i&&e[E]===v)l[f]=E;else for(;h<i;){var b=e[h];if(!b||b._batchEnabled!==r||b._batchLocation!==h){l[f]=h,v._batchLocation=h,e[h]=v;break}h++}}},t.prototype.destroy=function(){this.renderer=null},t}(),CS=0,SS=function(){function t(n){this.renderer=n,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),n.view.addEventListener("webglcontextlost",this.handleContextLost,!1),n.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(n){this.gl=n,this.renderer.gl=n,this.renderer.CONTEXT_UID=CS++,n.isContextLost()&&n.getExtension("WEBGL_lose_context")&&n.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(n){this.gl=n,this.validateContext(n),this.renderer.gl=n,this.renderer.CONTEXT_UID=CS++,this.renderer.runners.contextChange.emit(n)},t.prototype.initFromOptions=function(n){var e=this.createContext(this.renderer.view,n);this.initFromContext(e)},t.prototype.createContext=function(n,e){var r;if(Ze.PREFER_ENV>=Ss.WEBGL2&&(r=n.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=n.getContext("webgl",e)||n.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var n=this.gl,e={anisotropicFiltering:n.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:n.getExtension("OES_texture_float_linear"),s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:n.getExtension("WEBGL_draw_buffers"),depthTexture:n.getExtension("WEBGL_depth_texture"),loseContext:n.getExtension("WEBGL_lose_context"),vertexArrayObject:n.getExtension("OES_vertex_array_object")||n.getExtension("MOZ_OES_vertex_array_object")||n.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:n.getExtension("OES_element_index_uint"),floatTexture:n.getExtension("OES_texture_float"),floatTextureLinear:n.getExtension("OES_texture_float_linear"),textureHalfFloat:n.getExtension("OES_texture_half_float"),textureHalfFloatLinear:n.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:n.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(n){n.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var n=this.renderer.view;this.renderer=null,n.removeEventListener("webglcontextlost",this.handleContextLost),n.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(n){var e=n.getContextAttributes(),r="WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!n.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),TW=function(n){this.framebuffer=n,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=br.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},AW=new Xt,DS=function(){function t(n){this.renderer=n,this.managedFramebuffers=[],this.unknownFramebuffer=new s3(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var n=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Xt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Ze.PREFER_ENV===Ss.WEBGL_LEGACY&&(e=null,r=null),e?n.drawBuffers=function(i){return e.drawBuffersWEBGL(i)}:(this.hasMRT=!1,n.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=n.getInternalformatParameter(n.RENDERBUFFER,n.RGBA8,n.SAMPLES)},t.prototype.bind=function(n,e,r){void 0===r&&(r=0);var i=this.gl;if(n){var s=n.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(n);this.current!==n&&(this.current=n,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(n.dirtyId++,n.dirtyFormat++,s.mipLevel=r),s.dirtyId!==n.dirtyId&&(s.dirtyId=n.dirtyId,s.dirtyFormat!==n.dirtyFormat?(s.dirtyFormat=n.dirtyFormat,s.dirtySize=n.dirtySize,this.updateFramebuffer(n,r)):s.dirtySize!==n.dirtySize&&(s.dirtySize=n.dirtySize,this.resizeFramebuffer(n)));for(var l=0;l<n.colorTextures.length;l++){var c=n.colorTextures[l];this.renderer.texture.unbind(c.parentTextureArray||c)}if(n.depthTexture&&this.renderer.texture.unbind(n.depthTexture),e){var v=(h=e.width>>r)/e.width;this.setViewport(e.x*v,e.y*v,h,e.height>>r)}else{var h;this.setViewport(0,0,h=n.width>>r,n.height>>r)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(n,e,r,i){var s=this.viewport;n=Math.round(n),e=Math.round(e),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==n||s.y!==e)&&(s.x=n,s.y=e,s.width=r,s.height=i,this.gl.viewport(n,e,r,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(n,e,r,i,s){void 0===s&&(s=u1.COLOR|u1.DEPTH);var l=this.gl;l.clearColor(n,e,r,i),l.clear(s)},t.prototype.initFramebuffer=function(n){var r=new TW(this.gl.createFramebuffer());return r.multisample=this.detectSamples(n.multisample),n.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(n),n.disposeRunner.add(this),r},t.prototype.resizeFramebuffer=function(n){var e=this.gl,r=n.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,n.width,n.height)),r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height));var i=n.colorTextures,s=i.length;e.drawBuffers||(s=Math.min(s,1));for(var l=0;l<s;l++){var c=i[l];this.renderer.texture.bind(c.parentTextureArray||c,0)}n.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(n.depthTexture,0)},t.prototype.updateFramebuffer=function(n,e){var r=this.gl,i=n.glFramebuffers[this.CONTEXT_UID],s=n.colorTextures,l=s.length;r.drawBuffers||(l=Math.min(l,1)),i.multisample>1&&this.canMultisampleFramebuffer(n)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,n.width,n.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var c=[],h=0;h<l;h++){var f=s[h],v=f.parentTextureArray||f;this.renderer.texture.bind(v,0),(0!==h||!i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+h,f.target,v._glTextures[this.CONTEXT_UID].texture,e),c.push(r.COLOR_ATTACHMENT0+h))}if(c.length>1&&r.drawBuffers(c),n.depthTexture&&this.writeDepthTexture){var b=n.depthTexture;this.renderer.texture.bind(b,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,b._glTextures[this.CONTEXT_UID].texture,e)}!n.stencil&&!n.depth||n.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,n.width,n.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,n.width,n.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},t.prototype.canMultisampleFramebuffer=function(n){return 1!==this.renderer.context.webGLVersion&&n.colorTextures.length<=1&&!n.depthTexture},t.prototype.detectSamples=function(n){var e=this.msaaSamples,r=br.NONE;if(n<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=n){r=e[i];break}return 1===r&&(r=br.NONE),r},t.prototype.blit=function(n,e,r){var i=this,s=i.current,c=i.gl;if(2===i.renderer.context.webGLVersion&&s){var f=s.glFramebuffers[i.CONTEXT_UID];if(f){if(!n){if(!f.msaaBuffer)return;var v=s.colorTextures[0];if(!v)return;f.blitFramebuffer||(f.blitFramebuffer=new s3(s.width,s.height),f.blitFramebuffer.addColorTexture(0,v)),(n=f.blitFramebuffer).colorTextures[0]!==v&&(n.colorTextures[0]=v,n.dirtyId++,n.dirtyFormat++),(n.width!==s.width||n.height!==s.height)&&(n.width=s.width,n.height=s.height,n.dirtyId++,n.dirtySize++)}e||((e=AW).width=s.width,e.height=s.height),r||(r=e);var E=e.width===r.width&&e.height===r.height;this.bind(n),c.bindFramebuffer(c.READ_FRAMEBUFFER,f.framebuffer),c.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,c.COLOR_BUFFER_BIT,E?c.NEAREST:c.LINEAR)}}},t.prototype.disposeFramebuffer=function(n,e){var r=n.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete n.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(n);s>=0&&this.managedFramebuffers.splice(s,1),n.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(n){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],n)},t.prototype.forceStencil=function(){var n=this.current;if(n){var e=n.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){n.stencil=!0;var r=n.width,i=n.height,s=this.gl,l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),e.stencil=l,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Xt},t.prototype.destroy=function(){this.renderer=null},t}(),u3={5126:4,5123:2,5121:1},wS=function(){function t(n){this.renderer=n,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var n=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;Ze.PREFER_ENV===Ss.WEBGL_LEGACY&&(r=null),r?(n.createVertexArray=function(){return r.createVertexArrayOES()},n.bindVertexArray=function(s){return r.bindVertexArrayOES(s)},n.deleteVertexArray=function(s){return r.deleteVertexArrayOES(s)}):(this.hasVao=!1,n.createVertexArray=function(){return null},n.bindVertexArray=function(){return null},n.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=n.getExtension("ANGLE_instanced_arrays");i?(n.vertexAttribDivisor=function(s,l){return i.vertexAttribDivisorANGLE(s,l)},n.drawElementsInstanced=function(s,l,c,h,f){return i.drawElementsInstancedANGLE(s,l,c,h,f)},n.drawArraysInstanced=function(s,l,c,h){return i.drawArraysInstancedANGLE(s,l,c,h)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(n,e){e=e||this.renderer.shader.shader;var r=this.gl,i=n.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[n.id]=n,n.disposeRunner.add(this),n.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var l=i[e.program.id]||this.initGeometryVao(n,e,s);this._activeGeometry=n,this._activeVao!==l&&(this._activeVao=l,this.hasVao?r.bindVertexArray(l):this.activateVao(n,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var n=this._activeGeometry,e=this.renderer.buffer,r=0;r<n.buffers.length;r++)e.update(n.buffers[r])},t.prototype.checkCompatibility=function(n,e){var r=n.attributes,i=e.attributeData;for(var s in i)if(!r[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(n,e){var r=n.attributes,i=e.attributeData,s=["g",n.id];for(var l in r)i[l]&&s.push(l);return s.join("-")},t.prototype.initGeometryVao=function(n,e,r){void 0===r&&(r=!0);var i=this.gl,s=this.CONTEXT_UID,l=this.renderer.buffer,c=e.program;c.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(n,c);var h=this.getSignature(n,c),f=n.glVertexArrayObjects[this.CONTEXT_UID],v=f[h];if(v)return f[c.id]=v,v;var E=n.buffers,b=n.attributes,y={},T={};for(var A in E)y[A]=0,T[A]=0;for(var A in b)!b[A].size&&c.attributeData[A]?b[A].size=c.attributeData[A].size:b[A].size||console.warn("PIXI Geometry attribute '"+A+"' size cannot be determined (likely the bound shader does not have the attribute)"),y[b[A].buffer]+=b[A].size*u3[b[A].type];for(var A in b){var O=b[A],R=O.size;void 0===O.stride&&(O.stride=y[O.buffer]===R*u3[O.type]?0:y[O.buffer]),void 0===O.start&&(O.start=T[O.buffer],T[O.buffer]+=R*u3[O.type])}v=i.createVertexArray(),i.bindVertexArray(v);for(var q=0;q<E.length;q++){var Q=E[q];l.bind(Q),r&&Q._glBuffers[s].refCount++}return this.activateVao(n,c),this._activeVao=v,f[c.id]=v,f[h]=v,v},t.prototype.disposeGeometry=function(n,e){var r;if(this.managedGeometries[n.id]){delete this.managedGeometries[n.id];var i=n.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,l=n.buffers,c=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(n.disposeRunner.remove(this),i){if(c)for(var h=0;h<l.length;h++){var f=l[h]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,0===f.refCount&&!e&&c.dispose(l[h],e))}if(!e)for(var v in i)if("g"===v[0]){var E=i[v];this._activeVao===E&&this.unbind(),s.deleteVertexArray(E)}delete n.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(n){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],n)},t.prototype.activateVao=function(n,e){var r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,l=n.buffers,c=n.attributes;n.indexBuffer&&s.bind(n.indexBuffer);var h=null;for(var f in c){var v=c[f],E=l[v.buffer],b=E._glBuffers[i];if(e.attributeData[f]){h!==b&&(s.bind(E),h=b);var y=e.attributeData[f].location;if(r.enableVertexAttribArray(y),r.vertexAttribPointer(y,v.size,v.type||r.FLOAT,v.normalized,v.stride,v.start),v.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(y,1)}}}},t.prototype.draw=function(n,e,r,i){var s=this.gl,l=this._activeGeometry;if(l.indexBuffer){var c=l.indexBuffer.data.BYTES_PER_ELEMENT,h=2===c?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===c||4===c&&this.canUseUInt32ElementIndex?l.instanced?s.drawElementsInstanced(n,e||l.indexBuffer.data.length,h,(r||0)*c,i||1):s.drawElements(n,e||l.indexBuffer.data.length,h,(r||0)*c):console.warn("unsupported index buffer type: uint32")}else l.instanced?s.drawArraysInstanced(n,r,e||l.getSize(),i||1):s.drawArrays(n,r,e||l.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),MW=function(){function t(n){void 0===n&&(n=null),this.type=ii.NONE,this.autoDetect=!0,this.maskObject=n||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ze.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(n){n?this._filters?this._filters[0]=n:this._filters=[n]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ii.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(n){n?(this._stencilCounter=n._stencilCounter,this._scissorCounter=n._scissorCounter,this._scissorRect=n._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function TS(t,n,e){var r=t.createShader(n);return t.shaderSource(r,e),t.compileShader(r),r}function AS(t,n){var e=t.getShaderSource(n).split("\n").map(function(f,v){return v+": "+f}),r=t.getShaderInfoLog(n),i=r.split("\n"),s={},l=i.map(function(f){return parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(f){return!(!f||s[f]||(s[f]=!0,0))}),c=[""];l.forEach(function(f){e[f-1]="%c"+e[f-1]+"%c",c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var h=e.join("\n");c[0]=h,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,c),console.groupEnd()}function l3(t){for(var n=new Array(t),e=0;e<n.length;e++)n[e]=!1;return n}function MS(t,n){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*n);case"vec3":return new Float32Array(3*n);case"vec4":return new Float32Array(4*n);case"ivec2":return new Int32Array(2*n);case"ivec3":return new Int32Array(3*n);case"ivec4":return new Int32Array(4*n);case"uvec2":return new Uint32Array(2*n);case"uvec3":return new Uint32Array(3*n);case"uvec4":return new Uint32Array(4*n);case"bool":return!1;case"bvec2":return l3(2*n);case"bvec3":return l3(3*n);case"bvec4":return l3(4*n);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Pp,NS={},h1=NS;function OS(t,n,e){if("precision"!==t.substring(0,9)){var r=n;return n===zo.HIGH&&e!==zo.HIGH&&(r=zo.MEDIUM),"precision "+r+" float;\n"+t}return e!==zo.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var PW={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function IS(t){return PW[t]}var Rp=null,PS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function RS(t,n){if(!Rp){var e=Object.keys(PS);Rp={};for(var r=0;r<e.length;++r){var i=e[r];Rp[t[i]]=PS[i]}}return Rp[n]}var f1,X0=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,n){return"mat3"===t.type&&1===t.size&&void 0!==n.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,n){return"vec2"===t.type&&1===t.size&&void 0!==n.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,n){return"vec4"===t.type&&1===t.size&&void 0!==n.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],RW={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},FW={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},LW=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function BW(t){for(var n="",e=0;e<t;++e)e>0&&(n+="\nelse "),e<t-1&&(n+="if(test == "+e+".0){}");return n}var VW=0,Fp={},p1=function(){function t(n,e,r){void 0===r&&(r="pixi-shader"),this.id=VW++,this.vertexSrc=n||t.defaultVertexSrc,this.fragmentSrc=e||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Fp[r]?(Fp[r]++,r+="-"+Fp[r]):Fp[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=OS(this.vertexSrc,Ze.PRECISION_VERTEX,zo.HIGH),this.fragmentSrc=OS(this.fragmentSrc,Ze.PRECISION_FRAGMENT,function(){if(!Pp){Pp=zo.MEDIUM;var t=function(){if(h1===NS||h1&&h1.isContextLost()){var t=document.createElement("canvas"),n=void 0;Ze.PREFER_ENV>=Ss.WEBGL2&&(n=t.getContext("webgl2",{})),n||((n=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?n.getExtension("WEBGL_draw_buffers"):n=null),h1=n}return h1}();if(t&&t.getShaderPrecisionFormat){var n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Pp=n.precision?zo.HIGH:zo.MEDIUM}}return Pp}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(n,e,r){var i=n+e,s=tS[i];return s||(tS[i]=s=new t(n,e,r)),s},t}(),yu=function(){function t(n,e){this.uniformBindCount=0,this.program=n,this.uniformGroup=e?e instanceof sl?e:new sl(e):new sl({})}return t.prototype.checkUniformExists=function(n,e){if(e.uniforms[n])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(n,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(n,e,r){return new t(p1.from(n,e),r)},t}(),al=function(){function t(){this.data=0,this.blendMode=tt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(n){!!(1&this.data)!==n&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(n){!!(2&this.data)!==n&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(n){!!(4&this.data)!==n&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(n){!!(8&this.data)!==n&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(n){!!(32&this.data)!==n&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(n){!!(16&this.data)!==n&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(n){this.blend=n!==tt.NONE,this._blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(n){this.offsets=!!n,this._polygonOffset=n},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var n=new t;return n.depthTest=!1,n.blend=!0,n},t}(),La=function(t){function n(e,r,i){var s=this,l=p1.from(e||n.defaultVertexSrc,r||n.defaultFragmentSrc);return(s=t.call(this,l,i)||this).padding=0,s.resolution=Ze.FILTER_RESOLUTION,s.multisample=Ze.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new al,s}return Rn(n,t),n.prototype.apply=function(e,r,i,s,l){e.applyFilter(this,r,i,s)},Object.defineProperty(n.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),n}(yu),FS=new xr,g3=function(){function t(n,e){this._texture=n,this.mapCoord=new xr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(n){this._texture=n,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(n,e){void 0===e&&(e=n);for(var r=this.mapCoord,i=0;i<n.length;i+=2){var s=n[i],l=n[i+1];e[i]=s*r.a+l*r.c+r.tx,e[i+1]=s*r.b+l*r.d+r.ty}return e},t.prototype.update=function(n){var e=this._texture;if(!e||!e.valid||!n&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,s=e.trim;s&&(FS.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(FS));var l=e.baseTexture,c=this.uClampFrame,h=this.clampMargin/l.resolution,f=this.clampOffset;return c[0]=(e._frame.x+h+f)/l.width,c[1]=(e._frame.y+h+f)/l.height,c[2]=(e._frame.x+e._frame.width-h+f)/l.width,c[3]=(e._frame.y+e._frame.height-h+f)/l.height,this.uClampOffset[0]=f/l.realWidth,this.uClampOffset[1]=f/l.realHeight,this.isSimple=e._frame.width===l.width&&e._frame.height===l.height&&0===e.rotate,!0},t}(),WW=function(t){function n(e,r,i){var s=this,l=null;return"string"!=typeof e&&void 0===r&&void 0===i&&(l=e,e=void 0,r=void 0,i=void 0),(s=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)||this).maskSprite=l,s.maskMatrix=new xr,s}return Rn(n,t),Object.defineProperty(n.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),n.prototype.apply=function(e,r,i,s){var l=this._maskSprite,c=l._texture;!c.valid||(c.uvMatrix||(c.uvMatrix=new g3(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,l).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=l.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,r,i,s))},n}(La),kS=function(){function t(n){this.renderer=n,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(n){this.maskStack=n,this.renderer.scissor.setMaskStack(n),this.renderer.stencil.setMaskStack(n)},t.prototype.push=function(n,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new MW;i.pooled=!0,i.maskObject=e,r=i}if(r.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),r.autoDetect&&this.detect(r),r._target=n,r.type!==ii.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case ii.SCISSOR:this.renderer.scissor.push(r);break;case ii.STENCIL:this.renderer.stencil.push(r);break;case ii.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===ii.SPRITE&&this.maskStack.push(r)},t.prototype.pop=function(n){var e=this.maskStack.pop();if(e&&e._target===n){if(e.enabled)switch(e.type){case ii.SCISSOR:this.renderer.scissor.pop();break;case ii.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ii.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===ii.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},t.prototype.detect=function(n){n.type=n.maskObject.isSprite?ii.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(n)?ii.SCISSOR:ii.STENCIL},t.prototype.pushSpriteMask=function(n){var e,r,i=n.maskObject,s=n._target,l=n._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex])||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new WW]);var f,v,c=this.renderer,h=c.renderTexture;if(h.current){var E=h.current;f=n.resolution||E.resolution,v=null!==(e=n.multisample)&&void 0!==e?e:E.multisample}else f=n.resolution||c.resolution,v=null!==(r=n.multisample)&&void 0!==r?r:c.multisample;l[0].resolution=f,l[0].multisample=v,l[0].maskSprite=i;var b=s.filterArea;s.filterArea=i.getBounds(!0),c.filter.push(s,l),s.filterArea=b,n._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(n){this.renderer.filter.pop(),n._filters?n._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),LS=function(){function t(n){this.renderer=n,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(n){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=n;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),BS=new xr,qS=function(t){function n(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return Rn(n,t),n.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},n.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var r=e._scissorRect,i=e.maskObject,s=this.renderer,l=s.renderTexture;i.renderable=!0;var c=i.getBounds();this.roundFrameToPixels(c,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),i.renderable=!1,r&&c.fit(r),e._scissorRectLocal=c}},n.isMatrixRotated=function(e){if(!e)return!1;var r=e.a,s=e.c,l=e.d;return(Math.abs(e.b)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(l)>1e-4)},n.prototype.testScissor=function(e){var r=e.maskObject;if(!r.isFastRect||!r.isFastRect()||n.isMatrixRotated(r.worldTransform)||n.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},n.prototype.roundFrameToPixels=function(e,r,i,s,l){n.isMatrixRotated(l)||((l=l?BS.copyFrom(l):BS.identity()).translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(l,e),e.fit(s),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))},n.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var r=this.renderer.gl;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},n.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},n.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},n}(LS),US=function(t){function n(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return Rn(n,t),n.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},n.prototype.push=function(e){var r=e.maskObject,i=this.renderer.gl,s=e._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},n.prototype.pop=function(e){var r=this.renderer.gl;0===this.getStackLength()?(r.disable(r.STENCIL_TEST),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},n.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},n}(LS),HS=function(){function t(n){this.renderer=n,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xr,this.transform=null}return t.prototype.update=function(n,e,r,i){this.destinationFrame=n||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||n,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(n,e,r,i){var s=this.projectionMatrix,l=i?-1:1;s.identity(),s.a=1/e.width*2,s.d=l*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-l-e.y*s.d},t.prototype.setTransform=function(n){},t.prototype.destroy=function(){this.renderer=null},t}(),ul=new Xt,m1=new Xt,zS=function(){function t(n){this.renderer=n,this.clearColor=n._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Xt,this.destinationFrame=new Xt,this.viewportFrame=new Xt}return t.prototype.bind=function(n,e,r){void 0===n&&(n=null);var s,l,c,i=this.renderer;this.current=n,n?(c=(s=n.baseTexture).resolution,e||(ul.width=n.frame.width,ul.height=n.frame.height,e=ul),r||(m1.x=n.frame.x,m1.y=n.frame.y,m1.width=e.width,m1.height=e.height,r=m1),l=s.framebuffer):(c=i.resolution,e||(ul.width=i.screen.width,ul.height=i.screen.height,e=ul),r||((r=ul).width=e.width,r.height=e.height));var h=this.viewportFrame;h.x=r.x*c,h.y=r.y*c,h.width=r.width*c,h.height=r.height*c,n||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(l,h),this.renderer.projection.update(r,e,c,!l),this.renderer.mask.setMaskStack(n?s.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(n,e){n=this.current?n||this.current.baseTexture.clearColor:n||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=r.width!==i.width||r.height!==i.height;if(s){var l=this.viewportFrame,c=l.x,h=l.y,f=l.width,v=l.height;c=Math.round(c),h=Math.round(h),f=Math.round(f),v=Math.round(v),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,v)}this.renderer.framebuffer.clear(n[0],n[1],n[2],n[3],e),s&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function XW(t,n,e,r,i){e.buffer.update(i)}var JW={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},VS={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var eX=function(){function t(n,e){this.program=n,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();var iX=0,kp={textureCount:0,uboCount:0},GS=function(){function t(n){this.destroyed=!1,this.renderer=n,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=iX++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof f1)return f1;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");f1=!0===t({a:"b"},"a","b")}catch(n){f1=!1}return f1}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(n){this.gl=n,this.reset()},t.prototype.bind=function(n,e){n.uniforms.globals=this.renderer.globalUniforms;var r=n.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(n);return this.shader=n,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(kp.textureCount=0,kp.uboCount=0,this.syncUniformGroup(n.uniformGroup,kp)),i},t.prototype.setUniforms=function(n){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,n,this.renderer)},t.prototype.syncUniformGroup=function(n,e){var r=this.getGlProgram();(!n.static||n.dirtyId!==r.uniformDirtyGroups[n.id])&&(r.uniformDirtyGroups[n.id]=n.dirtyId,this.syncUniforms(n,r,e))},t.prototype.syncUniforms=function(n,e,r){(n.syncUniforms[this.shader.program.id]||this.createSyncGroups(n))(e.uniformData,n.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(n){var e=this.getSignature(n,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,n){var e,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in t.uniforms){var s=n[i];if(s){for(var l=t.uniforms[i],c=!1,h=0;h<X0.length;h++)if(X0[h].test(s,l)){r.push(X0[h].code(i,l)),c=!0;break}if(!c){var v=(1===s.size?RW:FW)[s.type].replace("location",'ud["'+i+'"].location');r.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+v+";")}}else(null===(e=t.uniforms[i])||void 0===e?void 0:e.group)&&r.push(t.uniforms[i].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(n,this.shader.program.uniformData)),n.syncUniforms[this.shader.program.id]=this.cache[e],n.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(n,e){var r=this.getGlProgram();if(!n.static||0!==n.dirtyId||!r.uniformGroups[n.id]){n.dirtyId=0;var i=r.uniformGroups[n.id]||this.createSyncBufferGroup(n,r,e);n.buffer.update(),i(r.uniformData,n.uniforms,this.renderer,kp,n.buffer)}this.renderer.buffer.bindBufferBase(n.buffer,r.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(n,e,r){var i=this.renderer.gl;this.renderer.buffer.bind(n.buffer);var s=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var l=this.getSignature(n,this.shader.program.uniformData,"ubo"),c=this._uboCache[l];if(c||(c=this._uboCache[l]=function(t,n){if(!t.autoManage)return{size:0,syncFunc:XW};for(var e=function(t,n){var e=[];for(var r in t)n[r]&&e.push(n[r]);return e.sort(function(i,s){return i.index-s.index}),e}(t.uniforms,n),r=function(t){for(var n=t.map(function(h){return{data:h,offset:0,dataLen:0,dirty:0}}),e=0,r=0,i=0,s=0;s<n.length;s++){var l=n[s];if(e=VS[l.data.type],l.data.size>1&&(e=Math.max(e,16)*l.data.size),l.dataLen=e,r%e!=0&&r<16){var c=r%e%16;r+=c,i+=c}r+e>16?(i=16*Math.ceil(i/16),l.offset=i,i+=e,r=e):(l.offset=i,r+=e,i+=e)}return{uboElements:n,size:i=16*Math.ceil(i/16)}}(e),i=r.uboElements,s=r.size,l=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],c=0;c<i.length;c++){for(var h=i[c],f=t.uniforms[h.data.name],v=h.data.name,E=!1,b=0;b<X0.length;b++){var y=X0[b];if(y.codeUbo&&y.test(h.data,f)){l.push("offset = "+h.offset/4+";",X0[b].codeUbo(h.data.name,f)),E=!0;break}}if(!E)if(h.data.size>1){var T=IS(h.data.type),A=Math.max(VS[h.data.type]/16,1),O=T/A;l.push("\n                cv = ud."+v+".value;\n                v = uv."+v+";\n                offset = "+h.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+h.data.size*A+"; i++)\n                {\n                    for(var j = 0; j < "+O+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-O%4)%4+";\n                }\n\n                ")}else l.push("\n                cv = ud."+v+".value;\n                v = uv."+v+";\n                offset = "+h.offset/4+";\n                "+JW[h.data.type]+";\n                ")}return l.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",l.join("\n"))}}(n,this.shader.program.uniformData)),n.autoManage){var h=new Float32Array(c.size/4);n.buffer.update(h)}return e.uniformGroups[n.id]=c.syncFunc,e.uniformGroups[n.id]},t.prototype.getSignature=function(n,e,r){var i=n.uniforms,s=[r+"-"];for(var l in i)s.push(l),e[l]&&s.push(e[l].type);return s.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(n){var r=n.program,i=function(t,n){var e=TS(t,t.VERTEX_SHADER,n.vertexSrc),r=TS(t,t.FRAGMENT_SHADER,n.fragmentSrc),i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||function(t,n,e,r){t.getProgramParameter(n,t.LINK_STATUS)||(t.getShaderParameter(e,t.COMPILE_STATUS)||AS(t,e),t.getShaderParameter(r,t.COMPILE_STATUS)||AS(t,r),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(n)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(n)))}(t,i,e,r),n.attributeData=function(t,n){for(var e={},r=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var s=n.getActiveAttrib(t,i);if(0!==s.name.indexOf("gl_")){var l=RS(n,s.type),c={type:l,name:s.name,size:IS(l),location:n.getAttribLocation(t,s.name)};e[s.name]=c}}return e}(i,t),n.uniformData=function(t,n){for(var e={},r=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),i=0;i<r;i++){var s=n.getActiveUniform(t,i),l=s.name.replace(/\[.*?\]$/,""),c=!!s.name.match(/\[.*?\]$/),h=RS(n,s.type);e[l]={name:l,index:i,type:h,size:s.size,isArray:c,value:MS(h,s.size)}}return e}(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(n.vertexSrc)){var s=Object.keys(n.attributeData);s.sort(function(v,E){return v>E?1:-1});for(var l=0;l<s.length;l++)n.attributeData[s[l]].location=l,t.bindAttribLocation(i,l,s[l]);t.linkProgram(i)}t.deleteShader(e),t.deleteShader(r);var c={};for(var l in n.uniformData){var h=n.uniformData[l];c[l]={location:t.getUniformLocation(i,l),value:MS(h.type,h.size)}}return new eX(i,c)}(this.gl,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}(),jS=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=tt.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new al,this.defaultState.blend=!0}return t.prototype.contextChange=function(n){this.gl=n,this.blendModes=function(t,n){return void 0===n&&(n=[]),n[tt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.ADD]=[t.ONE,t.ONE],n[tt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.NONE]=[0,0],n[tt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],n[tt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],n[tt.SRC_IN]=[t.DST_ALPHA,t.ZERO],n[tt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],n[tt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],n[tt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],n[tt.DST_IN]=[t.ZERO,t.SRC_ALPHA],n[tt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],n[tt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],n[tt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],n[tt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],n}(n),this.set(this.defaultState),this.reset()},t.prototype.set=function(n){if(this.stateId!==(n=n||this.defaultState).data){for(var e=this.stateId^n.data,r=0;e;)1&e&&this.map[r].call(this,!!(n.data&1<<r)),e>>=1,r++;this.stateId=n.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,n)},t.prototype.forceState=function(n){n=n||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(n.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,n);this.stateId=n.data},t.prototype.setBlend=function(n){this.updateCheck(t.checkBlendMode,n),this.gl[n?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(n){this.updateCheck(t.checkPolygonOffset,n),this.gl[n?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(n){this.gl[n?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(n){this.gl.depthMask(n)},t.prototype.setCullFace=function(n){this.gl[n?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(n){this.gl.frontFace(this.gl[n?"CW":"CCW"])},t.prototype.setBlendMode=function(n){if(n!==this.blendMode){this.blendMode=n;var e=this.blendModes[n],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},t.prototype.setPolygonOffset=function(n,e){this.gl.polygonOffset(n,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(n,e){var r=this.checks.indexOf(n);e&&-1===r?this.checks.push(n):!e&&-1!==r&&this.checks.splice(r,1)},t.checkBlendMode=function(n,e){n.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(n,e){n.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),$S=function(){function t(n){this.renderer=n,this.count=0,this.checkCount=0,this.maxIdle=Ze.GC_MAX_IDLE,this.checkCountMax=Ze.GC_MAX_CHECK_COUNT,this.mode=Ze.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==vp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var n=this.renderer.texture,e=n.managedTextures,r=!1,i=0;i<e.length;i++){var s=e[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(n.destroyTexture(s,!0),e[i]=null,r=!0)}if(r){var l=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[l++]=e[i]);e.length=l}},t.prototype.unload=function(n){var r=n._texture;r&&!r.framebuffer&&this.renderer.texture.destroyTexture(r);for(var i=n.children.length-1;i>=0;i--)this.unload(n.children[i])},t.prototype.destroy=function(){this.renderer=null},t}(),v3=function(n){this.texture=n,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=at.UNSIGNED_BYTE,this.internalFormat=Fe.RGBA,this.samplerType=0},YS=function(){function t(n){this.renderer=n,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new an,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var n=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var n,e,r,i,s,l,c,h,f,v,E,b,y,T,A,O,R,q,Q,B,L,V,ve;return"WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?((n={})[at.UNSIGNED_BYTE]=((e={})[Fe.RGBA]=t.RGBA8,e[Fe.RGB]=t.RGB8,e[Fe.RG]=t.RG8,e[Fe.RED]=t.R8,e[Fe.RGBA_INTEGER]=t.RGBA8UI,e[Fe.RGB_INTEGER]=t.RGB8UI,e[Fe.RG_INTEGER]=t.RG8UI,e[Fe.RED_INTEGER]=t.R8UI,e[Fe.ALPHA]=t.ALPHA,e[Fe.LUMINANCE]=t.LUMINANCE,e[Fe.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),n[at.BYTE]=((r={})[Fe.RGBA]=t.RGBA8_SNORM,r[Fe.RGB]=t.RGB8_SNORM,r[Fe.RG]=t.RG8_SNORM,r[Fe.RED]=t.R8_SNORM,r[Fe.RGBA_INTEGER]=t.RGBA8I,r[Fe.RGB_INTEGER]=t.RGB8I,r[Fe.RG_INTEGER]=t.RG8I,r[Fe.RED_INTEGER]=t.R8I,r),n[at.UNSIGNED_SHORT]=((i={})[Fe.RGBA_INTEGER]=t.RGBA16UI,i[Fe.RGB_INTEGER]=t.RGB16UI,i[Fe.RG_INTEGER]=t.RG16UI,i[Fe.RED_INTEGER]=t.R16UI,i[Fe.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),n[at.SHORT]=((s={})[Fe.RGBA_INTEGER]=t.RGBA16I,s[Fe.RGB_INTEGER]=t.RGB16I,s[Fe.RG_INTEGER]=t.RG16I,s[Fe.RED_INTEGER]=t.R16I,s),n[at.UNSIGNED_INT]=((l={})[Fe.RGBA_INTEGER]=t.RGBA32UI,l[Fe.RGB_INTEGER]=t.RGB32UI,l[Fe.RG_INTEGER]=t.RG32UI,l[Fe.RED_INTEGER]=t.R32UI,l[Fe.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,l),n[at.INT]=((c={})[Fe.RGBA_INTEGER]=t.RGBA32I,c[Fe.RGB_INTEGER]=t.RGB32I,c[Fe.RG_INTEGER]=t.RG32I,c[Fe.RED_INTEGER]=t.R32I,c),n[at.FLOAT]=((h={})[Fe.RGBA]=t.RGBA32F,h[Fe.RGB]=t.RGB32F,h[Fe.RG]=t.RG32F,h[Fe.RED]=t.R32F,h[Fe.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,h),n[at.HALF_FLOAT]=((f={})[Fe.RGBA]=t.RGBA16F,f[Fe.RGB]=t.RGB16F,f[Fe.RG]=t.RG16F,f[Fe.RED]=t.R16F,f),n[at.UNSIGNED_SHORT_5_6_5]=((v={})[Fe.RGB]=t.RGB565,v),n[at.UNSIGNED_SHORT_4_4_4_4]=((E={})[Fe.RGBA]=t.RGBA4,E),n[at.UNSIGNED_SHORT_5_5_5_1]=((b={})[Fe.RGBA]=t.RGB5_A1,b),n[at.UNSIGNED_INT_2_10_10_10_REV]=((y={})[Fe.RGBA]=t.RGB10_A2,y[Fe.RGBA_INTEGER]=t.RGB10_A2UI,y),n[at.UNSIGNED_INT_10F_11F_11F_REV]=((T={})[Fe.RGB]=t.R11F_G11F_B10F,T),n[at.UNSIGNED_INT_5_9_9_9_REV]=((A={})[Fe.RGB]=t.RGB9_E5,A),n[at.UNSIGNED_INT_24_8]=((O={})[Fe.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,O),n[at.FLOAT_32_UNSIGNED_INT_24_8_REV]=((R={})[Fe.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,R),ve=n):((q={})[at.UNSIGNED_BYTE]=((Q={})[Fe.RGBA]=t.RGBA,Q[Fe.RGB]=t.RGB,Q[Fe.ALPHA]=t.ALPHA,Q[Fe.LUMINANCE]=t.LUMINANCE,Q[Fe.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,Q),q[at.UNSIGNED_SHORT_5_6_5]=((B={})[Fe.RGB]=t.RGB,B),q[at.UNSIGNED_SHORT_4_4_4_4]=((L={})[Fe.RGBA]=t.RGBA,L),q[at.UNSIGNED_SHORT_5_5_5_1]=((V={})[Fe.RGBA]=t.RGBA,V),ve=q),ve}(n);var e=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new v3(n.createTexture());for(n.bindTexture(n.TEXTURE_2D,i.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[n.TEXTURE_2D]=i,this.emptyTextures[n.TEXTURE_CUBE_MAP]=new v3(n.createTexture()),n.bindTexture(n.TEXTURE_CUBE_MAP,this.emptyTextures[n.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,null);for(n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,n.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},t.prototype.bind=function(n,e){void 0===e&&(e=0);var r=this.gl;if((n=null==n?void 0:n.castToBaseTexture())&&n.valid&&!n.parentTextureArray){n.touched=this.renderer.textureGC.count;var i=n._glTextures[this.CONTEXT_UID]||this.initTexture(n);this.boundTextures[e]!==n&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(n.target,i.texture)),i.dirtyId!==n.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(n)),this.boundTextures[e]=n}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]=this.unknownTexture},t.prototype.unbind=function(n){var r=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(s=0;s<i.length;s++)i[s]===n&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(n.target,this.emptyTextures[n.target].texture),i[s]=null)},t.prototype.ensureSamplerType=function(n){var e=this,r=e.boundTextures,s=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var l=n-1;l>=0;--l){var c=r[l];c&&c._glTextures[s].samplerType!==l1.FLOAT&&this.renderer.texture.unbind(c)}},t.prototype.initTexture=function(n){var e=new v3(this.gl.createTexture());return e.dirtyId=-1,n._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(n),n.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(n,e){var r,i;e.internalFormat=null!==(i=null===(r=this.internalFormats[n.type])||void 0===r?void 0:r[n.format])&&void 0!==i?i:n.format,e.type=2===this.webGLVersion&&n.type===at.HALF_FLOAT?this.gl.HALF_FLOAT:n.type},t.prototype.updateTexture=function(n){var e=n._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(n,e),n.resource&&n.resource.upload(r,n,e))e.samplerType!==l1.FLOAT&&(this.hasIntegerTextures=!0);else{var i=n.realWidth,s=n.realHeight,l=r.gl;(e.width!==i||e.height!==s||e.dirtyId<0)&&(e.width=i,e.height=s,l.texImage2D(n.target,0,e.internalFormat,i,s,0,n.format,e.type,null))}n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(n),e.dirtyId=n.dirtyId}},t.prototype.destroyTexture=function(n,e){var r=this.gl;if((n=n.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(n),r.deleteTexture(n._glTextures[this.CONTEXT_UID].texture),n.off("dispose",this.destroyTexture,this),delete n._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(n);-1!==i&&j0(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(n){var e=n._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(n.mipmap!==Ra.POW2&&2===this.webGLVersion||n.isPowerOfTwo)&&n.mipmap>=1,e.wrapMode=2===this.webGLVersion||n.isPowerOfTwo?n.wrapMode:ws.CLAMP,n.resource&&n.resource.style(this.renderer,n,e)||this.setStyle(n,e),e.dirtyStyleId=n.dirtyStyleId)},t.prototype.setStyle=function(n,e){var r=this.gl;if(e.mipmap&&n.mipmap!==Ra.ON_MANUAL&&r.generateMipmap(n.target),r.texParameteri(n.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(n.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(n.target,r.TEXTURE_MIN_FILTER,n.scaleMode===Ds.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&n.anisotropicLevel>0&&n.scaleMode===Ds.LINEAR){var s=Math.min(n.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(n.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(n.target,r.TEXTURE_MIN_FILTER,n.scaleMode===Ds.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(n.target,r.TEXTURE_MAG_FILTER,n.scaleMode===Ds.LINEAR?r.LINEAR:r.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),WS={__proto__:null,FilterSystem:yS,BatchSystem:xS,ContextSystem:SS,FramebufferSystem:DS,GeometrySystem:wS,MaskSystem:kS,ScissorSystem:qS,StencilSystem:US,ProjectionSystem:HS,RenderTextureSystem:zS,ShaderSystem:GS,StateSystem:jS,TextureGCSystem:$S,TextureSystem:YS},E3=new xr,fX=function(t){function n(e,r){void 0===e&&(e=z0.UNKNOWN);var i=t.call(this)||this;return r=Object.assign({},Ze.RENDER_OPTIONS,r),i.options=r,i.type=e,i.screen=new Xt(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||Ze.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(bu("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return Rn(n,t),n.prototype.initPlugins=function(e){for(var r in e)this.plugins[r]=new e[r](this)},Object.defineProperty(n.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),n.prototype.resize=function(e,r){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(r*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},n.prototype.generateTexture=function(e,r,i,s){void 0===r&&(r={}),"number"==typeof r&&(bu("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:i,region:s});var l=r.region,c=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&(e[r[i]]=t[r[i]])}return e}(r,["region"]);0===(s=l||e.getLocalBounds(null,!0)).width&&(s.width=1),0===s.height&&(s.height=1);var h=ol.create(n3({width:s.width,height:s.height},c));return E3.tx=-s.x,E3.ty=-s.y,this.render(e,{renderTexture:h,clear:!1,transform:E3,skipUpdateTransform:!!e.parent}),h},n.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=z0.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=YC(e),G0(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),n}(a1()),pX=function(n){this.buffer=n||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},mX=function(){function t(n){this.renderer=n,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(n){var r=this.gl,s=n._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(n);r.bindBuffer(n.type,s.buffer)},t.prototype.bindBufferBase=function(n,e){var i=this.gl;if(this.boundBufferBases[e]!==n){var l=n._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(n);this.boundBufferBases[e]=n,i.bindBufferBase(i.UNIFORM_BUFFER,e,l.buffer)}},t.prototype.bindBufferRange=function(n,e,r){var s=this.gl;r=r||0;var c=n._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(n);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,c.buffer,256*r,256)},t.prototype.update=function(n){var r=this.gl,s=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==s.updateID)if(s.updateID=n._updateID,r.bindBuffer(n.type,s.buffer),s.byteLength>=n.data.byteLength)r.bufferSubData(n.type,0,n.data);else{var l=n.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=n.data.byteLength,r.bufferData(n.type,n.data,l)}},t.prototype.dispose=function(n,e){if(this.managedBuffers[n.id]){delete this.managedBuffers[n.id];var r=n._glBuffers[this.CONTEXT_UID],i=this.gl;n.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete n._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(n){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],n)},t.prototype.createGLBuffer=function(n){var r=this.CONTEXT_UID;return n._glBuffers[r]=new pX(this.gl.createBuffer()),this.managedBuffers[n.id]=n,n.disposeRunner.add(this),n._glBuffers[r]},t}(),xu=function(t){function n(e){var r=t.call(this,z0.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new vi("destroy"),contextChange:new vi("contextChange"),reset:new vi("reset"),update:new vi("update"),postrender:new vi("postrender"),prerender:new vi("prerender"),resize:new vi("resize")},r.runners.contextChange.add(r),r.globalUniforms=new sl({projectionMatrix:new xr},!0),r.addSystem(kS,"mask").addSystem(SS,"context").addSystem(jS,"state").addSystem(GS,"shader").addSystem(YS,"texture").addSystem(mX,"buffer").addSystem(wS,"geometry").addSystem(DS,"framebuffer").addSystem(qS,"scissor").addSystem(US,"stencil").addSystem(HS,"projection").addSystem($S,"textureGC").addSystem(yS,"filter").addSystem(zS,"renderTexture").addSystem(xS,"batch"),r.initPlugins(n.__plugins),r.multisample=void 0,e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:e.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(t){var n;G4||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(n=self.console).log.apply(n,["\n %c %c %c PixiJS 6.2.0 - \u2730 "+t+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.0 - "+t+" - http://www.pixijs.com/"),G4=!0)}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return Rn(n,t),n.create=function(e){if(void 0===j4&&(j4=function(){var n={stencil:!0,failIfMajorPerformanceCaveat:Ze.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),i=!(!r||!r.getContextAttributes().stencil);if(r){var s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,i}catch(l){return!1}}()),j4)return new n(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},n.prototype.contextChange=function(){var r,e=this.gl;if(1===this.context.webGLVersion){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i);this.multisample=r>=br.HIGH?br.HIGH:r>=br.MEDIUM?br.MEDIUM:r>=br.LOW?br.LOW:br.NONE},n.prototype.addSystem=function(e,r){var i=new e(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var s in this[r]=i,this.runners)this.runners[s].add(i);return this},n.prototype.render=function(e,r){var i,s,l,c;if(r&&(r instanceof ol?(bu("6.0.0","Renderer#render arguments changed, use options instead."),i=r,s=arguments[2],l=arguments[3],c=arguments[4]):(i=r.renderTexture,s=r.clear,l=r.transform,c=r.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=l,!this.context.isLost){if(i||(this._lastObjectRendered=e),!c){var h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==s?s:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},n.prototype.generateTexture=function(e,r,i,s){void 0===r&&(r={});var l=t.prototype.generateTexture.call(this,e,r,i,s);return this.framebuffer.blit(),l},n.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(this.screen.height,this.screen.width)},n.prototype.reset=function(){return this.runners.reset.emit(),this},n.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},n.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(n.prototype,"extract",{get:function(){return bu("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),n.registerPlugin=function(e,r){(n.__plugins=n.__plugins||{})[e]=r},n}(fX),XS="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",_3=function(){this.texArray=null,this.blend=0,this.type=go.TRIANGLES,this.start=0,this.size=0,this.data=null},b3=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var n=0;n<this.count;n++)this.elements[n]=null;this.count=0},t}(),y3=function(){function t(n){this.rawBinaryData="number"==typeof n?new ArrayBuffer(n):n instanceof Uint8Array?n.buffer:n,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(n){return this[n+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(n){switch(n){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(n+" isn't a valid view type")}},t}(),bX=function(t){function n(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=al.for2d(),r.size=4*Ze.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Rn(n,t),n.prototype.contextChange=function(){var e=this.renderer.gl;Ze.PREFER_ENV===Ss.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ze.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,n){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=n.createShader(n.FRAGMENT_SHADER);;){var r=LW.replace(/%forloop%/gi,BW(t));if(n.shaderSource(e,r),n.compileShader(e),n.getShaderParameter(e,n.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},n.prototype.initFlushBuffers=function(){for(var e=n._drawCallPool,r=n._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new _3);for(;r.length<s;)r.push(new b3);for(var l=0;l<this.MAX_TEXTURES;l++)this._tempBoundTextures[l]=null},n.prototype.onPrerender=function(){this._flushId=0},n.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},n.prototype.buildTexturesAndDrawCalls=function(){var r=this._bufferedTextures,i=this.MAX_TEXTURES,s=n._textureArrayPool,l=this.renderer.batch,c=this._tempBoundTextures,h=this.renderer.textureGC.count,f=++an._globalBatch,v=0,E=s[0],b=0;l.copyBoundTextures(c,i);for(var y=0;y<this._bufferSize;++y){var T=r[y];r[y]=null,T._batchEnabled!==f&&(E.count>=i&&(l.boundArray(E,c,f,i),this.buildDrawCalls(E,b,y),b=y,E=s[++v],++f),T._batchEnabled=f,T.touched=h,E.elements[E.count++]=T)}for(E.count>0&&(l.boundArray(E,c,f,i),this.buildDrawCalls(E,b,this._bufferSize),++v,++f),y=0;y<c.length;y++)c[y]=null;an._globalBatch=f},n.prototype.buildDrawCalls=function(e,r,i){var s=this,l=s._bufferedElements,c=s._attributeBuffer,h=s._indexBuffer,f=s.vertexSize,v=n._drawCallPool,E=this._dcIndex,b=this._aIndex,y=this._iIndex,T=v[E];T.start=this._iIndex,T.texArray=e;for(var A=r;A<i;++A){var O=l[A],q=XC[O._texture.baseTexture.alphaMode?1:0][O.blendMode];l[A]=null,r<A&&T.blend!==q&&(T.size=y-T.start,r=A,(T=v[++E]).texArray=e,T.start=y),this.packInterleavedGeometry(O,c,h,b,y),b+=O.vertexData.length/2*f,y+=O.indices.length,T.blend=q}r<i&&(T.size=y-T.start,++E),this._dcIndex=E,this._aIndex=b,this._iIndex=y},n.prototype.bindAndClearTexArray=function(e){for(var r=this.renderer.texture,i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},n.prototype.updateGeometry=function(){var e=this,r=e._packedGeometries,i=e._attributeBuffer,s=e._indexBuffer;Ze.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},n.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,i=r.gl,s=r.state,l=n._drawCallPool,c=null,h=0;h<e;h++){var f=l[h],v=f.texArray,E=f.type,b=f.size,y=f.start,T=f.blend;c!==v&&(c=v,this.bindAndClearTexArray(v)),this.state.blendMode=T,s.set(this.state),i.drawElements(E,b,i.UNSIGNED_SHORT,2*y)}},n.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},n.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ze.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},n.prototype.stop=function(){this.flush()},n.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},n.prototype.getAttributeBuffer=function(e){var r=Ep(Math.ceil(e/8)),i=QC(r),s=8*r;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var l=this._aBuffers[s];return l||(this._aBuffers[s]=l=new y3(s*this.vertexSize*4)),l},n.prototype.getIndexBuffer=function(e){var r=Ep(Math.ceil(e/12)),i=QC(r),s=12*r;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var l=this._iBuffers[i];return l||(this._iBuffers[i]=l=new Uint16Array(s)),l},n.prototype.packInterleavedGeometry=function(e,r,i,s,l){for(var c=r.uint32View,h=r.float32View,f=s/this.vertexSize,v=e.uvs,E=e.indices,b=e.vertexData,y=e._texture.baseTexture._batchLocation,T=Math.min(e.worldAlpha,1),A=T<1&&e._texture.baseTexture.alphaMode?$4(e._tintRGB,T):e._tintRGB+(255*T<<24),O=0;O<b.length;O+=2)h[s++]=b[O],h[s++]=b[O+1],h[s++]=v[O],h[s++]=v[O+1],c[s++]=A,h[s++]=y;for(O=0;O<E.length;O++)i[l++]=f+E[O]},n._drawCallPool=[],n._textureArrayPool=[],n}(Ip),yX=function(){function t(n,e){if(this.vertexSrc=n,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(n){if(!this.programCache[n]){for(var e=new Int32Array(n),r=0;r<n;r++)e[r]=r;this.defaultGroupCache[n]=sl.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+n)).replace(/%forloop%/gi,this.generateSampleSrc(n)),this.programCache[n]=new p1(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new xr,default:this.defaultGroupCache[n]};return new yu(this.programCache[n],s)},t.prototype.generateSampleSrc=function(n){var e="";e+="\n",e+="\n";for(var r=0;r<n;r++)r>0&&(e+="\nelse "),r<n-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),JS=function(t){function n(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new kr(null,e,!1),r._indexBuffer=new kr(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,at.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,at.FLOAT).addAttribute("aColor",r._buffer,4,!0,at.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,at.FLOAT).addIndex(r._indexBuffer),r}return Rn(n,t),n}(d1),KS="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ZS="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",xX=function(){function t(){}return t.create=function(n){var e=Object.assign({vertex:KS,fragment:ZS,geometryClass:JS,vertexSize:6},n),r=e.vertex,i=e.fragment,s=e.vertexSize,l=e.geometryClass;return function(c){function h(f){var v=c.call(this,f)||this;return v.shaderGenerator=new yX(r,i),v.geometryClass=l,v.vertexSize=s,v}return Rn(h,c),h}(bX)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return KS},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ZS},enumerable:!1,configurable:!0}),t}(),CX=xX.create(),SX={},DX=function(t){Object.defineProperty(SX,t,{get:function(){return bu("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),pS[t]}})};for(var x3 in pS)DX(x3);var wX={},TX=function(t){Object.defineProperty(wX,t,{get:function(){return bu("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),WS[t]}})};for(var x3 in WS)TX(x3);var Lp=function(){function t(n){var e=this;this.stage=new jo,n=Object.assign({forceCanvas:!1},n),this.renderer=function(t){return xu.create(t)}(n),t._plugins.forEach(function(r){r.init.call(e,n)})}return t.registerPlugin=function(n){t._plugins.push(n)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(n,e){var r=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(n),this.renderer=null},t._plugins=[],t}(),AX=function(){function t(){}return t.init=function(n){var e=this;Object.defineProperty(this,"resizeTo",{set:function(r){self.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var r,i;if(e.cancelResize(),e._resizeTo===self)r=self.innerWidth,i=self.innerHeight;else{var s=e._resizeTo;r=s.clientWidth,i=s.clientHeight}e.renderer.resize(r,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=n.resizeTo||null},t.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Lp.registerPlugin(AX);var QS=new Xt,MX=function(){function t(n){this.renderer=n}return t.prototype.image=function(n,e,r){var i=new Image;return i.src=this.base64(n,e,r),i},t.prototype.base64=function(n,e,r){return this.canvas(n).toDataURL(e,r)},t.prototype.canvas=function(n){var r,i,l,e=this.renderer,s=!1,c=!1;n&&(n instanceof ol?l=n:(l=this.renderer.generateTexture(n),c=!0)),l?(r=l.baseTexture.resolution,i=l.frame,s=!1,e.renderTexture.bind(l)):(r=this.renderer.resolution,s=!0,(i=QS).width=this.renderer.width,i.height=this.renderer.height,e.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),f=Math.floor(i.height*r+1e-4),v=new nS(h,f,1),E=new Uint8Array(4*h*f),b=e.gl;b.readPixels(i.x*r,i.y*r,h,f,b.RGBA,b.UNSIGNED_BYTE,E);var y=v.context.getImageData(0,0,h,f);if(t.arrayPostDivide(E,y.data),v.context.putImageData(y,0,0),s){var T=new nS(v.width,v.height,1);T.context.scale(1,-1),T.context.drawImage(v.canvas,0,-f),v.destroy(),v=T}return c&&l.destroy(!0),v.canvas},t.prototype.pixels=function(n){var r,i,s,e=this.renderer,l=!1;n&&(n instanceof ol?s=n:(s=this.renderer.generateTexture(n),l=!0)),s?(r=s.baseTexture.resolution,i=s.frame,e.renderTexture.bind(s)):(r=e.resolution,(i=QS).width=e.width,i.height=e.height,e.renderTexture.bind(null));var c=i.width*r,h=i.height*r,f=new Uint8Array(4*c*h),v=e.gl;return v.readPixels(i.x*r,i.y*r,c,h,v.RGBA,v.UNSIGNED_BYTE,f),l&&s.destroy(!0),t.arrayPostDivide(f,f),f},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(n,e){for(var r=0;r<n.length;r+=4){var i=e[r+3]=n[r+3];0!==i?(e[r]=Math.round(Math.min(255*n[r]/i,255)),e[r+1]=Math.round(Math.min(255*n[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*n[r+2]/i,255))):(e[r]=n[r],e[r+1]=n[r+1],e[r+2]=n[r+2])}},t}(),Bp=function(){function t(n,e,r){void 0===e&&(e=!1),this._fn=n,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function tD(t,n){return t._head?(t._tail._next=n,n._prev=t._tail,t._tail=n):(t._head=n,t._tail=n),n._owner=t,n}var Ba=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(n){void 0===n&&(n=!1);var e=this._head;if(n)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r},t.prototype.has=function(n){if(!(n instanceof Bp))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return n._owner===this},t.prototype.dispatch=function(){for(var n=arguments,e=[],r=0;r<arguments.length;r++)e[r]=n[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},t.prototype.add=function(n,e){if(void 0===e&&(e=null),"function"!=typeof n)throw new Error("MiniSignal#add(): First arg must be a Function.");return tD(this,new Bp(n,!1,e))},t.prototype.once=function(n,e){if(void 0===e&&(e=null),"function"!=typeof n)throw new Error("MiniSignal#once(): First arg must be a Function.");return tD(this,new Bp(n,!0,e))},t.prototype.detach=function(n){if(!(n instanceof Bp))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return n._owner!==this||(n._prev&&(n._prev._next=n._next),n._next&&(n._next._prev=n._prev),n===this._head?(this._head=n._next,null===n._next&&(this._tail=null)):n===this._tail&&(this._tail=n._prev,this._tail._next=null),n._owner=null),this},t.prototype.detachAll=function(){var n=this._head;if(!n)return this;for(this._head=this._tail=null;n;)n._owner=null,n=n._next;return this},t}();function nD(t,n){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=e.parser[(n=n||{}).strictMode?"strict":"loose"].exec(t),i={},s=14;s--;)i[e.key[s]]=r[s]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(l,c,h){c&&(i[e.q.name][c]=h)}),i}var NX=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),qp=null;function iD(){}function oD(t,n,e){n&&0===n.indexOf(".")&&(n=n.substring(1)),n&&(t[n]=e)}function C3(t){return t.toString().replace("object ","")}var dr=function(){function t(n,e,r){if(this._dequeue=iD,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof n||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=n,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=iD,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ba,this.onProgress=new Ba,this.onComplete=new Ba,this.onAfterMiddleware=new Ba}return t.setExtensionLoadType=function(n,e){oD(t._loadTypeMap,n,e)},t.setExtensionXhrType=function(n,e){oD(t._xhrTypeMap,n,e)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(n){if(!this.error){if(this.error=new Error(n),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(n){var e=this;if(!this.isLoading){if(this.isComplete)return void(n&&setTimeout(function(){return n(e)},1));switch(n&&this.onComplete.once(n),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;default:NX&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(n){return 0!=(this._flags&n)},t.prototype._setFlag=function(n,e){this._flags=e?this._flags|n:this._flags&~n},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(n){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===n&&void 0!==self.Image?new Image:document.createElement(n),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(n){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===n&&void 0!==self.Audio?new Audio:document.createElement(n),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(n,this.url[r],Array.isArray(e)?e[r]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(n,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+n)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XMLHttpRequest;n.open("GET",this.url,!0),n.timeout=this.timeout,n.responseType=this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?t.XHR_RESPONSE_TYPE.TEXT:this.xhrType,n.addEventListener("error",this._boundXhrOnError,!1),n.addEventListener("timeout",this._boundXhrOnTimeout,!1),n.addEventListener("abort",this._boundXhrOnAbort,!1),n.addEventListener("progress",this._boundOnProgress,!1),n.addEventListener("load",this._boundXhrOnLoad,!1),n.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var n=this.xhr=new self.XDomainRequest;n.timeout=this.timeout||5e3,n.onerror=this._boundXhrOnError,n.ontimeout=this._boundXhrOnTimeout,n.onprogress=this._boundOnProgress,n.onload=this._boundXhrOnLoad,n.open("GET",this.url,!0),setTimeout(function(){return n.send()},1)},t.prototype._createSource=function(n,e,r){r||(r=n+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(n){this.abort("Failed to load element using: "+n.target.nodeName)},t.prototype._onProgress=function(n){n&&n.lengthComputable&&this.onProgress.dispatch(this,n.loaded/n.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var n=this.xhr;this.abort(C3(n)+" Request failed. Status: "+n.status+', text: "'+n.statusText+'"')},t.prototype._xhrOnTimeout=function(){this.abort(C3(this.xhr)+" Request timed out.")},t.prototype._xhrOnAbort=function(){this.abort(C3(this.xhr)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var n=this.xhr,e="",r=void 0===n.status?200:n.status;if((""===n.responseType||"text"===n.responseType||void 0===n.responseType)&&(e=n.responseText),0===r&&(e.length>0||n.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=t.TYPE.JSON}catch(c){return void this.abort("Error trying to parse loaded json: "+c)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var s=new DOMParser;this.data=s.parseFromString(e,"text/xml")}else{var l=document.createElement("div");l.innerHTML=e,this.data=l}this.type=t.TYPE.XML}catch(c){return void this.abort("Error trying to parse loaded xml: "+c)}else this.data=n.response||e;this.complete()}else this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL)},t.prototype._determineCrossOrigin=function(n,e){if(0===n.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,qp||(qp=document.createElement("a")),qp.href=n;var r=nD(qp.href,{strictMode:!0});return r.host!==e.hostname||(r.port||""!==e.port)&&r.port!==e.port||(r.protocol?r.protocol+":":"")!==e.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(n){void 0===n&&(n=this.url);var e="";if(this.isDataUrl){var r=n.indexOf("/");e=n.substring(r+1,n.indexOf(";",r))}else{var i=n.indexOf("?"),s=n.indexOf("#"),l=Math.min(i>-1?i:n.length,s>-1?s:n.length);e=(n=n.substring(0,l)).substring(n.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(n){switch(n){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},t}();function ll(){}function FX(t){return function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(null===t)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,r)}}!function(t){var s;(s=t.STATUS_FLAGS||(t.STATUS_FLAGS={}))[s.NONE=0]="NONE",s[s.DATA_URL=1]="DATA_URL",s[s.COMPLETE=2]="COMPLETE",s[s.LOADING=4]="LOADING",function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.JSON=1]="JSON",s[s.XML=2]="XML",s[s.IMAGE=3]="IMAGE",s[s.AUDIO=4]="AUDIO",s[s.VIDEO=5]="VIDEO",s[s.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(s){s[s.XHR=1]="XHR",s[s.IMAGE=2]="IMAGE",s[s.AUDIO=3]="AUDIO",s[s.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(s){s.DEFAULT="text",s.BUFFER="arraybuffer",s.BLOB="blob",s.DOCUMENT="document",s.JSON="json",s.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(dr||(dr={}));var kX=function(n,e){this.data=n,this.callback=e},S3=function(){function t(n,e){var r=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=ll,this.unsaturated=ll,this.empty=ll,this.drain=ll,this.error=ll,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,l){if(l&&"function"!=typeof l)throw new Error("task callback must be a function");if(r.started=!0,null==i&&r.idle())setTimeout(function(){return r.drain()},1);else{var c=new kX(i,"function"==typeof l?l:ll);s?r._tasks.unshift(c):r._tasks.push(c),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var i=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(i.data,FX(r._next(i)))}},this._worker=n,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(n){var e=this;return function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++)i[s]=r[s];e.workers-=1,n.callback.apply(n,i),null!=i[0]&&e.error(i[0],n.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(n,e){this._insert(n,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=ll,this.started=!1,this._tasks=[]},t.prototype.unshift=function(n,e){this._insert(n,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var n=1;n<=this.concurrency;n++)this.process()}},t.eachSeries=function(n,e,r,i){var s=0,l=n.length;!function c(h){h||s===l?r&&r(h):i?setTimeout(function(){e(n[s++],c)},1):e(n[s++],c)}()},t.queue=function(n,e){return new t(n,e)},t}(),LX=/(#[\w-]+)?$/,As=function(){function t(n,e){var r=this;void 0===n&&(n=""),void 0===e&&(e=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(h,f){return r._loadResource(h,f)},this.resources={},this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(h,f){return r._loadResource(h,f)},this._queue=S3.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Ba,this.onError=new Ba,this.onLoad=new Ba,this.onStart=new Ba,this.onComplete=new Ba;for(var i=0;i<t._plugins.length;++i){var s=t._plugins[i],l=s.pre,c=s.use;l&&this.pre(l),c&&this.use(c)}this._protected=!1}return t.prototype._add=function(n,e,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[n])throw new Error('Resource named "'+n+'" already exists.');if(e=this._prepareUrl(e),this.resources[n]=new dr(n,e,r),"function"==typeof i&&this.resources[n].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,l=[],c=0;c<s.children.length;++c)s.children[c].isComplete||l.push(s.children[c]);var f=s.progressChunk*(l.length+1)/(l.length+2);for(s.children.push(this.resources[n]),s.progressChunk=f,c=0;c<l.length;++c)l[c].progressChunk=f;this.resources[n].progressChunk=f}return this._queue.push(this.resources[n]),this},t.prototype.pre=function(n){return this._beforeMiddleware.push(n),this},t.prototype.use=function(n){return this._afterMiddleware.push(n),this},t.prototype.reset=function(){for(var n in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[n];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(n){if("function"==typeof n&&this.onComplete.once(n),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(n){this._queue.concurrency=n},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(n){var r,e=nD(n,{strictMode:!0});if(r=e.protocol||!e.path||0===n.indexOf("//")?n:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==n.charAt(0)?this.baseUrl+"/"+n:this.baseUrl+n,this.defaultQueryString){var i=LX.exec(r)[0];-1!==(r=r.substr(0,r.length-i.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},t.prototype._loadResource=function(n,e){var r=this;n._dequeue=e,S3.eachSeries(this._beforeMiddleware,function(i,s){i.call(r,n,function(){s(n.isComplete?{}:null)})},function(){n.isComplete?r._onLoad(n):(n._onLoadBinding=n.onComplete.once(r._onLoad,r),n.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(n){var e=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),S3.eachSeries(this._afterMiddleware,function(r,i){r.call(e,n,i)},function(){n.onAfterMiddleware.dispatch(n),e.progress=Math.min(100,e.progress+n.progressChunk),e.onProgress.dispatch(e,n),n.error?e.onError.dispatch(n.error,e,n):e.onLoad.dispatch(e,n),e._resourcesParsing.splice(e._resourcesParsing.indexOf(n),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var n=t._shared;return n||((n=new t)._protected=!0,t._shared=n),n},enumerable:!1,configurable:!0}),t.registerPlugin=function(n){return t._plugins.push(n),n.add&&n.add(),t},t._plugins=[],t}();As.prototype.add=function(n,e,r,i){if(Array.isArray(n)){for(var s=0;s<n.length;++s)this.add(n[s]);return this}if("object"==typeof n&&(r=n,i=e||r.callback||r.onComplete,e=r.url,n=r.name||r.key||r.url),"string"!=typeof e&&(i=r,r=e,e=n),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(i=r,r=null),this._add(n,e,r,i)};var BX=function(){function t(){}return t.init=function(n){n=Object.assign({sharedLoader:!1},n),this.loader=n.sharedLoader?As.shared:new As},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),qX=function(){function t(){}return t.add=function(){dr.setExtensionLoadType("svg",dr.LOAD_TYPE.XHR),dr.setExtensionXhrType("svg",dr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(n,e){!n.data||n.type!==dr.TYPE.IMAGE&&"svg"!==n.extension?e():pt.fromLoader(n.data,n.url,n.name,n.metadata).then(function(c){n.texture=c,e()}).catch(e)},t}(),sD=self.URL||self.webkitURL;As.registerPlugin({use:function(t,n){if(t.data){if(t.xhr&&t.xhrType===dr.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=sD.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=dr.TYPE.IMAGE,void(t.data.onload=function(){sD.revokeObjectURL(r),t.data.onload=null,n()})}}else{var e=t.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return t.data=new Image,t.data.src="data:"+e+";base64,"+function(t){for(var n="",e=0;e<t.length;){for(var r=[0,0,0],i=[0,0,0,0],s=0;s<r.length;++s)r[s]=e<t.length?255&t.charCodeAt(e++):0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],e-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(s=0;s<i.length;++s)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[s])}return n}(t.xhr.responseText),t.type=dr.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,n()})}n()}else n()}}),As.registerPlugin(qX);var bn,Pt=(()=>(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Pt||(Pt={})),Pt))(),Up=((bn={})[Pt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,bn[Pt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,bn[Pt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,bn[Pt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,bn[Pt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,bn[Pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,bn[Pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,bn[Pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,bn[Pt.COMPRESSED_R11_EAC]=.5,bn[Pt.COMPRESSED_SIGNED_R11_EAC]=.5,bn[Pt.COMPRESSED_RG11_EAC]=1,bn[Pt.COMPRESSED_SIGNED_RG11_EAC]=1,bn[Pt.COMPRESSED_RGB8_ETC2]=.5,bn[Pt.COMPRESSED_RGBA8_ETC2_EAC]=1,bn[Pt.COMPRESSED_SRGB8_ETC2]=.5,bn[Pt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,bn[Pt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,bn[Pt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,bn[Pt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,bn[Pt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,bn[Pt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,bn[Pt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,bn[Pt.COMPRESSED_RGB_ETC1_WEBGL]=.5,bn[Pt.COMPRESSED_RGB_ATC_WEBGL]=.5,bn[Pt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,bn[Pt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,bn),w3=function(t,n){return(w3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function aD(t,n){function e(){this.constructor=t}w3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var g1,$o,jX=function(t){function n(e,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var s,l,i=this;return"string"==typeof e?(s=e,l=new Uint8Array):(s=null,l=e),(i=t.call(this,l,r)||this).origin=s,i.buffer=l?new y3(l):null,i.origin&&!1!==r.autoLoad&&i.load(),l&&l.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return aD(n,t),n.prototype.onBlobLoaded=function(e){},n.prototype.load=function(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function l(f){try{h(r.next(f))}catch(v){s(v)}}function c(f){try{h(r.throw(f))}catch(v){s(v)}}function h(f){f.done?i(f.value):new e(function(v){v(f.value)}).then(l,c)}h((r=r.apply(t,[])).next())})}(this,0,Promise,function(){var i;return function(t,n){var r,i,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(v){return function(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(s=2&f[0]?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],i=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}}(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return[4,s.sent().blob()];case 2:return[4,s.sent().arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new y3(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},n}(c1),T3=function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=n._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||n._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return aD(n,t),n.prototype.upload=function(e,r,i){var s=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var c=0,h=this.levels;c<h;c++){var f=this._levelBuffers[c];s.compressedTexImage2D(s.TEXTURE_2D,f.levelID,this.format,f.levelWidth,f.levelHeight,0,f.levelBuffer)}return!0},n.prototype.onBlobLoaded=function(){this._levelBuffers=n._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},n._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},n._createLevelBuffers=function(e,r,i,s,l,c,h){for(var f=new Array(i),v=e.byteOffset,E=c,b=h,y=E+s-1&~(s-1),T=b+l-1&~(l-1),A=y*T*Up[r],O=0;O<i;O++)f[O]={levelID:O,levelWidth:i>1?E:y,levelHeight:i>1?b:T,levelBuffer:new Uint8Array(e.buffer,v,A)},v+=A,A=(y=(E=E>>1||1)+s-1&~(s-1))*(T=(b=b>>1||1)+l-1&~(l-1))*Up[r];return f},n}(jX),$X=function(){function t(){}return t.use=function(n,e){var r=n.data;if(n.type===dr.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var s=r.textures,l=void 0,c=void 0,h=0,f=s.length;h<f;h++){var v=s[h],E=v.src,b=v.format;if(b||(c=E),t.textureFormats[b]){l=E;break}}if(!(l=l||c))return void e(new Error("Cannot load compressed-textures in "+n.url+", make sure you provide a fallback"));if(l===n.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var y={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},T=V0.resolve(n.url.replace(this.baseUrl,""),l);this.add(r.cacheID,T,y,function(O){if(O.error)e(O.error);else{var R=O.texture,Q=O.textures;Object.assign(n,{texture:void 0===R?null:R,textures:void 0===Q?{}:Q}),e()}})}else e()},t.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var r={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var i in t.textureExtensions=r,t.textureFormats={},r){var s=r[i];!s||Object.assign(t.textureFormats,Object.getPrototypeOf(s))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},t}();function uD(t,n,e){var r={textures:{},texture:null};return n?(n.map(function(s){return new pt(new an(s,Object.assign({mipmap:Ra.OFF,alphaMode:Ho.NO_PREMULTIPLIED_ALPHA},e)))}).forEach(function(s,l){var c=s.baseTexture,h=t+"-"+(l+1);an.addToCache(c,h),pt.addToCache(s,h),0===l&&(an.addToCache(c,t),pt.addToCache(s,t),r.texture=s),r.textures[h]=s}),r):r}dr.setExtensionXhrType("dds",dr.XHR_RESPONSE_TYPE.BUFFER);var J0,cl,v1,vo=(()=>(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(vo||(vo={})),vo))(),Gp=(()=>(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(Gp||(Gp={})),Gp))(),aJ=((g1={})[827611204]=Pt.COMPRESSED_RGBA_S3TC_DXT1_EXT,g1[861165636]=Pt.COMPRESSED_RGBA_S3TC_DXT3_EXT,g1[894720068]=Pt.COMPRESSED_RGBA_S3TC_DXT5_EXT,g1),uJ=(($o={})[vo.DXGI_FORMAT_BC1_TYPELESS]=Pt.COMPRESSED_RGBA_S3TC_DXT1_EXT,$o[vo.DXGI_FORMAT_BC1_UNORM]=Pt.COMPRESSED_RGBA_S3TC_DXT1_EXT,$o[vo.DXGI_FORMAT_BC2_TYPELESS]=Pt.COMPRESSED_RGBA_S3TC_DXT3_EXT,$o[vo.DXGI_FORMAT_BC2_UNORM]=Pt.COMPRESSED_RGBA_S3TC_DXT3_EXT,$o[vo.DXGI_FORMAT_BC3_TYPELESS]=Pt.COMPRESSED_RGBA_S3TC_DXT5_EXT,$o[vo.DXGI_FORMAT_BC3_UNORM]=Pt.COMPRESSED_RGBA_S3TC_DXT5_EXT,$o[vo.DXGI_FORMAT_BC1_UNORM_SRGB]=Pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,$o[vo.DXGI_FORMAT_BC2_UNORM_SRGB]=Pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,$o[vo.DXGI_FORMAT_BC3_UNORM_SRGB]=Pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,$o),lJ=function(){function t(){}return t.use=function(n,e){if("dds"===n.extension&&n.data)try{Object.assign(n,uD(n.name||n.url,t.parse(n.data),n.metadata))}catch(r){return void e(r)}e()},t.parse=function(n){var e=new Uint32Array(n);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var i=new Uint32Array(n,0,124/Uint32Array.BYTES_PER_ELEMENT),s=i[3],l=i[4],c=i[7],h=new Uint32Array(n,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),f=h[1];if(4&f){var v=h[2];if(808540228!==v){var E=aJ[v],y=new Uint8Array(n,128);return[new T3(y,{format:E,width:l,height:s,levels:c})]}var O=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),R=O[0],q=O[1],Q=O[2],B=O[3],L=uJ[R];if(void 0===L)throw new Error("DDSLoader cannot parse texture data with DXGI format "+R);if(4===Q)throw new Error("DDSLoader does not support cubemap textures");if(q===Gp.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var V=new Array;if(1===B)V.push(new Uint8Array(n,148));else{for(var Ue=Up[L],W=0,Ae=l,dt=s,Qe=0;Qe<c;Qe++)W+=Math.max(1,Ae+3&-4)*Math.max(1,dt+3&-4)*Ue,Ae>>>=1,dt>>>=1;var $e=148;for(Qe=0;Qe<B;Qe++)V.push(new Uint8Array(n,$e,W)),$e+=W}return V.map(function(Jt){return new T3(Jt,{format:L,width:l,height:s,levels:c})})}throw 64&f?new Error("DDSLoader does not support uncompressed texture data."):512&f?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&f?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&f?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();dr.setExtensionXhrType("ktx",dr.XHR_RESPONSE_TYPE.BUFFER);var cD=[171,75,84,88,32,49,49,187,13,10,26,10],dD=((J0={})[at.UNSIGNED_BYTE]=1,J0[at.UNSIGNED_SHORT]=2,J0[at.FLOAT]=4,J0[at.HALF_FLOAT]=8,J0),hJ=((cl={})[Fe.RGBA]=4,cl[Fe.RGB]=3,cl[Fe.LUMINANCE]=1,cl[Fe.LUMINANCE_ALPHA]=2,cl[Fe.ALPHA]=1,cl),fJ=((v1={})[at.UNSIGNED_SHORT_4_4_4_4]=2,v1[at.UNSIGNED_SHORT_5_5_5_1]=2,v1[at.UNSIGNED_SHORT_5_6_5]=2,v1),pJ=function(){function t(){}return t.use=function(n,e){if("ktx"===n.extension&&n.data)try{var r=n.name||n.url;Object.assign(n,uD(r,t.parse(r,n.data),n.metadata))}catch(i){return void e(i)}e()},t.parse=function(n,e){var r=new DataView(e);if(!t.validate(n,r))return null;var i=67305985===r.getUint32(12,!0),s=r.getUint32(16,i),l=r.getUint32(24,i),c=r.getUint32(28,i),h=r.getUint32(36,i),f=r.getUint32(40,i)||1,v=r.getUint32(44,i)||1,E=r.getUint32(48,i)||1,b=r.getUint32(52,i),y=r.getUint32(56,i),T=r.getUint32(60,i);if(0===f||1!==v)throw new Error("Only 2D textures are supported");if(1!==b)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==E)throw new Error("WebGL does not support array textures");var L,R=h+3&-4,q=f+3&-4,Q=new Array(E),B=h*f;if(0===s&&(B=R*q),void 0===(L=0!==s?dD[s]?dD[s]*hJ[l]:fJ[s]:Up[c]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var ve=B*L,Ue=h,W=f,Ae=R,dt=q,Qe=64+T,$t=0;$t<y;$t++){for(var Ar=r.getUint32(Qe,i),Ye=Qe+4,$e=0;$e<E;$e++){var Jt=Q[$e];Jt||(Jt=Q[$e]=new Array(y)),Jt[$t]={levelID:$t,levelWidth:y>1?Ue:Ae,levelHeight:y>1?W:dt,levelBuffer:new Uint8Array(e,Ye,ve)},Ye+=ve}Qe=(Qe+=Ar+4)%4!=0?Qe+4-Qe%4:Qe,ve=(Ae=(Ue=Ue>>1||1)+4-1&-4)*(dt=(W=W>>1||1)+4-1&-4)*L}if(0!==s)throw new Error("TODO: Uncompressed");return Q.map(function(Ei){return new T3(null,{format:c,width:h,height:f,levels:y,levelBuffers:Ei})})},t.validate=function(n,e){for(var r=0;r<cD.length;r++)if(e.getUint8(r)!==cD[r])return console.error(n+" is not a valid *.ktx file!"),!1;return!0},t}(),M3=function(t,n){return(M3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function hD(t,n){function e(){this.constructor=t}M3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}!function(t){function n(e,r,i,s){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===s&&(s=!1);var l=t.call(this)||this;return i>16384&&(i=16384),l._properties=[!1,!0,!1,!1,!1],l._maxSize=e,l._batchSize=i,l._buffers=null,l._bufferUpdateIDs=[],l._updateID=0,l.interactiveChildren=!1,l.blendMode=tt.NORMAL,l.autoResize=s,l.roundPixels=!0,l.baseTexture=null,l.setProperties(r),l._tint=0,l.tintRgb=new Float32Array(4),l.tint=16777215,l}hD(n,t),n.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},n.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(n.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,G0(e,this.tintRgb)},enumerable:!1,configurable:!0}),n.prototype.render=function(e){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},n.prototype.onChildrenChange=function(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},n.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},n.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(jo);var fD=function(){function t(n,e,r){this.geometry=new d1,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<n.length;++i){var s=n[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||at.FLOAT,offset:s.offset},e[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var n=this.geometry,e=0;this.indexBuffer=new kr(function(t,n){void 0===n&&(n=null);var e=6*t;if((n=n||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+n.length+" and expected "+e);for(var r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}(this.size),!0,!0),n.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(i=this.dynamicProperties[r]).offset=e,e+=i.size,this.dynamicStride+=i.size;var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new kr(this.dynamicData,!1,!1);var l=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(i=this.staticProperties[r]).offset=l,l+=i.size,this.staticStride+=i.size;var c=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=new kr(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r)n.addAttribute((i=this.dynamicProperties[r]).attributeName,this.dynamicBuffer,0,i.type===at.UNSIGNED_BYTE,i.type,4*this.dynamicStride,4*i.offset);for(r=0;r<this.staticProperties.length;++r){var i;n.addAttribute((i=this.staticProperties[r]).attributeName,this.staticBuffer,0,i.type===at.UNSIGNED_BYTE,i.type,4*this.staticStride,4*i.offset)}},t.prototype.uploadDynamic=function(n,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(n,e,r,s.type===at.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(n,e,r){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(n,e,r,s.type===at.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),vJ=function(t){function n(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new xr,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:at.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=yu.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=al.for2d(),r}return hD(n,t),n.prototype.render=function(e){var r=e.children,i=e._maxSize,s=e._batchSize,l=this.renderer,c=r.length;if(0!==c){c>i&&!e.autoResize&&(c=i);var h=e._buffers;h||(h=e._buffers=this.generateBuffers(e));var f=r[0]._texture.baseTexture;this.state.blendMode=JC(e.blendMode,f.alphaMode),l.state.set(this.state);var v=l.gl,E=e.worldTransform.copyTo(this.tempMatrix);E.prepend(l.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=E.toArray(!0),this.shader.uniforms.uColor=function(t,n,e,r){return e=e||new Float32Array(4),r||void 0===r?(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n):(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=n,e}(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,f.alphaMode),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);for(var b=!1,y=0,T=0;y<c;y+=s,T+=1){var A=c-y;A>s&&(A=s),T>=h.length&&h.push(this._generateOneMoreBuffer(e));var O=h[T];O.uploadDynamic(r,y,A),(b=b||O._updateID<(e._bufferUpdateIDs[T]||0))&&(O._updateID=e._updateID,O.uploadStatic(r,y,A)),l.geometry.bind(O.geometry),v.drawElements(v.TRIANGLES,6*A,v.UNSIGNED_SHORT,0)}}},n.prototype.generateBuffers=function(e){for(var r=[],i=e._maxSize,s=e._batchSize,l=e._properties,c=0;c<i;c+=s)r.push(new fD(this.properties,l,s));return r},n.prototype._generateOneMoreBuffer=function(e){return new fD(this.properties,e._properties,e._batchSize)},n.prototype.uploadVertices=function(e,r,i,s,l,c){for(var h=0,f=0,v=0,E=0,b=0;b<i;++b){var y=e[r+b],T=y._texture,A=y.scale.x,O=y.scale.y,R=T.trim,q=T.orig;R?(h=(f=R.x-y.anchor.x*q.width)+R.width,v=(E=R.y-y.anchor.y*q.height)+R.height):(h=q.width*(1-y.anchor.x),f=q.width*-y.anchor.x,v=q.height*(1-y.anchor.y),E=q.height*-y.anchor.y),s[c]=f*A,s[c+1]=E*O,s[c+l]=h*A,s[c+l+1]=E*O,s[c+2*l]=h*A,s[c+2*l+1]=v*O,s[c+3*l]=f*A,s[c+3*l+1]=v*O,c+=4*l}},n.prototype.uploadPosition=function(e,r,i,s,l,c){for(var h=0;h<i;h++){var f=e[r+h].position;s[c]=f.x,s[c+1]=f.y,s[c+l]=f.x,s[c+l+1]=f.y,s[c+2*l]=f.x,s[c+2*l+1]=f.y,s[c+3*l]=f.x,s[c+3*l+1]=f.y,c+=4*l}},n.prototype.uploadRotation=function(e,r,i,s,l,c){for(var h=0;h<i;h++){var f=e[r+h].rotation;s[c]=f,s[c+l]=f,s[c+2*l]=f,s[c+3*l]=f,c+=4*l}},n.prototype.uploadUvs=function(e,r,i,s,l,c){for(var h=0;h<i;++h){var f=e[r+h]._texture._uvs;f?(s[c]=f.x0,s[c+1]=f.y0,s[c+l]=f.x1,s[c+l+1]=f.y1,s[c+2*l]=f.x2,s[c+2*l+1]=f.y2,s[c+3*l]=f.x3,s[c+3*l+1]=f.y3,c+=4*l):(s[c]=0,s[c+1]=0,s[c+l]=0,s[c+l+1]=0,s[c+2*l]=0,s[c+2*l+1]=0,s[c+3*l]=0,s[c+3*l+1]=0,c+=4*l)}},n.prototype.uploadTint=function(e,r,i,s,l,c){for(var h=0;h<i;++h){var f=e[r+h],E=f.alpha,b=E<1&&f._texture.baseTexture.alphaMode>0?$4(f._tintRGB,E):f._tintRGB+(255*E<<24);s[c]=b,s[c+l]=b,s[c+2*l]=b,s[c+3*l]=b,c+=4*l}},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},n}(Ip),qa=(()=>(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(qa||(qa={})),qa))(),Ua=(()=>(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Ua||(Ua={})),Ua))(),E1={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,n){if(void 0===n&&(n=20),!this.adaptive||!t||isNaN(t))return n;var e=Math.ceil(t/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},pD=function(){function t(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var n=new t;return n.color=this.color,n.alpha=this.alpha,n.texture=this.texture,n.matrix=this.matrix,n.visible=this.visible,n},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),N3=function(t,n){return(N3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function O3(t,n){function e(){this.constructor=t}N3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var I3={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,n){var e=t.points,r=t.holes,i=n.points,s=n.indices;if(e.length>=6){for(var l=[],c=0;c<r.length;c++){var h=r[c];l.push(e.length/2),e=e.concat(h.points)}var f=jC()(e,l,2);if(!f)return;var v=i.length/2;for(c=0;c<f.length;c+=3)s.push(f[c]+v),s.push(f[c+1]+v),s.push(f[c+2]+v);for(c=0;c<e.length;c++)i.push(e[c])}}},P3={build:function(t){var s,l,n=t.shape,e=t.points,r=n.x,i=n.y;if(e.length=0,t.type===cr.CIRC)s=n.radius,l=n.radius;else{var c=t.shape;s=c.width,l=c.height}if(0!==s&&0!==l){var h=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(s+l));h/=2.3;for(var f=2*Math.PI/h,v=0;v<h-.5;v++)e.push(r+Math.sin(-f*v)*s,i+Math.cos(-f*v)*l);e.push(e[0],e[1])}},triangulate:function(t,n){var e=t.points,r=n.points,i=n.indices,s=r.length/2,l=s,c=t.shape,h=t.matrix,f=c.x,v=c.y;r.push(t.matrix?h.a*f+h.c*v+h.tx:f,t.matrix?h.b*f+h.d*v+h.ty:v);for(var E=0;E<e.length;E+=2)r.push(e[E],e[E+1]),i.push(s++,l,s)}};function K0(t,n,e){return t+(n-t)*e}function jp(t,n,e,r,i,s,l){void 0===l&&(l=[]);for(var h=l,f=0,v=0,E=0,b=0,y=0,T=0,A=0,O=0;A<=20;++A)f=K0(t,e,O=A/20),v=K0(n,r,O),E=K0(e,i,O),b=K0(r,s,O),y=K0(f,E,O),T=K0(v,b,O),(0!==A||h[h.length-2]!==y||h[h.length-1]!==T)&&h.push(y,T);return h}var gD={build:function(t){var n=t.shape,e=t.points,r=n.x,i=n.y,s=n.width,l=n.height,c=Math.max(0,Math.min(n.radius,Math.min(s,l)/2));e.length=0,c?(jp(r,i+c,r,i,r+c,i,e),jp(r+s-c,i,r+s,i,r+s,i+c,e),jp(r+s,i+l-c,r+s,i+l,r+s-c,i+l,e),jp(r+c,i+l,r,i+l,r,i+l-c,e)):e.push(r,i,r+s,i,r+s,i+l,r,i+l)},triangulate:function(t,n){for(var e=t.points,r=n.points,i=n.indices,s=r.length/2,l=jC()(e,null,2),c=0,h=l.length;c<h;c+=3)i.push(l[c]+s),i.push(l[c+1]+s),i.push(l[c+2]+s);for(c=0,h=e.length;c<h;c++)r.push(e[c],e[++c])}};function vD(t,n,e,r,i,s,l,c){var b,y;l?(b=r,y=-e):(b=-r,y=e);var O=t+e*s+b,R=n+r*s+y;return c.push(t-e*i+b,n-r*i+y),c.push(O,R),2}function Z0(t,n,e,r,i,s,l,c){var h=e-t,f=r-n,v=Math.atan2(h,f),E=Math.atan2(i-t,s-n);c&&v<E?v+=2*Math.PI:!c&&v>E&&(E+=2*Math.PI);var b=v,y=E-v,T=Math.abs(y),A=Math.sqrt(h*h+f*f),O=1+(15*T*Math.sqrt(A)/Math.PI>>0),R=y/O;if(b+=R,c){l.push(t,n),l.push(e,r);for(var q=1,Q=b;q<O;q++,Q+=R)l.push(t,n),l.push(t+Math.sin(Q)*A,n+Math.cos(Q)*A);l.push(t,n),l.push(i,s)}else{for(l.push(e,r),l.push(t,n),q=1,Q=b;q<O;q++,Q+=R)l.push(t+Math.sin(Q)*A,n+Math.cos(Q)*A),l.push(t,n);l.push(i,s),l.push(t,n)}return 2*O}function R3(t,n){t.lineStyle.native?function(t,n){var e=0,r=t.shape,i=t.points||r.points,s=r.type!==cr.POLY||r.closeStroke;if(0!==i.length){var l=n.points,c=n.indices,h=i.length/2,f=l.length/2,v=f;for(l.push(i[0],i[1]),e=1;e<h;e++)l.push(i[2*e],i[2*e+1]),c.push(v,v+1),v++;s&&c.push(v,f)}}(t,n):function(t,n){var e=t.shape,r=t.points||e.points.slice(),i=n.closePointEps;if(0!==r.length){var s=t.lineStyle,l=new yr(r[0],r[1]),c=new yr(r[r.length-2],r[r.length-1]),h=e.type!==cr.POLY||e.closeStroke,f=Math.abs(l.x-c.x)<i&&Math.abs(l.y-c.y)<i;if(h){r=r.slice(),f&&(r.pop(),r.pop(),c.set(r[r.length-2],r[r.length-1]));var v=.5*(l.x+c.x),E=.5*(c.y+l.y);r.unshift(v,E),r.push(v,E)}var b=n.points,y=r.length/2,T=r.length,A=b.length/2,O=s.width/2,R=O*O,q=s.miterLimit*s.miterLimit,Q=r[0],B=r[1],L=r[2],V=r[3],ve=0,Ue=0,W=-(B-V),Ae=Q-L,dt=0,Qe=0,$t=Math.sqrt(W*W+Ae*Ae);W/=$t,Ae/=$t,W*=O,Ae*=O;var Ar=s.alignment,Ye=2*(1-Ar),$e=2*Ar;h||(s.cap===Ua.ROUND?T+=Z0(Q-W*(Ye-$e)*.5,B-Ae*(Ye-$e)*.5,Q-W*Ye,B-Ae*Ye,Q+W*$e,B+Ae*$e,b,!0)+2:s.cap===Ua.SQUARE&&(T+=vD(Q,B,W,Ae,Ye,$e,!0,b))),b.push(Q-W*Ye,B-Ae*Ye),b.push(Q+W*$e,B+Ae*$e);for(var Jt=1;Jt<y-1;++Jt){ve=r[2*(Jt+1)],Ue=r[2*(Jt+1)+1],W=-((B=r[2*(Jt-1)+1])-(V=r[2*Jt+1])),Ae=(Q=r[2*(Jt-1)])-(L=r[2*Jt]),W/=$t=Math.sqrt(W*W+Ae*Ae),Ae/=$t,W*=O,Ae*=O,dt=-(V-Ue),Qe=L-ve,dt/=$t=Math.sqrt(dt*dt+Qe*Qe),Qe/=$t,dt*=O,Qe*=O;var Ei=L-Q,Vi=B-V,At=L-ve,sc=Ue-V,Cu=Vi*At-sc*Ei,Ha=Cu<0;if(Math.abs(Cu)<.1)b.push(L-W*Ye,V-Ae*Ye),b.push(L+W*$e,V+Ae*$e);else{var S1=(-W+Q)*(-Ae+V)-(-W+L)*(-Ae+B),ac=(-dt+ve)*(-Qe+V)-(-dt+L)*(-Qe+Ue),Ms=(Ei*ac-At*S1)/Cu,uc=(sc*S1-Vi*ac)/Cu,lc=(Ms-L)*(Ms-L)+(uc-V)*(uc-V),Wo=L+(Ms-L)*Ye,Xo=V+(uc-V)*Ye,_o=L-(Ms-L)*$e,bo=V-(uc-V)*$e,hl=Ha?Ye:$e;lc<=Math.min(Ei*Ei+Vi*Vi,At*At+sc*sc)+hl*hl*R?s.join===qa.BEVEL||lc/R>q?(Ha?(b.push(Wo,Xo),b.push(L+W*$e,V+Ae*$e),b.push(Wo,Xo),b.push(L+dt*$e,V+Qe*$e)):(b.push(L-W*Ye,V-Ae*Ye),b.push(_o,bo),b.push(L-dt*Ye,V-Qe*Ye),b.push(_o,bo)),T+=2):s.join===qa.ROUND?Ha?(b.push(Wo,Xo),b.push(L+W*$e,V+Ae*$e),T+=Z0(L,V,L+W*$e,V+Ae*$e,L+dt*$e,V+Qe*$e,b,!0)+4,b.push(Wo,Xo),b.push(L+dt*$e,V+Qe*$e)):(b.push(L-W*Ye,V-Ae*Ye),b.push(_o,bo),T+=Z0(L,V,L-W*Ye,V-Ae*Ye,L-dt*Ye,V-Qe*Ye,b,!1)+4,b.push(L-dt*Ye,V-Qe*Ye),b.push(_o,bo)):(b.push(Wo,Xo),b.push(_o,bo)):(b.push(L-W*Ye,V-Ae*Ye),b.push(L+W*$e,V+Ae*$e),s.join===qa.BEVEL||lc/R>q||(s.join===qa.ROUND?T+=Ha?Z0(L,V,L+W*$e,V+Ae*$e,L+dt*$e,V+Qe*$e,b,!0)+2:Z0(L,V,L-W*Ye,V-Ae*Ye,L-dt*Ye,V-Qe*Ye,b,!1)+2:(Ha?(b.push(_o,bo),b.push(_o,bo)):(b.push(Wo,Xo),b.push(Wo,Xo)),T+=2)),b.push(L-dt*Ye,V-Qe*Ye),b.push(L+dt*$e,V+Qe*$e),T+=2)}}W=-((B=r[2*(y-2)+1])-(V=r[2*(y-1)+1])),Ae=(Q=r[2*(y-2)])-(L=r[2*(y-1)]),W/=$t=Math.sqrt(W*W+Ae*Ae),Ae/=$t,b.push(L-(W*=O)*Ye,V-(Ae*=O)*Ye),b.push(L+W*$e,V+Ae*$e),h||(s.cap===Ua.ROUND?T+=Z0(L-W*(Ye-$e)*.5,V-Ae*(Ye-$e)*.5,L-W*Ye,V-Ae*Ye,L+W*$e,V+Ae*$e,b,!1)+2:s.cap===Ua.SQUARE&&(T+=vD(L,V,W,Ae,Ye,$e,!1,b)));var Os=n.indices,cc=E1.epsilon*E1.epsilon;for(Jt=A;Jt<T+A-2;++Jt)Q=b[2*Jt],B=b[2*Jt+1],L=b[2*(Jt+1)],V=b[2*(Jt+1)+1],ve=b[2*(Jt+2)],Ue=b[2*(Jt+2)+1],!(Math.abs(Q*(V-Ue)+L*(Ue-B)+ve*(B-V))<cc)&&Os.push(Jt,Jt+1,Jt+2)}}(t,n)}var dl,F3=function(){function t(){}return t.curveTo=function(n,e,r,i,s,l){var f=l[l.length-1]-e,v=l[l.length-2]-n,E=i-e,b=r-n,y=Math.abs(f*b-v*E);if(y<1e-8||0===s)return(l[l.length-2]!==n||l[l.length-1]!==e)&&l.push(n,e),null;var T=f*f+v*v,A=E*E+b*b,O=f*E+v*b,R=s*Math.sqrt(T)/y,q=s*Math.sqrt(A)/y,Q=R*O/T,B=q*O/A,L=R*b+q*v,V=R*E+q*f,W=b*(R+B),Ae=E*(R+B);return{cx:L+n,cy:V+e,radius:s,startAngle:Math.atan2(f*(q+Q)-V,v*(q+Q)-L),endAngle:Math.atan2(Ae-V,W-L),anticlockwise:v*E>b*f}},t.arc=function(n,e,r,i,s,l,c,h,f){for(var v=c-l,E=E1._segmentsCount(Math.abs(v)*s,40*Math.ceil(Math.abs(v)/yp)),b=v/(2*E),y=2*b,T=Math.cos(b),A=Math.sin(b),O=E-1,R=O%1/O,q=0;q<=O;++q){var B=b+l+y*(q+R*q),L=Math.cos(B),V=-Math.sin(B);f.push((T*L+A*V)*s+r,(T*-V+A*L)*s+i)}},t}(),ED=function(){function t(){}return t.curveLength=function(n,e,r,i,s,l,c,h){for(var v=0,E=0,b=0,y=0,T=0,A=0,O=0,R=0,q=0,Q=0,B=0,L=n,V=e,ve=1;ve<=10;++ve)Q=L-(R=(O=(A=(T=1-(E=ve/10))*T)*T)*n+3*A*E*r+3*T*(b=E*E)*s+(y=b*E)*c),B=V-(q=O*e+3*A*E*i+3*T*b*l+y*h),L=R,V=q,v+=Math.sqrt(Q*Q+B*B);return v},t.curveTo=function(n,e,r,i,s,l,c){var h=c[c.length-2],f=c[c.length-1];c.length-=2;var v=E1._segmentsCount(t.curveLength(h,f,n,e,r,i,s,l)),E=0,b=0,y=0,T=0,A=0;c.push(h,f);for(var O=1,R=0;O<=v;++O)c.push((y=(b=(E=1-(R=O/v))*E)*E)*h+3*b*R*n+3*E*(T=R*R)*r+(A=T*R)*s,y*f+3*b*R*e+3*E*T*i+A*l)},t}(),_D=function(){function t(){}return t.curveLength=function(n,e,r,i,s,l){var c=n-2*r+s,h=e-2*i+l,f=2*r-2*n,v=2*i-2*e,E=4*(c*c+h*h),b=4*(c*f+h*v),y=f*f+v*v,T=2*Math.sqrt(E+b+y),A=Math.sqrt(E),O=2*E*A,R=2*Math.sqrt(y),q=b/A;return(O*T+A*b*(T-R)+(4*y*E-b*b)*Math.log((2*A+q+T)/(q+R)))/(4*O)},t.curveTo=function(n,e,r,i,s){for(var l=s[s.length-2],c=s[s.length-1],h=E1._segmentsCount(t.curveLength(l,c,n,e,r,i)),f=0,v=0,E=1;E<=h;++E){var b=E/h;s.push((f=l+(n-l)*b)+(n+(r-n)*b-f)*b,(v=c+(e-c)*b)+(e+(i-e)*b-v)*b)}},t}(),bD=function(){function t(){this.reset()}return t.prototype.begin=function(n,e,r){this.reset(),this.style=n,this.start=e,this.attribStart=r},t.prototype.end=function(n,e){this.attribSize=e-this.attribStart,this.size=n-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),$p=((dl={})[cr.POLY]=I3,dl[cr.CIRC]=P3,dl[cr.ELIP]=P3,dl[cr.RECT]={build:function(t){var n=t.shape,e=n.x,r=n.y,i=n.width,s=n.height,l=t.points;l.length=0,l.push(e,r,e+i,r,e+i,r+s,e,r+s)},triangulate:function(t,n){var e=t.points,r=n.points,i=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),n.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},dl[cr.RREC]=gD,dl),k3=[],_1=[];function bJ(t){for(var n=t.points,e=0,r=0;r<n.length-2;r+=2)e+=(n[r+2]-n[r])*(n[r+3]+n[r+1]);return e>0}var yD=function(){function t(n,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.points=[],this.holes=[],this.shape=n,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=n.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Q0=new yr,yJ=new Sp,xJ=function(t){function n(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Sp,e.boundsDirty=-1,e}return O3(n,t),Object.defineProperty(n.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),n.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),_1.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var r=this.batches[e];r.reset(),k3.push(r)}this.batches.length=0},n.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},n.prototype.drawShape=function(e,r,i,s){void 0===r&&(r=null),void 0===i&&(i=null),void 0===s&&(s=null);var l=new yD(e,r,i,s);return this.graphicsData.push(l),this.dirty++,this},n.prototype.drawHole=function(e,r){if(void 0===r&&(r=null),!this.graphicsData.length)return null;var i=new yD(e,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},n.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},n.prototype.containsPoint=function(e){for(var r=this.graphicsData,i=0;i<r.length;++i){var s=r[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Q0):Q0.copyFrom(e),s.shape.contains(Q0.x,Q0.y))){var l=!1;if(s.holes)for(var c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains(Q0.x,Q0.y)){l=!0;break}if(!l)return!0}}return!1},n.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,i=this.graphicsData,s=null,l=null;this.batches.length>0&&(l=(s=this.batches[this.batches.length-1]).style);for(var c=this.shapeIndex;c<i.length;c++){this.shapeIndex++;var h=i[c],f=h.fillStyle,v=h.lineStyle;$p[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var b=0;b<2;b++){var y=0===b?f:v;if(y.visible){var A=this.indices.length,O=this.points.length/2;y.texture.baseTexture.wrapMode=ws.REPEAT,0===b?this.processFill(h):this.processLine(h);var R=this.points.length/2-O;0!==R&&(s&&!this._compareStyles(l,y)&&(s.end(A,O),s=null),s||((s=k3.pop()||new bD).begin(y,A,O),this.batches.push(s),l=y),this.addUvs(this.points,r,y.texture,O,R,y.matrix))}}}var Q=this.points.length/2;if(s&&s.end(this.indices.length,Q),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=Q>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},n.prototype._compareStyles=function(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)},n.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,r=this.graphicsData.length;e<r;e++){var i=this.graphicsData[e],s=i.fillStyle,l=i.lineStyle;if(s&&!s.texture.baseTexture.valid||l&&!l.texture.baseTexture.valid)return!1}return!0},n.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,r=0,i=e.length;r<i;r++)for(var s=e[r],l=0;l<s.size;l++){var c=s.start+l;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}},n.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*n.BATCHABLE_SIZE},n.prototype.buildDrawCalls=function(){for(var e=++an._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),_1.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,l=_1.pop();l||((l=new _3).texArray=new b3),l.texArray.count=0,l.start=0,l.size=0,l.type=go.TRIANGLES;var c=0,h=null,f=0,v=!1,E=go.TRIANGLES,b=0;for(this.drawCalls.push(l),r=0;r<this.batches.length;r++){var y=this.batches[r],A=y.style,O=A.texture.baseTexture;v!==!!A.native&&(E=(v=!!A.native)?go.LINES:go.TRIANGLES,h=null,c=8,e++),h!==O&&(h=O,O._batchEnabled!==e&&(8===c&&(e++,c=0,l.size>0&&((l=_1.pop())||((l=new _3).texArray=new b3),this.drawCalls.push(l)),l.start=b,l.size=0,l.texArray.count=0,l.type=E),O.touched=1,O._batchEnabled=e,O._batchLocation=c,O.wrapMode=ws.REPEAT,l.texArray.elements[l.texArray.count++]=O,c++)),l.size+=y.size,b+=y.size,f=O._batchLocation,this.addColors(i,A.color,A.alpha,y.attribSize,y.attribStart),this.addTextureIds(s,f,y.attribSize,y.attribStart)}an._globalBatch=e,this.packAttributes()},n.prototype.packAttributes=function(){for(var e=this.points,r=this.uvs,i=this.colors,s=this.textureIds,l=new ArrayBuffer(3*e.length*4),c=new Float32Array(l),h=new Uint32Array(l),f=0,v=0;v<e.length/2;v++)c[f++]=e[2*v],c[f++]=e[2*v+1],c[f++]=r[2*v],c[f++]=r[2*v+1],h[f++]=i[v],c[f++]=s[v];this._buffer.update(l),this._indexBuffer.update(this.indicesUint16)},n.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),I3.triangulate(e,this)):$p[e.type].triangulate(e,this)},n.prototype.processLine=function(e){R3(e,this);for(var r=0;r<e.holes.length;r++)R3(e.holes[r],this)},n.prototype.processHoles=function(e){for(var r=0;r<e.length;r++){var i=e[r];$p[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},n.prototype.calculateBounds=function(){var e=this._bounds,r=yJ,i=xr.IDENTITY;this._bounds.clear(),r.clear();for(var s=0;s<this.graphicsData.length;s++){var l=this.graphicsData[s],c=l.shape,h=l.type,f=l.lineStyle,v=l.matrix||xr.IDENTITY,E=0;if(f&&f.visible){var b=f.alignment;E=f.width,h===cr.POLY?bJ(c)?E*=1-b:E*=b:E*=Math.max(0,b)}i!==v&&(r.isEmpty()||(e.addBoundsMatrix(r,i),r.clear()),i=v),h===cr.RECT||h===cr.RREC?r.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,E,E):h===cr.CIRC?r.addFramePad(c.x,c.y,c.x,c.y,c.radius+E,c.radius+E):h===cr.ELIP?r.addFramePad(c.x,c.y,c.x,c.y,c.width+E,c.height+E):e.addVerticesMatrix(i,c.points,0,c.points.length,E,E)}r.isEmpty()||e.addBoundsMatrix(r,i),e.pad(this.boundsPadding,this.boundsPadding)},n.prototype.transformPoints=function(e,r){for(var i=0;i<e.length/2;i++){var s=e[2*i],l=e[2*i+1];e[2*i]=r.a*s+r.c*l+r.tx,e[2*i+1]=r.b*s+r.d*l+r.ty}},n.prototype.addColors=function(e,r,i,s,l){void 0===l&&(l=0);var h=$4((r>>16)+(65280&r)+((255&r)<<16),i);e.length=Math.max(e.length,l+s);for(var f=0;f<s;f++)e[l+f]=h},n.prototype.addTextureIds=function(e,r,i,s){void 0===s&&(s=0),e.length=Math.max(e.length,s+i);for(var l=0;l<i;l++)e[s+l]=r},n.prototype.addUvs=function(e,r,i,s,l,c){void 0===c&&(c=null);for(var h=0,f=r.length,v=i.frame;h<l;){var E=e[2*(s+h)],b=e[2*(s+h)+1];if(c){var y=c.a*E+c.c*b+c.tx;b=c.b*E+c.d*b+c.ty,E=y}h++,r.push(E/v.width,b/v.height)}var T=i.baseTexture;(v.width<T.width||v.height<T.height)&&this.adjustUvs(r,i,f,l)},n.prototype.adjustUvs=function(e,r,i,s){for(var l=r.baseTexture,c=1e-6,h=i+2*s,f=r.frame,v=f.width/l.width,E=f.height/l.height,b=f.x/f.width,y=f.y/f.height,T=Math.floor(e[i]+c),A=Math.floor(e[i+1]+c),O=i+2;O<h;O+=2)T=Math.min(T,Math.floor(e[O]+c)),A=Math.min(A,Math.floor(e[O+1]+c));for(b-=T,y-=A,O=i;O<h;O+=2)e[O]=(e[O]+b)*v,e[O+1]=(e[O+1]+y)*E},n.BATCHABLE_SIZE=100,n}(JS),CJ=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Ua.BUTT,e.join=qa.MITER,e.miterLimit=10,e}return O3(n,t),n.prototype.clone=function(){var e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},n.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},n}(pD),SJ=new Float32Array(3),L3={},xD=function(t){function n(e){void 0===e&&(e=null);var r=t.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new pD,r._lineStyle=new CJ,r._matrix=null,r._holeMode=!1,r.state=al.for2d(),r._geometry=e||new xJ,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=tt.NORMAL,r}return O3(n,t),Object.defineProperty(n.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.finishPoly(),new n(this._geometry)},Object.defineProperty(n.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),n.prototype.lineStyle=function(e,r,i,s,l){return void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=1),void 0===s&&(s=.5),void 0===l&&(l=!1),"number"==typeof e&&(e={width:e,color:r,alpha:i,alignment:s,native:l}),this.lineTextureStyle(e)},n.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:pt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ua.BUTT,join:qa.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this},n.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new xp,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new xp,this.currentPath.closeStroke=!1},n.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},n.prototype.moveTo=function(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this},n.prototype.lineTo=function(e,r){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points;return(i[i.length-2]!==e||i[i.length-1]!==r)&&i.push(e,r),this},n.prototype._initCurve=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,r]):this.moveTo(e,r)},n.prototype.quadraticCurveTo=function(e,r,i,s){this._initCurve();var l=this.currentPath.points;return 0===l.length&&this.moveTo(0,0),_D.curveTo(e,r,i,s,l),this},n.prototype.bezierCurveTo=function(e,r,i,s,l,c){return this._initCurve(),ED.curveTo(e,r,i,s,l,c,this.currentPath.points),this},n.prototype.arcTo=function(e,r,i,s,l){this._initCurve(e,r);var h=F3.curveTo(e,r,i,s,l,this.currentPath.points);return h&&this.arc(h.cx,h.cy,h.radius,h.startAngle,h.endAngle,h.anticlockwise),this},n.prototype.arc=function(e,r,i,s,l,c){if(void 0===c&&(c=!1),s===l)return this;if(!c&&l<=s?l+=yp:c&&s<=l&&(s+=yp),0==l-s)return this;var f=e+Math.cos(s)*i,v=r+Math.sin(s)*i,E=this._geometry.closePointEps,b=this.currentPath?this.currentPath.points:null;if(b){var y=Math.abs(b[b.length-2]-f),T=Math.abs(b[b.length-1]-v);y<E&&T<E||b.push(f,v)}else this.moveTo(f,v),b=this.currentPath.points;return F3.arc(f,v,e,r,i,s,l,c,b),this},n.prototype.beginFill=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=1),this.beginTextureFill({texture:pt.WHITE,color:e,alpha:r})},n.prototype.beginTextureFill=function(e){e=Object.assign({texture:pt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this},n.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},n.prototype.drawRect=function(e,r,i,s){return this.drawShape(new Xt(e,r,i,s))},n.prototype.drawRoundedRect=function(e,r,i,s,l){return this.drawShape(new KY(e,r,i,s,l))},n.prototype.drawCircle=function(e,r,i){return this.drawShape(new XY(e,r,i))},n.prototype.drawEllipse=function(e,r,i,s){return this.drawShape(new JY(e,r,i,s))},n.prototype.drawPolygon=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var s,l=!0,c=r[0];c.points?(l=c.closeStroke,s=c.points):s=Array.isArray(r[0])?r[0]:r;var h=new xp(s);return h.closeStroke=l,this.drawShape(h),this},n.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},n.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},n.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==cr.RECT||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},n.prototype._render=function(e){this.finishPoly();var r=this._geometry;r.updateBatches(e.context.supports.uint32Indices),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},n.prototype._populateBatches=function(){var e=this._geometry,r=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var s=0;s<i;s++){var l=e.batches[s],c=l.style.color,h=new Float32Array(this.vertexData.buffer,4*l.attribStart*2,2*l.attribSize),f=new Float32Array(e.uvsFloat32.buffer,4*l.attribStart*2,2*l.attribSize),E={vertexData:h,blendMode:r,indices:new Uint16Array(e.indicesUint16.buffer,2*l.start,l.size),uvs:f,_batchRGB:G0(c),_tintRGB:c,_texture:l.style.texture,alpha:l.style.alpha,worldAlpha:1};this.batches[s]=E}},n.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,i=this.batches.length;r<i;r++){var s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}},n.prototype._renderDirect=function(e){var r=this._resolveDirectShader(e),i=this._geometry,s=this.tint,l=this.worldAlpha,c=r.uniforms,h=i.drawCalls;c.translationMatrix=this.transform.worldTransform,c.tint[0]=(s>>16&255)/255*l,c.tint[1]=(s>>8&255)/255*l,c.tint[2]=(255&s)/255*l,c.tint[3]=l,e.shader.bind(r),e.geometry.bind(i,r),e.state.set(this.state);for(var f=0,v=h.length;f<v;f++)this._renderDrawCallDirect(e,i.drawCalls[f])},n.prototype._renderDrawCallDirect=function(e,r){for(var i=r.texArray,s=r.type,l=r.size,c=r.start,h=i.count,f=0;f<h;f++)e.texture.bind(i.elements[f],f);e.geometry.draw(s,l,c)},n.prototype._resolveDirectShader=function(e){var r=this.shader,i=this.pluginName;if(!r){if(!L3[i]){for(var s=e.plugins.batch.MAX_TEXTURES,l=new Int32Array(s),c=0;c<s;c++)l[c]=c;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new xr,default:sl.from({uSamplers:l},!0)};L3[i]=new yu(e.plugins[i]._shader.program,h)}r=L3[i]}return r},n.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var r=e.bounds;this._bounds.addFrame(this.transform,r.minX,r.minY,r.maxX,r.maxY)}},n.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,n._TEMP_POINT),this._geometry.containsPoint(n._TEMP_POINT)},n.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=G0(this.tint,SJ),r=0;r<this.batches.length;r++){var i=this.batches[r],s=i._batchRGB,f=(e[0]*s[0]*255<<16)+(e[1]*s[1]*255<<8)+(0|e[2]*s[2]*255);i._tintRGB=(f>>16)+(65280&f)+((255&f)<<16)}}},n.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var r=this.transform.worldTransform,i=r.a,s=r.b,l=r.c,c=r.d,h=r.tx,f=r.ty,v=this._geometry.points,E=this.vertexData,b=0,y=0;y<v.length;y+=2){var T=v[y],A=v[y+1];E[b++]=i*T+l*A+h,E[b++]=c*A+s*T+f}}},n.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},n.prototype.setMatrix=function(e){return this._matrix=e,this},n.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},n.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},n.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},n._TEMP_POINT=new yr,n}(jo),B3=function(t,n){return(B3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)},b1=new yr,wJ=new Uint16Array([0,1,2,0,2,3]),ec=function(t){function n(e){var r=t.call(this)||this;return r._anchor=new Y0(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=tt.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||pt.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=wJ,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Ze.ROUND_PIXELS,r}return function(t,n){function e(){this.constructor=t}B3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=$0(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=$0(this.scale.y)*this._height/this._texture.orig.height)},n.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},n.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var r=this.transform.worldTransform,i=r.a,s=r.b,l=r.c,c=r.d,h=r.tx,f=r.ty,v=this.vertexData,E=e.trim,b=e.orig,y=this._anchor,T=0,A=0,O=0,R=0;if(E?(T=(A=E.x-y._x*b.width)+E.width,O=(R=E.y-y._y*b.height)+E.height):(T=(A=-y._x*b.width)+b.width,O=(R=-y._y*b.height)+b.height),v[0]=i*A+l*R+h,v[1]=c*R+s*A+f,v[2]=i*T+l*R+h,v[3]=c*R+s*T+f,v[4]=i*T+l*O+h,v[5]=c*O+s*T+f,v[6]=i*A+l*O+h,v[7]=c*O+s*A+f,this._roundPixels)for(var q=Ze.RESOLUTION,Q=0;Q<v.length;++Q)v[Q]=Math.round((v[Q]*q|0)/q)}},n.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this.vertexTrimmedData,i=this._texture.orig,s=this._anchor,l=this.transform.worldTransform,c=l.a,h=l.b,f=l.c,v=l.d,E=l.tx,b=l.ty,y=-s._x*i.width,T=y+i.width,A=-s._y*i.height,O=A+i.height;r[0]=c*y+f*A+E,r[1]=v*A+h*y+b,r[2]=c*T+f*A+E,r[3]=v*A+h*T+b,r[4]=c*T+f*O+E,r[5]=v*O+h*T+b,r[6]=c*y+f*O+E,r[7]=v*O+h*y+b},n.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},n.prototype._calculateBounds=function(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},n.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Xt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},n.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,b1);var r=this._texture.orig.width,i=this._texture.orig.height,s=-r*this.anchor.x,l=0;return!!(b1.x>=s&&b1.x<s+r&&(l=-i*this.anchor.y,b1.y>=l&&b1.y<l+i))},n.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},n.from=function(e,r){return new n(e instanceof pt?e:pt.from(e,r))},Object.defineProperty(n.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var r=$0(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var r=$0(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||pt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),n}(jo),q3=function(t,n){return(q3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)},tc=(()=>(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(tc||(tc={})),tc))(),U3={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:tc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},AJ=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],nc=function(){function t(n){this.styleID=0,this.reset(),z3(this,n,n)}return t.prototype.clone=function(){var n={};return z3(n,this,U3),new t(n)},t.prototype.reset=function(){z3(this,U3,U3)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(n){this._align!==n&&(this._align=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(n){this._breakWords!==n&&(this._breakWords=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(n){this._dropShadow!==n&&(this._dropShadow=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(n){this._dropShadowAlpha!==n&&(this._dropShadowAlpha=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(n){this._dropShadowAngle!==n&&(this._dropShadowAngle=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(n){this._dropShadowBlur!==n&&(this._dropShadowBlur=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(n){var e=H3(n);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(n){this._dropShadowDistance!==n&&(this._dropShadowDistance=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(n){var e=H3(n);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(n){this._fillGradientType!==n&&(this._fillGradientType=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(n){(function(t,n){if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return!1;for(var e=0;e<t.length;++e)if(t[e]!==n[e])return!1;return!0})(this._fillGradientStops,n)||(this._fillGradientStops=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this.fontFamily!==n&&(this._fontFamily=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize!==n&&(this._fontSize=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(n){this._fontStyle!==n&&(this._fontStyle=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(n){this._fontVariant!==n&&(this._fontVariant=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(n){this._fontWeight!==n&&(this._fontWeight=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(n){this._lineHeight!==n&&(this._lineHeight=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(n){this._leading!==n&&(this._leading=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(n){this._lineJoin!==n&&(this._lineJoin=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(n){this._miterLimit!==n&&(this._miterLimit=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(n){this._padding!==n&&(this._padding=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(n){var e=H3(n);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(n){this._strokeThickness!==n&&(this._strokeThickness=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(n){this._textBaseline!==n&&(this._textBaseline=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(n){this._trim!==n&&(this._trim=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(n){this._whiteSpace!==n&&(this._whiteSpace=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(n){this._wordWrap!==n&&(this._wordWrap=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(n){this._wordWrapWidth!==n&&(this._wordWrapWidth=n,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var n="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&AJ.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+n+" "+e.join(",")},t}();function CD(t){return"number"==typeof t?YC(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function H3(t){if(Array.isArray(t)){for(var n=0;n<t.length;++n)t[n]=CD(t[n]);return t}return CD(t)}function z3(t,n,e){for(var r in e)t[r]=Array.isArray(n[r])?n[r].slice():n[r]}var Eo=function(){function t(n,e,r,i,s,l,c,h,f){this.text=n,this.style=e,this.width=r,this.height=i,this.lines=s,this.lineWidths=l,this.lineHeight=c,this.maxLineWidth=h,this.fontProperties=f}return t.measureText=function(n,e,r,i){void 0===i&&(i=t._canvas),r=null==r?e.wordWrap:r;var s=e.toFontString(),l=t.measureFont(s);0===l.fontSize&&(l.fontSize=e.fontSize,l.ascent=e.fontSize);var c=i.getContext("2d");c.font=s;for(var f=(r?t.wordWrap(n,e,i):n).split(/(?:\r\n|\r|\n)/),v=new Array(f.length),E=0,b=0;b<f.length;b++){var y=c.measureText(f[b]).width+(f[b].length-1)*e.letterSpacing;v[b]=y,E=Math.max(E,y)}var T=E+e.strokeThickness;e.dropShadow&&(T+=e.dropShadowDistance);var A=e.lineHeight||l.fontSize+e.strokeThickness,O=Math.max(A,l.fontSize+e.strokeThickness)+(f.length-1)*(A+e.leading);return e.dropShadow&&(O+=e.dropShadowDistance),new t(n,e,T,O,f,v,A+e.leading,E,l)},t.wordWrap=function(n,e,r){void 0===r&&(r=t._canvas);for(var i=r.getContext("2d"),s=0,l="",c="",h=Object.create(null),f=e.letterSpacing,v=e.whiteSpace,E=t.collapseSpaces(v),b=t.collapseNewlines(v),y=!E,T=e.wordWrapWidth+f,A=t.tokenize(n),O=0;O<A.length;O++){var R=A[O];if(t.isNewline(R)){if(!b){c+=t.addLine(l),y=!E,l="",s=0;continue}R=" "}if(E){var q=t.isBreakingSpace(R),Q=t.isBreakingSpace(l[l.length-1]);if(q&&Q)continue}var B=t.getFromCache(R,f,h,i);if(B>T)if(""!==l&&(c+=t.addLine(l),l="",s=0),t.canBreakWords(R,e.breakWords))for(var L=t.wordWrapSplit(R),V=0;V<L.length;V++){for(var ve=L[V],Ue=1;L[V+Ue];){var W=L[V+Ue];if(t.canBreakChars(ve[ve.length-1],W,R,V,e.breakWords))break;ve+=W,Ue++}V+=ve.length-1;var dt=t.getFromCache(ve,f,h,i);dt+s>T&&(c+=t.addLine(l),y=!1,l="",s=0),l+=ve,s+=dt}else l.length>0&&(c+=t.addLine(l),l="",s=0),c+=t.addLine(R,!(O===A.length-1)),y=!1,l="",s=0;else B+s>T&&(y=!1,c+=t.addLine(l),l="",s=0),(l.length>0||!t.isBreakingSpace(R)||y)&&(l+=R,s+=B)}return c+t.addLine(l,!1)},t.addLine=function(n,e){return void 0===e&&(e=!0),n=t.trimRight(n),e?n+"\n":n},t.getFromCache=function(n,e,r,i){var s=r[n];if("number"!=typeof s){var l=n.length*e;s=i.measureText(n).width+l,r[n]=s}return s},t.collapseSpaces=function(n){return"normal"===n||"pre-line"===n},t.collapseNewlines=function(n){return"normal"===n},t.trimRight=function(n){if("string"!=typeof n)return"";for(var e=n.length-1;e>=0&&t.isBreakingSpace(n[e]);e--)n=n.slice(0,-1);return n},t.isNewline=function(n){return"string"==typeof n&&t._newlines.indexOf(n.charCodeAt(0))>=0},t.isBreakingSpace=function(n,e){return"string"==typeof n&&t._breakingSpaces.indexOf(n.charCodeAt(0))>=0},t.tokenize=function(n){var e=[],r="";if("string"!=typeof n)return e;for(var i=0;i<n.length;i++){var s=n[i];t.isBreakingSpace(s,n[i+1])||t.isNewline(s)?(""!==r&&(e.push(r),r=""),e.push(s)):r+=s}return""!==r&&e.push(r),e},t.canBreakWords=function(n,e){return e},t.canBreakChars=function(n,e,r,i,s){return!0},t.wordWrapSplit=function(n){return n.split("")},t.measureFont=function(n){if(t._fonts[n])return t._fonts[n];var e={ascent:0,descent:0,fontSize:0},r=t._canvas,i=t._context;i.font=n;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,l=Math.ceil(i.measureText(s).width),c=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),h=Math.ceil(t.HEIGHT_MULTIPLIER*c);c=c*t.BASELINE_MULTIPLIER|0,r.width=l,r.height=h,i.fillStyle="#f00",i.fillRect(0,0,l,h),i.font=n,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,c);var f=i.getImageData(0,0,l,h).data,v=f.length,E=4*l,b=0,y=0,T=!1;for(b=0;b<c;++b){for(var A=0;A<E;A+=4)if(255!==f[y+A]){T=!0;break}if(T)break;y+=E}for(e.ascent=c-b,y=v-E,T=!1,b=h;b>c;--b){for(A=0;A<E;A+=4)if(255!==f[y+A]){T=!0;break}if(T)break;y-=E}return e.descent=b-c,e.fontSize=e.ascent+e.descent,t._fonts[n]=e,e},t.clearMetrics=function(n){void 0===n&&(n=""),n?delete t._fonts[n]:t._fonts={}},t}(),Yp=function(){try{var t=new OffscreenCanvas(0,0),n=t.getContext("2d");return n&&n.measureText?t:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();Yp.width=Yp.height=10,Eo._canvas=Yp,Eo._context=Yp.getContext("2d"),Eo._fonts={},Eo.METRICS_STRING="|\xc9q\xc5",Eo.BASELINE_SYMBOL="M",Eo.BASELINE_MULTIPLIER=1.4,Eo.HEIGHT_MULTIPLIER=2,Eo._newlines=[10,13],Eo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var NJ={texture:!0,children:!1,baseTexture:!0},SD="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype,DD=function(t){function n(e,r,i){var s=this,l=!1;i||(i=document.createElement("canvas"),l=!0),i.width=3,i.height=3;var c=pt.from(i);return c.orig=new Xt,c.trim=new Xt,(s=t.call(this,c)||this)._ownCanvas=l,s.canvas=i,s.context=s.canvas.getContext("2d"),s._resolution=Ze.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=e,s.style=r,s.localStyleID=-1,s}return function(t,n){function e(){this.constructor=t}q3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var i=this.context,s=Eo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),c=s.height,h=s.lines,f=s.lineHeight,v=s.lineWidths,E=s.maxLineWidth,b=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s.width)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+2*r.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;for(var y,T,A=r.dropShadow?2:1,O=0;O<A;++O){var R=r.dropShadow&&0===O,q=R?Math.ceil(Math.max(1,c)+2*r.padding):0,Q=q*this._resolution;if(R){i.fillStyle="black",i.strokeStyle="black";var B=r.dropShadowColor,L=G0("number"==typeof B?B:WC(B));i.shadowColor="rgba("+255*L[0]+","+255*L[1]+","+255*L[2]+","+r.dropShadowAlpha+")",i.shadowBlur=r.dropShadowBlur,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+Q}else i.fillStyle=this._generateFillStyle(r,h,s),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var V=(f-b.fontSize)/2;(!n.nextLineHeightBehavior||f-b.fontSize<0)&&(V=0);for(var ve=0;ve<h.length;ve++)y=r.strokeThickness/2,T=r.strokeThickness/2+ve*f+b.ascent+V,"right"===r.align?y+=E-v[ve]:"center"===r.align&&(y+=(E-v[ve])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(h[ve],y+r.padding,T+r.padding-q,!0),r.fill&&this.drawLetterSpacing(h[ve],y+r.padding,T+r.padding-q)}this.updateTexture()}},n.prototype.drawLetterSpacing=function(e,r,i,s){void 0===s&&(s=!1);var c=this._style.letterSpacing;if(0===c||SD)return SD&&(this.context.letterSpacing=c,this.context.textLetterSpacing=c),void(s?this.context.strokeText(e,r,i):this.context.fillText(e,r,i));for(var h=r,f=Array.from?Array.from(e):e.split(""),v=this.context.measureText(e).width,E=0,b=0;b<f.length;++b){var y=f[b];s?this.context.strokeText(y,h,i):this.context.fillText(y,h,i),h+=v-(E=this.context.measureText(e.substring(b+1)).width)+c,v=E}},n.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var r=function(t){var f,v,E,n=t.width,e=t.height,r=t.getContext("2d"),s=r.getImageData(0,0,n,e).data,l=s.length,c={top:null,left:null,right:null,bottom:null},h=null;for(f=0;f<l;f+=4)0!==s[f+3]&&(v=f/4%n,E=~~(f/4/n),null===c.top&&(c.top=E),(null===c.left||v<c.left)&&(c.left=v),(null===c.right||c.right<v)&&(c.right=v+1),(null===c.bottom||c.bottom<E)&&(c.bottom=E));return null!==c.top&&(h=r.getImageData(c.left,c.top,n=c.right-c.left,e=c.bottom-c.top+1)),{height:e,width:n,data:h}}(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var i=this._texture,s=this._style,l=s.trim?0:s.padding,c=i.baseTexture;i.trim.width=i._frame.width=e.width/this._resolution,i.trim.height=i._frame.height=e.height/this._resolution,i.trim.x=-l,i.trim.y=-l,i.orig.width=i._frame.width-2*l,i.orig.height=i._frame.height-2*l,this._onTextureUpdate(),c.setRealSize(e.width,e.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},n.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},n.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},n.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},n.prototype._generateFillStyle=function(e,r,i){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var l,c=e.dropShadow?e.dropShadowDistance:0,h=e.padding||0,f=this.canvas.width/this._resolution-c-2*h,v=this.canvas.height/this._resolution-c-2*h,E=s.slice(),b=e.fillGradientStops.slice();if(!b.length)for(var y=E.length+1,T=1;T<y;++T)b.push(T/y);if(E.unshift(s[0]),b.unshift(0),E.push(s[s.length-1]),b.push(1),e.fillGradientType===tc.LINEAR_VERTICAL){l=this.context.createLinearGradient(f/2,h,f/2,v+h);var A=i.fontProperties.fontSize+e.strokeThickness;for(T=0;T<r.length;T++){var O=i.lineHeight*(T-1)+A,R=i.lineHeight*T,q=R;T>0&&O>R&&(q=(R+O)/2);var Q=R+A,B=i.lineHeight*(T+1),L=Q;T+1<r.length&&B<Q&&(L=(Q+B)/2);for(var V=(L-q)/v,ve=0;ve<E.length;ve++){var W=Math.min(1,Math.max(0,q/v+("number"==typeof b[ve]?b[ve]:ve/E.length)*V));W=Number(W.toFixed(5)),l.addColorStop(W,E[ve])}}}else{l=this.context.createLinearGradient(h,v/2,f+h,v/2);var Ae=E.length+1,dt=1;for(T=0;T<E.length;T++)l.addColorStop("number"==typeof b[T]?b[T]:dt/Ae,E[T]),dt++}return l},n.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},NJ,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var r=$0(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var r=$0(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof nc?e:new nc(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),n.nextLineHeightBehavior=!1,n}(ec);Ze.UPLOADS_PER_FRAME=4;var V3=function(t,n){return(V3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)},IJ=function(){function t(n){this.maxItemsPerFrame=n,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function PJ(t,n){var e=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof pt){var i=t._textures[r].baseTexture;-1===n.indexOf(i)&&(n.push(i),e=!0)}return e}function RJ(t,n){if(t.baseTexture instanceof an){var e=t.baseTexture;return-1===n.indexOf(e)&&n.push(e),!0}return!1}function FJ(t,n){if(t._texture&&t._texture instanceof pt){var e=t._texture.baseTexture;return-1===n.indexOf(e)&&n.push(e),!0}return!1}function kJ(t,n){return n instanceof DD&&(n.updateText(!0),!0)}function LJ(t,n){if(n instanceof nc){var e=n.toFontString();return Eo.measureFont(e),!0}return!1}function BJ(t,n){if(t instanceof DD){-1===n.indexOf(t.style)&&n.push(t.style),-1===n.indexOf(t)&&n.push(t);var e=t._texture.baseTexture;return-1===n.indexOf(e)&&n.push(e),!0}return!1}function qJ(t,n){return t instanceof nc&&(-1===n.indexOf(t)&&n.push(t),!0)}var UJ=function(){function t(n){var e=this;this.limiter=new IJ(Ze.UPLOADS_PER_FRAME),this.renderer=n,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(BJ),this.registerFindHook(qJ),this.registerFindHook(PJ),this.registerFindHook(RJ),this.registerFindHook(FJ),this.registerUploadHook(kJ),this.registerUploadHook(LJ)}return t.prototype.upload=function(n,e){"function"==typeof n&&(e=n,n=null),n&&this.add(n),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,oi.system.addOnce(this.tick,this,Ts.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var n=this.queue[0],e=!1;if(n&&!n._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,n)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)oi.system.addOnce(this.tick,this,Ts.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);for(this.completes.length=0,r=0,i=s.length;r<i;r++)s[r]()}},t.prototype.registerFindHook=function(n){return n&&this.addHooks.push(n),this},t.prototype.registerUploadHook=function(n){return n&&this.uploadHooks.push(n),this},t.prototype.add=function(n){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](n,this.queue);e++);if(n instanceof jo)for(e=n.children.length-1;e>=0;e--)this.add(n.children[e]);return this},t.prototype.destroy=function(){this.ticking&&oi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function wD(t,n){return n instanceof an&&(n._glTextures[t.CONTEXT_UID]||t.texture.bind(n),!0)}function HJ(t,n){if(!(n instanceof xD))return!1;var e=n.geometry;n.finishPoly(),e.updateBatches();for(var r=e.batches,i=0;i<r.length;i++){var s=r[i].style.texture;s&&wD(t,s.baseTexture)}return e.batchable||t.geometry.bind(e,n._resolveDirectShader(t)),!0}function zJ(t,n){return t instanceof xD&&(n.push(t),!0)}var VJ=function(t){function n(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(zJ),r.registerUploadHook(wD),r.registerUploadHook(HJ),r}return function(t,n){function e(){this.constructor=t}V3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n}(UJ),GJ=(function(){function t(n){this.maxMilliseconds=n,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(n,e,r){void 0===r&&(r=null),this._texture=n instanceof pt?n:null,this.baseTexture=n instanceof an?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(n){void 0===n&&(n=null);var e=this.data.meta.scale,r=bp(n,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(n){this._batchIndex=0,this._callback=n,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(n){for(var e=n,r=t.BATCH_SIZE;e-n<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],s=this._frames[i],l=s.frame;if(l){var c,h=null,f=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,v=new Xt(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);c=s.rotated?new Xt(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):new Xt(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(h=new Xt(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[i]=new pt(this.baseTexture,c,v,h,s.rotated?2:0,s.anchor),pt.addToCache(this.textures[i],i)}e++}},t.prototype._processAnimations=function(){var n=this.data.animations||{};for(var e in n){this.animations[e]=[];for(var r=0;r<n[e].length;r++)this.animations[e].push(this.textures[n[e][r]])}},t.prototype._parseComplete=function(){var n=this._callback;this._callback=null,this._batchIndex=0,n.call(this,this.textures)},t.prototype._nextBatch=function(){var n=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){n._batchIndex*t.BATCH_SIZE<n._frameKeys.length?n._nextBatch():(n._processAnimations(),n._parseComplete())},0)},t.prototype.destroy=function(n){var e;for(var r in void 0===n&&(n=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,n&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),jJ=function(){function t(){}return t.use=function(n,e){var r,i,s=this,l=n.name+"_image";if(n.data&&n.type===dr.TYPE.JSON&&n.data.frames&&!s.resources[l]){var c=null===(i=null===(r=n.data)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(c))for(var h=function(T){if("string"!=typeof T)return"continue";var A=T.replace(".json",""),O=V0.resolve(n.url.replace(s.baseUrl,""),T);if(s.resources[A]||Object.values(s.resources).some(function(q){return V0.format(V0.parse(q.url))===O}))return"continue";s.add(A,O,{crossOrigin:n.crossOrigin,loadType:dr.LOAD_TYPE.XHR,xhrType:dr.XHR_RESPONSE_TYPE.JSON,parentResource:n,metadata:n.metadata})},f=0,v=c;f<v.length;f++)h(v[f]);var b={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},y=t.getResourcePath(n,s.baseUrl);s.add(l,y,b,function(A){if(A.error)e(A.error);else{var O=new GJ(A.texture,n.data,n.url);O.parse(function(){n.spritesheet=O,n.textures=O.textures,e()})}})}else e()},t.getResourcePath=function(n,e){return n.isDataUrl?n.data.meta.image:V0.resolve(n.url.replace(e,""),n.data.meta.image)},t}(),G3=function(t,n){return(G3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function TD(t,n){function e(){this.constructor=t}G3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var y1=new yr,AD=(function(t){function n(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var s=t.call(this,e)||this;return s.tileTransform=new iS,s._width=r,s._height=i,s.uvMatrix=s.texture.uvMatrix||new g3(e),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}TD(n,t),Object.defineProperty(n.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),n.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},n.prototype._render=function(e){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},n.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},n.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Xt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},n.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,y1);var r=this._width,i=this._height,s=-r*this.anchor._x;if(y1.x>=s&&y1.x<s+r){var l=-i*this.anchor._y;if(y1.y>=l&&y1.y<l+i)return!0}return!1},n.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},n.from=function(e,r){return new n(e instanceof pt?e:pt.from(e,r),r.width,r.height)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(ec),"#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),Wp=new xr,JJ=function(t){function n(e){var r=t.call(this,e)||this;return e.runners.contextChange.add(r),r.quad=new bS,r.state=al.for2d(),r}return TD(n,t),n.prototype.contextChange=function(){var e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=yu.from(AD,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",r),this.shader=e.context.webGLVersion>1?yu.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",r):yu.from(AD,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",r)},n.prototype.render=function(e){var r=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);var l=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;(s=i.uvs)[0]=s[6]=-l,s[1]=s[3]=-c,s[2]=s[4]=1-l,s[5]=s[7]=1-c,i.invalidate();var h=e._texture,f=h.baseTexture,v=e.tileTransform.localTransform,E=e.uvMatrix,b=f.isPowerOfTwo&&h.frame.width===f.width&&h.frame.height===f.height;b&&(f._glTextures[r.CONTEXT_UID]?b=f.wrapMode!==ws.CLAMP:f.wrapMode===ws.CLAMP&&(f.wrapMode=ws.REPEAT));var y=b?this.simpleShader:this.shader,T=h.width,A=h.height,O=e._width,R=e._height;Wp.set(v.a*T/O,v.b*T/R,v.c*A/O,v.d*A/R,v.tx/O,v.ty/R),Wp.invert(),b?Wp.prepend(E.mapCoord):(y.uniforms.uMapCoord=E.mapCoord.toArray(!0),y.uniforms.uClampFrame=E.uClampFrame,y.uniforms.uClampOffset=E.uClampOffset),y.uniforms.uTransform=Wp.toArray(!0),y.uniforms.uColor=KC(e.tint,e.worldAlpha,y.uniforms.uColor,f.alphaMode),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=h,r.shader.bind(y),r.geometry.bind(i),this.state.blendMode=JC(e.blendMode,f.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},n}(Ip),j3=function(t,n){return(j3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function $3(t,n){function e(){this.constructor=t}j3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var KJ=function(){function t(n,e){this.uvBuffer=n,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(n){if(n||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Y3=new yr,MD=new xp,x1=function(t){function n(e,r,i,s){void 0===s&&(s=go.TRIANGLES);var l=t.call(this)||this;return l.geometry=e,l.shader=r,l.state=i||al.for2d(),l.drawMode=s,l.start=0,l.size=0,l.uvs=null,l.indices=null,l.vertexData=new Float32Array(1),l.vertexDirty=-1,l._transformID=-1,l._roundPixels=Ze.ROUND_PIXELS,l.batchUvs=null,l}return $3(n,t),Object.defineProperty(n.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),n.prototype._render=function(e){this.shader.batchable&&this.drawMode===go.TRIANGLES&&this.geometry.buffers[0].data.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},n.prototype._renderDefault=function(e){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},n.prototype._renderToBatch=function(e){var r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)},n.prototype.calculateVertices=function(){var r=this.geometry.buffers[0],i=r.data,s=r._updateID;if(s!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var l=this.transform.worldTransform,c=l.a,h=l.b,f=l.c,v=l.d,E=l.tx,b=l.ty,y=this.vertexData,T=0;T<y.length/2;T++){var A=i[2*T],O=i[2*T+1];y[2*T]=c*A+f*O+E,y[2*T+1]=h*A+v*O+b}if(this._roundPixels){var R=Ze.RESOLUTION;for(T=0;T<y.length;++T)y[T]=Math.round((y[T]*R|0)/R)}this.vertexDirty=s}},n.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new KJ(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},n.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},n.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Y3);for(var r=this.geometry.getBuffer("aVertexPosition").data,i=MD.points,s=this.geometry.getIndex().data,l=s.length,c=4===this.drawMode?3:1,h=0;h+2<l;h+=c){var f=2*s[h],v=2*s[h+1],E=2*s[h+2];if(i[0]=r[f],i[1]=r[f+1],i[2]=r[v],i[3]=r[v+1],i[4]=r[E],i[5]=r[E+1],MD.contains(Y3.x,Y3.y))return!0}return!1},n.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},n.BATCHABLE_SIZE=100,n}(jo),C1=function(t){function n(e,r){var i=this,s={uSampler:e,alpha:1,uTextureMatrix:xr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(s,r.uniforms),(i=t.call(this,r.program||p1.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),s)||this)._colorDirty=!1,i.uvMatrix=new g3(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return $3(n,t),Object.defineProperty(n.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),n.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,KC(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},n}(yu),Xp=function(t){function n(e,r,i){var s=t.call(this)||this,l=new kr(e),c=new kr(r,!0),h=new kr(i,!0,!0);return s.addAttribute("aVertexPosition",l,2,!1,at.FLOAT).addAttribute("aTextureCoord",c,2,!1,at.FLOAT).addIndex(h),s._updateId=-1,s}return $3(n,t),Object.defineProperty(n.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),n}(d1),W3=function(t,n){return(W3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)},Jp=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},tK=function(){function t(){}return t.test=function(n){return"string"==typeof n&&0===n.indexOf("info face=")},t.parse=function(n){var e=n.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in e){var s=e[i].match(/^[a-z]+/gm)[0],l=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(var h in l){var f=l[h].split("="),v=f[0],E=f[1].replace(/"/gm,""),b=parseFloat(E),y=isNaN(b)?E:b;c[v]=y}r[s].push(c)}var T=new Jp;return r.info.forEach(function(A){return T.info.push({face:A.face,size:parseInt(A.size,10)})}),r.common.forEach(function(A){return T.common.push({lineHeight:parseInt(A.lineHeight,10)})}),r.page.forEach(function(A){return T.page.push({id:parseInt(A.id,10),file:A.file})}),r.char.forEach(function(A){return T.char.push({id:parseInt(A.id,10),page:parseInt(A.page,10),x:parseInt(A.x,10),y:parseInt(A.y,10),width:parseInt(A.width,10),height:parseInt(A.height,10),xoffset:parseInt(A.xoffset,10),yoffset:parseInt(A.yoffset,10),xadvance:parseInt(A.xadvance,10)})}),r.kerning.forEach(function(A){return T.kerning.push({first:parseInt(A.first,10),second:parseInt(A.second,10),amount:parseInt(A.amount,10)})}),r.distanceField.forEach(function(A){return T.distanceField.push({distanceRange:parseInt(A.distanceRange,10),fieldType:A.fieldType})}),T},t}(),X3=function(){function t(){}return t.test=function(n){return n instanceof XMLDocument&&n.getElementsByTagName("page").length&&null!==n.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(n){for(var e=new Jp,r=n.getElementsByTagName("info"),i=n.getElementsByTagName("common"),s=n.getElementsByTagName("page"),l=n.getElementsByTagName("char"),c=n.getElementsByTagName("kerning"),h=n.getElementsByTagName("distanceField"),f=0;f<r.length;f++)e.info.push({face:r[f].getAttribute("face"),size:parseInt(r[f].getAttribute("size"),10)});for(f=0;f<i.length;f++)e.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(f=0;f<s.length;f++)e.page.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});for(f=0;f<l.length;f++){var v=l[f];e.char.push({id:parseInt(v.getAttribute("id"),10),page:parseInt(v.getAttribute("page"),10)||0,x:parseInt(v.getAttribute("x"),10),y:parseInt(v.getAttribute("y"),10),width:parseInt(v.getAttribute("width"),10),height:parseInt(v.getAttribute("height"),10),xoffset:parseInt(v.getAttribute("xoffset"),10),yoffset:parseInt(v.getAttribute("yoffset"),10),xadvance:parseInt(v.getAttribute("xadvance"),10)})}for(f=0;f<c.length;f++)e.kerning.push({first:parseInt(c[f].getAttribute("first"),10),second:parseInt(c[f].getAttribute("second"),10),amount:parseInt(c[f].getAttribute("amount"),10)});for(f=0;f<h.length;f++)e.distanceField.push({fieldType:h[f].getAttribute("fieldType"),distanceRange:parseInt(h[f].getAttribute("distanceRange"),10)});return e},t}(),nK=function(){function t(){}return t.test=function(n){if("string"==typeof n&&n.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(n,"text/xml");return X3.test(e)}return!1},t.parse=function(n){var e=(new self.DOMParser).parseFromString(n,"text/xml");return X3.parse(e)},t}(),J3=[tK,X3,nK];function ND(t){for(var n=0;n<J3.length;n++)if(J3[n].test(t))return J3[n];return null}function iK(t,n,e,r,i,s,l){var c=e.text,h=e.fontProperties;n.translate(r,i),n.scale(s,s);var f=l.strokeThickness/2,v=-l.strokeThickness/2;n.font=l.toFontString(),n.lineWidth=l.strokeThickness,n.textBaseline=l.textBaseline,n.lineJoin=l.lineJoin,n.miterLimit=l.miterLimit,n.fillStyle=function(t,n,e,r,i,s){var l=e.fill;if(!Array.isArray(l))return l;if(1===l.length)return l[0];var c,h=e.dropShadow?e.dropShadowDistance:0,f=e.padding||0,v=t.width/r-h-2*f,E=t.height/r-h-2*f,b=l.slice(),y=e.fillGradientStops.slice();if(!y.length)for(var T=b.length+1,A=1;A<T;++A)y.push(A/T);if(b.unshift(l[0]),y.unshift(0),b.push(l[l.length-1]),y.push(1),e.fillGradientType===tc.LINEAR_VERTICAL){c=n.createLinearGradient(v/2,f,v/2,E+f);var O=0,q=(s.fontProperties.fontSize+e.strokeThickness)/E;for(A=0;A<i.length;A++)for(var Q=s.lineHeight*A,B=0;B<b.length;B++){var ve=Math.max(O,Q/E+("number"==typeof y[B]?y[B]:B/b.length)*q);ve=Math.min(ve,1),c.addColorStop(ve,b[B]),O=ve}}else{c=n.createLinearGradient(f,E/2,v+f,E/2);var Ue=b.length+1,W=1;for(A=0;A<b.length;A++)c.addColorStop("number"==typeof y[A]?y[A]:W/Ue,b[A]),W++}return c}(t,n,l,s,[c],e),n.strokeStyle=l.stroke;var E=l.dropShadowColor,b=G0("number"==typeof E?E:WC(E));l.dropShadow?(n.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+l.dropShadowAlpha+")",n.shadowBlur=l.dropShadowBlur,n.shadowOffsetX=Math.cos(l.dropShadowAngle)*l.dropShadowDistance,n.shadowOffsetY=Math.sin(l.dropShadowAngle)*l.dropShadowDistance):(n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0),l.stroke&&l.strokeThickness&&n.strokeText(c,f,v+e.lineHeight-h.descent),l.fill&&n.fillText(c,f,v+e.lineHeight-h.descent),n.setTransform(1,0,0,1,0,0),n.fillStyle="rgba(0, 0, 0, 0)"}function OD(t){return Array.from?Array.from(t):t.split("")}function Kp(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var rc=function(){function t(n,e,r){var i,s,l=n.info[0],c=n.common[0],f=n.distanceField[0],v=bp(n.page[0].file),E={};this._ownsTextures=r,this.font=l.face,this.size=l.size,this.lineHeight=c.lineHeight/v,this.chars={},this.pageTextures=E;for(var b=0;b<n.page.length;b++){var y=n.page[b];E[T=y.id]=e instanceof Array?e[b]:e[y.file],(null==f?void 0:f.fieldType)&&"none"!==f.fieldType&&(E[T].baseTexture.alphaMode=Ho.NO_PREMULTIPLIED_ALPHA)}for(b=0;b<n.char.length;b++){var O=n.char[b],T=O.id,R=O.page,q=n.char[b],Q=q.x,B=q.y,L=q.width,V=q.height,ve=q.xoffset,Ue=q.yoffset,W=q.xadvance;ve/=v,Ue/=v,W/=v;var Ae=new Xt((Q/=v)+E[R].frame.x/v,(B/=v)+E[R].frame.y/v,L/=v,V/=v);this.chars[T]={xOffset:ve,yOffset:Ue,xAdvance:W,kerning:{},texture:new pt(E[R].baseTexture,Ae),page:R}}for(b=0;b<n.kerning.length;b++){var dt=n.kerning[b],Qe=dt.first,$t=dt.second,Ar=dt.amount;Qe/=v,Ar/=v,this.chars[$t/=v]&&(this.chars[$t].kerning[Qe]=Ar)}this.distanceFieldRange=null==f?void 0:f.distanceRange,this.distanceFieldType=null!==(s=null===(i=null==f?void 0:f.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==s?s:"none"}return t.prototype.destroy=function(){for(var n in this.chars)this.chars[n].texture.destroy(),this.chars[n].texture=null;for(var n in this.pageTextures)this._ownsTextures&&this.pageTextures[n].destroy(!0),this.pageTextures[n]=null;this.chars=null,this.pageTextures=null},t.install=function(n,e,r){var i;if(n instanceof Jp)i=n;else{var s=ND(n);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(n)}e instanceof pt&&(e=[e]);var l=new t(i,e,r);return t.available[l.font]=l,l},t.uninstall=function(n){var e=t.available[n];if(!e)throw new Error("No font found named '"+n+"'");e.destroy(),delete t.available[n]},t.from=function(n,e,r){if(!n)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,r),l=i.padding,c=i.resolution,h=i.textureWidth,f=i.textureHeight,v=function(t){"string"==typeof t&&(t=[t]);for(var n=[],e=0,r=t.length;e<r;e++){var i=t[e];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),l=i[1].charCodeAt(0);if(l<s)throw new Error("[BitmapFont]: Invalid character range.");for(var c=s,h=l;c<=h;c++)n.push(String.fromCharCode(c))}else n.push.apply(n,OD(i))}if(0===n.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return n}(i.chars),E=e instanceof nc?e:new nc(e),b=h,y=new Jp;y.info[0]={face:E.fontFamily,size:E.fontSize},y.common[0]={lineHeight:E.fontSize};for(var O,R,q,T=0,A=0,Q=0,B=[],L=0;L<v.length;L++){O||((O=document.createElement("canvas")).width=h,O.height=f,R=O.getContext("2d"),q=new an(O,{resolution:c}),B.push(new pt(q)),y.page.push({id:B.length-1,file:""}));var V=Eo.measureText(v[L],E,!1,O),ve=V.width,Ue=Math.ceil(V.height),W=Math.ceil(("italic"===E.fontStyle?2:1)*ve);if(A>=f-Ue*c){if(0===A)throw new Error("[BitmapFont] textureHeight "+f+"px is too small for "+E.fontSize+"px fonts");--L,O=null,R=null,q=null,A=0,T=0,Q=0}else if(Q=Math.max(Ue+V.fontProperties.descent,Q),W*c+T>=b)--L,A+=Q*c,A=Math.ceil(A),T=0,Q=0;else{iK(O,R,V,T,A,c,E);var Ae=Kp(V.text);y.char.push({id:Ae,page:B.length-1,x:T/c,y:A/c,width:W,height:Ue,xoffset:0,yoffset:0,xadvance:Math.ceil(ve-(E.dropShadow?E.dropShadowDistance:0)-(E.stroke?E.strokeThickness:0))}),T+=(W+2*l)*c,T=Math.ceil(T)}}L=0;for(var dt=v.length;L<dt;L++)for(var Qe=v[L],$t=0;$t<dt;$t++){var Ar=v[$t],Ye=R.measureText(Qe).width,$e=R.measureText(Ar).width,Ei=R.measureText(Qe+Ar).width-(Ye+$e);Ei&&y.kerning.push({first:Kp(Qe),second:Kp(Ar),amount:Ei})}var Vi=new t(y,B,!0);return void 0!==t.available[n]&&t.uninstall(n),t.available[n]=Vi,Vi},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),uK=[],lK=[],ID=[],cK=(function(t){function n(e,r){void 0===r&&(r={});var i=t.call(this)||this;i._tint=16777215;var s=Object.assign({},n.styleDefaults,r),l=s.align,c=s.tint,h=s.maxWidth,f=s.letterSpacing,v=s.fontName,E=s.fontSize;if(!rc.available[v])throw new Error('Missing BitmapFont "'+v+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=l,i._tint=c,i._fontName=v,i._fontSize=E||rc.available[v].size,i._text=e,i._maxWidth=h,i._maxLineHeight=0,i._letterSpacing=f,i._anchor=new Y0(function(){i.dirty=!0},i,0,0),i._roundPixels=Ze.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}(function(t,n){function e(){this.constructor=t}W3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)})(n,t),n.prototype.updateText=function(){for(var e,r=rc.available[this._fontName],i=this._fontSize/r.size,s=new yr,l=[],c=[],h=[],v=OD(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),E=this._maxWidth*r.size/this._fontSize,b="none"===r.distanceFieldType?uK:lK,y=null,T=0,A=0,O=0,R=-1,q=0,Q=0,B=0,L=0,V=0;V<v.length;V++){var Ue=Kp(ve=v[V]);if(/(?:\s)/.test(ve)&&(R=V,q=T,L++),"\r"!==ve&&"\n"!==ve){var W=r.chars[Ue];if(W){y&&W.kerning[y]&&(s.x+=W.kerning[y]);var Ae=ID.pop()||{texture:pt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new yr};Ae.texture=W.texture,Ae.line=O,Ae.charCode=Ue,Ae.position.x=s.x+W.xOffset+this._letterSpacing/2,Ae.position.y=s.y+W.yOffset,Ae.prevSpaces=L,l.push(Ae),T=Ae.position.x+W.texture.orig.width,s.x+=W.xAdvance+this._letterSpacing,B=Math.max(B,W.yOffset+W.texture.height),y=Ue,-1!==R&&E>0&&s.x>E&&(j0(l,1+R-++Q,1+V-R),V=R,R=-1,c.push(q),h.push(l.length>0?l[l.length-1].prevSpaces:0),A=Math.max(A,q),O++,s.x=0,s.y+=r.lineHeight,y=null,L=0)}}else c.push(T),h.push(-1),A=Math.max(A,T),++O,++Q,s.x=0,s.y+=r.lineHeight,y=null,L=0}var dt=v[v.length-1];"\r"!==dt&&"\n"!==dt&&(/(?:\s)/.test(dt)&&(T=q),c.push(T),A=Math.max(A,T),h.push(-1));var Qe=[];for(V=0;V<=O;V++){var $t=0;"right"===this._align?$t=A-c[V]:"center"===this._align?$t=(A-c[V])/2:"justify"===this._align&&($t=h[V]<0?0:(A-c[V])/h[V]),Qe.push($t)}var Ar=l.length,Ye={},$e=[],Jt=this._activePagesMeshData;for(V=0;V<Jt.length;V++)b.push(Jt[V]);for(V=0;V<Ar;V++){var Vi=(Ei=l[V].texture).baseTexture.uid;if(!Ye[Vi]){if(!(At=b.pop())){var sc=new Xp,Cu=void 0,Ha=void 0;"none"===r.distanceFieldType?(Cu=new C1(pt.EMPTY),Ha=tt.NORMAL):(Cu=new C1(pt.EMPTY,{program:p1.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),Ha=tt.NORMAL_NPM);var S1=new x1(sc,Cu);S1.blendMode=Ha,At={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:S1,vertices:null,uvs:null,indices:null}}At.index=0,At.indexCount=0,At.vertexCount=0,At.uvsCount=0,At.total=0;var ac=this._textureCache;ac[Vi]=ac[Vi]||new pt(Ei.baseTexture),At.mesh.texture=ac[Vi],At.mesh.tint=this._tint,$e.push(At),Ye[Vi]=At}Ye[Vi].total++}for(V=0;V<Jt.length;V++)-1===$e.indexOf(Jt[V])&&this.removeChild(Jt[V].mesh);for(V=0;V<$e.length;V++)$e[V].mesh.parent!==this&&this.addChild($e[V].mesh);for(var V in this._activePagesMeshData=$e,Ye){var Ms=(At=Ye[V]).total;if(!((null===(e=At.indices)||void 0===e?void 0:e.length)>6*Ms)||At.vertices.length<2*x1.BATCHABLE_SIZE)At.vertices=new Float32Array(8*Ms),At.uvs=new Float32Array(8*Ms),At.indices=new Uint16Array(6*Ms);else for(var lc=At.vertices,Wo=4*At.total*2;Wo<lc.length;Wo++)lc[Wo]=0;At.mesh.size=6*Ms}for(V=0;V<Ar;V++){var ve,Xo=(ve=l[V]).position.x+Qe[ve.line]*("justify"===this._align?ve.prevSpaces:1);this._roundPixels&&(Xo=Math.round(Xo));var Ei,_o=Xo*i,bo=ve.position.y*i,Vn=Ye[(Ei=ve.texture).baseTexture.uid],hl=Ei.frame,Ns=Ei._uvs,fn=Vn.index++;Vn.indices[6*fn+0]=0+4*fn,Vn.indices[6*fn+1]=1+4*fn,Vn.indices[6*fn+2]=2+4*fn,Vn.indices[6*fn+3]=0+4*fn,Vn.indices[6*fn+4]=2+4*fn,Vn.indices[6*fn+5]=3+4*fn,Vn.vertices[8*fn+0]=_o,Vn.vertices[8*fn+1]=bo,Vn.vertices[8*fn+2]=_o+hl.width*i,Vn.vertices[8*fn+3]=bo,Vn.vertices[8*fn+4]=_o+hl.width*i,Vn.vertices[8*fn+5]=bo+hl.height*i,Vn.vertices[8*fn+6]=_o,Vn.vertices[8*fn+7]=bo+hl.height*i,Vn.uvs[8*fn+0]=Ns.x0,Vn.uvs[8*fn+1]=Ns.y0,Vn.uvs[8*fn+2]=Ns.x1,Vn.uvs[8*fn+3]=Ns.y1,Vn.uvs[8*fn+4]=Ns.x2,Vn.uvs[8*fn+5]=Ns.y2,Vn.uvs[8*fn+6]=Ns.x3,Vn.uvs[8*fn+7]=Ns.y3}for(var V in this._textWidth=A*i,this._textHeight=(s.y+r.lineHeight)*i,Ye){var At=Ye[V];if(0!==this.anchor.x||0!==this.anchor.y)for(var Os=0,cc=this._textWidth*this.anchor.x,e2=this._textHeight*this.anchor.y,FD=0;FD<At.total;FD++)At.vertices[Os++]-=cc,At.vertices[Os++]-=e2,At.vertices[Os++]-=cc,At.vertices[Os++]-=e2,At.vertices[Os++]-=cc,At.vertices[Os++]-=e2,At.vertices[Os++]-=cc,At.vertices[Os++]-=e2;this._maxLineHeight=B*i;var kD=At.mesh.geometry.getBuffer("aVertexPosition"),LD=At.mesh.geometry.getBuffer("aTextureCoord"),BD=At.mesh.geometry.getIndex();kD.data=At.vertices,LD.data=At.uvs,BD.data=At.indices,kD.update(),LD.update(),BD.update()}for(V=0;V<l.length;V++)ID.push(l[V])},n.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},n.prototype._render=function(e){var r=rc.available[this._fontName],i=r.distanceFieldRange,l=r.size;if("none"!==r.distanceFieldType)for(var c=this.worldTransform,h=c.a,f=c.b,v=c.c,E=c.d,b=Math.sqrt(h*h+f*f),y=Math.sqrt(v*v+E*E),T=(Math.abs(b)+Math.abs(y))/2,A=this._fontSize/l,O=0,R=this._activePagesMeshData;O<R.length;O++)R[O].mesh.shader.uniforms.uFWidth=T*i*A*e.resolution;t.prototype._render.call(this,e)},n.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},n.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(n.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!rc.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),n.prototype.destroy=function(e){var r=this._textureCache;for(var i in r)r[i].destroy(),delete r[i];this._textureCache=null,t.prototype.destroy.call(this,e)},n.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(jo),function(){function t(){}return t.add=function(){dr.setExtensionXhrType("fnt",dr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(n,e){var r=ND(n.data);if(r)for(var i=t.getBaseUrl(this,n),s=r.parse(n.data),l={},c=function(A){l[A.metadata.pageFile]=A.texture,Object.keys(l).length===s.page.length&&(n.bitmapFont=rc.install(s,l,!0),e())},h=0;h<s.page.length;++h){var f=s.page[h].file,v=i+f,E=!1;for(var b in this.resources){var y=this.resources[b];if(y.url===v){y.metadata.pageFile=f,y.texture?c(y):y.onAfterMiddleware.add(c),E=!0;break}}if(!E){var T={crossOrigin:n.crossOrigin,loadType:dr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},n.metadata.imageMetadata),parentResource:n};this.add(v,T,c)}}else e()},t.getBaseUrl=function(n,e){var r=e.isDataUrl?"":t.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),n.baseUrl&&r&&"/"===n.baseUrl.charAt(n.baseUrl.length-1)&&(r+="/")),(r=r.replace(n.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(n){var e=n.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===n?".":""===e?"/":e},t}()),K3=function(t,n){return(K3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};!function(t){function n(e){void 0===e&&(e=1);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(t,n){function e(){this.constructor=t}K3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)})(n,t),Object.defineProperty(n.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(La);var Z3=function(t,n){return(Z3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function PD(t,n){function e(){this.constructor=t}Z3(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var gK={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},vK=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),ic=(()=>(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(ic||(ic={})),ic))(),Q3=function(t){function n(e,r,i,s,l){void 0===r&&(r=8),void 0===i&&(i=4),void 0===s&&(s=Ze.FILTER_RESOLUTION),void 0===l&&(l=5);var c=this,h=function(t,n){var s,e=Math.ceil(t/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",i="";s=n?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var l=0;l<t;l++){var c=s.replace("%index%",l.toString());i+=c=c.replace("%sampleIndex%",l-(e-1)+".0"),i+="\n"}return(r=r.replace("%blur%",i)).replace("%size%",t.toString())}(l,e),f=function(t){for(var l,n=gK[t],e=n.length,r=vK,i="",c=0;c<t;c++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",c.toString());l=c,c>=e&&(l=t-c-1),i+=h=h.replace("%value%",n[l].toString()),i+="\n"}return(r=r.replace("%blur%",i)).replace("%size%",t.toString())}(l);return(c=t.call(this,h,f)||this).horizontal=e,c.resolution=s,c._quality=0,c.quality=i,c.blur=r,c}return PD(n,t),n.prototype.apply=function(e,r,i,s){if(this.uniforms.strength=i?this.horizontal?1/i.width*(i.width/r.width):1/i.height*(i.height/r.height):this.horizontal?1/e.renderer.width*(e.renderer.width/r.width):1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,i,s);else{var l=e.getFilterTexture(),c=e.renderer,h=r,f=l;this.state.blend=!1,e.applyFilter(this,h,f,ic.CLEAR);for(var v=1;v<this.passes-1;v++){e.bindAndClear(h,ic.BLIT),this.uniforms.uSampler=f;var E=f;f=h,h=E,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,f,i,s),e.returnFilterTexture(l)}},Object.defineProperty(n.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),n}(La),eE=(function(t){function n(e,r,i,s){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=Ze.FILTER_RESOLUTION),void 0===s&&(s=5);var l=t.call(this)||this;return l.blurXFilter=new Q3(!0,e,r,i,s),l.blurYFilter=new Q3(!1,e,r,i,s),l.resolution=i,l.quality=r,l.blur=e,l.repeatEdgePixels=!1,l}PD(n,t),n.prototype.apply=function(e,r,i,s){var l=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(l&&c){var h=e.getFilterTexture();this.blurXFilter.apply(e,r,h,ic.CLEAR),this.blurYFilter.apply(e,h,i,s),e.returnFilterTexture(h)}else c?this.blurYFilter.apply(e,r,i,s):this.blurXFilter.apply(e,r,i,s)},n.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(n.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(La),function(t,n){return(eE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)}),tE=function(t){function n(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,XS,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,n){function e(){this.constructor=t}eE(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype._loadMatrix=function(e,r){void 0===r&&(r=!1);var i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},n.prototype._multiply=function(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e},n.prototype._colorMatrix=function(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},n.prototype.brightness=function(e,r){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},n.prototype.tint=function(e,r){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],r)},n.prototype.greyscale=function(e,r){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],r)},n.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},n.prototype.hue=function(e,r){e=(e||0)/180*Math.PI;var i=Math.cos(e),s=Math.sin(e),c=1/3,h=(0,Math.sqrt)(c);this._loadMatrix([i+(1-i)*c,c*(1-i)-h*s,c*(1-i)+h*s,0,0,c*(1-i)+h*s,i+c*(1-i),c*(1-i)-h*s,0,0,c*(1-i)-h*s,c*(1-i)+h*s,i+c*(1-i),0,0,0,0,0,1,0],r)},n.prototype.contrast=function(e,r){var i=(e||0)+1,s=-.5*(i-1);this._loadMatrix([i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0],r)},n.prototype.saturate=function(e,r){void 0===e&&(e=0);var i=2*e/3+1,s=-.5*(i-1);this._loadMatrix([i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0],r)},n.prototype.desaturate=function(){this.saturate(-1)},n.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},n.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},n.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},n.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},n.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},n.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},n.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},n.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},n.prototype.colorTone=function(e,r,i,s,l){var c=((i=i||16770432)>>16&255)/255,h=(i>>8&255)/255,f=(255&i)/255,v=((s=s||3375104)>>16&255)/255,E=(s>>8&255)/255,b=(255&s)/255;this._loadMatrix([.3,.59,.11,0,0,c,h,f,e=e||.2,0,v,E,b,r=r||.15,0,c-v,h-E,f-b,0,0],l)},n.prototype.night=function(e,r){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],r)},n.prototype.predator=function(e,r){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],r)},n.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},n.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(n.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),n}(La);tE.prototype.grayscale=tE.prototype.greyscale;var nE=function(t,n){return(nE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};!function(t){function n(e,r){var i=this,s=new xr;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=s,null==r&&(r=20),i.scale=new yr(r,r),i}(function(t,n){function e(){this.constructor=t}nE(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)})(n,t),n.prototype.apply=function(e,r,i,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var l=this.maskSprite.worldTransform,c=Math.sqrt(l.a*l.a+l.b*l.b),h=Math.sqrt(l.c*l.c+l.d*l.d);0!==c&&0!==h&&(this.uniforms.rotation[0]=l.a/c,this.uniforms.rotation[1]=l.b/c,this.uniforms.rotation[2]=l.c/h,this.uniforms.rotation[3]=l.d/h),e.applyFilter(this,r,i,s)},Object.defineProperty(n.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(La);var rE=function(t,n){return(rE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};!function(t){!function(t,n){function e(){this.constructor=t}rE(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(function(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this},t)}(La);var iE=function(t,n){return(iE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};!function(t){function n(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,XS,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}(function(t,n){function e(){this.constructor=t}iE(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)})(n,t),Object.defineProperty(n.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(La);var Zp=(()=>(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Zp||(Zp={})),Zp))(),RD=new xr;Cr.prototype._cacheAsBitmap=!1,Cr.prototype._cacheData=null,Cr.prototype._cacheAsBitmapResolution=null,Cr.prototype._cacheAsBitmapMultisample=Zp.NONE;var PK=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Cr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var n;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new PK),(n=this._cacheData).originalRender=this.render,n.originalRenderCanvas=this.renderCanvas,n.originalUpdateTransform=this.updateTransform,n.originalCalculateBounds=this.calculateBounds,n.originalGetLocalBounds=this.getLocalBounds,n.originalDestroy=this.destroy,n.originalContainsPoint=this.containsPoint,n.originalMask=this._mask,n.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((n=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=n.originalRender,this.renderCanvas=n.originalRenderCanvas,this.calculateBounds=n.originalCalculateBounds,this.getLocalBounds=n.originalGetLocalBounds,this.destroy=n.originalDestroy,this.updateTransform=n.originalUpdateTransform,this.containsPoint=n.originalContainsPoint,this._mask=n.originalMask,this.filterArea=n.originalFilterArea))}}}),Cr.prototype._renderCached=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(n),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(n))},Cr.prototype._initCachedDisplayObject=function(n){var e;if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,n.batch.flush();var i=this.getLocalBounds(null,!0).clone();this.filters&&i.pad(this.filters[0].padding),i.ceil(Ze.RESOLUTION);var l=n.renderTexture.current,c=n.renderTexture.sourceFrame.clone(),h=n.renderTexture.destinationFrame.clone(),f=n.projection.transform,v=ol.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||n.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:n.multisample}),E="cacheAsBitmap_"+el();this._cacheData.textureCacheId=E,an.addToCache(v.baseTexture,E),pt.addToCache(v,E);var b=this.transform.localTransform.copyTo(RD).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,n.render(this,{renderTexture:v,clear:!0,transform:b,skipUpdateTransform:!1}),n.framebuffer.blit(),n.projection.transform=f,n.renderTexture.bind(l,c,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var y=new ec(v);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-i.x/i.width,y.anchor.y=-i.y/i.height,y.alpha=r,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)}},Cr.prototype._renderCachedCanvas=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(n),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(n))},Cr.prototype._initCachedDisplayObjectCanvas=function(n){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=n.context,s=n._projTransform;e.ceil(Ze.RESOLUTION);var l=ol.create({width:e.width,height:e.height}),c="cacheAsBitmap_"+el();this._cacheData.textureCacheId=c,an.addToCache(l.baseTexture,c),pt.addToCache(l,c);var h=RD;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,n.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),n.context=i,n._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var f=new ec(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=n._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},Cr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Cr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Cr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,an.removeFromCache(this._cacheData.textureCacheId),pt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Cr.prototype._cacheAsBitmapDestroy=function(n){this.cacheAsBitmap=!1,this.destroy(n)},Cr.prototype.name=null,jo.prototype.getChildByName=function(n,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===n)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var l=this.children[r].getChildByName(n,!0);if(l)return l}return null},Cr.prototype.getGlobalPosition=function(n,e){return void 0===n&&(n=new yr),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,n,e):(n.x=this.position.x,n.y=this.position.y),n};var oE=function(t,n){return(oE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)};function oc(t,n){function e(){this.constructor=t}oE(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var RK=function(t){function n(e,r,i,s){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===s&&(s=10);var l=t.call(this)||this;return l.segWidth=i,l.segHeight=s,l.width=e,l.height=r,l.build(),l}return oc(n,t),n.prototype.build=function(){for(var e=this.segWidth*this.segHeight,r=[],i=[],s=[],l=this.segWidth-1,c=this.segHeight-1,h=this.width/l,f=this.height/c,v=0;v<e;v++){var E=v%this.segWidth,b=v/this.segWidth|0;r.push(E*h,b*f),i.push(E/l,b/c)}var y=l*c;for(v=0;v<y;v++){var T=v%l,A=v/l|0,R=A*this.segWidth+T+1,q=(A+1)*this.segWidth+T;s.push(A*this.segWidth+T,R,q,R,(A+1)*this.segWidth+T+1,q)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},n}(Xp),FK=function(t){function n(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var s=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return s.points=r,s._width=e,s.textureScale=i,s.build(),s}return oc(n,t),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),n.prototype.build=function(){var e=this.points;if(e){var r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(e.length<1)){r.data.length/4!==e.length&&(r.data=new Float32Array(4*e.length),i.data=new Float32Array(4*e.length),s.data=new Uint16Array(6*(e.length-1)));var l=i.data,c=s.data;l[0]=0,l[1]=0,l[2]=0,l[3]=1;for(var h=0,f=e[0],v=this._width*this.textureScale,E=e.length,b=0;b<E;b++){var y=4*b;if(this.textureScale>0){var T=f.x-e[b].x,A=f.y-e[b].y,O=Math.sqrt(T*T+A*A);f=e[b],h+=O/v}else h=b/(E-1);l[y]=h,l[y+1]=0,l[y+2]=h,l[y+3]=1}var R=0;for(b=0;b<E-1;b++)c[R++]=y=2*b,c[R++]=y+1,c[R++]=y+2,c[R++]=y+2,c[R++]=y+1,c[R++]=y+3;i.update(),s.update(),this.updateVertices()}}},n.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var i,r=e[0],s=0,l=0,c=this.buffers[0].data,h=e.length,f=0;f<h;f++){var v=e[f],E=4*f;l=-((i=f<e.length-1?e[f+1]:v).x-r.x),s=i.y-r.y;var b=Math.sqrt(s*s+l*l),y=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=b,l/=b,l*=y,c[E]=v.x+(s*=y),c[E+1]=v.y+l,c[E+2]=v.x-s,c[E+3]=v.y-l,r=v}this.buffers[0].update()}},n.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},n}(Xp),kK=(function(t){function n(e,r,i){void 0===i&&(i=0);var s=this,l=new FK(e.height,r,i),c=new C1(e);return i>0&&(e.baseTexture.wrapMode=ws.REPEAT),(s=t.call(this,l,c)||this).autoUpdate=!0,s}oc(n,t),n.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)}}(x1),function(t){function n(e,r,i){var s=this,l=new RK(e.width,e.height,r,i),c=new C1(pt.WHITE);return(s=t.call(this,l,c)||this).texture=e,s.autoResize=!0,s}return oc(n,t),n.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,r=this.shader.texture;this.autoResize&&(e.width!==r.width||e.height!==r.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(n.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),n.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},n.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},n}(x1)),sE=(function(t){function n(e,r,i,s,l){void 0===e&&(e=pt.EMPTY);var c=this,h=new Xp(r,i,s);h.getBuffer("aVertexPosition").static=!1;var f=new C1(e);return(c=t.call(this,h,f,null,l)||this).autoUpdate=!0,c}oc(n,t),Object.defineProperty(n.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),n.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(x1),function(t){function n(e,r,i,s,l){void 0===r&&(r=10),void 0===i&&(i=10),void 0===s&&(s=10),void 0===l&&(l=10);var c=t.call(this,pt.WHITE,4,4)||this;return c._origWidth=e.orig.width,c._origHeight=e.orig.height,c._width=c._origWidth,c._height=c._origHeight,c._leftWidth=r,c._rightWidth=s,c._topHeight=i,c._bottomHeight=l,c.texture=e,c}oc(n,t),n.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(n.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),n.prototype.updateHorizontalVertices=function(){var e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},n.prototype.updateVerticalVertices=function(){var e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},n.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,i=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>i?1:this._height/i)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),n.prototype._refresh=function(){var e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(kK),function(t,n){return(sE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(t,n)});!function(t){function n(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof pt?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}(function(t,n){function e(){this.constructor=t}sE(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)})(n,t),n.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1))},n.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(oi.shared.add(this.update,this,Ts.HIGH),this._isConnectedToTicker=!0))},n.prototype.gotoAndStop=function(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},n.prototype.gotoAndPlay=function(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},n.prototype.update=function(e){if(this._playing){var r=this.animationSpeed*e,i=this.currentFrame;if(null!==this._durations){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var l=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*l,this._currentTime+=l;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},n.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},n.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},n.fromFrames=function(e){for(var r=[],i=0;i<e.length;++i)r.push(pt.from(e[i]));return new n(r)},n.fromImages=function(e){for(var r=[],i=0;i<e.length;++i)r.push(pt.from(e[i]));return new n(r)},Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof pt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(oi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(ec),xu.registerPlugin("accessibility",aW),xu.registerPlugin("extract",MX),xu.registerPlugin("interaction",fW),xu.registerPlugin("particle",vJ),xu.registerPlugin("prepare",VJ),xu.registerPlugin("batch",CX),xu.registerPlugin("tilingSprite",JJ),As.registerPlugin(cK),As.registerPlugin($X),As.registerPlugin(lJ),As.registerPlugin(pJ),As.registerPlugin(jJ),Lp.registerPlugin(uW),Lp.registerPlugin(BX);let BK=(()=>{class t{constructor(e,r){this.elementRef=e,this.ngZone=r,this.devicePixelRatio=1,this.applicationOptions={width:800,height:800,backgroundColor:1087931},this.uniforms={brightness:{type:"f",value:1},submarine:{type:"vec2",value:{x:600,y:600}},resolution:{type:"vec2",value:[800,800]},glowColor:{type:"vec3",value:[0,0,1]}},this._this=this}ngOnInit(){setTimeout(()=>{Prism.highlightAll()},10),this.ngZone.runOutsideAngular(()=>{this.app=new Lp(this.applicationOptions),this.container=new jo,this.container.filterArea=new Xt(0,0,800,800),this.app.stage.addChild(this.container),this.submarine=ec.from("assets/Pixis/submarine.png"),this.submarine.anchor.set(.5),this.submarine.x=600,this.submarine.y=600,this.container.addChild(this.submarine),this.app.stop(),this.app.loader.add("shader","assets/Pixis/shader.frag").add("shader2","assets/Pixis/vertex.frag").load(this.onLoaded.bind(this)),this.app.ticker.add(e=>{this.submarine.x-=e,this.filter.uniforms.submarine.value.x=this.submarine.x/800,this.filter.uniforms.submarine.value.y=this.submarine.y/800})}),this.elementRef.nativeElement.appendChild(this.app.view),this.resize()}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}onLoaded(e,r){this.filter=new La(r.shader2.data,r.shader.data,this.uniforms),this.container.filters=[this.filter],this.app.start()}resize(){}destroy(){this.app.destroy()}ngOnDestroy(){this.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z(Zt),z(en))},t.\u0275cmp=_e({type:t,selectors:[["app-day1"]],hostBindings:function(e,r){1&e&&ge("resize",function(){return r.resize()},!1,c8)},decls:146,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day1_part1"],["href","https://adventofcode.com/2021/day/1"],["id","day1_part1_statement"],[1,"line-numbers","language-python"],["id","day1_part1_solution"],["id","day1_part2_statement"],["id","day1_part2_solution_naive"],["id","day1_part2_solution_less_naive"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 1) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 1, partie 1:"),u(),u(),d(27,"br"),a(28,"h3",8),o(29," Enonc\xe9 "),u(),o(30," On a en entr\xe9e une liste d'entiers correspondant \xe0 des mesures de profondeur."),d(31,"br"),o(32," On cherche \xe0 compter le nombre de mesures sup\xe9rieures \xe0 la mesure pr\xe9c\xe9dente."),d(33,"br"),d(34,"br"),o(35," Par exemple, avec les valeurs suivantes: "),a(36,"pre",9),a(37,"code"),o(38,"199\n200\n208\n210\n200\n207\n240\n269\n260\n263"),u(),u(),o(39," On a "),a(40,"b"),o(41,"210"),u(),o(42," qui est sup\xe9rieur \xe0 la valeur pr\xe9c\xe9dente ("),a(43,"b"),o(44,"208"),u(),o(45,"), de m\xeame pour "),a(46,"b"),o(47,"207"),u(),o(48,", "),a(49,"b"),o(50,"240"),u(),o(51,", "),a(52,"b"),o(53,"269"),u(),o(54," et "),a(55,"b"),o(56,"263"),u(),o(57,"."),d(58,"br"),o(59," On aurait donc \xe0 retourner dans le cas pr\xe9sent "),a(60,"b"),o(61,"5"),u(),o(62,". "),a(63,"h3",10),o(64," Solution"),u(),o(65," Il suffit simplement d'it\xe9rer sur la liste que l'on a en entr\xe9e, et de v\xe9rifier si l'\xe9l\xe9ment que l'on est en train de traiter est sup\xe9rieur \xe0 l'\xe9l\xe9ment pr\xe9c\xe9dent. "),d(66,"br"),d(67,"br"),o(68," On disposait de tr\xe8s peu de libert\xe9 sur la solution, il n'y avait rien de mieux \xe0 faire qu'un simple parcours lin\xe9aire de la liste."),d(69,"br"),o(70," On pouvait n\xe9anmoins avoir une petite diff\xe9rence de code selon si le choix se portait sur le stockage de la valeur pr\xe9c\xe9dente dans une variable, ou si simplement on utilisait les indices de tableau pour r\xe9cup\xe9rer la valeur qui pr\xe9c\xe9dait celle qu'on traitait actuellement."),d(71,"br"),d(72,"br"),o(73," Le code qui suit a une complexit\xe9 en "),a(74,"b"),o(75,"O(N)"),u(),o(76,". "),a(77,"pre",9),a(78,"code"),o(79,"lines = open('input1.txt').read().split('\\n')\nmeasurements = list(map(int,lines))\n\nanswer = 0\nfor i in range(1,len(measurements)):\n    if(measurements[i] > measurements[i-1]):\n        answer += 1\nprint(answer)"),u(),u(),u(),a(80,"div"),a(81,"h2",6),a(82,"a",7),o(83,"Jour 1, partie 2:"),u(),u(),d(84,"br"),a(85,"h3",11),o(86," Enonc\xe9 "),u(),o(87," On a les m\xeames entr\xe9es que pour la partie 1, on doit appliquer le m\xeame principe pour calculer la r\xe9ponse, mais sur la somme des fen\xeatres glissantes de taille "),a(88,"b"),o(89,"3"),u(),o(90,". Par exemple, avec les valeurs suivantes: "),a(91,"pre",9),a(92,"code"),o(93,"199\n200\n208\n210\n200\n207\n240\n269\n260\n263"),u(),u(),o(94," On a les fen\xeatres de taille 3 suivantes: "),a(95,"pre",9),a(96,"code"),o(97,"sum([199,200,208]) = 607\nsum([200,208,210]) = 618\nsum([208,210,200]) = 618\nsum([210,200,207]) = 617\nsum([200,207,240]) = 647\nsum([207,240,269]) = 716\nsum([240,269,260]) = 769\nsum([269,260,263]) = 792"),u(),u(),o(98," On aurait donc \xe0 retourner dans le cas pr\xe9sent "),a(99,"b"),o(100,"5"),u(),o(101,". "),a(102,"h3",12),o(103," Solution na\xefve"),u(),o(104," Une solution na\xefve consistait \xe0 simplement it\xe9rer sur chacune des fen\xeatres coulissantes, et de faire la somme de ces fen\xeatres soit de mani\xe8re manuelle avec une boucle, soit en utilisant les capacit\xe9s du langage."),d(105,"br"),o(106," De mani\xe8re similaire que pour la premi\xe8re partie, on peut donc stocker le r\xe9sultat de la somme pr\xe9c\xe9dente dans une variable, et comparer ainsi les sommes obtenues au fur et \xe0 mesure de l'avancement de la fen\xeatre avec les pr\xe9c\xe9dents r\xe9sultats."),d(107,"br"),d(108,"br"),o(109," Une solution en s'appuyant sur le fonctionnalit\xe9s Python pourrait ainsi avoir cette forme: "),a(110,"pre",9),a(111,"code"),o(112,"lines = open('input1.txt').read().split('\\n')\nmeasurements = list(map(int,lines))\n\nanswer = 0\npreviousSomme = sum(measurements[0:3])\nfor i in range(1,len(measurements)-2):\n    currentSomme = sum(measurements[i:i+3])\n    if(currentSomme > previousSomme):\n        answer += 1\n    previousSomme = currentSomme\nprint(answer)"),u(),u(),o(113," Cette solution fait un nombre d'op\xe9rations de l'ordre de "),a(114,"b"),o(115,"X*N"),u(),o(116," avec X la taille de la fen\xeatre coulissante, vu que pour chaque fen\xeatre, on recalcule la somme (complexit\xe9 lin\xe9aire). "),a(117,"h3",13),o(118," Solution moins na\xefve"),u(),o(119," Plut\xf4t que de recalculer enti\xe8rement la somme \xe0 chaque it\xe9ration, on pouvait \xe9galement comparer l'\xe9l\xe9ment courant (\xe0 l'indice "),a(120,"b"),o(121,"i"),u(),o(122,") avec l'\xe9l\xe9ment sortant de la fen\xeatre (\xe0 l'indice "),a(123,"b"),o(124,"i-3"),u(),o(125,")."),d(126,"br"),d(127,"br"),o(128," En effet, si on a "),a(129,"pre",9),a(130,"code"),o(131,"arr[i]+arr[i-1]+arr[i-2] > arr[i-1]+arr[i-2]+arr[i-3]"),u(),u(),o(132," alors en soustrayant des deux c\xf4t\xe9s "),a(133,"b"),o(134,"arr[i-1]+arr[i-2]"),u(),o(135,", on a "),a(136,"pre",9),a(137,"code"),o(138,"arr[i] > arr[i-3]"),u(),u(),o(139," Un code se basant sur cette id\xe9e aurait une complexit\xe9 en "),a(140,"b"),o(141,"O(N)"),u(),o(142," et la forme suivante: "),a(143,"pre",9),a(144,"code"),o(145,"lines = open('input1.txt').read().split('\\n')\nmeasurements = list(map(int,lines))\n\nanswer = 0\nfor i in range(3,len(measurements)):\n    if(measurements[i] > measurements[i-3]):\n        answer += 1\nprint(answer)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),qK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day2"]],decls:137,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day2_part1"],["href","https://adventofcode.com/2021/day/2"],["id","day2_part1_statement"],[1,"line-numbers","language-python"],["id","day2_part1_solution"],["id","day2_part2"],["id","day2_part2_statement"],["id","day2_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 2) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 2, partie 1:"),u(),u(),d(27,"br"),a(28,"h3",8),o(29," Enonc\xe9 "),u(),o(30," On simule le d\xe9placement d'un sous-marin \xe0 partir d'instructions donn\xe9es en entr\xe9e."),d(31,"br"),o(32," Ces instructions peuvent \xeatre les suivantes:"),d(33,"br"),a(34,"ul"),a(35,"li"),a(36,"b"),o(37,"Forward x"),u(),o(38," : D\xe9place le sous-marin vers l'avant de "),a(39,"b"),o(40,"x"),u(),o(41," unit\xe9s"),u(),a(42,"li"),a(43,"b"),o(44,"Down x"),u(),o(45," : Descend le sous-marin de "),a(46,"b"),o(47,"x"),u(),o(48," unit\xe9s"),u(),a(49,"li"),a(50,"b"),o(51,"Up x"),u(),o(52," : Remonte le sous-marin de "),a(53,"b"),o(54,"x"),u(),o(55," unit\xe9s"),u(),u(),o(56," Pour les coordonn\xe9es, on d\xe9finira la premi\xe8re valeur comme \xe9tant l'avancement horizontal, et la seconde valeur la profondeur. Par exemple, avec les entr\xe9es suivantes, et en initialisant la position du sous-marin \xe0 "),a(57,"b"),o(58,"(0,0)"),u(),o(59,": "),a(60,"pre",9),a(61,"code"),o(62,"forward 5\ndown 5\nforward 8\nup 3\ndown 8\nforward 2"),u(),u(),o(63," On aura les d\xe9placements suivants: "),a(64,"pre",9),a(65,"code"),o(66,"(0,0) => forward 5\n(0,5) => down 5\n(5,5) => forward 8\n(5,13) => up 3\n(2,13) => down 8\n(10,13) => forward 2\n(10,15)"),u(),u(),o(67," La r\xe9ponse \xe0 envoyer correspond au produit des deux \xe9l\xe9ments de la coordonn\xe9e. "),a(68,"h3",10),o(69," Solution "),u(),o(70," Ce probl\xe8me \xe9tait de mon avis plus simple que le premier."),d(71,"br"),o(72," M\xeame s'il recqu\xe9rait un parsing pas forc\xe9ment \xe9vident, il suffisait ensuite de faire la simulation en suivant les instructions d\xe9crites par l'\xe9nonc\xe9."),d(73,"br"),d(74,"br"),o(75," Pour rajouter un peu d'\xe9pices \xe0 ce probl\xe8me tr\xe8s plat, j'ai rendu mon code l\xe9g\xe8rement funky, en faisant des appels dynamiques de fonction en fonction de la commande r\xe9cup\xe9r\xe9e des instructions."),d(76,"br"),o(77," Vous pouvez vous r\xe9f\xe9rer au commentaire (et \xe0 la doc python) pour \xe7a. "),a(78,"pre",9),a(79,"code"),o(80,"lines = open('input2.txt').read().split('\\n')\n\ndef forward(horizontal, depth, val):\n    horizontal += val\n    return (horizontal,depth)\n\ndef up(horizontal, depth, val):\n    depth -= val\n    return (horizontal,depth)\n\ndef down(horizontal, depth, val):\n    depth += val\n    return (horizontal,depth)\n\nhorizontal = 0\ndepth = 0\nfor line in lines:\n    commandeParts = line.split(' ')\n    commandeType = commandeParts[0]\n    value = int(commandeParts[1])\n    # commandeType est une cha\xeene de caract\xe8re ('up', 'down', 'forward')\n    # locals() permet de r\xe9cup\xe9rer les d\xe9finitions locales, notamment les fonctions locales\n    # on appelle donc dynamiquement les fonctions up/down/forward en fonction\n    # de la valeur de commandeType\n    (horizontal,depth) = locals()[commandeType](horizontal, depth, value)\n\nprint(horizontal*depth)"),u(),u(),a(81,"h2",11),a(82,"a",7),o(83,"Jour 2, partie 2:"),u(),u(),d(84,"br"),a(85,"h3",12),o(86," Enonc\xe9 "),u(),o(87," La partie 2 est similaire \xe0 la partie 1."),d(88,"br"),o(89," On a juste des changements d'interpr\xe9tations au niveau des commandes, et l'ajout d'une nouvelle variable (aim)."),d(90,"br"),d(91,"br"),o(92," Les impacts des instructions de la phase 2 sont les suivants: "),a(93,"ul"),a(94,"li"),a(95,"b"),o(96,"down x"),u(),o(97," augmente la aim de "),a(98,"b"),o(99,"x"),u(),o(100," unit\xe9s"),u(),a(101,"li"),a(102,"b"),o(103,"up x"),u(),o(104," diminue la aim de "),a(105,"b"),o(106,"x"),u(),o(107," unit\xe9s"),u(),a(108,"li"),a(109,"b"),o(110,"forward x"),u(),a(111,"ul"),a(112,"li"),o(113,"augmente la position horizontale de "),a(114,"b"),o(115,"x"),u(),o(116," unit\xe9s"),u(),a(117,"li"),o(118,"augmente la profondeur de "),a(119,"b"),o(120,"x * aim"),u(),o(121," unit\xe9s"),u(),u(),u(),u(),o(122," En reprenant l'exemple plus haut, et en consid\xe9rant le triplet (horizontal, depth, aim) initialis\xe9 \xe0 (0,0,0): "),a(123,"pre",9),a(124,"code"),o(125,"forward 5\ndown 5\nforward 8\nup 3\ndown 8\nforward 2"),u(),u(),o(126," On aura les d\xe9placements suivants: "),a(127,"pre",9),a(128,"code"),o(129,"(0,0,0) => forward 5\n(0,5,0) => down 5\n(0,5,5) => forward 8\n(40,13,5) => up 3\n(40,13,2) => down 8\n(40,13,10) => forward 2\n(60,15,10)"),u(),u(),o(130," Comme pour la premi\xe8re partie, la r\xe9ponse est le produit de l'avancement horizontal et de la profondeur. "),a(131,"h3",13),o(132," Solution "),u(),o(133," Rien de sp\xe9cial \xe0 dire, on met juste \xe0 jour nos fonctions pour prendre en compte les nouveaux impacts. "),a(134,"pre",9),a(135,"code"),o(136,"lines = open('input2.txt').read().split('\\n')\n\ndef forward(horizontal, depth, aim, val):\n    horizontal += val\n    depth += val * aim\n    return (horizontal, depth, aim)\n\ndef up(horizontal, depth, aim, val):\n    aim -= val\n    return (horizontal, depth, aim)\n\ndef down(horizontal, depth, aim, val):\n    aim += val\n    return (horizontal, depth, aim)\n\n(horizontal, depth, aim) = (0,0,0)\nfor line in lines:\n    commandeParts = line.split(' ')\n    commandeType = commandeParts[0]\n    value = int(commandeParts[1])\n    # commandeType est une cha\xeene de caract\xe8re ('up', 'down', 'forward')\n    # locals() permet de r\xe9cup\xe9rer les d\xe9finitions locales, notamment les fonctions locales\n    # on appelle donc dynamiquement les fonctions up/down/forward en fonction\n    # de la valeur de commandeType\n    (horizontal, depth, aim) = locals()[commandeType](horizontal, depth, aim, value)\n\nprint(horizontal*depth)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),UK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day3"]],decls:161,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/of Code 2021/"],["id","day3_part1"],["href","https://adventofcode.com/2021/day/3"],["id","day3_part1_statement"],[1,"line-numbers","language-python"],["id","day3_part1_solution"],["id","day3_part2"],["id","day3_part2_statement"],["id","day3_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code of Code 2021 (jour 3) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 3, partie 1:"),u(),u(),d(27,"br"),a(28,"h3",8),o(29," Enonc\xe9 "),u(),o(30," On a en entr\xe9e un rapport de diagnostic sous la forme de liste de nombre binaires."),d(31,"br"),o(32," Cette liste nous permet de d\xe9terminer 2 param\xe8tres li\xe9s au sous-marin, "),a(33,"b"),o(34,"gamma rate"),u(),o(35," et "),a(36,"b"),o(37,"epsilon rate"),u(),o(38,"."),d(39,"br"),d(40,"br"),o(41," Pour calculer ces deux param\xe8tres, il faut it\xe9rer sur les colonnes de bits de la liste, et trouver la valeur la plus repr\xe9sent\xe9e dans cette colonne."),d(42,"br"),o(43," Cette valeur nous donne la valeur du bit de la colonne correspondante pour le "),a(44,"b"),o(45,"gamma rate"),u(),o(46,", et l'oppos\xe9 de cette valeur nous donne la valeur du bit de la colonne correspondante pour le "),a(47,"b"),o(48,"epsilon rate"),u(),o(49,"."),d(50,"br"),d(51,"br"),o(52," Par exemple, pour la liste de valeurs binaire suivante: "),a(53,"pre",9),a(54,"code"),o(55,"00100\n11110\n10110"),u(),u(),o(56," On a les valeurs les plus repr\xe9sent\xe9es suivantes: "),a(57,"pre",9),a(58,"code"),o(59,"Premi\xe8re colonne: 0, 1, 1 => 1\nSeconde colonne: 0, 1, 0 => 0\nTroisi\xe8me colonne: 1, 1, 1 => 1 \nQuatri\xe8me colonne: 0, 1, 1 => 1\nCinqui\xe8me colonne: 0, 0, 0 => 0"),u(),u(),o(60," Et donc, "),a(61,"b"),o(62,"gamma rate = (10110)2"),u(),o(63," et "),a(64,"b"),o(65,"epsilon rate = (01001)2"),u(),o(66,"."),d(67,"br"),d(68,"br"),o(69," Il faut ensuite convertir ces valeurs en valeurs d\xe9cimales et en faire le produit pour obtenir la solution. "),a(70,"h3",10),o(71," Solution "),u(),o(72," Ce probl\xe8me restait \xe9galement tr\xe8s simple d'un point de vue algorithmique, on pouvait it\xe9rer de mani\xe8re tr\xe8s na\xefve sur les colonnes puis sur les charact\xe8res de chaque masque binaire pour d\xe9terminer la valeur la plus pr\xe9sente de chaque colonne et ainsi calculer les param\xe8tres du sous-marin."),d(73,"br"),d(74,"br"),o(75," Il y avait cependant plusieurs possibilit\xe9s pour g\xe9n\xe9rer les valeurs d\xe9cimales \xe0 la fin."),d(76,"br"),o(77," Par exemple, on pouvait construire au fur et \xe0 mesure les repr\xe9sentations binaires de nos param\xe8tres, puis les \xe9valuer gr\xe2ce \xe0 la fonction "),a(78,"b"),o(79,"int(string,base)"),u(),o(80,": "),a(81,"pre",9),a(82,"code"),o(83,"int('10110',2) => 22"),u(),u(),o(84," On pouvait aussi multiplier au fur et \xe0 mesure des colonnes le bit avec la puissance de 2 correspondante: "),a(85,"pre",9),a(86,"code"),o(87,"(1*2^4)+(0*2^3)+(1*2^2)+(1*2^1)+(0*2^0) => 22"),u(),u(),o(88," ou m\xeame, si notre langage ne proposait pas de moyen de calculer facilement des puissances de 2 (en python, on a "),a(89,"b"),o(90,"2**N"),u(),o(91,", "),a(92,"b"),o(93,"pow(2,N)"),u(),o(94," ou m\xeame "),a(95,"b"),o(96,"1<<N"),u(),o(97,'), on pouvait exploiter la propri\xe9t\xe9 suivante en "factorisant": '),a(98,"pre",9),a(99,"code"),o(100,"(b3*2^3)+(b2*2^2)+(b1*2^1)+(b0*2^0)\n= (((b3 * 2) + b2) * 2 + b1) * 2 + b0"),u(),u(),o(101," Si on utilise la derni\xe8re astuce pour notre solution python, on obtient le code suivant: "),a(102,"pre",9),a(103,"code"),o(104,"report = open('input3.txt').read().split('\\n')\nnbBits = len(report[0])\n\nepsilonRate = 0\ngammaRate = 0\nfor i in range(nbBits):\n    nbOnes = 0\n    for j in range(len(report)):\n        if(report[j][i] == '1'):\n            nbOnes += 1\n    nbZeroes = len(report) - nbOnes\n    if(nbOnes > nbZeroes):\n        gammaRate = gammaRate * 2 + 1\n        epsilonRate = epsilonRate * 2 + 0\n    else:\n        gammaRate = gammaRate * 2 + 0\n        epsilonRate = epsilonRate * 2 + 1\n\nprint(gammaRate*epsilonRate)"),u(),u(),a(105,"h2",11),a(106,"a",7),o(107,"Jour 3, partie 2:"),u(),u(),d(108,"br"),a(109,"h3",12),o(110," Enonc\xe9 "),u(),o(111," Pour la partie 2, on r\xe9utilise le rapport de diagnostic plus haut, mais pour d\xe9terminer d'autres param\xe8tres."),d(112,"br"),o(113,' Ici, on cherche \xe0 d\xe9terminer les param\xe8tres "oxygen generator rating" et "CO2 scrubber rating".'),d(114,"br"),d(115,"br"),o(116," Ces param\xe8tres correspondent aux valeurs binaires uniques restantes apr\xe8s l'application it\xe9rative des filtres suivants (tant que l'on a plus d'un \xe9l\xe9ment dans la liste): "),a(117,"ul"),a(118,"li"),o(119," A l'\xe9tape i: "),a(120,"ul"),a(121,"li"),o(122,"On calcule la valeur la plus pr\xe9sente de la colonne "),a(123,"b"),o(124,"i"),u(),o(125,", dans la liste des \xe9l\xe9ments restants (en cas d'\xe9galit\xe9, "),a(126,"b"),o(127,"0"),u(),o(128," ou "),a(129,"b"),o(130,"1"),u(),o(131," suivant le param\xe8tre \xe0 filtrer) "),u(),a(132,"li"),o(133,"On enl\xe8ve de cette liste les \xe9l\xe9ments n'ayant pas cette valeur sur le bit "),a(134,"b"),o(135,"n\xb0i"),u(),u(),u(),u(),u(),o(136,' Par exemple, si on cherche le param\xe8tre "oxygen generator rating" avec ces valeurs: '),a(137,"pre",9),a(138,"code"),o(139,"00100\n11110\n10110"),u(),u(),o(140," On aura les \xe9tapes suivantes: "),a(141,"pre",9),a(142,"code"),o(143,"[00100,11110,10110]\n=>[11110,10110]\n=>[11110] = oxygen generator rating "),u(),u(),a(144,"h3",13),o(145," Solution "),u(),o(146," On peut r\xe9utiliser notre code pour extraire les valeurs les plus repr\xe9sent\xe9es des colonnes de la partie 1."),d(147,"br"),o(148," En compl\xe9ment \xe0 \xe7a, il faut it\xe9rer sur la liste des \xe9l\xe9ments pr\xe9sents actuellement pour supprimer les \xe9l\xe9ments qui ne r\xe9pondent pas \xe0 nos crit\xe8res."),d(149,"br"),d(150,"br"),o(151," Etant donn\xe9 que le filtre est diff\xe9rent entre les deux param\xe8tres, il faut conserver deux listes diff\xe9rentes au fur et \xe0 mesure des traitements des colonnes."),d(152,"br"),d(153,"br"),o(154," Pour avoir un code relativement propre, on peut faire une fonction param\xe8trable pour g\xe9rer le calcul des deux param\xe8tres de la m\xeame fa\xe7on."),d(155,"br"),d(156,"br"),o(157," On obtient le code suivant: "),a(158,"pre",9),a(159,"code"),o(160,"report = open('input3.txt').read().split('\\n')\nnbBits = len(report[0])\n\ndef getParameter(report, inverted=False):\n    # On copie le rapport pour \xe9viter de changer le rapport original\n    currentReport = report[:]\n    etape = 0\n    while(len(currentReport) > 1):\n        nbOnes = 0\n        for j in range(len(currentReport)):\n            if(currentReport[j][etape] == '1'):\n                nbOnes += 1\n        nbZeroes = len(currentReport) - nbOnes\n        filterIn = '0'\n        if(not inverted):\n            if(nbOnes >= nbZeroes):\n                filterIn = '1'\n        else:\n            if(nbOnes < nbZeroes):\n                filterIn = '1'\n        currentReport = list(filter(lambda line:line[etape] == filterIn, currentReport))\n        etape += 1\n    return currentReport[0]\n\n# Conversion de la cha\xeene de caract\xe8re vers l'entier d\xe9cimal\noxygeneRate = int(getParameter(report),2)\nco2Rate = int(getParameter(report,True),2)\n\nprint(oxygeneRate*co2Rate)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),HK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day4"]],decls:71,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day4_part1"],["href","https://adventofcode.com/2021/day/4"],["id","day4_part1_statement"],["id","day4_part1_solution"],[1,"line-numbers","language-python"],["id","day4_part2"],["id","day4_part2_statement"],["id","day4_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 4) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 4, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour ce probl\xe8me, on se retrouve confront\xe9 \xe0 une partie de Bingo."),d(30,"br"),d(31,"br"),o(32," Les r\xe8gles sont classiques: "),d(33,"br"),o(34," On a des cartes avec des lignes et des colonnes, et un nombre indiqu\xe9 par case."),d(35,"br"),o(36," Un ensemble de nombre est tir\xe9 au hasard, et au fur et \xe0 mesure du tirage, on marque les cases correspondantes sur nos cartes, si le nombre tir\xe9 est pr\xe9sent sur la carte."),d(37,"br"),o(38," D\xe8s qu'une ligne ou une colonne est compl\xe8te, la carte est consid\xe9r\xe9e comme gagnante."),d(39,"br"),d(40,"br"),o(41," Dans cette premi\xe8re partie, on souhaite simplement trouver la premi\xe8re carte \xe0 \xeatre consid\xe9r\xe9e comme gagnante \xe0 partir de notre tirage."),d(42,"br"),o(43," La r\xe9ponse \xe0 envoyer est le produit des cases non marqu\xe9es de cette carte et du nombre tir\xe9 en dernier qui nous a permis de rendre la carte gagnante. "),a(44,"h3",9),o(45," Solution "),u(),o(46," Solution encore une fois tr\xe8s simple."),d(47,"br"),o(48," Pour repr\xe9senter nos cartes, on va simplement partir sur des listes \xe0 deux dimensions."),d(49,"br"),o(50," Puis, on va it\xe9rer sur les nombres tir\xe9s, et pour chaque nombre tir\xe9, on va marquer (soit en liant nos cartes \xe0 une autre liste \xe0 deux dimensions qui nous indiquera le marquage, soit en donnant des valeurs sp\xe9ciales aux cases d\xe9j\xe0 marqu\xe9es) les diff\xe9rentes cases correspondantes."),d(51,"br"),d(52,"br"),o(53," Pour v\xe9rifier si une carte est gagnante, il suffit d'it\xe9rer sur chaque ligne / colonne, et v\xe9rifier que toutes les cases sont bien marqu\xe9es."),d(54,"br"),o(55," Cela nous donne le code suivant: "),a(56,"pre",10),a(57,"code"),o(58,"lines = open('input4.txt').read().split('\\n')\ntirage = list(map(int,lines[0].replace('\\n','').split(',')))\n\nallCards = []\n\ndef parseCardLine(line):\n    return list(map(int,filter(lambda x:len(x) > 0, line.split(' '))))\n\nfor i in range(2,len(lines),6):\n    allCards.append(list(map(parseCardLine,lines[i:i+5])))\n\ndef displaySolution(card, lastNumber):\n    somme = 0\n    for x in range(len(card)):\n        for y in range(len(card[x])):\n            if(card[x][y] != -1):\n                somme += card[x][y]\n    print(somme*lastNumber)\n\ndef isWin(card):\n    for rowIdx in range(len(card)):\n        rowIsFull = True\n        for colIdx in range(len(card[rowIdx])):\n            if(card[rowIdx][colIdx] != -1):\n                rowIsFull = False\n        if(rowIsFull):\n            return True\n\n    for colIdx in range(len(card[0])):\n        colIsFull = True\n        for rowIdx in range(len(card)):\n            if(card[rowIdx][colIdx] != -1):\n                colIsFull = False\n        if(colIsFull):\n            return True\n    return False\n    \nfor number in tirage:\n    for card in allCards:\n        for row in card:\n            for colIdx in range(len(row)):\n                if(row[colIdx] == number):\n                    row[colIdx] = -1\n\n    wins = list(filter(isWin,allCards))\n    if(len(wins) != 0):\n        displaySolution(wins[0],number)\n        break"),u(),u(),a(59,"h2",11),a(60,"a",7),o(61,"Jour 4, partie 2:"),u(),u(),a(62,"h3",12),o(63," Enonc\xe9 "),u(),o(64," La seconde partie est identique \xe0 la premi\xe8re, sauf qu'on veut \xe0 la place la derni\xe8re carte gagnante. "),a(65,"h3",13),o(66," Solution "),u(),o(67," Notre code est identique \xe0 la premi\xe8re partie, simplement tant qu'on atteint pas la derni\xe8re carte gagnante, on filtre au fur et \xe0 mesure les cartes d\xe9j\xe0 gagn\xe9es. "),a(68,"pre",10),a(69,"code"),o(70,"lines = open('input4.txt').read().split('\\n')\ntirage = list(map(int,lines[0].replace('\\n','').split(',')))\n\nallCards = []\n\ndef parseCardLine(line):\n    return list(map(int,filter(lambda x:len(x) > 0, line.split(' '))))\n\nfor i in range(2,len(lines),6):\n    allCards.append(list(map(parseCardLine,lines[i:i+5])))\n\ndef displaySolution(card, lastNumber):\n    somme = 0\n    for x in range(len(card)):\n        for y in range(len(card[x])):\n            if(card[x][y] != -1):\n                somme += card[x][y]\n    print(somme*lastNumber)\n\ndef isWin(card):\n    for rowIdx in range(len(card)):\n        rowIsFull = True\n        for colIdx in range(len(card[rowIdx])):\n            if(card[rowIdx][colIdx] != -1):\n                rowIsFull = False\n        if(rowIsFull):\n            return True\n\n    for colIdx in range(len(card[0])):\n        colIsFull = True\n        for rowIdx in range(len(card)):\n            if(card[rowIdx][colIdx] != -1):\n                colIsFull = False\n        if(colIsFull):\n            return True\n    return False\n    \nfor number in tirage:\n    for card in allCards:\n        for row in card:\n            for colIdx in range(len(row)):\n                if(row[colIdx] == number):\n                    row[colIdx] = -1\n\n    if(len(allCards) == 1):\n        if(isWin(allCards[0])):\n            displaySolution(allCards[0],number)\n            break\n    else:\n        allCards = list(filter(lambda card: not isWin(card),allCards))"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),zK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day5"]],decls:154,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day5_part1"],["href","https://adventofcode.com/2021/day/5"],["id","day5_part1_statement"],[1,"line-numbers","language-python"],["id","day5_part1_solution"],["id","day5_part2"],["id","day5_part2_statement"],["id","day5_part2_solution"],[2,"text-align","center"],["src","assets/img/UnitaryGrid.png",2,"width","400px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 5) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 5, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a une grille "),a(30,"b"),o(31,"2"),u(),o(32," dimensions avec des d\xe9finitions de lignes horizontales et verticales sous la forme "),a(33,"pre",9),a(34,"code"),o(35,"(x1,y1) => (x2,y2)"),u(),u(),o(36,"."),d(37,"br"),o(38," L'objectif est de trouver le nombre de coordon\xe9es enti\xe8res recouvertes par au moins "),a(39,"b"),o(40,"2"),u(),o(41," lignes."),d(42,"br"),d(43,"br"),o(44," Par exemple, si on a les lignes suivantes: "),a(45,"pre",9),a(46,"code"),o(47,"Ligne 1: 0,4 -> 4,4\nLigne 2: 1,4 -> 3,4\nLigne 3: 2,2 -> 2,1"),u(),u(),o(48," Et si l'on remplit une grille "),a(49,"b"),o(50,"5*5"),u(),o(51," avec l'identifiant correspondant \xe0 ces lignes, on obtient: "),a(52,"pre",9),a(53,"code"),o(54,"....1\n....1\n....1\n....1\n....1\n\n.....\n....2\n....2\n....2\n.....\n\n.....\n.....\n.....\n.33..\n.....\n"),u(),u(),o(55," Et l'on a donc les coordonn\xe9es "),a(56,"b"),o(57,"(1,4)"),u(),o(58,", "),a(59,"b"),o(60,"(2,4)"),u(),o(61," et "),a(62,"b"),o(63,"(3,4)"),u(),o(64," qui sont recouvertes par plusieurs lignes. "),a(65,"h3",10),o(66," Solution "),u(),o(67," Comme on a uniquement des lignes horizontales et verticales, on peut tr\xe8s facilement it\xe9rer sur les coordonn\xe9es avec deux boucles for pour it\xe9rer sur les intervalles d'abcisses et d'ordonn\xe9es."),d(68,"br"),d(69,"br"),a(70,"pre",9),a(71,"code"),o(72,"for x in range(min(x1,x2),max(x1,x2)+1):\n    for y in range(min(y1,y2),max(y1,y2)+1):"),u(),u(),o(73," Comme les lignes sont horizontales / verticales, on est s\xfbr que "),a(74,"b"),o(75,"x1 = x2"),u(),o(76," ou "),a(77,"b"),o(78,"y1 = y2"),u(),o(79,", la boucle correspondante ne fera donc qu'une passe."),d(80,"br"),d(81,"br"),o(82," Une erreur que j'avais commise durant la r\xe9solution de ce probl\xe8me:"),d(83,"br"),o(84," Je n'avais pas fait attention aux contraintes de l'\xe9nonc\xe9s, et n'avais pas vu qu'il y avait des lignes autres qu'horizontales et verticales."),d(85,"br"),o(86," Du coup, la double boucle plus au dessus it\xe9rait sur un rectangle plut\xf4t que sur une ligne."),d(87,"br"),o(88," Si vous vous retrouvez avec des r\xe9sultats absurdement \xe9lev\xe9s, il est possible que vous ayez fait la m\xeame erreur."),d(89,"br"),d(90,"br"),o(91," Pour calculer le recouvrement, on peut stocker dans un dictionnaire le nombre de fois qu'on a visit\xe9 une certaine coordonn\xe9e, et si ce nombre est sup\xe9rieur ou \xe9gal \xe0 "),a(92,"b"),o(93,"2"),u(),o(94," \xe0 la fin de nos it\xe9rations, on incr\xe9mente le r\xe9sultat."),d(95,"br"),d(96,"br"),o(97," On peut donc produire le code suivant: "),a(98,"pre",9),a(99,"code"),o(100,"lines = open('input5.txt').read().split('\\n')\n\nres = 0\ns = dict()\nfor line in lines:\n    x1,y1,x2,y2 = map(int,line.replace(' -> ',',').split(','))\n\n    if(x1 != x2 and y1 != y2):\n        continue\n\n    for x in range(min(x1,x2),max(x1,x2)+1):\n        for y in range(min(y1,y2),max(y1,y2)+1):\n            if((x,y) in s and s[(x,y)] == 1):\n                res += 1\n                s[(x,y)] += 1\n            elif((x,y) not in s):\n                s[(x,y)] = 1\nprint(res)"),u(),u(),a(101,"h2",11),a(102,"a",7),o(103,"Jour 5, partie 2:"),u(),u(),a(104,"h3",12),o(105," Enonc\xe9 "),u(),o(106," La partie 2 est similaire \xe0 la partie 1, la seule diff\xe9rence \xe9tant qu'en plus des lignes horizontales et verticales, on a \xe9galement \xe0 traiter des lignes diagonales."),d(107,"br"),o(108," Ces derni\xe8res ont une orientation de "),a(109,"b"),o(110,"45"),u(),o(111," degr\xe9s, il est donc tr\xe8s ais\xe9 de calculer les coordonn\xe9es enti\xe8res par lesquelles passent ces lignes particuli\xe8res."),d(112,"br"),d(113,"br"),o(114," Comme pour la partie 1, la r\xe9ponse \xe0 envoyer est le nombre de coordonn\xe9es recouvertes par au moins "),a(115,"b"),o(116,"2"),u(),o(117," lignes. "),a(118,"h3",13),o(119," Solution "),u(),o(120," On a plusieurs possibilit\xe9s pour traiter les diagonales: "),a(121,"ul"),a(122,"li"),o(123,"Soit on empile les if au dessus des autres pour g\xe9rer tous les types de diagonales "),a(124,"ul"),a(125,"li"),a(126,"b"),o(127,"Haut droite"),u(),u(),a(128,"li"),a(129,"b"),o(130,"Bas droite"),u(),u(),a(131,"li"),a(132,"b"),o(133,"Haut gauche"),u(),u(),a(134,"li"),a(135,"b"),o(136,"Bas gauche"),u(),u(),u(),u(),a(137,"li"),o(138," Soit on calcule les vecteurs de direction projet\xe9s sur les axes "),a(139,"b"),o(140,"X"),u(),o(141," et "),a(142,"b"),o(143,"Y"),u(),o(144," entre le premier point et le second point, et on it\xe8re sur la longueur de la diagonale en d\xe9calant nos coordonn\xe9es gr\xe2ce \xe0 ces vecteurs de direction. "),u(),u(),o(145," On va pr\xe9f\xe8rer la seconde m\xe9thode qui est un peu plus \xe9l\xe9gante."),d(146,"br"),d(147,"br"),a(148,"div",14),d(149,"img",15),u(),o(150," En code, \xe7a donnerait: "),a(151,"pre",9),a(152,"code"),o(153,"lines = open('input5.txt').read().split('\\n')\n\nres = 0\ns = dict()\n\nfor line in lines:\n    x1,y1,x2,y2 = map(int,line.replace(' -> ',',').split(','))\n\n    # Le cas des lignes diagonales\n    if(x1 != x2 and y1 != y2):\n        dx = (x2-x1) / abs(x2-x1)\n        dy = (y2-y1) / abs(y2-y1)\n\n        for it in range(max(x2,x1)-min(x2,x1)):\n            x = x1 + dx * it\n            y = y1 + dy * it\n            if((x,y) in s and s[(x,y)] == 1):\n                res += 1\n                s[(x,y)] += 1\n            elif((x,y) not in s):\n                s[(x,y)] = 1\n    # Le cas des lignes horizontales / verticales \n    else:\n        for x in range(min(x1,x2),max(x1,x2)+1):\n            for y in range(min(y1,y2),max(y1,y2)+1):\n                if((x,y) in s and s[(x,y)] == 1):\n                    res += 1\n                    s[(x,y)] += 1\n                elif((x,y) not in s):\n                    s[(x,y)] = 1\nprint(res)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),VK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day6"]],decls:123,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day6_part1"],["href","https://adventofcode.com/2021/day/5"],["id","day6_part1_statement"],[1,"line-numbers","language-python"],["id","day6_part2_solution"],[2,"text-align","center"],["src","assets/img/day80.png",2,"width","400px"],["src","assets/img/day256.png",2,"width","400px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 6) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 6, partie 1 et partie 2:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a un ensemble de poissons en entr\xe9es, qui g\xe9n\xe8rent chacun un poisson tous les "),a(30,"b"),o(31,"7"),u(),o(32," jours."),d(33,"br"),o(34," Tous ces poissons ne sont pas forc\xe9ment synchronis\xe9s, et le temps \xe0 attendre (appell\xe9 timer interne dans l'\xe9nonc\xe9) avant qu'un poisson g\xe9n\xe8re un nouveau poisson pour la premi\xe8re fois est donn\xe9 en entr\xe9e."),d(35,"br"),d(36,"br"),o(37," Les nouveaux poissons g\xe9n\xe9r\xe9s vont \xe9galement g\xe9n\xe9rer d'autres poissons, mais leur timer interne est initialis\xe9 \xe0 "),a(38,"b"),o(39,"8"),u(),o(40,"."),d(41,"br"),d(42,"br"),o(43," On cherche \xe0 d\xe9terminer le nombre de poissons existants apr\xe8s un certain nombre de jours de simulation ("),a(44,"b"),o(45,"80"),u(),o(46," pour la phase 1)."),d(47,"br"),d(48,"br"),o(49," Par exemple, si on a en entr\xe9es les poissons suivants: "),a(50,"pre",9),a(51,"code"),o(52,"0,1,1,2,4"),u(),u(),o(53," On va avoir les \xe9tapes suivantes si l'on simule sur 5 jours: "),a(54,"pre",9),a(55,"code"),o(56,"0,1,1,2,4\n6,0,0,1,3,8\n5,6,6,0,2,7,8,8\n4,5,5,6,1,6,7,7,8\n3,4,4,5,0,5,6,6,7\n2,3,3,4,6,4,5,5,6,8"),u(),u(),a(57,"h3",10),o(58," Solution "),u(),o(59," On peut avoir 2 approches pour la r\xe9solution de ce probl\xe8me: "),a(60,"ul"),a(61,"li"),o(62,"Une tr\xe8s na\xefve, o\xf9 l'on simule tout gr\xe2ce \xe0 une liste"),u(),a(63,"li"),o(64,"Une plus fut\xe9e"),u(),u(),o(65," La version na\xefve va simplement faire comme ce qui \xe9tait montr\xe9 lors de l'exemple:"),d(66,"br"),a(67,"ul"),a(68,"li"),o(69,"A chaque \xe9tape, on "),a(70,"b"),o(71,"d\xe9cremente"),u(),o(72," le timer interne de chaque poisson"),u(),a(73,"li"),o(74,"Si un timer interne passe en dessous de "),a(75,"b"),o(76,"0"),u(),o(77,", on le reset \xe0 "),a(78,"b"),o(79,"6"),u(),o(80," et on ajoute un nouveau poisson avec un timer interne initialis\xe9 \xe0 "),a(81,"b"),o(82,"8"),u(),o(83," en bout de liste "),u(),u(),o(84," Cette approche est tr\xe8s simple \xe0 coder, mais devient lente si la liste grandit beaucoup."),d(85,"br"),d(86,"br"),o(87," Pour la premi\xe8re \xe9tape, on a seulement "),a(88,"b"),o(89,"80"),u(),o(90," jours \xe0 simuler et le nombre de poissons total g\xe9n\xe9r\xe9 est de l'ordre de "),a(91,"b"),o(92,"10^6"),u(),o(93,", ce qui reste ok \xe0 calculer rapidement et \xe0 stocker."),d(94,"br"),a(95,"div",11),d(96,"img",12),u(),o(97," Mais pour la phase 2, o\xf9 l'on doit simuler "),a(98,"b"),o(99,"256"),u(),o(100," jours, on obtient un nombre de poisson de l'ordre de "),a(101,"b"),o(102,"10^10"),u(),o(103,", ce qui est bien trop gros \xe0 stocker et qui augmente \xe9norm\xe9ment le temps de calcul."),d(104,"br"),d(105,"br"),a(106,"div",11),d(107,"img",13),u(),o(108," On va donc partir directement sur la solution plus fut\xe9e, qui consistait \xe0 stocker pour chaque valeur de compteur interne le nombre de poissons."),d(109,"br"),o(110," En faisant cela, on aura donc au maximum "),a(111,"b"),o(112,"9"),u(),o(113," entr\xe9es dans notre dictionnaire (vu que les valeurs des compteurs internes sont prises dans l'intervalle "),a(114,"b"),o(115,"[0,8]"),u(),o(116,"), et cela simplifie donc grandement la mise \xe0 jour de nos poissons."),d(117,"br"),d(118,"br"),o(119," Voici un code qui utiliserait la version fut\xe9e: "),a(120,"pre",9),a(121,"code"),o(122,"fishes = list(map(int,open('input6.txt').read().split('\\n')[0].split(',')))\n\nnbFishesPerCd = dict()\nfor fish in fishes:\n    nbFishesPerCd[fish] = nbFishesPerCd.setdefault(fish,0) + 1\n\n# A changer entre la phase 1 et la phase 2\nnbDays = 256\n\nfor i in range(nbDays):\n    nbFishesPerCdCopy = dict()\n    for fish in nbFishesPerCd.keys():\n        if(fish == 0):\n            nbFishesPerCdCopy[6] = nbFishesPerCdCopy.setdefault(6,0) + nbFishesPerCd[fish]\n            nbFishesPerCdCopy[8] = nbFishesPerCdCopy.setdefault(8,0) + nbFishesPerCd[fish]\n        else:\n            nbFishesPerCdCopy[fish-1] = nbFishesPerCdCopy.setdefault(fish-1,0) + nbFishesPerCd[fish]\n    nbFishesPerCd = nbFishesPerCdCopy\n\nresultat = 0\nfor fish in nbFishesPerCd.keys():\n    resultat += nbFishesPerCd[fish]\n\nprint(resultat)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),GK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day7"]],decls:226,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day7_part1"],["href","https://adventofcode.com/2021/day/7"],["id","day7_part1_statement"],[1,"line-numbers","language-python"],["id","day7_part1_solution"],[2,"text-align","center"],["src","assets/img/Crabs.png",2,"width","700px"],["id","day7_part2"],["id","day7_part2_statement"],["id","day7_part2_solution"],[2,"text-align","center","margin-top","50px","margin-bottom","100px"],["src","assets/img/SommeEntiers.png",2,"width","400px"],[2,"text-align","center","margin-top","100px","margin-bottom","100px"],["src","assets/img/SommeEntiers2.png",2,"width","800px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 7) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 7, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a un ensemble de crabes \xe0 l'int\xe9rieur de sous-marins positionn\xe9s sur une ligne horizontale avec leurs coordonn\xe9es."),d(30,"br"),d(31,"br"),o(32," A chaque moment, un crabe peut se d\xe9placer vers la gauche ou vers la droite, pour le prix d'une unit\xe9 de carburant. "),d(33,"br"),o(34," On souhaite minimiser le carburant total utilis\xe9 pour les regrouper en un seul m\xeame point."),d(35,"br"),o(36," Le nombre d'unit\xe9s de carburant consomm\xe9s optimal est la solution \xe0 renvoyer."),d(37,"br"),d(38,"br"),o(39," Par exemple, si l'on a les crabes positionn\xe9es aux coordonn\xe9es suivantes: "),a(40,"pre",9),a(41,"code"),o(42,"1, 3, 6, 8, 9"),u(),u(),o(43," Alors, si l'on essaie toutes les positions entre la valeur minimale et maximale des coordonn\xe9es, on trouve que pour la position "),a(44,"b"),o(45,"6"),u(),o(46,", on a "),a(47,"b"),o(48,"13"),u(),o(49," unit\xe9s de carburant \xe0 consommer, qui est la valeur optimale. "),a(50,"h3",10),o(51," Solution "),u(),o(52," On a deux solutions possibles: "),a(53,"ul"),a(54,"li"),o(55,"La solution na\xefve, qui it\xe8re sur chaque position"),u(),a(56,"li"),o(57,"Une solution qui ne teste qu'une seule position"),u(),u(),o(58," Pour la solution na\xefve, il suffit donc de tester chaque position dans l'intervalle "),a(59,"b"),o(60,"[min,max]"),u(),o(61," et de faire la somme des d\xe9calages entre les diff\xe9rents crabes et cette position."),d(62,"br"),d(63,"br"),o(64," Cette solution est en complexit\xe9 "),a(65,"b"),o(66,"nbCrabes * tailleIntervalle"),u(),o(67,". "),a(68,"pre",9),a(69,"code"),o(70,"lines = open('input7.txt').read().split('\\n')\n\ncrabes = list(map(int,lines[0].split(',')))\n\nresultat = 1e8\nfor target in range(min(crabes),max(crabes)+1):\n    somme = 0\n    for crabe in crabes:\n        somme += abs(target-crabe)\n    resultat = min(resultat, somme)\nprint(resultat)"),u(),u(),o(71," Dans le cas de l'advent of code, les donn\xe9es \xe9taient tr\xe8s petites, on pouvait donc it\xe9rer tr\xe8s facilement, et c'est ce que j'avais fait sur le moment, pour \xe9viter de perdre du temps avec une potentielle phase de debug."),d(72,"br"),d(73,"br"),o(74," Mais on peut faire bien mieux. "),d(75,"br"),o(76," On peut d\xe9j\xe0 avoir une intuition de ce qui se passe lorsque l'on parcoure les diff\xe9rentes positions possibles: "),a(77,"ul"),a(78,"li"),o(79,"Si l'on est entre "),a(80,"b"),o(81,"2"),u(),o(82," crabes:"),u(),a(83,"ul"),a(84,"li"),o(85,"Si on a "),a(86,"b"),o(87,"X"),u(),o(88," crabes \xe0 gauche"),u(),a(89,"li"),o(90,"Et donc "),a(91,"b"),o(92,"N - X"),u(),o(93," crabes \xe0 droite"),u(),a(94,"li"),o(95,"Chaque d\xe9placement de la position vis\xe9e vers la droite d'une unit\xe9 va augmenter le carburant n\xe9cessaire par "),a(96,"b"),o(97,"X"),u(),o(98,", et diminuer le carburant n\xe9cessaire par "),a(99,"b"),o(100,"(N-X)"),u(),o(101,". "),u(),u(),u(),a(102,"div",11),d(103,"img",12),u(),o(104," On a donc tout int\xe9r\xeat \xe0 d\xe9caler la position vis\xe9e vers la droite tant que "),a(105,"b"),o(106,"X < N - X"),u(),o(107,"."),d(108,"br"),o(109," Le point d'\xe9quilibre est atteint quand on arrive \xe0 la "),a(110,"b"),o(111,"m\xe9diane"),u(),o(112," de notre liste, vu que l'on aura autant de crabes d'un c\xf4t\xe9 que de l'autre."),d(113,"br"),o(114," Notre solution est donc atteinte \xe0 la "),a(115,"b"),o(116,"m\xe9diane"),u(),o(117,"."),d(118,"br"),d(119,"br"),o(120," Si la liste est "),a(121,"b"),o(122,"paire"),u(),o(123,", on aura "),a(124,"b"),o(125,"2"),u(),o(126," \xe9l\xe9ments constituant la "),a(127,"b"),o(128,"m\xe9diane"),u(),o(129,", et toutes les positions entre ces "),a(130,"b"),o(131,"2"),u(),o(132," \xe9l\xe9ments seront \xe9quivalentes, vu que l'on "),a(133,"b"),o(134,"augmentera"),u(),o(135," le carburant n\xe9cessaire d'"),a(136,"b"),o(137,"autant"),u(),o(138," qu'on le "),a(139,"b"),o(140,"diminuera"),u(),o(141,"."),d(142,"br"),d(143,"br"),a(144,"pre",9),a(145,"code"),o(146,"lines = open('input7.txt').read().split('\\n')\n\ncrabes = list(map(int,lines[0].split(',')))\ncrabes.sort()\n\nresultat=0\nmediane = crabes[len(crabes)//2]\nfor crabe in crabes:\n    resultat += abs(crabe-mediane)\nprint(resultat)"),u(),u(),d(147,"br"),d(148,"br"),a(149,"h2",13),a(150,"a",7),o(151,"Jour 7, partie 2:"),u(),u(),a(152,"h3",14),o(153," Enonc\xe9 "),u(),o(154," Pour la seconde partie, on veut toujours grouper nos crabes en un certain point, mais le co\xfbt de d\xe9placement des crabes augmente avec chaque step."),d(155,"br"),o(156," Par exemple, si on a "),a(157,"b"),o(158,"2"),u(),o(159," crabes, "),a(160,"b"),o(161,"1"),u(),o(162," qui se d\xe9place de "),a(163,"b"),o(164,"3"),u(),o(165," unit\xe9s, et l'autre qui se d\xe9place de "),a(166,"b"),o(167,"5"),u(),o(168," unit\xe9s, alors le carburant total utilis\xe9 sera"),d(169,"br"),a(170,"pre",9),a(171,"code"),o(172,"(1+2+3) + (1+2+3+4+5) = 21"),u(),u(),a(173,"h3",15),o(174," Solution "),u(),o(175," Pour cette seconde partie, je n'ai pas trouv\xe9 d'astuce particuli\xe8re pour la position \xe0 cibler, je pars donc de la solution na\xefve de la partie 1 pour calculer tous les d\xe9calages possibles."),d(176,"br"),d(177,"br"),o(178," On peut par contre optimiser la partie calcul de consommation de carburant pour un crabe:"),d(179,"br"),o(180," Si un crabe doit se d\xe9placer de "),a(181,"b"),o(182,"X"),u(),o(183," unit\xe9s, plut\xf4t que de calculer na\xefvement la somme "),a(184,"b"),o(185,"1+2+...+X"),u(),o(186,", on peut directement utiliser la valeur "),a(187,"b"),o(188,"X*(X+1)/2"),u(),o(189,"."),d(190,"br"),d(191,"br"),o(192," Cette formule peut \xeatre retrouv\xe9e / intuit\xe9e tr\xe8s facilement. "),d(193,"br"),o(194," Je vais vous donner 2 exemples de mani\xe8re de retrouver cette relation."),d(195,"br"),d(196,"br"),o(197," La premi\xe8re, g\xe9om\xe9trique:"),d(198,"br"),a(199,"ul"),a(200,"li"),o(201,"Si je dispose mes unit\xe9s de mani\xe8re pyramidale, de telle sorte d'avoir 1 puis 2 puis ... X \xe9l\xe9ments par ligne "),u(),a(202,"li"),o(203," Si je retourne cette pyramide, et que je la fusionne de la fa\xe7on suivante: "),u(),u(),a(204,"div",16),d(205,"img",17),u(),o(206," On a donc l'aire d'une seule pyramide qui est \xe9gale \xe0 "),a(207,"b"),o(208,"N*(N+1)/2"),u(),o(209,"."),d(210,"br"),d(211,"br"),o(212," Une seconde fa\xe7on de faire est de grouper les \xe9l\xe9ments par pair oppos\xe9es (on peut faire un pairing \xe9quivalent dans le cas d'une liste impaire)."),d(213,"br"),a(214,"div",18),d(215,"img",19),u(),o(216," Un code qui utiliserait cette propri\xe9t\xe9 aurait la forme suivante: "),a(217,"pre",9),a(218,"code"),o(219,"lines = open('input7.txt').read().split('\\n')\n\ncrabes = list(map(int,lines[0].split(',')))\n\nresultat = 1e8\nfor targetPosition in range(min(crabes),max(crabes)):\n    somme = 0\n    for j in range(len(crabes)):\n        N = abs(targetPosition-crabes[j])\n        somme += (N*(N+1))//2\n        resultat = min(resultat,somme)\nprint(resultat)"),u(),u(),d(220,"br"),d(221,"br"),o(222," D\xe9p\xeache de derni\xe8re minute! Il semblerait que la position cibl\xe9e est forc\xe9ment comprise dans l'intervalle "),a(223,"b"),o(224,"[floor(moyenne(crabes)),ceil(moyenne(crabes))]"),u(),o(225,". Je regarderai peut-\xeatre pourquoi plus tard. "),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),jK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day8"]],decls:263,vars:12,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day8_part1"],["href","https://adventofcode.com/2021/day/8"],["id","day8_part1_statement"],[1,"line-numbers","language-python"],["id","day8_part2_statement"],["id","day8_part2"],["id","day8_part2_solution_detective"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 8) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 8, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Le probl\xe8me d'aujourd'hui montre un grand delta de difficult\xe9 par rapport aux premiers jours, pas forc\xe9ment algorithmique, mais plus en terme de complexit\xe9 de l'\xe9nonc\xe9 et de code \xe0 fournir."),d(30,"br"),d(31,"br"),o(32," On a un \xe9cran affichant des chiffres avec des segments lumineux (7 segments au maximum)."),d(33,"br"),o(34," PLACEHOLDER IMAGE SEGMENTS Chaque segment est identifi\xe9 par un caract\xe8re, mais le mapping entre ces segments et les caract\xe8res que l'on a en entr\xe9e n'est pas le m\xeame."),d(35,"br"),d(36,"br"),o(37," Par exemple, habituellement un chiffre "),a(38,"b"),o(39,"1"),u(),o(40," verrait les segments "),a(41,"b"),o(42,"c"),u(),o(43," et "),a(44,"b"),o(45,"f"),u(),o(46," s'illuminer, mais dans le cas o\xf9 notre segment en entr\xe9e "),a(47,"b"),o(48,"d"),u(),o(49," correspondrait au vrai segment "),a(50,"b"),o(51,"c"),u(),o(52,", alors on aurait les segments "),a(53,"b"),o(54,"d"),u(),o(55," et "),a(56,"b"),o(57,"f"),u(),o(58," illumin\xe9s."),d(59,"br"),o(60," Les chiffres sont encod\xe9s dans l'entr\xe9e en indiquant les segments illumin\xe9s."),d(61,"br"),d(62,"br"),o(63," Pour la premi\xe8re partie, on se rend compte que certains chiffres peuvent \xeatre facilement trouv\xe9s dans l'alphabet, \xe9tant donn\xe9 que le nombre de segments illumin\xe9s pour les repr\xe9senter sont uniques : "),a(64,"ul"),a(65,"li"),o(66,"Le chiffre "),a(67,"b"),o(68,"1"),u(),o(69," a "),a(70,"b"),o(71,"2"),u(),o(72," segments illumin\xe9s"),u(),a(73,"li"),o(74,"Le chiffre "),a(75,"b"),o(76,"7"),u(),o(77," a "),a(78,"b"),o(79,"3"),u(),o(80," segments illumin\xe9s"),u(),a(81,"li"),o(82,"Le chiffre "),a(83,"b"),o(84,"4"),u(),o(85," a "),a(86,"b"),o(87,"4"),u(),o(88," segments illumin\xe9s"),u(),a(89,"li"),o(90,"Le chiffre "),a(91,"b"),o(92,"8"),u(),o(93," a "),a(94,"b"),o(95,"7"),u(),o(96," segments illumin\xe9s"),u(),u(),o(97," On veut compter le nombre de chiffres "),a(98,"b"),o(99,"1,4,7,8"),u(),o(100," encod\xe9s (hors alphabet) qui composent l'entr\xe9e."),d(101,"br"),d(102,"br"),o(103," Par exemple, si l'on a : "),a(104,"pre",9),a(105,"code"),o(106,"fgae \ncfgab\nfg\nbagce"),u(),u(),o(107," On a "),a(108,"b"),o(109,"fg"),u(),o(110," qui utilise "),a(111,"b"),o(112,"2"),u(),o(113," segments, et donc qui sera forc\xe9ment un digit "),a(114,"b"),o(115,"1"),u(),o(116,"."),d(117,"br"),o(118," De m\xeame "),a(119,"b"),o(120,"fgae"),u(),o(121," qui utilise "),a(122,"b"),o(123,"4"),u(),o(124," segments, et ce sera donc un digit "),a(125,"b"),o(126,"4"),u(),o(127,"."),d(128,"br"),o(129," On a aucun moyen simple d'identifier les autres chiffres."),d(130,"br"),o(131," Pour cet exemple, on devrait donc renvoyer "),a(132,"b"),o(133,"2"),u(),o(134,". "),a(135,"h3",10),o(136," Solution "),u(),o(137," Cette partie 1 \xe9tait tr\xe8s simple, il suffisait d'it\xe9rer sur les cha\xeenes de caract\xe8res qui composaient le code pour compter celles qui avaient une longueur comprise dans l'ensemble "),a(138,"b"),o(139,"[2,3,4,7]"),u(),o(140,"."),d(141,"br"),o(142," Les seuls pi\xe8ges possibles provenaient du parsing du fichier, et il fallait \xe9galement faire attention de ne pas compter les chiffres qui \xe9taient pr\xe9sents dans l'alphabet (les mots qui pr\xe9c\xe9dent "),a(143,"b"),o(144,"'|'"),u(),o(145,")."),d(146,"br"),d(147,"br"),o(148," Voici un code qui permet de faire \xe7a: "),a(149,"pre",9),a(150,"code"),o(151),u(),u(),a(152,"h2",11),a(153,"a",7),o(154,"Jour 8, partie 2:"),u(),u(),a(155,"h3",10),o(156," Enonc\xe9 "),u(),o(157," On s'att\xe8le \xe0 pr\xe9sent \xe0 une t\xe2che bien plus hardue: "),a(158,"ul"),a(159,"li"),o(160,"On d\xe9sire d\xe9coder les chiffres encod\xe9s qui nous sont pass\xe9s"),u(),u(),o(161," La somme de ces nombres d\xe9cod\xe9s nous donne le r\xe9sultat \xe0 renvoyer. "),a(162,"h3",12),o(163," Solution version d\xe9ductions "),u(),o(164," Une premi\xe8re solution possible \xe9tait de jouer les d\xe9tectives en analysant les donn\xe9es et en cherchant comment deviner \xe0 quel caract\xe8re correspond un segment."),d(165,"br"),d(166,"br"),o(167," On peut notamment r\xe9utiliser les "),a(168,"b"),o(169,"4"),u(),o(170," chiffres \xe9voqu\xe9s dans la premi\xe8re partie ("),a(171,"b"),o(172,"1,4,7,8"),u(),o(173,") pour nos d\xe9ductions."),d(174,"br"),d(175,"br"),o(176," On peut stocker premi\xe8rement quel mot correspond \xe0 chacun de ces chiffres: "),a(177,"pre",9),a(178,"code"),o(179),u(),u(),o(180," Une premi\xe8re d\xe9duction est de remarquer que les segments du chiffre "),a(181,"b"),o(182,"1"),u(),o(183," et du chiffre "),a(184,"b"),o(185,"7"),u(),o(186," sont identiques \xe0 l'exception du segment "),a(187,"b"),o(188,"a"),u(),o(189," pr\xe9sent dans le chiffre "),a(190,"b"),o(191,"7"),u(),o(192,"."),d(193,"br"),o(194," On peut donc chercher le caract\xe8re qui appara\xeet dans les mots de "),a(195,"b"),o(196,"3"),u(),o(197," caract\xe8res mais pas de "),a(198,"b"),o(199,"2"),u(),o(200," caract\xe8res, qui correspondra donc au segment "),a(201,"b"),o(202,"a"),u(),o(203,"."),d(204,"br"),a(205,"pre",9),a(206,"code"),o(207,"for car in chiffres[7]:\nif(car not in chiffres[1]):\n    correspondance[car] = 'a'"),u(),u(),o(208," Ensuite, on peut compter le nombre d'apparitions th\xe9oriques d'un segment dans l'alphabet."),d(209,"br"),o(210," Si ce nombre d'apparitions est unique, il suffira de compter le nombre de fois que l'on voit un caract\xe8re pour en d\xe9duire que ce caract\xe8re correspond \xe0 ce segment."),d(211,"br"),a(212,"pre",9),a(213,"code"),o(214),u(),u(),o(215," Pour finir, on peut maintenant it\xe9rer sur les chiffres connus ("),a(216,"b"),o(217,"1,4,7,8"),u(),o(218,") pour d\xe9duire les segments manquants lorsqu'ils sont les seuls inconnus de ces chiffres."),d(219,"br"),o(220," Par exemple, des d\xe9ductions pr\xe9c\xe9dentes, on conna\xeet d\xe9j\xe0 la correspondance avec les segments "),a(221,"b"),o(222,"a"),u(),a(223,"b"),o(224,"b"),u(),a(225,"b"),o(226,"e"),u(),a(227,"b"),o(228,"f"),u(),o(229,", donc le seul segment inconnu du chiffre "),a(230,"b"),o(231,"1"),u(),o(232," correspond au segment "),a(233,"b"),o(234,"c"),u(),o(235,"."),d(236,"br"),a(237,"pre",9),a(238,"code"),o(239,"for car in chiffres[1]:\n    if(car not in correspondance):\n        correspondance[car] = 'c'\n\nfor car in chiffres[4]:\n    if(car not in correspondance):\n        correspondance[car] = 'd'\n\nfor car in chiffres[8]:\n    if(car not in correspondance):\n        correspondance[car] = 'g'"),u(),u(),o(240," Il suffira ensuite de d\xe9coder \xe0 partir des correspondances trouv\xe9es."),d(241,"br"),o(242," Notre code final ressemblera \xe0 \xe7a: "),a(243,"pre",9),a(244,"code"),o(245),u(),u(),a(246,"h3",12),o(247," Solution version bruteforce "),u(),o(248," On peut \xe9galement essayer toutes les permutations possibles de segments, pour voir si l'on obtient le m\xeame alphabet en g\xe9n\xe9rant tous les chiffres."),d(249,"br"),o(250," Etant donn\xe9 que le nombre de segments est faible ("),a(251,"b"),o(252,"7"),u(),o(253,"), le nombre de permutations reste calculable ("),a(254,"b"),o(255,"(7!) = 5040"),u(),o(256,")."),d(257,"br"),d(258,"br"),o(259," Un code qui utiliserait ce syst\xe8me ressemblerait \xe0 \xe7a: "),a(260,"pre",9),a(261,"code"),o(262),u(),u(),u(),u(),u(),u()),2&e&&(K(151),zr("lines = open('input8.txt').read().split('\\n')\n\nresultat = 0\nensemble = ","{","2,3,4,7","}","\nfor line in lines:\n    alphabet, code = map(str.strip,line.split('|'))\n    for word in code.split(' '):\n        if(len(word) in ensemble):\n            resultat += 1\nprint(resultat)"),K(28),zr("chiffres = dict()\nnbSegmentsParChiffre = ","{","1:2, 4:4, 7:3, 8:7","}","\nremaining = []\nfor word in words:\n    for chiffre,nbSegments in nbSegmentsParChiffre.items():\n        if(len(word) == nbSegments):\n            chiffres[chiffre] = word\n            break"),K(35),zr("from collections import defaultdict\napparitions = dict()\napparitions['b'] = 6\napparitions['e'] = 4\napparitions['f'] = 9\n\ncompte = ","{","","}"," \n\nfor word in words:\n    for car in word:\n        compte[car] = compte.setdefault(car,0) + 1\n\nfor car in map(chr,range(ord('a'),ord('h'))):\n    for segment,frequency in apparitions.items():\n        if(frequency == compte[car]):\n            correspondance[car] = segment"),K(31),g0("from collections import defaultdict\nlines = open('input8.txt').read().split('\\n')\n\nsomme = 0\nfor line in lines:\n    alphabet,code = map(str.strip,line.split('|'))\n\n    one,four,seven,eight = None,None,None,None\n    words = alphabet.replace('  ',' ').split(' ')\n    \n    chiffres = dict()\n    nbSegmentsParChiffre = ","{","1:2, 4:4, 7:3, 8:7","}","\n    remaining = []\n    for word in words:\n        for chiffre,nbSegments in nbSegmentsParChiffre.items():\n            if(len(word) == nbSegments):\n                chiffres[chiffre] = word\n                break\n\n    correspondance = dict()\n\n    for car in chiffres[7]:\n        if(car not in chiffres[1]):\n            correspondance[car] = 'a'\n\n    apparitions = dict()\n    apparitions['b'] = 6\n    apparitions['e'] = 4\n    apparitions['f'] = 9\n\n    compte = ","{","","}","\n\n    for word in words:\n        for car in word:\n            compte[car] = compte.setdefault(car,0) + 1\n\n    for car in map(chr,range(ord('a'),ord('h'))):\n        for segment,frequency in apparitions.items():\n            if(frequency == compte[car]):\n                correspondance[car] = segment\n\n    for car in chiffres[1]:\n        if(car not in correspondance):\n            correspondance[car] = 'c'\n    \n    for car in chiffres[4]:\n        if(car not in correspondance):\n            correspondance[car] = 'd'\n    \n    for car in chiffres[8]:\n        if(car not in correspondance):\n            correspondance[car] = 'g'\n    \n    allDigits = dict()\n\n    allDigits['abcefg'] = 0\n    allDigits['cf'] = 1\n    allDigits['acdeg'] = 2\n    allDigits['acdfg'] = 3\n    allDigits['bcdf'] = 4\n    allDigits['abdfg'] = 5\n    allDigits['abdefg'] = 6\n    allDigits['acf'] = 7\n    allDigits['abcdefg'] = 8\n    allDigits['abcdfg'] = 9\n\n    res = 0\n    for digitEncoded in code.split(' '):\n        digit = [correspondance[car] for car in digitEncoded]\n        digit.sort()\n        digit = ''.join(digit)\n        res = res * 10 + allDigits[digit]\n    somme += res\nprint(somme)"),K(17),zr("from itertools import *\nlines = open('input8.txt').read().split('\\n')\n\nsomme = 0\nfor line in lines:\n    print(line)\n    alphabet,code = map(str.strip,line.split('|'))\n\n    alphabet = alphabet.split(' ')\n    for i in range(len(alphabet)):\n        alphabet[i] = list(alphabet[i])\n        alphabet[i].sort()\n    alphabet.sort()\n\n    allDigits = dict()\n    allDigits['abcefg'] = 0\n    allDigits['cf'] = 1\n    allDigits['acdeg'] = 2\n    allDigits['acdfg'] = 3\n    allDigits['bcdf'] = 4\n    allDigits['abdfg'] = 5\n    allDigits['abdefg'] = 6\n    allDigits['acf'] = 7\n    allDigits['abcdefg'] = 8\n    allDigits['abcdfg'] = 9\n\n    theoricalAlphabet = list(map(list,allDigits.keys()))\n    theoricalAlphabet.sort()\n    \n    for permutation in permutations(list('abcdefg')):\n        ourAlphabet = []\n        for word in theoricalAlphabet:\n            newWord = list(map(lambda car:permutation[ord(car)-ord('a')],word))\n            newWord.sort()\n            ourAlphabet.append(newWord)\n        ourAlphabet.sort()\n\n        if(ourAlphabet == alphabet):\n            reverseAlphabet = ","{","","}","\n            for i in range(len(permutation)):\n                reverseAlphabet[permutation[i]] = chr(i+ord('a'))\n            res = 0\n            for digitEncoded in code.split(' '):\n                digit = [reverseAlphabet[car] for car in digitEncoded]\n                digit.sort()\n                digit = ''.join(digit)\n                res = res*10 + allDigits[digit]\n            somme += res\n            break\nprint(somme)"))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),$K=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day9"]],decls:157,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day9_part1"],["href","https://adventofcode.com/2021/day/9"],["id","day9_part1_statement"],[2,"text-align","center","margin-top","50px","margin-bottom","100px"],["src","assets/img/Connectivite.png",2,"width","500px"],["id","day9_part1_solution"],[1,"line-numbers","language-python"],["id","day9_part2"],["id","day9_part2_statement"],["src","assets/img/Heightmap.png",2,"width","500px"],["id","day9_part2_solution"],["src","assets/img/Dfs4.png",2,"width","500px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 9) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 9, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a aujourd'hui notre premier probl\xe8me de graphe de cette \xe9dition d'advent of code."),d(30,"br"),o(31," On a en entr\xe9e une liste \xe0 2 dimensions de cases, qui constituent une "),a(32,"b"),o(33,"heightmap"),u(),o(34,", avec la valeur pr\xe9sente sur ces cases d\xe9finissant la hauteur de ce point."),d(35,"br"),d(36,"br"),o(37," On cherche dans la premi\xe8re partie \xe0 trouver les cases ayant une valeur inf\xe9rieure \xe0 la valeur de chacun de ses voisins."),d(38,"br"),o(39," Ici, la notion de voisin est d\xe9finie par une "),a(40,"b"),o(41,"4-connectivit\xe9"),u(),o(42," ("),a(43,"b"),o(44,"4 voisins"),u(),o(45,": en haut, en bas, \xe0 gauche et \xe0 droite), qui diff\xe8re de la "),a(46,"b"),o(47,"8-connectivit\xe9"),u(),o(48," qui comprend les diagonales."),d(49,"br"),a(50,"div",9),d(51,"img",10),u(),o(52," La valeur \xe0 renvoyer est la somme des niveaux de risques des lowpoints, qui est calcul\xe9e comme \xe9tant leurs hauteurs incr\xe9ment\xe9e par "),a(53,"b"),o(54,"1"),u(),o(55,"."),d(56,"br"),d(57,"br"),a(58,"h3",11),o(59," Solution "),u(),o(60," Pour cette premi\xe8re partie, il suffit donc d'it\xe9rer sur la grille et de v\xe9rifier les valeurs des diff\xe9rents voisins pour d\xe9terminer si l'on est en pr\xe9sence d'un lowpoint."),d(61,"br"),o(62," Pour calculer facilement les voisins d'une case, on peut d\xe9finir un tableau de directions sur lequel on va it\xe9rer pour ajouter des deltas horizontaux et verticaux \xe0 notre position."),d(63,"br"),o(64," Par exemple, sur le sch\xe9ma pr\xe9c\xe9dent qui montrait la "),a(65,"b"),o(66,"4-connectivit\xe9"),u(),o(67,", on a les deltas horizontaux et verticaux suivants: "),a(68,"pre",12),a(69,"code"),o(70,"(0,1)\n(0,-1)\n(1,0)\n(-1,0)"),u(),u(),d(71,"br"),o(72," Le code r\xe9sultant est le suivant:"),d(73,"br"),a(74,"pre",12),a(75,"code"),o(76,"lines = list(map(list,open('input9.txt').read().split('\\n')))\n\ndx=[1,-1,0,0]\ndy=[0,0,1,-1]\n\ndef insideGrid(x, y, grid):\n    return x >= 0 and y >= 0 and x < len(grid) and y < len(grid[x])\n\nresultat = 0\nfor x in range(len(lines)):\n    for y in range(len(lines[x])):\n        isLowpoint = True\n        for dx,dy in zip([0,0,1,-1],[1,-1,0,0]):\n            x2 = x + dx\n            y2 = y + dy\n            if(insideGrid(x2,y2,lines) and lines[x2][y2] <= lines[x][y]):\n                isLowpoint = False\n        if(isLowpoint):\n            resultat += ord(lines[x][y]) - ord('0') + 1\n\nprint(resultat)"),u(),u(),a(77,"h2",13),a(78,"a",7),o(79,"Jour 9, partie 2:"),u(),u(),a(80,"h3",14),o(81," Enonc\xe9 "),u(),o(82," Pour la partie 2, on d\xe9finit une notion de bassin qui correspond \xe0 des zones s\xe9par\xe9es par des coordonn\xe9es d'hauteur "),a(83,"b"),o(84,"9"),u(),o(85,"."),d(86,"br"),o(87," Par exemple, sur le sch\xe9ma suivant: "),a(88,"div",9),d(89,"img",15),u(),o(90," On a "),a(91,"b"),o(92,"4"),u(),o(93," bassins s\xe9par\xe9es par des "),a(94,"b"),o(95,"9"),u(),o(96,"."),d(97,"br"),d(98,"br"),o(99," On veut trouver les "),a(100,"b"),o(101,"3"),u(),o(102," bassins ayant la taille la plus grande, et la r\xe9ponse correspond \xe0 ces "),a(103,"b"),o(104,"3"),u(),o(105," tailles multipli\xe9es entre elles. "),a(106,"h3",16),o(107," Solution "),u(),o(108," Pour trouver les bassins, on a besoin de faire un parcours de graphe."),d(109,"br"),o(110," Il existe plusieurs types de parcours de graphes (BFS, DFS ...), mais dans le cas pr\xe9sent, il n'est pas n\xe9cessaire de faire un parcours complexe, on veut juste d\xe9terminer les r\xe9gions connexes qui correspondent \xe0 nos bassins."),d(111,"br"),o(112," On utilisera donc une version simple, le DFS."),d(113,"br"),d(114,"br"),o(115," Celui-ci peut \xeatre cod\xe9 de plusieurs mani\xe8res: "),a(116,"ul"),a(117,"li"),o(118,"Soit de mani\xe8re r\xe9cursive"),u(),a(119,"li"),o(120,"Soit avec une structure qui gardera la liste de coordonn\xe9es que l'on doit traiter"),u(),u(),o(121," La premi\xe8re mani\xe8re est plus co\xfbteuse vu que l'on utilise la stack pour garder les valeurs de nos appels r\xe9cursifs."),d(122,"br"),o(123," Je vais donc utiliser la seconde mani\xe8re."),d(124,"br"),d(125,"br"),o(126," L'algorithme est tr\xe8s simple:"),d(127,"br"),a(128,"ul"),a(129,"li"),o(130,"Pour chaque case non visit\xe9e qui n'est pas \xe9gale \xe0 9"),u(),a(131,"ul"),a(132,"li"),o(133,"On initialise notre liste de DFS avec cette coordonn\xe9e"),u(),a(134,"li"),o(135,"On it\xe9re sur la liste tant qu'il existe des \xe9l\xe9ments, en supprimant les \xe9l\xe9ments trait\xe9s au fur et \xe0 mesure "),u(),a(136,"li"),o(137,"Pour chaque \xe9l\xe9ment trait\xe9, si on a un voisin connect\xe9 (diff\xe9rent de "),a(138,"b"),o(139,"9"),u(),o(140,") et qui n'a pas encore \xe9t\xe9 visit\xe9, on l'ajoute \xe0 notre liste "),u(),a(141,"li"),o(142,"Le nombre d'\xe9l\xe9ments trait\xe9s correspondra \xe0 notre taille de bassin"),u(),a(143,"li"),o(144,"On ajoute \xe0 une liste globale la taille trouv\xe9e"),u(),u(),a(145,"li"),o(146,"Apr\xe8s avoir visit\xe9 tous les bassins, on trie la liste des tailles de bassins, puis on multiplie les "),a(147,"b"),o(148,"3"),u(),o(149," plus grands. "),u(),u(),a(150,"div",9),d(151,"img",17),u(),o(152," On aura le code suivant:"),d(153,"br"),a(154,"pre",12),a(155,"code"),o(156,"import functools\nlines = list(map(list,open('input9.txt').read().split('\\n')))\n\ndx=[1,-1,0,0]\ndy=[0,0,1,-1]\n\ndef insideGrid(x, y, grid):\n    return x >= 0 and y >= 0 and x < len(grid) and y < len(grid[x])\n\nvisites = [[False for y in range(len(lines[x]))] for x in range(len(lines))]\ntaillesDeBassins = []\n\nfor x in range(len(lines)):\n    for y in range(len(lines[x])):\n        if(lines[x][y] != '9' and not visites[x][y]):\n            dfs = [(x,y)]\n            visites[x][y] = True\n\n            tailleBassin = 0\n\n            while(len(dfs) > 0):\n                (currentX,currentY) = dfs.pop()\n                tailleBassin += 1\n                for dx,dy in zip([0,0,1,-1],[1,-1,0,0]):\n                    x2 = currentX + dx\n                    y2 = currentY + dy\n                    if(insideGrid(x2,y2,lines) and not visites[x2][y2] and lines[x2][y2] != '9'):\n                        visites[x2][y2] = True\n                        dfs.append((x2,y2))\n                        \n            taillesDeBassins.append(tailleBassin)\n\ntaillesDeBassins.sort()\n\nresultat = 1\nfor element in taillesDeBassins[-3:]:\n    resultat *= element\n\n# ou bien\nresultat = functools.reduce(lambda a,b:a*b,taillesDeBassins[-3:],1)\n\nprint(resultat)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),YK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day10"]],decls:122,vars:12,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day10_part1"],["href","https://adventofcode.com/2021/day/10"],["id","day10_part1_statement"],[1,"line-numbers","language-python"],["id","day10_part1_solution"],[2,"text-align","center","margin-top","50px","margin-bottom","100px"],["src","assets/img/parenthesing.png",2,"width","500px"],["id","day10_part2"],["id","day10_part2_statement"],["id","day10_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 10) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 10, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On avait un ensemble de cha\xeenes de caract\xe8res de parenth\xe9sage "),a(30,"b"),o(31),u(),o(32,"."),d(33,"br"),d(34,"br"),o(35," Pour la premi\xe8re partie, on cherche \xe0 d\xe9tecter un certain type de cha\xeenes de caract\xe8res invalides, celles qui pr\xe9sentent \xe0 un certain moment un caract\xe8re fermant qui ne match pas le dernier caract\xe8re ouvrant."),d(36,"br"),o(37," Par exemple, si on a les cha\xeenes de caract\xe8res suivantes: "),d(38,"br"),a(39,"pre",9),a(40,"code"),o(41,"(] \n[()()()]\n(((()))>"),u(),u(),o(42," La premi\xe8re et troisi\xe8me cha\xeene de caract\xe8res sont invalides: on devrait avoir une parenth\xe8se fermante \xe0 la place du crochet pour la premi\xe8re cha\xeene et une parenth\xe8se fermante \xe0 la place du chevron pour la derni\xe8re cha\xeene."),d(43,"br"),d(44,"br"),o(45," L'\xe9nonc\xe9 nous fait correspondre un score \xe0 chacun des caract\xe8res fermant."),d(46,"br"),o(47," Il nous faut renvoyer la somme de ces scores pour les premiers caract\xe8res invalides de chaque cha\xeene invalide pour valider la premi\xe8re phase. "),a(48,"h3",10),o(49," Solution "),u(),o(50," On peut stocker les caract\xe8res ouvrants dans une "),a(51,"b"),o(52,"pile"),u(),o(53,", et \xe0 chaque caract\xe8re fermant, on v\xe9rifie le caract\xe8re au sommet de la "),a(54,"b"),o(55,"pile"),u(),o(56,", et si celui-ci ne match pas, on est en pr\xe9sence d'une cha\xeene de caract\xe8re invalide, et on a \xe9galement le premier caract\xe8re qui l'invalide, qui nous permet de calculer le score."),d(57,"br"),a(58,"div",11),d(59,"img",12),u(),a(60,"pre",9),a(61,"code"),o(62),u(),u(),a(63,"h2",13),a(64,"a",7),o(65,"Jour 10, partie 2:"),u(),u(),a(66,"h3",14),o(67," Enonc\xe9 "),u(),o(68," Pour la partie 2, on ignore les cha\xeenes de caract\xe8res invalides de la partie 1, et l'on cherche \xe0 la place un nouveau type de cha\xeene de caract\xe8res invalides: les cha\xeenes incompl\xe8tes."),d(69,"br"),d(70,"br"),o(71," Ces cha\xeenes incompl\xe8tes n'ont pas de souci de coh\xe9rence dans l'ordre des caract\xe8res fermants, mais certains caract\xe8res ouvrants n'ont pas de caract\xe8res correspondants."),d(72,"br"),o(73," Par exemple, les cha\xeenes de caract\xe8res suivantes sont toutes invalides et doivent \xeatre trait\xe9es en phase 2: "),a(74,"pre",9),a(75,"code"),o(76,"([<<>\n((((())))"),u(),u(),o(77," On a \xe9galement un calcul de score, qui diff\xe9re de la premi\xe8re partie: "),d(78,"br"),o(79," Si l'on it\xe9re sur les caract\xe8res \xe0 ajouter en fin de cha\xeene pour la rendre valide, on calcule le score de la mani\xe8re suivante: "),a(80,"ul"),a(81,"li"),o(82,"On initialise le score \xe0 "),a(83,"b"),o(84,"0"),u(),u(),a(85,"li"),o(86,"Pour chaque caract\xe8re manquant, on multiplie le score courant par "),a(87,"b"),o(88,"5"),u(),o(89,", puis on ajoute un score correspondant au caract\xe8re manquant ("),a(90,"b"),o(91,"1"),u(),o(92,","),a(93,"b"),o(94,"2"),u(),o(95,","),a(96,"b"),o(97,"3"),u(),o(98," ou "),a(99,"b"),o(100,"4"),u(),o(101," en fonction du type de caract\xe8re) "),u(),u(),o(102," Apr\xe8s avoir calcul\xe9 les scores de toutes les cha\xeenes invalides, on cherche le score m\xe9dian \xe0 renvoyer pour valider la phase 2. "),a(103,"h3",15),o(104," Solution "),u(),o(105," On peut r\xe9utiliser le syst\xe8me de "),a(106,"b"),o(107,"pile"),u(),o(108," de la phase 1, et dans le cas des cha\xeenes de caract\xe8res incompl\xe8tes, on aura simplement la "),a(109,"b"),o(110,"pile"),u(),o(111," qui contiendra encore des \xe9l\xe9ments apr\xe8s avoir \xe9t\xe9 trait\xe9e enti\xe8rement."),d(112,"br"),d(113,"br"),o(114," Ces \xe9l\xe9ments correspondent aux \xe9l\xe9ments qu'il faudrait ajouter \xe0 la cha\xeene pour la rendre valide."),d(115,"br"),o(116," On peut donc simplement d\xe9piler les \xe9l\xe9ments un \xe0 un et calculer le score comme d\xe9fini pr\xe9c\xe9demment."),d(117,"br"),o(118," Lorsque l'on a ajout\xe9 tous les scores \xe0 une liste, on peut trier cette liste et prendre l'\xe9l\xe9ment central pour obtenir la m\xe9diane. "),a(119,"pre",9),a(120,"code"),o(121),u(),u(),u(),u(),u(),u()),2&e&&(K(31),zr("('(',')','[',']','","{",",'","}",",'<','>')"),K(31),Oh("lines = open('input10.txt').read().split('\\n')\n\nresultat=0\nmatching = dict(zip('","{","[(<','","}","])>'))\n\nscores = ","{","')':3,']':57,'","}","':1197,'>':25137","}","\n\nfor line in lines:\n    pile = []\n    valide = True\n    for caractere in line:\n        if(caractere in matching.keys()):\n            pile.append(matching[caractere])\n        else:\n            if(len(pile) == 0 or caractere != pile.pop()):\n            resultat += scores[caractere]\n                break\nprint(resultat)"),K(59),Oh("lines = open('input10.txt').read().split('\\n')\n\nmatching = dict(zip('(","{","[<',')","}","]>'))\n\nscores = ","{","')':1,']':2,'","}","':3,'>':4","}","\n\nallScores=[]\nfor line in lines:\n    pile = []\n    valide = True\n    for caractere in line:\n        if(caractere in matching.keys()):\n            pile.append(matching[caractere])\n        else:\n            if(len(pile) == 0 or caractere != pile.pop()):\n                pile = []\n                break\n    score = 0\n    while(len(pile) > 0):\n        score *= 5\n        score += scores[pile.pop()]\n    if(score > 0):\n        allScores.append(score)\n\nallScores.sort()\nprint(allScores[len(allScores)//2])"))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),WK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day11"]],decls:112,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day11_part1"],["href","https://adventofcode.com/2021/day/11"],["id","day11_part1_statement"],[1,"line-numbers","language-python"],["id","day11_part1_solution"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/Parcours.png",2,"width","450px"],["id","day11_part2"],["id","day11_part2_statement"],["id","day11_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 11) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 11, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Une grille contient un ensemble de pieuvres avec des niveaux d'\xe9nergies diff\xe9rents."),d(30,"br"),o(31," A chaque \xe9tape, le niveau d'\xe9nergie de chaque pieuvre augmente de 1. "),d(32,"br"),o(33," Si le niveau d'une pieuvre d\xe9passe le niveau d'\xe9nergie "),a(34,"b"),o(35,"9"),u(),o(36,", alors cette pieuvre \xe9met un flash."),d(37,"br"),o(38," Ce flash augmente \xe9galement le niveau d'\xe9nergie des pieuvres voisines, ce qui peut cr\xe9er des r\xe9actions en cha\xeenes engendrant de nombreux flashs."),d(39,"br"),d(40,"br"),o(41," A la fin de l'\xe9tape, lorsque l'on a fini de propager tous les flashs, les pieuvres ayant \xe9mises un flash durant cette \xe9tape voient leurs niveaux d'\xe9nergies r\xe9initialis\xe9s \xe0 0. Par exemple, si \xe0 un moment on a: "),a(42,"pre",9),a(43,"code"),o(44," 9  8  8\n 3  4  8\n 9  8  8"),u(),u(),o(45," Alors au d\xe9but de l'\xe9tape, on incr\xe9mente chaque niveau "),a(46,"pre",9),a(47,"code"),o(48,"10  9  9\n 4  5  9\n10  9  9"),u(),u(),o(49," Et donc on aura les \xe9tapes de propagation de flash suivantes: "),a(50,"pre",9),a(51,"code"),o(52,"10  10  9          10  10  10          10  10  10          10  10  10          10  10  10\n 4   5  9    =>     6   7   9     =>    8   9  10     =>    9  10  10     =>    10  10  10\n10  10  9          10  10  10          10  10  10          10  10  10          10  10  10"),u(),u(),o(53," Le but de la premi\xe8re partie est de compter le nombre de flashs ayant \xe9t\xe9 produits durant les 100 premi\xe8res \xe9tapes. "),a(54,"h3",10),o(55," Solution "),u(),o(56," La principale difficult\xe9 de cette partie 1 \xe9tait de propager efficacement les flashs."),d(57,"br"),o(58," Pour incr\xe9menter les niveaux d'\xe9nergies des pieuvres au d\xe9but du tour, il suffisait d'it\xe9rer sur la grille."),d(59,"br"),d(60,"br"),o(61," Pour la propagation, on avait deux possibilit\xe9s principales: "),a(62,"ul"),a(63,"li"),o(64,"On it\xe9re sur la grille tant que l'on a des nouveaux flashs produits pour v\xe9rifier qu'ils n'engendrent pas de nouveaux flashs "),u(),a(65,"li"),o(66," On fait une sorte de parcours, en prenant comme d\xe9parts les flashs des pieuvres "),u(),u(),o(67," La premi\xe8re solution est largement satisfaisante dans notre cas, \xe9tant donn\xe9 que la grille est tr\xe8s petite."),d(68,"br"),o(69," Dans le pire des cas, si on a \xe0 chaque tour une r\xe9action en cha\xeene qui illumine chaque case une par une, on aurait "),a(70,"b"),o(71,"(N*M)*(N*M)"),u(),o(72," op\xe9rations (le premier "),a(73,"b"),o(74,"N*M"),u(),o(75," correspond \xe0 notre parcours de la grille, le second aux nombres de flashs produits)."),d(76,"br"),d(77,"br"),o(78," Il fallait n\xe9anmoins faire attention \xe0 ne pas propager plusieurs fois un m\xeame flash."),d(79,"br"),d(80,"br"),a(81,"pre",9),a(82,"code"),o(83,"lines = list(map(lambda line:list(map(int,line)),open('input11.txt').read().split('\\n')))\n\ndx=[1,1,1,-1,-1,-1,0,0]\ndy=[1,-1,0,1,-1,0,1,-1]\n\nALREADY_FLASHED = 11\n\nresultat=0\nfor s in range(100):\n    for x in range(len(lines)):\n        for y in range(len(lines[x])):\n            lines[x][y] += 1\n    newFlash = True\n    while newFlash:\n        newFlash = False\n        for x in range(len(lines)):\n            for y in range(len(lines[x])):\n                if(lines[x][y] == 10):\n                    lines[x][y] = ALREADY_FLASHED\n                    newFlash = True\n                    for d in range(8):\n                        x2 = x + dx[d]\n                        y2 = y + dy[d]\n                        if(x2 >= 0 and y2 >= 0 and x2 < len(lines) and y2 < len(lines[x2]) and lines[x2][y2] < 10):\n                            lines[x2][y2] += 1\n        \n        if(not newFlash):\n            break    \n    for x in range(len(lines)):\n        for y in range(len(lines[x])):\n            if(lines[x][y] == ALREADY_FLASHED):\n                resultat += 1\n                lines[x][y] = 0\nprint(resultat)"),u(),u(),a(84,"h3",10),o(85," Solution parcours "),u(),o(86," Pour la version parcours, plut\xf4t que d'it\xe9rer \xe0 chaque fois sur la grille enti\xe8re, on peut stocker les pieuvres qui flashent, propager le flash sur les voisins, et les ajouter \xe0 notre parcours si ces derniers se mettent \xe0 flasher en cons\xe9quence."),d(87,"br"),a(88,"div",11),d(89,"img",12),u(),o(90," En code, \xe7a donne "),a(91,"pre",9),a(92,"code"),o(93,"lines = list(map(lambda line:list(map(int,line)),open('input11.txt').read().split('\\n')))\n\ndx=[1,1,1,-1,-1,-1,0,0]\ndy=[1,-1,0,1,-1,0,1,-1]\n\nresultat=0\netapes = 0\nfor s in range(100):\n    etapes += 1\n    \n    parcours = []\n    for x in range(len(lines)):\n        for y in range(len(lines[x])):\n            lines[x][y] += 1\n            if(lines[x][y] > 9):\n                parcours.append((x,y))\n                lines[x][y] = 0\n    while(len(parcours) != 0):\n        (x,y) = parcours.pop()\n        resultat += 1\n\n        for d in range(8):\n            x2 = x + dx[d]\n            y2 = y + dy[d]\n\n            if(x2 >= 0 and y2 >= 0 and x2 > len(lines) and y2 > len(lines[x2]) and lines[x2][y2] != 0):\n                lines[x2][y2] += 1\n                if(lines[x2][y2] > 9):\n                    lines[x2][y2] = 0\n                    parcours.append((x2,y2))\n\nprint(resultat)"),u(),u(),a(94,"h2",13),a(95,"a",7),o(96,"Jour 11, partie 2:"),u(),u(),a(97,"h3",14),o(98," Enonc\xe9 "),u(),o(99," Pour la partie 2, on refait les m\xeames simulations que pour la partie 1, mais on cherche \xe0 trouver l'\xe9tape pour laquelle toutes les pieuvres flashent \xe0 la fois."),d(100,"br"),o(101," Le nombre d'\xe9tapes pour y arriver nous donne la solution."),d(102,"br"),a(103,"h3",15),o(104," Solution "),u(),o(105," Il suffit de v\xe9rifier apr\xe8s chaque \xe9tape que notre grille ne contient pas d'autres valeurs que "),a(106,"b"),o(107,"ALREADY_FLASHED"),u(),o(108,". "),a(109,"pre",9),a(110,"code"),o(111,"lines = list(map(lambda line:list(map(int,line)),open('input11.txt').read().split('\\n')))\n\ndx=[1,1,1,-1,-1,-1,0,0]\ndy=[1,-1,0,1,-1,0,1,-1]\n\nALREADY_FLASHED = 11\n\netapes = 0\nwhile(True):\n    etapes += 1\n    for x in range(len(lines)):\n        for y in range(len(lines[x])):\n            lines[x][y] += 1\n    newFlash = True\n    while newFlash:\n        newFlash = False\n        for x in range(len(lines)):\n            for y in range(len(lines[x])):\n                if(lines[x][y] == 10):\n                    lines[x][y] = ALREADY_FLASHED\n                    newFlash = True\n                    for d in range(8):\n                        x2 = x + dx[d]\n                        y2 = y + dy[d]\n                        if(x2 >= 0 and y2 >= 0 and x2 < len(lines) and y2 < len(lines[x2]) and lines[x2][y2] < 10):\n                            lines[x2][y2] += 1\n        \n        if(not newFlash):\n            break    \n    allFlashes = True\n    for x in range(len(lines)):\n        for y in range(len(lines[x])):\n            if(lines[x][y] == ALREADY_FLASHED):\n                lines[x][y] = 0\n            else:\n                allFlashes = False\n    if(allFlashes):\n        print(etapes)\n        break"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),XK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day12"]],decls:155,vars:4,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day12_part1"],["href","https://adventofcode.com/2021/day/12"],["id","day12_part1_statement"],[1,"line-numbers","language-python"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/caves.png",2,"width","300px"],["id","day12_part1_solution"],["id","day12_part2"],["id","day12_part2_statement"],["id","day12_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 12) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 12, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On r\xe9cup\xe8re un r\xe9seau de caves \xe0 partir des capteurs de notre sous-marin. "),d(30,"br"),o(31," Ce r\xe9seau est constitu\xe9 de petites et grandes caves (les petites caves ayant un identifiant avec des minuscules "),a(32,"b"),o(33,"[a-z]*"),u(),o(34," et les grandes caves des majuscules)."),d(35,"br"),o(36," Ces caves sont reli\xe9s par des acc\xe8s "),a(37,"b"),o(38,"bidirectionnels"),u(),o(39,"."),d(40,"br"),d(41,"br"),o(42," On a \xe9galement "),a(43,"b"),o(44,"2"),u(),o(45," noeuds particuliers: "),a(46,"b"),o(47,"start"),u(),o(48," et "),a(49,"b"),o(50,"end"),u(),o(51,", les noeuds de d\xe9part et de fin."),d(52,"br"),d(53,"br"),o(54," On cherche \xe0 calculer le nombre de chemins qui partent du noeud de d\xe9part et qui arrivent au noeud de fin, ces chemins ne pouvant passer qu'une seule fois au maximum par petite cave."),d(55,"br"),d(56,"br"),o(57," Par exemple, si l'on a: "),a(58,"pre",9),a(59,"code"),o(60,"start-A\nA-b\nA-c            \nc-D\nD-end"),u(),u(),a(61,"div",10),d(62,"img",11),u(),o(63," On pourrait avoir les chemins suivants: "),a(64,"pre",9),a(65,"code"),o(66,"start => A => b => A => c => D => end\nstart => A => c => D => end"),u(),u(),o(67," Mais le chemin "),a(68,"pre",9),a(69,"code"),o(70,"start => A => c => D => c => D => end"),u(),u(),o(71," serait invalide, car on visite "),a(72,"b"),o(73,"2"),u(),o(74," fois la petite cave "),a(75,"b"),o(76,"c"),u(),o(77,"."),d(78,"br"),o(79," La r\xe9ponse est le nombre de chemins possibles entre "),a(80,"b"),o(81,"start"),u(),o(82," et "),a(83,"b"),o(84,"end"),u(),o(85,". "),a(86,"h3",12),o(87," Solution "),u(),o(88," On peut simplement r\xe9aliser un parcours de graphe, en enregistrant dans l'\xe9tat de parcours les petites caves d\xe9j\xe0 visit\xe9es pour \xe9viter de les revisiter \xe0 nouveau."),d(89,"br"),d(90,"br"),o(91," C'est un parcours assez co\xfbteux, \xe9tant donn\xe9 que chaque \xe9tat contient donc une structure assez grande pour contenir beaucoup d'\xe9l\xe9ments."),d(92,"br"),o(93," Mais le graphe et le nombre de chemins possibles sont r\xe9duits."),d(94,"br"),d(95,"br"),a(96,"pre",9),a(97,"code"),o(98),u(),u(),o(99," On pourrait avoir 2 optimisations, mais qui seraient relativement n\xe9gligeables dans notre contexte: "),a(100,"ul"),a(101,"li"),o(102,"Avoir des "),a(103,"b"),o(104,"appels r\xe9cursifs"),u(),o(105," et une "),a(106,"b"),o(107,"r\xe9f\xe9rence pour notre structure dictionnaire"),u(),o(108,", pour \xe9viter d'avoir simultan\xe9ment plusieurs dictionnaires dans diff\xe9rents \xe9tats stock\xe9s dans notre structure de parcours "),u(),a(109,"li"),o(110," Avoir de la "),a(111,"b"),o(112,"m\xe9mo\xefsation"),u(),o(113," pour stocker le nombre de chemins que l'on peut avoir depuis un certain \xe9tat si l'on a d\xe9j\xe0 visit\xe9 un ensemble particulier de petites caves "),u(),u(),a(114,"h2",13),a(115,"a",7),o(116,"Jour 12, partie 2:"),u(),u(),a(117,"h3",14),o(118," Enonc\xe9 "),u(),o(119," Pour la partie 2, on a maintenant le droit de visiter durant notre chemin une seule petite cave 2 fois. "),d(120,"br"),o(121," Notre chemin reste donc invalide si une petite cave est visit\xe9e "),a(122,"b"),o(123,"3"),u(),o(124," fois ou si au moins "),a(125,"b"),o(126,"2"),u(),o(127," petites caves sont visit\xe9es "),a(128,"b"),o(129,"2 fois ou plus"),u(),o(130,"."),d(131,"br"),o(132," Une exception n\xe9anmoins pour les noeuds "),a(133,"b"),o(134,"start"),u(),o(135," et "),a(136,"b"),o(137,"end"),u(),o(138," qui ne peuvent \xeatre visit\xe9s qu'une fois dans toutes les situations."),d(139,"br"),d(140,"br"),o(141," La r\xe9ponse attendue est toujours le nombre de chemins entre "),a(142,"b"),o(143,"start"),u(),o(144," et "),a(145,"b"),o(146,"end"),u(),o(147,". "),a(148,"h3",15),o(149," Solution "),u(),o(150," On peut refaire exactement comme pour la partie 1, en g\xe9rant un dictionnaire des petites caves visit\xe9es avec le nombre de fois qu'on les a visit\xe9es, et pour optimiser les performances, on peut stocker dans un bool\xe9en le fait qu'on ait d\xe9j\xe0 visit\xe9 une petite cave 2 fois durant notre chemin."),d(151,"br"),a(152,"pre",9),a(153,"code"),o(154),u(),u(),u(),u(),u(),u()),2&e&&(K(98),zr("lines = open('input12.txt').read().split('\\n')\nadjacency = dict()\n\nfor line in lines:\n    (a,b) = line.split('-')\n    adjacency.setdefault(a,[]).append(b)\n    adjacency.setdefault(b,[]).append(a)\n\nparcours = [('start',","{","'start':1","}",")]\n\nresultat = 0\nwhile(len(parcours) != 0):\n    currentNode,visited = parcours.pop()\n\n    if(currentNode == 'end'):\n        resultat += 1\n        continue\n    \n    for voisin in adjacency[currentNode]:\n        if(voisin.islower()):\n            if(voisin in visited):\n                if(visited[voisin] >= 1):\n                    continue\n        visitedCopy = visited.copy()\n        visitedCopy[voisin] = visitedCopy.setdefault(voisin,0) + 1\n        parcours.append((voisin,visitedCopy))\nprint(resultat)"),K(56),zr("lines = open('input12.txt').read().split('\\n')\nadjacency = dict()\n\nfor line in lines:\n    (a,b) = line.split('-')\n    adjacency.setdefault(a,[]).append(b)\n    adjacency.setdefault(b,[]).append(a)\n\nparcours = [('start',","{","'start':1","}",",False)]\n\nresultat = 0\nwhile(len(parcours) != 0):\n    currentNode,visited,smallCaveTwoTimes = parcours.pop()\n\n    if(currentNode == 'end'):\n        resultat += 1\n        continue\n    \n    for voisin in adjacency[currentNode]:\n        if(voisin.islower()):\n            if(voisin in visited):\n                if(visited[voisin] >= 1 and (smallCaveTwoTimes or voisin in ['start','end'])):\n                    continue\n                if(visited[voisin] >= 2):\n                    continue\n        visitedCopy = visited.copy()\n        visitedCopy[voisin] = visitedCopy.setdefault(voisin,0) + 1\n        smallCaveTwoTimesCopy = smallCaveTwoTimes or (voisin.islower() and visitedCopy[voisin] > 1)\n        parcours.append((voisin,visitedCopy,smallCaveTwoTimesCopy))\nprint(resultat)"))},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),JK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day13"]],decls:64,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day13_part1"],["href","https://adventofcode.com/2021/day/13"],["id","day13_part1_statement"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/hojadepapel.png",2,"width","300px"],["id","day13_part1_solution"],[1,"line-numbers","language-python"],["id","day13_part2"],["id","day13_part2_statement"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 13) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 13, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a une feuille de papier que l'on peut repr\xe9senter sous la forme d'une grille \xe0 2 dimensions, avec certaines coordonn\xe9es marqu\xe9es par un point de couleur."),d(30,"br"),o(31," On r\xe9alise un ensemble de plis sur cette feuille, fusionnant certaines coordonn\xe9es ensemble (et donc certains points color\xe9s avec d'autres points color\xe9s ou non)."),d(32,"br"),a(33,"div",9),d(34,"img",10),u(),o(35," On veut compter le nombre de cases color\xe9s apr\xe8s le premier pliage."),d(36,"br"),a(37,"h3",11),o(38," Solution "),u(),o(39," Tristement, il n'y a toujours pas de r\xe9elle difficult\xe9 algorithmique, on assiste m\xeame \xe0 une r\xe9gression par rapport aux jours pr\xe9c\xe9dents."),d(40,"br"),o(41," En effet, il suffit d'it\xe9rer sur les coordonn\xe9es du tableau, de calculer la position sym\xe9trique par rapport \xe0 l'axe pour reporter l'aspect color\xe9 lors des pliages."),d(42,"br"),o(43," La position sym\xe9trique se calcule simplement gr\xe2ce \xe0 la distance de la position par rapport \xe0 l'axe de pli."),d(44,"br"),d(45,"br"),a(46,"pre",12),a(47,"code"),o(48,"lines = open('input13.txt').read().split('\\n')\n\nnbLignes = 0\nnbColonnes = 0\n\ngrid = [[0 for _ in range(2000)] for x in range(2000)]\nresultat = 0\nfor line in lines:\n    if(line.startswith('fold')):\n        instruction = line.split(' ')[-1]\n        axis,value = instruction.split('=')\n        axis=axis.strip()\n        if(axis == 'x'):\n            axis = 'y'\n        else:\n            axis = 'x'\n        value = int(value)\n\n        for x in range(nbLignes):\n            for y in range(nbColonnes):\n                if(x > value and axis == 'x' and grid[x][y] == 1):\n                    grid[x][y] = 0\n                    grid[value-(x-value)][y] = 1\n                elif(y > value and axis == 'y' and grid[x][y] == 1):\n                    grid[x][y] = 0\n                    grid[x][value-(y-value)] = 1\n        if(axis == 'x'):\n            nbLignes = value+1\n        else:\n            nbColonnes = value+1\n        \n        for x in range(nbLignes):\n            for y in range(nbColonnes):\n                resultat += grid[x][y]\n        break\n   \n    elif(len(line) != 0):\n        (y,x) = map(int,line.split(','))\n        nbLignes = max(nbLignes, x+1)\n        nbColonnes = max(nbColonnes, y+1)\n\n        grid[x][y] = 1\nprint(resultat)"),u(),u(),a(49,"h2",13),a(50,"a",7),o(51,"Jour 13, partie 2:"),u(),u(),a(52,"h3",14),o(53," Enonc\xe9 "),u(),o(54," Pour la partie 2, on r\xe9alise tous les pliages, et la feuille obtenue nous dessine un ensemble de lettres qui correspondent \xe0 la solution."),d(55,"br"),a(56,"h3",11),o(57," Solution "),u(),o(58," Il suffit donc de faire comme pour la partie 1, mais en ne s'arr\xeatant pas au premier pliage."),d(59,"br"),o(60," Puis, on peut d\xe9finir une fonction qui permet d'afficher la grille sous une forme ASCII, et lire manuellement la r\xe9ponse. "),a(61,"pre",12),a(62,"code"),o(63,"lines = open('input13.txt').read().split('\\n')\n\nnbLignes = 0\nnbColonnes = 0\n\ndef display(board):\n    for x in range(nbLignes):\n        s = ''\n        for y in range(nbColonnes):\n            if(board[x][y] == 1):\n                s+='###'\n            else:\n                s+='   '\n        print(s)\n        print(s)\n    print()\n\ngrid = [[0 for _ in range(2000)] for x in range(2000)]\nfor line in lines:\n    if(line.startswith('fold')):\n        instruction = line.split(' ')[-1]\n        axis,value = instruction.split('=')\n        axis=axis.strip()\n        if(axis == 'x'):\n            axis = 'y'\n        else:\n            axis = 'x'\n        value = int(value)\n\n        for x in range(nbLignes):\n            for y in range(nbColonnes):\n                if(x > value and axis == 'x' and grid[x][y] == 1):\n                    grid[x][y] = 0\n                    grid[value-(x-value)][y] = 1\n                elif(y > value and axis == 'y' and grid[x][y] == 1):\n                    grid[x][y] = 0\n                    grid[x][value-(y-value)] = 1\n        if(axis == 'x'):\n            nbLignes = value+1\n        else:\n            nbColonnes = value+1\n    \n    elif(len(line) != 0):\n        (y,x) = map(int,line.split(','))\n        nbLignes = max(nbLignes, x+1)\n        nbColonnes = max(nbColonnes, y+1)\n\n        grid[x][y] = 1\n\ndisplay(grid)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),KK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day14"]],decls:180,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day14_part1"],["href","https://adventofcode.com/2021/day/14"],["id","day14_part1_statement"],[1,"line-numbers","language-python"],["id","day14_part2"],["id","day14_part2_statement"],["id","day14_part2_solution"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/memoisation_chaine.png",2,"width","600px"],["src","assets/img/trucbordeljenaimarre.png","alt","trucbordeljenaimarre",2,"width","600px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 14) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 14, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a en entr\xe9e une cha\xeene de caract\xe8res et un ensemble de r\xe8gles d\xe9finissant des op\xe9rations d'insertions de caract\xe8res."),d(30,"br"),o(31," Par exemple "),a(32,"pre",9),a(33,"code"),o(34,"AB -> C"),u(),u(),o(35," signifie que si l'on a une paire de caract\xe8res adjacents "),a(36,"b"),o(37,"AB"),u(),o(38,", alors en appliquant cette op\xe9ration d'insertion, on ajoute le caract\xe8re "),a(39,"b"),o(40,"C"),u(),o(41," entre "),a(42,"b"),o(43,"A"),u(),o(44," et "),a(45,"b"),o(46,"B"),u(),o(47,"."),d(48,"br"),d(49,"br"),o(50," A chaque \xe9tape, on applique pour chaque paire de caract\xe8res la r\xe8gle d'insertion associ\xe9e."),d(51,"br"),o(52," Par exemple, si on a l'entr\xe9e suivante: "),a(53,"pre",9),a(54,"code"),o(55,"ABC\nAB->C\nBA->B\nAC->A\nCA->B\nBC->C\nCB->C\nAA->C\nBB->B\nCC->C"),u(),u(),o(56," et que l'on a 2 \xe9tapes, on obtient les \xe9tapes suivantes:\n"),a(57,"pre",9),a(58,"code"),o(59,"ACBCC\nAACCBCCCC\nACAACCCCBCCCCCCCC\nAACBACAACCCCCCCCBCCCCCCCCCCCCCCCC"),u(),u(),o(60," On cherche \xe0 calculer le nombre d'occurences de chaques caract\xe8res (pr\xe9sents au moins une fois) apr\xe8s un certain nombre d'\xe9tapes, et le nombre d'occurences du caract\xe8re le plus pr\xe9sent soustrait au nombre d'occurences du caract\xe8re le moins pr\xe9sent nous donne la r\xe9ponse."),d(61,"br"),d(62,"br"),o(63," Pour l'\xe9tape 1, on a 10 \xe9tapes \xe0 simuler. "),a(64,"h3",8),o(65," Solution "),u(),o(66," Pour la premi\xe8re \xe9tape, on sait que la cha\xeene de caract\xe8re produite restera relativement petite: En effet, sa taille est multipli\xe9e par approximativement "),a(67,"b"),o(68,"2"),u(),o(69," \xe0 chaque \xe9tape, et on aura donc une taille finale de l'ordre de "),a(70,"b"),o(71,"tailleInitiale * pow(2,etapes) = 20 * 2^10 = 20480"),u(),o(72,"."),d(73,"br"),d(74,"br"),o(75," On peut donc simuler de mani\xe8re tr\xe8s na\xefve les diff\xe9rentes \xe9tapes, puis compter les occurences sur la cha\xeene finale pour trouver les caract\xe8res apparaissant le moins de fois et le plus de fois."),d(76,"br"),d(77,"br"),a(78,"pre",9),a(79,"code"),o(80,"from collections import Counter\n\nlines = open('input14.txt').read().split('\\n')\n\ncurrent = ''\nNB_ETAPES = 10\n\ntransitions = dict()\n\nfor line in lines:\n    if('->' in line):\n        (dep,end) = map(str.strip,line.split('->'))\n        transitions[dep] = end\n    elif (len(line) > 0):\n        current = line\n\nfor etape in range(NB_ETAPES):\n    new = current[0]\n    for i in range(0,len(current)-1):\n        new = new + transitions[current[i:i+2]] + current[i+1]\n    current = new\n\ncompte = Counter(current)\nallFrequencies = compte.most_common()\nmaxi = allFrequencies[0][1]\nmini = allFrequencies[-1][1]\nprint(maxi-mini)"),u(),u(),a(81,"h2",10),a(82,"a",7),o(83,"Jour 14, partie 2:"),u(),u(),a(84,"h3",11),o(85," Enonc\xe9 "),u(),o(86," Pour la deuxi\xe8me partie, on veut faire la m\xeame chose, mais \xe0 la place d'avoir 10 \xe9tapes \xe0 simuler, on en a 40."),d(87,"br"),a(88,"h3",12),o(89," Solution "),u(),o(90," Avec 40 \xe9tapes, on a maintenant une cha\xeene finale de taille d'ordre de "),a(91,"b"),o(92,"tailleInitiale * pow(2,etapes) = 20 * 2^40 = 21990232555520 > 1e12"),u(),o(93,"."),d(94,"br"),d(95,"br"),o(96," C'est bien trop gros \xe0 calculer, aussi bien en termes d'op\xe9rations que de m\xe9moire allou\xe9e."),d(97,"br"),o(98," Il faut donc ruser."),d(99,"br"),d(100,"br"),o(101," On peut utiliser la technique de la m\xe9mo\xefsation pour calculer efficacement les occurences de notre cha\xeene finale."),d(102,"br"),o(103," On peut isoler les paires de caract\xe8res pour appliquer des transitions dessus et sur leurs r\xe9sultats."),d(104,"br"),o(105," En effet, ces transitions n'ont pas d'effet de bord sur les caract\xe8res adjacents \xe0 notre pair."),d(106,"br"),o(107," Avec les transitions en exemple de la partie 1, et en r\xe9alisant 2 \xe9tapes, on peut d\xe9couper "),a(108,"b"),o(109,"ACB"),u(),o(110," en: "),a(111,"pre",9),a(112,"code"),o(113,"AC\nAAC\nACAAC"),u(),u(),o(114," et en "),a(115,"pre",9),a(116,"code"),o(117,"CB\nCCB\nCCCCB"),u(),u(),o(118," puis fusionner "),a(119,"b"),o(120,"ACAAC"),u(),o(121," avec "),a(122,"b"),o(123,"CCCCB"),u(),o(124," en "),a(125,"b"),o(126,"ACAACCCCB"),u(),o(127,"."),d(128,"br"),d(129,"br"),o(130," On peut d\xe9couper en paires de caract\xe8res r\xe9cursivement \xe9galement, on aurait pu exploiter les paires de caract\xe8res "),a(131,"b"),o(132,"AA"),u(),o(133," et "),a(134,"b"),o(135,"AC"),u(),o(136," issues de la premi\xe8re \xe9tape appliqu\xe9es \xe0 la paire "),a(137,"b"),o(138,"AC"),u(),o(139,"."),d(140,"br"),d(141,"br"),o(142," Si l'on stocke le dictionnaires d'occurences r\xe9sultant d'un certain nombre d'\xe9tapes appliqu\xe9es \xe0 une paire particuli\xe8re, on peut r\xe9utiliser ce r\xe9sultat si l'on recroise une nouvelle fois cette paire avec le m\xeame nombre d'\xe9tapes \xe0 appliquer."),d(143,"br"),d(144,"br"),o(145," Etant donn\xe9 que l'on peut avoir au maximum "),a(146,"b"),o(147,"26*26"),u(),o(148," (si l'on consid\xe8re l'alphabet entier) paires de caract\xe8res, et que l'on a "),a(149,"b"),o(150,"40"),u(),o(151," \xe9tapes au maximum, on aura donc "),a(152,"b"),o(153,"40*26*26"),u(),o(154," \xe9tats possibles \xe0 explorer, ce qui reste tr\xe8s petit."),d(155,"br"),d(156,"br"),a(157,"div",13),d(158,"img",14),u(),o(159," Sur le sch\xe9ma, on peut voir par exemple que l'\xe9tat "),a(160,"b"),o(161,"(AB,38)"),u(),o(162," est visit\xe9 2 fois, il ne sera donc pas n\xe9cessaire de le calculer la seconde fois qu'il sera visit\xe9."),d(163,"br"),d(164,"br"),o(165," Pour le calcul des occurences, \xe9tant donn\xe9 que sur les appels r\xe9cursifs des paires produites, on a des caract\xe8res en commun, il faut faire attention de ne pas calculer nos occurences par rapport \xe0 la cha\xeene courante de notre \xe9tat, mais par rapport aux caract\xe8res produits lors de la transition appliqu\xe9e \xe0 notre \xe9tat."),d(166,"br"),d(167,"br"),o(168," Le r\xe9sultat des appels r\xe9cursifs issus du d\xe9coupage de notre nouvelle cha\xeene obtenue est fusionn\xe9 avec notre dictionnaire d'occurence pour retourner le r\xe9sultat correspondant \xe0 notre \xe9tat courant."),d(169,"br"),d(170,"br"),o(171," Il faudra simplement faire attention \xe0 compter les fr\xe9quences de la cha\xeene de caract\xe8res initiale."),d(172,"br"),d(173,"br"),a(174,"div",13),d(175,"img",15),u(),o(176," Voici un code qui s'appuie sur cette m\xe9thode (en construction, la flemme et pas eu le temps + ratio): "),a(177,"pre",9),a(178,"code"),o(179,"lines = open('input14.txt').read().split('\\n')\n\ndepart = ''\n\ntransitions = dict()\n\nfor line in lines:\n    if('->' in line):\n        (dep,end) = map(str.strip,line.split('->'))\n        transitions[dep] = end\n    elif (len(line) > 0):\n        depart = line\n\nmemo = dict()\n\ndef bourrin(steps, s):\n\n    if(steps == 0):\n        res = dict()\n        return res\n    if((steps,s) in memo):\n        return memo[(steps,s)]\n    newString = s[0] + transitions[s] + s[1]\n\n    res = dict()\n    res[transitions[s]] = 1\n\n    r2d2 = bourrin(steps-1,newString[0:2])\n    r3d3 = bourrin(steps-1,newString[1:])\n\n    for k in r2d2.keys():\n        if(k not in res):\n            res[k] = 0\n        res[k]+=r2d2[k]\n    \n    for k in r3d3.keys():\n        if(k not in res):\n            res[k] = 0\n        res[k]+=r3d3[k]\n    \n    memo[(steps,s)] = res\n\n    return res\n            \n\nres = dict()\nfor car in range(ord('A'),ord('Z')+1):\n    res[chr(car)] = 0\n\nfor k in depart:\n    res[k] += 1\n\nfor i in range(1,len(depart)):\n    r2d2 = bourrin(40,depart[i-1:i+1])\n    for k in r2d2.keys():\n        res[k] += r2d2[k]\n    \nmaxi = 0\nmini = 626721627831750000000000\nfor i in range(ord('A'),ord('Z')+1):\n    if(res[chr(i)] != 0):\n        maxi = max(maxi, res[chr(i)])\n        mini = min(mini, res[chr(i)])\nprint(maxi-mini)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),ZK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day15"]],decls:130,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day15_part1"],["href","https://adventofcode.com/2021/day/15"],["id","day15_part1_statement"],[1,"line-numbers","language-python"],["id","day15_part2_statement"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/dijkstra.png",2,"width","500px"],["id","day15_part2"],["id","day15_part2_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 15) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 15, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On a une grille 2D repr\xe9sentant le scan d'une caverne, avec des niveaux de risques pour chaque coordonn\xe9e."),d(30,"br"),o(31," On part de la coordonn\xe9e en haut \xe0 gauche de notre scan pour arriver en bas \xe0 droite, et l'on souhaite minimiser la somme des niveaux de risques pris durant notre chemin."),d(32,"br"),d(33,"br"),o(34," Cette somme de niveaux de risques correspond au r\xe9sultat \xe0 envoyer."),d(35,"br"),o(36," Par exemple, si l'on a la grille suivante: "),a(37,"pre",9),a(38,"code"),o(39,"01111\n99991\n11111\n19999\n11111"),u(),u(),o(40," On doit suivre le chemin des coordonn\xe9es avec un risque \xe0 "),a(41,"b"),o(42,"1"),u(),o(43,", ce qui nous donnera un niveau de risque total \xe9gal \xe0 "),a(44,"b"),o(45,"16"),u(),o(46,"."),d(47,"br"),a(48,"h3",10),o(49," Enonc\xe9 "),u(),o(50," La solution se base sur un algorithme proche de celui du "),a(51,"b"),o(52,"BFS"),u(),o(53,"."),d(54,"br"),o(55," Contrairement \xe0 un BFS classique, on a une distance entre les coordonn\xe9es adjacentes qui n'est pas constante."),d(56,"br"),d(57,"br"),o(58," L'algorithme qu'on va donc utiliser est l'algorithme de "),a(59,"b"),o(60,"Dijkstra"),u(),o(61,", qui r\xe9sout des probl\xe8mes de plus courts chemins sur des graphes \xe0 arcs pond\xe9r\xe9s."),d(62,"br"),o(63," Comme pour le BFS, on veut traiter les coordonn\xe9es dans l'ordre croissant de distance, pour s'assurer qu'au moment o\xf9 on traite une coordonn\xe9e particuli\xe8re, celle-ci ne pourra pas \xeatre revisit\xe9e ult\xe9rieurement via un chemin qui donne une distance inf\xe9rieure."),d(64,"br"),o(65," En effet, si c'\xe9tait le cas, on aurait donc visit\xe9 une coordonn\xe9e voisine avec une distance inf\xe9rieure, brisant ainsi la pr\xe9condition pr\xe9c\xe9dente."),d(66,"br"),d(67,"br"),o(68," Ce principe se repose sur une notion courante en algorithmique, appell\xe9e "),a(69,"b"),o(70,"invariant"),u(),o(71,", qui d\xe9finit une condition v\xe9rifi\xe9e \xe0 chaque it\xe9ration d'une sous-partie d'algorithme, et qui ressemble un peu \xe0 un raisonnement par "),a(72,"b"),o(73,"induction"),u(),o(74,"."),d(75,"br"),d(76,"br"),o(77," Pour le "),a(78,"b"),o(79,"BFS"),u(),o(80,", on utilisait une file / queue classique, pour traiter les coordonn\xe9es dans l'ordre de distance croissant."),d(81,"br"),o(82," Pour le "),a(83,"b"),o(84,"Dijkstra"),u(),o(85,", c'est un peu le m\xeame principe, sauf qu'on va utiliser une "),a(86,"b"),o(87,"file \xe0 priorit\xe9"),u(),o(88,", une structure qui permet de r\xe9cup\xe9rer en complexit\xe9 constante l'\xe9l\xe9ment le plus petit / plus gros (en fonction de comment a \xe9t\xe9 d\xe9finie la file de priorit\xe9), et d'ins\xe9rer des \xe9l\xe9ments \xe0 l'int\xe9rieur en complexit\xe9 logarithmique."),d(89,"br"),d(90,"br"),o(91," On traitera simplement les \xe9l\xe9ments dans l'ordre croissant de niveau de risque total."),d(92,"br"),d(93,"br"),a(94,"div",11),d(95,"img",12),u(),o(96," En code, \xe7a donne: "),a(97,"pre",9),a(98,"code"),o(99,"from queue import PriorityQueue\n\nlines = open('input15.txt').read().split('\\n')\n\ngrid = list(map(lambda x:list(map(int,list(x))),lines))\ndijkstra = PriorityQueue()\n\nvisited = [[False for y in range(len(grid[0]))] for x in range(len(grid))]\n\ndijkstra.put((0,0,0))\nits = 0\nwhile not dijkstra.empty():\n    (distance,x,y) = dijkstra.get()\n    if(visited[x][y]):\n        continue\n    visited[x][y] = True\n    if(x == len(grid)-1 and y == len(grid[x])-1):\n        print(distance)\n        break\n\n    for dx,dy in zip([0,0,1,-1],[1,-1,0,0]):\n        x2 = x + dx\n        y2 = y + dy\n        if(x2 >= 0 and y2 >= 0 and x2 < len(grid) and y2 < len(grid[x2]) and not visited[x2][y2]):\n            dijkstra.put((distance+grid[x2][y2],x2,y2))"),u(),u(),a(100,"h2",13),a(101,"a",7),o(102,"Jour 15, partie 2:"),u(),u(),a(103,"h3",10),o(104," Enonc\xe9 "),u(),o(105," Pour la partie 2, on doit r\xe9pliquer notre grille horizontalement et verticalement "),a(106,"b"),o(107,"4"),u(),o(108," autres fois pour obtenir une nouvelle grille."),d(109,"br"),o(110," Les nouvelles grilles ajout\xe9es voient leurs niveaux de risques incr\xe9ment\xe9s par 1 par rapport \xe0 la grille voisine pr\xe9c\xe9dente."),d(111,"br"),o(112," Par exemple, si on avait cette grille: "),a(113,"pre",9),a(114,"code"),o(115,"12\n34"),u(),u(),o(116," apr\xe8s r\xe9plication, on aurait: "),a(117,"pre",9),a(118,"code"),o(119,"12|23|34|45|56\n34|45|56|67|78\n--------------\n23|34|45|56|67\n45|56|67|78|89\n--------------\n34|45|56|67|78\n56|67|78|89|91\n--------------\n45|56|67|78|89\n67|78|89|91|11\n--------------\n56|67|78|89|91\n78|89|91|11|12"),u(),u(),o(120," On doit ensuite, comme pour la partie 1, calculer la somme totale minimale des niveaux de risques pour atteindre la coordon\xe9e en bas \xe0 droite en partant de la coordonn\xe9e en haut \xe0 gauche. "),a(121,"h3",14),o(122," Solution "),u(),o(123," La solution consiste simplement \xe0 dupliquer notre tableau de 2D sur l'axe horizontal et vertical, puis \xe0 utiliser l'algorithme de "),a(124,"b"),o(125,"Dijkstra"),u(),o(126," de la partie 1. "),a(127,"pre",9),a(128,"code"),o(129,"from queue import PriorityQueue\n\nlines = open('input15.txt').read().split('\\n')\n\noriginalGrid = list(map(lambda x:list(map(int,list(x))),lines))\ngrid = [ligne[:] for ligne in originalGrid]\n\nnbLignes = len(grid)\nnbColonnes = len(grid[0])\n\n# Replication horizontale\nfor replication in range(1,5):\n    for lineIdx in range(nbLignes):\n        grid[lineIdx] += [max(1,(element+replication)%10) for element in originalGrid[lineIdx]]\n\n# Replication verticale\nfor replication in range(1,5):\n    grid += [[max(1,(element+replication)%10) for element in colonne] for colonne in grid[0:nbLignes]]\n\ndijkstra = PriorityQueue()\n\nvisited = [[False for y in range(len(grid[0]))] for x in range(len(grid))]\n\ndijkstra.put((0,0,0))\nits = 0\nwhile not dijkstra.empty():\n    (distance,x,y) = dijkstra.get()\n    if(visited[x][y]):\n        continue\n    visited[x][y] = True\n    if(x == len(grid)-1 and y == len(grid[x])-1):\n        print(distance)\n        break\n\n    for dx,dy in zip([0,0,1,-1],[1,-1,0,0]):\n        x2 = x + dx\n        y2 = y + dy\n        if(x2 >= 0 and y2 >= 0 and x2 < len(grid) and y2 < len(grid[x2]) and not visited[x2][y2]):\n            dijkstra.put((distance+grid[x2][y2],x2,y2))"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),QK=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day17"]],decls:103,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day15_part1"],["href","https://adventofcode.com/2021/day/17"],["id","day15_part1_statement"],["id","day15_part1_solution"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/gravity.png",2,"width","600px"],[1,"line-numbers","language-python"],["id","day17_part1"],["id","day17_part1_statement"],["id","day17_part1_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 17) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 17, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," Pour aujourd'hui, on a un elfe qui r\xe9alise un tir parabolique depuis la coordonn\xe9e (0,0), et qui cherche \xe0 atteindre une cible."),d(30,"br"),o(31," Cette cible est repr\xe9sent\xe9e par un rectangle "),a(32,"b"),o(33,"(x1,y1) => (x2,y2)"),u(),o(34,"."),d(35,"br"),o(36," On peut imprimer une vitesse initiale au tir "),a(37,"b"),o(38,"(vx,vy)"),u(),o(39," avec "),a(40,"b"),o(41,"vx"),u(),o(42," et "),a(43,"b"),o(44,"vy"),u(),o(45," des entiers qui peuvent \xeatre n\xe9gatifs ou nuls."),d(46,"br"),o(47," A chaque seconde, le projectile aura ses coordonn\xe9es modifi\xe9es par "),a(48,"b"),o(49,"vx"),u(),o(50," et par "),a(51,"b"),o(52,"vy"),u(),o(53,", et la vitesse horizontale est diminu\xe9e ou augment\xe9e de 1 (d\xfb aux frottements, pour rapprocher sa valeur absolue de 0), et la vitesse verticale est diminu\xe9e de 1."),d(54,"br"),o(55," Si \xe0 un nombre de seconde entier on est \xe0 l'int\xe9rieur du rectangle, on consid\xe8re que l'on a atteint la cible."),d(56,"br"),o(57," Pour la premi\xe8re \xe9tape, on veut atteindre la cible en maximisant la hauteur maximale atteinte par notre projectile durant sa trajectoire. "),a(58,"h3",9),o(59," Solution "),u(),o(60," La solution que j'ai choisie est la solution na\xefve de bruteforce, o\xf9 l'on va simuler pour chaque vitesse possible la trajectoire du projectile, tout en enregistrant les hauteurs maximales atteintes."),d(61,"br"),o(62," Si le projectile atteint la cible, on utilise la hauteur maximale atteinte durant la trajectoire pour \xe9ventuellement mettre \xe0 jour la r\xe9ponse globale."),d(63,"br"),d(64,"br"),a(65,"div",10),d(66,"img",11),u(),o(67," Malgr\xe9 l'aspect na\xeff de cet algorithme, il y avait bien des possibilit\xe9s d'optimisations."),d(68,"br"),d(69,"br"),o(70," Le premier type d'optimisation concerne les conditions d'arr\xeats de la simulation: "),a(71,"ul"),a(72,"li"),o(73,"Si l'on d\xe9passe horizontalement le bord droit du rectangle, m\xeame avec les frottements, on ne peut revenir en arri\xe8re. On peut donc stopper la simulation. "),u(),a(74,"li"),o(75," Si l'on d\xe9passe verticalement le bas du rectangle, on peut de la m\xeame fa\xe7on stopper la simulation. "),u(),u(),o(76," Cela nous permet d'\xe9viter d'avoir un nombre constant d'\xe9tapes \xe0 simuler, et cela r\xe9duit tr\xe8s fortement le co\xfbt de la simulation, notamment dans le cas de vitesse avec des valeurs absolues tr\xe8s grandes, qui vont rapidement d\xe9passer les limites de notre rectangle."),d(77,"br"),d(78,"br"),o(79," Le second type d'optimisation concerne la mani\xe8re avec laquelle on va choisir nos vitesses (quel domaine?): "),a(80,"ul"),a(81,"li"),o(82," Premi\xe8rement, si notre vitesse horizontale est sup\xe9rieure \xe0 la coordonn\xe9e horizontale droite du rectangle, d\xe8s notre premi\xe8re \xe9tape, on est dans notre condition d'arr\xeat \xe9voqu\xe9e plus haut. "),u(),a(83,"li"),o(84," De m\xeame pour la vitesse verticale, si l'on a cette vitesse inf\xe9rieure \xe0 la coordonn\xe9e verticale basse du rectangle. "),u(),u(),o(85," On pouvait \xe9galement faire des optimisations plus pouss\xe9es pour r\xe9duire l'intervalle des vitesses en prenant en compte la progression avec les frottements et optimiser une vitesse en fonction de l'autre vitesse fix\xe9e."),d(86,"br"),o(87," Mais avec les optimisations pr\xe9c\xe9dentes, c'\xe9tait d\xe9j\xe0 largement suffisant pour avoir de bons r\xe9sultats. "),a(88,"pre",12),a(89,"code"),o(90,"y1,y2,x1,x2 = 179,201,-109,-63\n\nresultat = 0\n\nfor initialVy in range(1,202):\n    # On veut maximiser la hauteur, donc pas de vitesse initiale verticale n\xe9gative\n    for initialVx in range(0,110):\n        x , y = 0 , 0\n        currentVx = initialVx\n        currentVy = initialVy\n\n        meilleurHauteur = -1e8\n        valide = False\n        while x >= x1 and y <= y2:\n            meilleurHauteur = max(x, meilleurHauteur)\n\n            if(x>=x1 and x <= x2 and y >= y1 and y <= y2):\n                valide = True\n\n            x += currentVx\n            y += currentVy\n\n            if(currentVy > 0):\n                currentVy -= 1\n            elif(currentVy < 0):\n                currentVy += 1\n            currentVx -= 1\n        if(valide):\n            resultat = max(resultat, meilleurHauteur)\n\nprint(resultat)"),u(),u(),a(91,"h2",13),a(92,"a",7),o(93,"Jour 17, partie 2:"),u(),u(),a(94,"h3",14),o(95," Enonc\xe9 "),u(),o(96," Pour la partie 2, m\xeame principe que pour la partie 1, mais on veut compter le nombre de vitesses uniques qui permettent d'atteindre le rectangle (on ne se soucie plus de la hauteur de notre trajectoire). "),a(97,"h3",15),o(98," Solution "),u(),o(99," Le code change \xe0 peine, on remplace simplement la mise \xe0 jour de la hauteur maximale par l'incr\xe9mentation d'un compteur pour chaque trajectoire valide, et l'on met \xe0 jour le domaine de vitesse verticale si l'on a utilis\xe9 l'optimisation qui ignorait les vitesses n\xe9gatives. "),a(100,"pre",12),a(101,"code"),o(102,"y1,y2,x1,x2 = 179,201,-109,-63\n\nresultat = 0\n\nfor initialVy in range(1,202):\n    for initialVx in range(-110,110):\n        x , y = 0 , 0\n        currentVx = initialVx\n        currentVy = initialVy\n\n        valide = False\n        while x >= x1 and y <= y2:\n\n            if(x>=x1 and x <= x2 and y >= y1 and y <= y2):\n                valide = True\n\n            x += currentVx\n            y += currentVy\n\n            if(currentVy > 0):\n                currentVy -= 1\n            elif(currentVy < 0):\n                currentVy += 1\n            currentVx -= 1\n        if(valide):\n            resultat += 1\n\nprint(resultat)"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),eZ=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day20"]],decls:154,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day20_part1"],["href","https://adventofcode.com/2021/day/20"],["id","day20_part1_statement"],[1,"line-numbers","language-python"],[2,"text-align","center","margin-top","40px","margin-bottom","60px"],["src","assets/img/WrongSimulation.png",2,"width","400px"],["src","assets/img/BonneSimulation.png",2,"width","400px"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 20) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 20, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On souhaite r\xe9aliser un ensemble d'op\xe9rations sur une image binaire (que des pixels allum\xe9s ou \xe9teints)."),d(30,"br"),o(31," Ces op\xe9rations consistent \xe0 transformer chaque pixel de l'image \xe0 partir des valeurs des pixels voisins."),d(32,"br"),o(33," Pour \xeatre plus pr\xe9cis, le pixel "),a(34,"b"),o(35,"(x,y)"),u(),o(36," est influenc\xe9 par les valeurs des pixels "),a(37,"pre",9),a(38,"code"),o(39,"(x-1,y-1)\n(x-1,y)\n(x-1,y+1)\n(x,y-1)\n(x,y)\n(x,y+1)\n(x+1,y-1)\n(x+1,y)\n(x+1,y+1)"),u(),u(),o(40," En prenant la valeur de ces pixels dans cet ordre, et en consid\xe9rant qu'un pixel allum\xe9 correspond \xe0 une valeur de "),a(41,"b"),o(42,"1"),u(),o(43," et un pixel \xe9teint \xe0 une valeur de "),a(44,"b"),o(45,"0"),u(),o(46,", on construit un "),a(47,"b"),o(48,"masque binaire"),u(),a(49,"b"),o(50,"b1b2b3b4b5b6b7b8b9"),u(),o(51,". "),a(52,"pre",9),a(53,"code"),o(54,".#.\n###  => (010111000)2\n..."),u(),u(),o(55," On a \xe9galement en entr\xe9e une cha\xeene de "),a(56,"b"),o(57,"512"),u(),o(58," caract\xe8res. "),d(59,"br"),o(60," En prenant la valeur d\xe9cimale de notre "),a(61,"b"),o(62,"masque binaire"),u(),o(63,", on obtient un indice pour la cha\xeene de "),a(64,"b"),o(65,"512"),u(),o(66," caract\xe8res, qui nous donne la valeur que prendra le pixel apr\xe8s une passe de traitement."),d(67,"br"),d(68,"br"),o(69," Autre point important, l'image a beau avoir des dimensions finies en entr\xe9e, elle est en r\xe9alit\xe9 infinie suivant chaque direction."),d(70,"br"),d(71,"br"),o(72," On veut conna\xeetre le nombre de pixels allum\xe9s apr\xe8s 2 passes du traitement d\xe9fini plus haut. "),a(73,"h3",8),o(74," Solution "),u(),o(75," Si l'on suppose que les masques binaires "),a(76,"b"),o(77,"(000000000)2"),u(),o(78," engendrent des pixels \xe9teints, on pourrait ignorer les zones tr\xe8s \xe9loign\xe9es de notre image de d\xe9part."),d(79,"br"),o(80," C'\xe9tait le cas pour l'exemple donn\xe9 en \xe9nonc\xe9."),d(81,"br"),d(82,"br"),o(83," Malheureusement, dans notre cas, on a ce masque engendrant des pixels allum\xe9s."),d(84,"br"),o(85," On a donc une infinit\xe9 de pixels allum\xe9s apr\xe8s le premier traitement, ce qui semble anormal."),d(86,"br"),o(87," Le second plot-twist est qu'en fait, les zones compl\xe8tement allum\xe9es "),a(88,"b"),o(89,"(111111111)2"),u(),o(90," engendrent des pixels \xe9teints."),d(91,"br"),o(92," Du coup, les zones tr\xe8s \xe9loign\xe9es de notre image de d\xe9part, et donc uniformes, vont simplement alterner entre ces deux \xe9tats."),d(93,"br"),o(94," On a donc pas besoin de les prendre en compte dans notre calcul, vu que l'on a un nombre d'\xe9tapes pair, et donc que des pixels \xe9teints dans les zones tr\xe8s \xe9loign\xe9es."),d(95,"br"),d(96,"br"),o(97," N\xe9anmoins, on ne peut pas se contenter de simuler uniquement sur l'image cropp\xe9e qui nous est donn\xe9e en entr\xe9e, \xe9tant donn\xe9 que certains pixels allum\xe9s / \xe9teints vont se propager sur les r\xe9gions uniformes en dehors de l'image cropp\xe9e d'origine, conduisant \xe0 une perte de leur uniformit\xe9, et donc de leur aspect pr\xe9dictif."),d(98,"br"),d(99,"br"),o(100," Il faut donc d\xe9finir une zone assez grande sur laquelle simuler."),d(101,"br"),o(102," Le probl\xe8me avec \xe7a, c'est que si l'on simule sur une certaine zone, si l'on resimule exactement sur cette zone l'it\xe9ration d'apr\xe8s, certaines cases voisines des bords n'auront pas \xe9t\xe9 simul\xe9es l'it\xe9ration pr\xe9c\xe9dente, et donneront donc des r\xe9sultats invalides."),d(103,"br"),d(104,"br"),o(105," Sur le sch\xe9ma suivant, les zones violettes sont en dehors de la simulation."),d(106,"br"),o(107," En th\xe9orie, si toute la grille est compos\xe9e de "),a(108,"b"),o(109,"#"),u(),o(110," \xe0 la premi\xe8re \xe9tape, on devrait avoir que des "),a(111,"b"),o(112,"#"),u(),o(113," \xe0 la troisi\xe8me \xe9tape."),d(114,"br"),o(115," Mais comme la zone rouge d\xe9pend de la zone violette qui n'est pas calcul\xe9e durant la seconde \xe9tape, on se retrouve avec des erreurs. "),a(116,"div",10),d(117,"img",11),u(),o(118," Il faut donc avoir une zone encore plus large pour la simulation, et r\xe9duire au fur et \xe0 mesure des it\xe9rations cette zone, pour que chaque pixel simul\xe9 lors d'une it\xe9ration n'ait que des voisins qui ont \xe9t\xe9 simul\xe9s l'it\xe9ration pr\xe9c\xe9dente."),d(119,"br"),o(120," La zone verte sera donc parfaitement simul\xe9e pour le sch\xe9ma suivant. "),a(121,"div",10),d(122,"img",12),u(),o(123," Si l'on a "),a(124,"b"),o(125,"N"),u(),o(126," it\xe9rations, la perte d'uniformit\xe9 peut \xeatre propag\xe9e au maximum \xe0 une distance "),a(127,"b"),o(128,"N"),u(),o(129," des bords."),d(130,"br"),o(131," Et comme notre simulation verra sa zone se r\xe9duire de 1 \xe0 chaque \xe9tape, on devra donc partir d'une zone de simulation initiale augment\xe9e de "),a(132,"b"),o(133,"2*N"),u(),o(134,"."),d(135,"br"),d(136,"br"),o(137," En terme d'impl\xe9mentation, on pouvait soit agrandir artificiellement notre image avec un tableau "),a(138,"b"),o(139,"2D"),u(),o(140," et des offsets pour les pixels d\xe9j\xe0 pr\xe9sents."),d(141,"br"),o(142," J'ai choisi une version que je trouvais plus simple: j'ai utilis\xe9 une map pour pouvoir stocker facilement des pixels \xe0 des coordonn\xe9es n\xe9gatives."),d(143,"br"),a(144,"pre",9),a(145,"code"),o(146,"lines = open('input20.txt').read().split('\\n')\n\n# Changer \xe7a \xe0 50 pour la partie 2\nITERATIONS = 2\n\ndecode = lines[0]\n\ngrid = lines[2:]\n\ndeltax = [-1,-1,-1,0,0,0,1,1,1]\ndeltay = [-1,0,1,-1,0,1,-1,0,1]\n\ndictioGrid = dict()\n\nxMin = -ITERATIONS*2\nxMax = (len(grid)-1)+ITERATIONS*2\nyMin = -ITERATIONS*2\nyMax = (len(grid[0])-1)+ITERATIONS*2\n\nfor x in range(len(grid)):\n    for y in range(len(grid[x])):\n        dictioGrid[(x,y)] = grid[x][y]\n\nfor i in range(ITERATIONS):\n    dictioGridCopy = dict()\n    for x in range(xMin, xMax+1):\n        for y in range(yMin, yMax+1):\n            masque = ''\n            \n            for d in range(0,9):\n                x2 = x + deltax[d]\n                y2 = y + deltay[d]\n\n                if(dictioGrid.setdefault((x2,y2)) == '#'):\n                    masque+='1'\n                else:\n                    masque+='0'\n\n            indice = int(masque,2)\n            dictioGridCopy[(x,y)] = decode[indice]\n    if(i + 1 < ITERATIONS):\n        xMin += 1\n        yMin += 1\n        xMax -= 1\n        yMax -= 1\n    dictioGrid = dictioGridCopy.copy()\n\nresultat=0\nfor k in dictioGrid.keys():\n    if(dictioGrid[k] == '#' and k[0] >= xMin and k[0] <= xMax and k[1] >= yMin and k[1] <= yMax):\n        resultat+=1\n\nprint(resultat)"),u(),u(),a(147,"h2",6),a(148,"a",7),o(149,"Jour 20, partie 2:"),u(),u(),o(150," La partie 2 est identique \xe0 la partie 1, il suffit de remplacer le nombre de traitements par "),a(151,"b"),o(152,"50"),u(),o(153,". "),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),tZ=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day21"]],decls:178,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day21_part1"],["href","https://adventofcode.com/2021/day/20"],["id","day21_part1_statement"],["id","day21_part1_solution"],[1,"line-numbers","language-python"],["id","day21_part2"],["href","https://adventofcode.com/2021/day/21"],["id","day21_part2_statement"],["id","day21_part2_solution"],["href","#/articles/Aoc_2021_14"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 21) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 21, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," On veut simuler un jeu entre 2 joueurs dont les r\xe8gles sont les suivantes: "),a(30,"ul"),a(31,"li"),o(32,"On a un plateau circulaire avec "),a(33,"b"),o(34,"10"),u(),o(35," cases num\xe9rot\xe9es de "),a(36,"b"),o(37,"1"),u(),o(38," \xe0 "),a(39,"b"),o(40,"10"),u(),u(),a(41,"li"),o(42,"A chaque tour, un joueur lance "),a(43,"b"),o(44,"3"),u(),o(45," fois un d\xe9"),u(),a(46,"li"),o(47,"Il fait la "),a(48,"b"),o(49,"somme"),u(),o(50," des valeurs de ces jets, et avance son pion de cette somme (en prenant en compte l'aspect circulaire du plateau) "),u(),a(51,"li"),o(52,"La case sur laquelle il atterit en fin de tour lui donne un score \xe0 ajouter \xe0 son score total"),u(),a(53,"li"),o(54,"Si un joueur atteint ou d\xe9passe un certain score, la partie est termin\xe9e, et ce joueur gagne"),u(),u(),d(55,"br"),d(56,"br"),o(57,' Pour la premi\xe8re partie, on a un d\xe9 "d\xe9terministe" \xe0 '),a(58,"b"),o(59,"100 faces"),u(),o(60,", qui \xe0 chaque lancer verra sa valeur obtenue incr\xe9ment\xe9e."),d(61,"br"),o(62," Apr\xe8s un lancer avec une valeur de "),a(63,"b"),o(64,"100"),u(),o(65,", la valeur du prochain jet obtenue est \xe9gale \xe0 "),a(66,"b"),o(67,"1"),u(),o(68,"."),d(69,"br"),o(70," Par exemple, si le d\xe9 a une valeur de "),a(71,"b"),o(72,"99"),u(),o(73," au d\xe9but du tour, alors le joueur r\xe9alisant ses "),a(74,"b"),o(75,"3"),u(),o(76," jets va faire "),a(77,"b"),o(78,"99,100,1"),u(),o(79," et donc avancer son pion de "),a(80,"b"),o(81,"200"),u(),o(82," cases. "),d(83,"br"),d(84,"br"),o(85," A partir de positions initiales des joueurs, d'un score initialis\xe9 \xe0 "),a(86,"b"),o(87,"0"),u(),o(88," et en consid\xe9rant que le premier joueur commence, on veut conna\xeetre le score du perdant \xe0 la fin de la simulation, et le nombre de fois que le d\xe9 a \xe9t\xe9 lanc\xe9."),d(89,"br"),o(90," Le produit de ces deux valeurs nous donne le r\xe9sultat \xe0 renvoyer. "),a(91,"h3",9),o(92," Solution "),u(),o(93," La premi\xe8re partie consiste simplement \xe0 simuler le jeu de mani\xe8re na\xefve. "),d(94,"br"),o(95," Il faut juste bien prendre en compte la circularit\xe9 du plateau et le passage de la valeur "),a(96,"b"),o(97,"100"),u(),o(98," \xe0 la valeur "),a(99,"b"),o(100,"1"),u(),o(101," du d\xe9, ce qui peut \xeatre fait tr\xe8s facilement avec l'op\xe9rateur modulo."),d(102,"br"),d(103,"br"),a(104,"pre",10),a(105,"code"),o(106,"positions=[6,9]\nscores = [0,0]\n\ncurrentPlayer = 0\nnombreJets = 0\nvaleurDe = 1\n\nwhile(max(scores) < 1000):\n    for i in range(3):\n        positions[currentPlayer] += valeurDe \n        positions[currentPlayer] = (positions[currentPlayer]-1)%10 +1\n        \n        valeurDe += 1\n        valeurDe %= 100\n    scores[currentPlayer] += positions[currentPlayer]\n    currentPlayer = not currentPlayer\n    nombreJets += 3\n\nprint(min(scores)*nombreJets)"),u(),u(),a(107,"h2",11),a(108,"a",12),o(109,"Jour 21, partie 2:"),u(),u(),a(110,"h3",13),o(111," Enonc\xe9 "),u(),o(112," Le jeu reste le m\xeame que pour la partie 1, mais \xe0 la place de notre d\xe9 d\xe9terministe \xe0 "),a(113,"b"),o(114,"100 faces"),u(),o(115,", on a un d\xe9 quantique, qui \xe0 chaque lancer cr\xe9e plusieurs univers parral\xe8les, chacun correspondant \xe0 un univers pour lequel la valeur du d\xe9 est diff\xe9rente, et prend une valeur entre "),a(116,"b"),o(117,"1,2 et 3"),u(),o(118,"."),d(119,"br"),d(120,"br"),o(121," Egalement, le score \xe0 atteindre ou \xe0 d\xe9passer est r\xe9duit \xe0 "),a(122,"b"),o(123,"21"),u(),o(124,"."),d(125,"br"),d(126,"br"),o(127," On veut donc simuler tous les univers possibles, et trouver le nombre d'univers dans lesquels le joueur 1 gagne et le nombre d'univers dans lesquels le joueur 2 gagne."),d(128,"br"),o(129," Pour le joueur ayant eu le plus grand nombre d'univers gagnants, on veut conna\xeetre ce nombre."),d(130,"br"),d(131,"br"),a(132,"h3",14),o(133," Solution "),u(),o(134," La solution se base sur la m\xe9thode de la m\xe9mo\xefsation, que l'on avait d\xe9j\xe0 rencontr\xe9e durant le "),a(135,"a",15),o(136,"jour 14 de l'advent of code 2021"),u(),o(137,"."),d(138,"br"),o(139," Pour avoir une id\xe9e plus claire de la technique de m\xe9mo\xefsation, vous pouvez vous baser sur cet article. "),d(140,"br"),d(141,"br"),o(142," En effet, si notre \xe9tat se base sur les positions des joueurs actuelles, leurs scores et l'identifiant du joueur pour lequel c'est le tour de jouer, on a un domaine tr\xe8s r\xe9duit et d\xe9terministe pour les r\xe9sultats \xe0 calculer."),d(143,"br"),d(144,"br"),o(145," Les positions des joueurs sont comprises entre "),a(146,"b"),o(147,"1"),u(),o(148," et "),a(149,"b"),o(150,"10"),u(),o(151," (10 possibilit\xe9s), les scores entre "),a(152,"b"),o(153,"0"),u(),o(154," et "),a(155,"b"),o(156,"30"),u(),o(157," (dans le pire des cas, un joueur a un score de "),a(158,"b"),o(159,"20"),u(),o(160," et tombe sur une case "),a(161,"b"),o(162,"10"),u(),o(163,") et on a uniquement "),a(164,"b"),o(165,"2"),u(),o(166," joueurs."),d(167,"br"),o(168," On a donc une limite haute du nombre d'\xe9tats \xe9gale \xe0 "),a(169,"b"),o(170,"10*10*31*31*2 = 192200"),u(),o(171," qui est un nombre assez faible."),d(172,"br"),d(173,"br"),o(174," Il suffit donc de stocker pour ces diff\xe9rents \xe9tats le nombre d'univers pour lesquels les deux joueurs gagnent. "),a(175,"pre",10),a(176,"code"),o(177,"positions=[6,9]\n\nmemo = dict()\ndef memoisation(positions,scores,currentPlayer):\n\n    state = (tuple(positions),tuple(scores),currentPlayer)\n\n    if(state in memo):\n        return memo[state]\n\n    if(scores[0] >= 21):\n        return (1,0)\n    elif(scores[1] >= 21):\n        return (0,1)\n\n    universWins = [0,0]\n\n    for de1 in range(1,4):\n        for de2 in range(1,4):\n            for de3 in range(1,4):\n                positionsCopy = positions[:]\n                scoresCopy = scores[:]\n                positionsCopy[currentPlayer] = (positionsCopy[currentPlayer] + de1 + de2 + de3 - 1) % 10 + 1\n                scoresCopy[currentPlayer] += positionsCopy[currentPlayer]\n\n                subUniversWins = memoisation(positionsCopy,scoresCopy,(currentPlayer+1)%2)\n                universWins[0]+= subUniversWins[0]\n                universWins[1]+= subUniversWins[1]\n\n    memo[state] = universWins\n    return universWins\n\nscores = [0,0]\nprint(max(memoisation(positions,scores,0)))"),u(),u(),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})(),nZ=(()=>{class t{constructor(){}ngOnInit(){this.isCollapsed=!1,this.isCollapsed2=!1,this.isCollapsed3=!1,this.isCollapsed4=!1,setTimeout(()=>{Prism.highlightAll()},10)}onNavChange(e){setTimeout(()=>{Prism.highlightAll()},10)}goto(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-day23"]],decls:135,vars:0,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"blockArticle"],["id","introduction"],["href","https://adventofcode.com/2021/"],["id","day23part1"],["href","https://adventofcode.com/2021/day/23"],["id","day23part1_statement"],[1,"line-numbers","language-python"],["id","day23part1_solution"]],template:function(e,r){1&e&&(a(0,"section"),a(1,"div",0),a(2,"div",1),a(3,"h1",2),o(4," Advent of code 2021 (jour 23) "),u(),a(5,"div",3),a(6,"h3",4),o(7,"Hello tout le monde!"),u(),o(8," Cet article fait partie d'une longue s\xe9rie, qui est destin\xe9e \xe0 couvrir les solutions et explications des diff\xe9rents jours de l'"),a(9,"a",5),o(10,"advent of code"),u(),o(11,". "),d(12,"br"),d(13,"br"),o(14," J'irai droit \xe0 l'essentiel concernant la description des probl\xe8mes, et ne donnerai donc pas l'int\xe9gralit\xe9 de l'histoire. Si celle-ci vous int\xe9resse, chaque jour sera accompagn\xe9 d'un lien pour acc\xe9der \xe0 l'\xe9nonc\xe9 sur le site officiel. "),d(15,"br"),d(16,"br"),o(17," L'"),a(18,"a",5),o(19,"advent of code"),u(),o(20," est un challenge qui propose quotidiennement un probl\xe8me d'algorithmique, que l'on peut r\xe9soudre de la fa\xe7on qu'on veut (n'importe quel langage / outil ...), la v\xe9rification se faisant en effet uniquement via la soumission d'une valeur / d'une cha\xeene de caract\xe8re r\xe9pondant au probl\xe8me. "),d(21,"br"),d(22,"br"),u(),a(23,"div"),a(24,"h2",6),a(25,"a",7),o(26,"Jour 23, partie 1:"),u(),u(),a(27,"h3",8),o(28," Enonc\xe9 "),u(),o(29," L'objectif du probl\xe8me d'aujourd'hui est, \xe0 partir de la description d'un terrier contenant plusieurs types de bestioles (symbolis\xe9s par les caract\xe8res "),a(30,"b"),o(31,"'A'"),u(),o(32,", "),a(33,"b"),o(34,"'B'"),u(),o(35,", "),a(36,"b"),o(37,"'C'"),u(),o(38," et "),a(39,"b"),o(40,"'D'"),u(),o(41,"), on souhaite r\xe9organiser le terrier de telle sorte que chaque salle contienne uniquement un certain type de bestioles (la premi\xe8re avec les bestioles "),a(42,"b"),o(43,"'A'"),u(),o(44,", la seconde avec les "),a(45,"b"),o(46,"'B'"),u(),o(47," ...)."),d(48,"br"),d(49,"br"),o(50," Le terrier est compos\xe9 de 4 salles avec 2 places, et d'un couloir au dessus reliant chacune des salles."),d(51,"br"),o(52," Par exemple: "),a(53,"pre",9),a(54,"code"),o(55,"#############\n#...........#\n###B#C#B#D###\n  #A#D#C#A#\n  #########"),u(),u(),o(56," Les d\xe9placements des bestioles sont r\xe9gis par un ensemble de r\xe8gles: "),a(57,"ul"),a(58,"li"),o(59,"Quand une bestiole est dans une salle"),u(),a(60,"ul"),a(61,"li"),o(62,"Elle peut se d\xe9placer uniquement vers une position du couloir, qui ne doit boucher aucune autre salle "),u(),u(),a(63,"li"),o(64," Quand une bestiole est dans le couloir "),a(65,"ul"),a(66,"li"),o(67," Elle peut se d\xe9placer uniquement vers sa salle cible (premi\xe8re salle si "),a(68,"b"),o(69,"A"),u(),o(70,", seconde si "),a(71,"b"),o(72,"B"),u(),o(73," etc...) "),u(),a(74,"li"),o(75," Il faut que cette salle cible ne contienne pas une autre bestiole d'un autre type "),u(),u(),u(),a(76,"li"),o(77," Aucune bestiole ne doit traverser une autre bestiole "),u(),u(),o(78," Chaque d\xe9placement est dot\xe9 d'un co\xfbt, d\xe9pendant du type de bestiole: "),a(79,"ul"),a(80,"li"),o(81,"1 pour les "),a(82,"b"),o(83,"A"),u(),u(),a(84,"li"),o(85,"10 pour les "),a(86,"b"),o(87,"B"),u(),u(),a(88,"li"),o(89,"100 pour les "),a(90,"b"),o(91,"C"),u(),u(),a(92,"li"),o(93,"1000 pour les "),a(94,"b"),o(95,"D"),u(),u(),u(),o(96," On veut arranger le terrier pour un co\xfbt total de d\xe9placement minimal. "),a(97,"h3",10),o(98," Solution "),u(),o(99," Etant donn\xe9 que l'on a un parcours de graphe implicite avec des distances pond\xe9r\xe9es (on a des distances diff\xe9rentes entre les diff\xe9rentes positions en fonction du type de bestiole d\xe9plac\xe9), on peut utiliser un algorithme de plus court chemin tr\xe8s classique, "),a(100,"b"),o(101,"Dijkstra"),u(),o(102,", qui avait d\xe9j\xe0 \xe9t\xe9 utilis\xe9 pour le jour 15 de cette ann\xe9e."),d(103,"br"),d(104,"br"),o(105," Le nombre d'\xe9tats th\xe9oriques peut sembler tr\xe8s grand, on pourrait avoir beaucoup de permutations / placements des bestioles sur notre graphe, mais ce nombre d'\xe9tat est naturellement \xe9lagu\xe9 gr\xe2ce aux r\xe8gles donn\xe9es par l'\xe9nonc\xe9, qui restreignent tr\xe8s fortement les d\xe9placements possibles."),d(106,"br"),d(107,"br"),o(108," Les principales difficult\xe9s pour aujourd'hui \xe9taient essentiellement de conna\xeetre l'algorithme de "),a(109,"b"),o(110,"Dijkstra"),u(),o(111,", et d'impl\xe9menter facilement et efficacement les r\xe8gles de transitions entre les \xe9tats."),d(112,"br"),o(113," Plut\xf4t que de se d\xe9placer case par case entre chaque transition d'\xe9tat, puis de recoller les morceaux pour v\xe9rifier que le d\xe9placement \"total\" est valide, on peut avoir entre chaque transition d'\xe9tat le d\xe9placement total, et simplement des v\xe9rifications concernant les cases travers\xe9es (pour v\xe9rifier que l'on ne traverse pas d'autres bestioles / que l'on arrive dans une salle invalide)."),d(114,"br"),d(115,"br"),o(116," Pour \xe9viter de parcourir plusieurs fois le m\xeame \xe9tat \xe0 des distances croissantes, on peut stocker ces \xe9tats dans un set."),d(117,"br"),o(118,' Etant donn\xe9 que python ne permet pas de hash les tableaux, on peut "tricher" en exploitant les features du langage, en convertissant \xe0 la vol\xe9e les tableaux en tuple.'),d(119,"br"),d(120,"br"),o(121," Une autre optimisation facultative, qui ne d\xe9coulait pas naturellement des restrictions de l'\xe9nonc\xe9, \xe9tait de consid\xe9rer que si depuis un \xe9tat, on pouvait faire rentrer une bestiole dans sa salle, autant ignorer toutes les autres transitions."),d(122,"br"),d(123,"br"),o(124," En effet, faire rentrer la bestiole dans sa salle ne pr\xe9sente aucun d\xe9savantage par rapport \xe0 une rentr\xe9e plus tardive, et au contraire, cela peut nous aider en lib\xe9rant des places au niveau du couloir."),d(125,"br"),a(126,"pre",9),a(127,"code"),o(128,"from heapq import *\nlines = open('input23.txt').read().split('\\n')\n\nlines = list(map(list,lines))\ndijkstra = []\n\nheappush(dijkstra,(0,lines))\n\nvisited = set()\n\ndx = [0,0,1,-1]\ndy = [1,-1,0,0]\n\ndef tryAddNewState(x1, y1, x2, y2, current, dijkstra):\n    global visited\n    if(currentState[x2][y2] == '.'):\n        currentState[x1][y1],currentState[x2][y2] = currentState[x2][y2],currentState[x1][y1]\n        \n        hash = tuple(map(tuple,currentState))\n        currentState[x1][y1],currentState[x2][y2] = currentState[x2][y2],currentState[x1][y1]\n        \n        if(hash in visited):\n            return\n        newState = list(map(list,hash))\n        \n        manhatan = abs(x2-x1)+abs(y2-y1)\n\n        heappush(dijkstra,(d+manhatan*10**(ord(currentState[x1][y1])-ord('A')),newState))\n\nwhile(len(dijkstra) != 0):\n    \n    (d,currentState) = heappop(dijkstra)\n\n    hash = tuple(map(tuple,currentState))\n    if(hash in visited):\n        continue\n    visited.add(hash)\n\n    found = True\n    for i in range(4):\n        if(not found):\n            break\n        for j in range(2,len(currentState)-1):\n            if(not found):\n                break\n            if(currentState[j][i*2+3] != chr(i+ord('A'))):\n                found = False\n\n    if(found):\n        print(d)\n        break\n\n    earlyBreak = False\n\n    for x1 in range(len(currentState)):\n        if(earlyBreak):\n            break\n        for y1 in range(len(currentState[x1])):\n            if(earlyBreak):\n                break\n            if(str.isalpha(currentState[x1][y1])):\n                # Cas couloir\n                if(x1 == 1):\n                    targetCol =(ord(currentState[x1][y1])-ord('A'))*2+3 \n                    \n                    y2 = targetCol\n                    valid = True\n                    if(targetCol > y1):\n                        for y3 in range(y1+1,targetCol+1):\n                            if(currentState[x1][y3] != '.' or not valid):\n                                valid = False\n                                break\n                    else:\n                        for y3 in range(targetCol, y1):\n                            if(currentState[x1][y3] != '.' or not valid):\n                                valid = False\n                                break\n\n                    for x2 in range(2,len(currentState)-1):\n                        if(not valid):\n                            break\n                        if(currentState[x2][targetCol] != '.' and currentState[x2][targetCol] != currentState[x1][y1]):\n                            valid = False\n                            break\n\n                    if(not valid):\n                        continue\n\n                    for x2 in range(2,len(currentState)-1):\n                        if(currentState[x2+1][targetCol] == '.'):\n                            continue\n                        tryAddNewState(x1,y1,x2,y2,currentState,dijkstra)\n                        # Optimisation custom\n                        earlyBreak = True\n                        break\n                elif(x1 >= 2 ):\n                    valid = True\n                    for x2 in range(2,x1):\n                        if(not valid):\n                            break\n                        if(currentState[x2][y1] != '.'):\n                            valid = False\n                            break\n                    if(not valid):\n                        continue\n\n                    x2 = 1                    \n                    y2 = y1 - 1\n                    while(y2 >= 0 and currentState[x2][y2] == '.'):\n                        if(currentState[x2+1][y2] == '#'):\n                            tryAddNewState(x1,y1,x2,y2,currentState,dijkstra)\n                        y2 -= 1\n                    \n                    y2 = y1 + 1\n                    while(y2 < len(currentState[x2]) and currentState[x2][y2] == '.'):\n                        if(currentState[x2+1][y2] == '#'):\n                            tryAddNewState(x1,y1,x2,y2,currentState,dijkstra)\n                        y2 += 1"),u(),u(),a(129,"h2",6),a(130,"a",7),o(131,"Jour 23, partie 2:"),u(),u(),o(132," La partie 2 est identique, on change juste l\xe9g\xe8rement le terrier."),d(133,"br"),o(134," Notre code de la partie 1 scale sans probl\xe8me. "),u(),u(),u(),u())},styles:["[_nghost-%COMP%]     fa-icon{float:left;top:-36px;left:-16px;position:relative;color:#d4d40f;font-size:47px}@media only screen and (min-width: 1400px){.sommaire[_ngcontent-%COMP%]{position:fixed;left:30px;background-color:#e7f7f7;border:solid 1px #00000054;padding:5px 20px 0 0}.sommaire[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}code[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 1399px){.sommaire[_ngcontent-%COMP%]{display:none}code[_ngcontent-%COMP%]{font-size:13px}}.proTip[_ngcontent-%COMP%]{background-color:#f6fbab;border:solid 1px #e6ce57;margin:15px;padding-right:5px}img[_ngcontent-%COMP%]{max-width:90%!important}"]}),t})();function rZ(t,n){if(1&t&&(a(0,"div"),a(1,"a",5),o(2),u(),u()),2&t){const e=n.$implicit;K(1),te("routerLink",e.route),K(1),Oo(" ",e.title," ")}}let iZ=(()=>{class t{constructor(e){e.params.subscribe(r=>{this.ngOnInit()})}ngOnInit(){this.posts=[{route:"/articles/Aoc_2021_23",title:"Jour 23 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_21",title:"Jour 21 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_20",title:"Jour 20 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_17",title:"Jour 17 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_15",title:"Jour 15 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_14",title:"Jour 14 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_13",title:"Jour 13 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_12",title:"Jour 12 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_11",title:"Jour 11 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_10",title:"Jour 10 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_9",title:"Jour 9 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_8",title:"Jour 8 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_7",title:"Jour 7 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_6",title:"Jour 6 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_5",title:"Jour 5 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_4",title:"Jour 4 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_3",title:"Jour 3 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_2",title:"Jour 2 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_1",title:"Jour 1 de l'Advent of Code 2021"},{route:"/articles/Aoc_2020_23",title:"Jour 23 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_22",title:"Jour 22 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_21",title:"Jour 21 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_20",title:"Jour 20 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_19",title:"Jour 19 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_18",title:"Jour 18 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_17",title:"Jour 17 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_16",title:"Jour 16 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_15",title:"Jour 15 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_14",title:"Jour 14 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_13",title:"Jour 13 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_12",title:"Jour 12 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_11",title:"Jour 11 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_10",title:"Jour 10 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_9",title:"Jour 9 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_8",title:"Jour 8 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_7",title:"Jour 7 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_6",title:"Jour 6 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_5",title:"Jour 5 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_4",title:"Jour 4 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_3",title:"Jour 3 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_1_2",title:"Jours 1 et 2 de l'Advent of Code 2020"},{route:"/articles/IsogradSeptembre",title:"Concours Isograd Septembre 2020"},{route:"/articles/ProgComp",title:"Programmation comp\xe9titive"}]}}return t.\u0275fac=function(e){return new(e||t)(z(Gu))},t.\u0275cmp=_e({type:t,selectors:[["app-home-algorithm"]],decls:8,vars:1,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[2,"padding","20px"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(a(0,"div"),a(1,"section"),a(2,"div",0),a(3,"div",1),a(4,"h1",2),o(5," Algorithmique "),u(),a(6,"div",3),pe(7,rZ,3,2,"div",4),u(),u(),u(),u(),u()),2&e&&(K(7),te("ngForOf",r.posts))},directives:[Zr,$u],styles:["object[_ngcontent-%COMP%]{transition:all 1s ease-in;transform-box:fill-box;transform-origin:50% 50%}.rowMenu[_ngcontent-%COMP%]{display:flex}.blockMenu[_ngcontent-%COMP%]{width:200px;height:200px;text-align:center;font-size:25px;font-family:existencestencil_light;font-weight:800;background-color:#0001;color:#2f4a2f;border:solid 1px #00000044;margin:20px}"]}),t})();function oZ(t,n){if(1&t&&(a(0,"div"),a(1,"a",4),o(2),u(),u()),2&t){const e=n.$implicit;K(1),te("routerLink",e.route),K(1),Oo(" ",e.title," ")}}let sZ=(()=>{class t{constructor(){}ngOnInit(){this.posts=[{route:"/articles/WhereIsGuido",title:"Where is Guido"},{route:"/articles/ProgComp",title:"Programmation comp\xe9titive"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-home-optimization"]],decls:7,vars:1,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(a(0,"div"),a(1,"section"),a(2,"div",0),a(3,"div",1),a(4,"h1",2),o(5," Optimisation "),u(),pe(6,oZ,3,2,"div",3),u(),u(),u(),u()),2&e&&(K(6),te("ngForOf",r.posts))},directives:[Zr,$u],styles:["object[_ngcontent-%COMP%]{transition:all 1s ease-in;transform-box:fill-box;transform-origin:50% 50%}.rowMenu[_ngcontent-%COMP%]{display:flex}.blockMenu[_ngcontent-%COMP%]{width:200px;height:200px;text-align:center;font-size:25px;font-family:existencestencil_light;font-weight:800;background-color:#0001;color:#2f4a2f;border:solid 1px #00000044;margin:20px}"]}),t})();function aZ(t,n){if(1&t&&(a(0,"div"),a(1,"a",13),o(2),u(),u()),2&t){const e=n.$implicit;K(1),te("routerLink",e.route),K(1),Oo(" ",e.title," ")}}const uZ=[{path:"articles/WhereIsGuido",component:PL},{path:"articles/ProgComp",component:RL},{path:"articles/IsogradSeptembre",component:sG},{path:"articles/Aoc_2020_1_2",component:aG},{path:"articles/Aoc_2020_3",component:uG},{path:"articles/Aoc_2020_4",component:lG},{path:"articles/Aoc_2020_5",component:cG},{path:"articles/Aoc_2020_6",component:dG},{path:"articles/Aoc_2020_7",component:hG},{path:"articles/Aoc_2020_8",component:fG},{path:"articles/Aoc_2020_9",component:mG},{path:"articles/Aoc_2020_10",component:gG},{path:"articles/Aoc_2020_11",component:vG},{path:"articles/Aoc_2020_12",component:EG},{path:"articles/Aoc_2020_13",component:_G},{path:"articles/Aoc_2020_14",component:bG},{path:"articles/Aoc_2020_15",component:yG},{path:"articles/Aoc_2020_16",component:xG},{path:"articles/Aoc_2020_17",component:CG},{path:"articles/Aoc_2020_18",component:SG},{path:"articles/Aoc_2020_19",component:DG},{path:"articles/Aoc_2020_20",component:TG},{path:"articles/Aoc_2020_21",component:AG},{path:"articles/Aoc_2020_22",component:MG},{path:"articles/Aoc_2020_23",component:NG},{path:"articles/Aoc_2021_1",component:BK},{path:"articles/Aoc_2021_2",component:qK},{path:"articles/Aoc_2021_3",component:UK},{path:"articles/Aoc_2021_4",component:HK},{path:"articles/Aoc_2021_5",component:zK},{path:"articles/Aoc_2021_6",component:VK},{path:"articles/Aoc_2021_7",component:GK},{path:"articles/Aoc_2021_8",component:jK},{path:"articles/Aoc_2021_9",component:$K},{path:"articles/Aoc_2021_10",component:YK},{path:"articles/Aoc_2021_11",component:WK},{path:"articles/Aoc_2021_12",component:XK},{path:"articles/Aoc_2021_13",component:JK},{path:"articles/Aoc_2021_14",component:KK},{path:"articles/Aoc_2021_15",component:ZK},{path:"articles/Aoc_2021_17",component:QK},{path:"articles/Aoc_2021_20",component:eZ},{path:"articles/Aoc_2021_21",component:tZ},{path:"articles/Aoc_2021_23",component:nZ},{path:"optimization",component:sZ},{path:"algorithm",component:iZ},{path:"",component:(()=>{class t{constructor(e,r){this.router=e,this.ngZone=r,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.posts=[{route:"/articles/Aoc_2021_23",title:"Jour 23 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_21",title:"Jour 21 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_20",title:"Jour 20 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_17",title:"Jour 17 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_15",title:"Jour 15 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_14",title:"Jour 14 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_13",title:"Jour 13 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_12",title:"Jour 12 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_11",title:"Jour 11 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_10",title:"Jour 10 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_9",title:"Jour 9 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_8",title:"Jour 8 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_7",title:"Jour 7 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_6",title:"Jour 6 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_5",title:"Jour 5 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_4",title:"Jour 4 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_3",title:"Jour 3 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_2",title:"Jour 2 de l'Advent of Code 2021"},{route:"/articles/Aoc_2021_1",title:"Jour 1 de l'Advent of Code 2021"},{route:"/articles/Aoc_2020_23",title:"Jour 23 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_22",title:"Jour 22 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_21",title:"Jour 21 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_20",title:"Jour 20 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_19",title:"Jour 19 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_18",title:"Jour 18 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_17",title:"Jour 17 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_16",title:"Jour 16 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_15",title:"Jour 15 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_14",title:"Jour 14 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_13",title:"Jour 13 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_12",title:"Jour 12 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_11",title:"Jour 11 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_10",title:"Jour 10 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_9",title:"Jour 9 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_8",title:"Jour 8 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_7",title:"Jour 7 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_6",title:"Jour 6 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_5",title:"Jour 5 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_4",title:"Jour 4 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_3",title:"Jour 3 de l'Advent of Code 2020"},{route:"/articles/Aoc_2020_1_2",title:"Jours 1 et 2 de l'Advent of Code 2020"},{route:"articles/IsogradSeptembre",title:"Concours Isograd Septembre 2020"},{route:"articles/ProgComp",title:"Programmation comp\xe9titive"},{route:"articles/WhereIsGuido",title:"Where is Guido"}];var e=document.getElementById("algorithms"),r=document.getElementById("optimization");e.addEventListener("load",()=>{$(e.contentDocument.documentElement).click(()=>{this.ngZone.run(()=>{this.router.navigate(["/algorithm"])})})},!1),r.addEventListener("load",()=>{$(r.contentDocument.documentElement).click(()=>{this.ngZone.run(()=>{this.router.navigate(["/optimization"])})})},!1)}}return t.\u0275fac=function(e){return new(e||t)(z(zi),z(en))},t.\u0275cmp=_e({type:t,selectors:[["app-home"]],decls:18,vars:1,consts:[[1,"wrapperArticle"],[1,"article"],[1,"post-title"],[1,"rowMenu"],["routerLink","optimization",1,"blockMenu"],["type","image/svg+xml","data",J2`assets/img/optimization.svg`,"id","optimization",2,"width","150px"],["src","assets/img/optimization.svg"],["routerLink","algorithm",1,"blockMenu"],["type","image/svg+xml","data",J2`assets/img/algorithms.svg`,"id","algorithms",2,"width","150px"],["src","assets/img/algorithms.svg"],[2,"padding","20px"],[2,"font-size","25px"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(a(0,"div"),a(1,"section"),a(2,"div",0),a(3,"div",1),d(4,"h1",2),a(5,"div",3),a(6,"div",4),a(7,"object",5),d(8,"img",6),u(),o(9," Optimisation "),u(),a(10,"div",7),a(11,"object",8),d(12,"img",9),u(),o(13," Algorithmes "),u(),u(),a(14,"div",10),a(15,"h1",11),o(16,"Derniers articles"),u(),pe(17,aZ,3,2,"div",12),u(),u(),u(),u(),u()),2&e&&(K(17),te("ngForOf",r.posts))},directives:[Af,Zr,$u],styles:["object[_ngcontent-%COMP%]{transition:all 1s ease-in;transform-box:fill-box;transform-origin:50% 50%}.rowMenu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.blockMenu[_ngcontent-%COMP%]{width:200px;height:200px;text-align:center;font-size:25px;font-family:existencestencil_light;font-weight:800;background-color:#0001;color:#2f4a2f;border:solid 1px #00000044;margin:20px;cursor:pointer}"]}),t})()}];let lZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Gt({imports:[[iy.forRoot(uZ,{useHash:!0})],iy]}),t})(),cZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_e({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"bigWrapper"],[1,"banniere"],["routerLink",""],[1,"container","mt-2"],[1,"footer"]],template:function(e,r){1&e&&(a(0,"div",0),a(1,"div",1),a(2,"a",2),o(3," A Cloud Of Tea "),u(),u(),d(4,"div",3),d(5,"router-outlet"),u(),d(6,"div",4))},directives:[$u,vv],styles:[".navbar[_ngcontent-%COMP%]{height:60px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffa86a;font-size:22px}.bigWrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 30px)}.footer[_ngcontent-%COMP%]{height:30px}"]}),t})();var tte={faAddressBook:{prefix:"far",iconName:"address-book",icon:[448,512,[],"f2b9","M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-68 304H48V48h320v416zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z"]},faAddressCard:{prefix:"far",iconName:"address-card",icon:[576,512,[],"f2bb","M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 400H48V80h480v352zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z"]},faAngry:{prefix:"far",iconName:"angry",icon:[496,512,[],"f556","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm0-144c-33.6 0-65.2 14.8-86.8 40.6-8.5 10.2-7.1 25.3 3.1 33.8s25.3 7.2 33.8-3c24.8-29.7 75-29.7 99.8 0 8.1 9.7 23.2 11.9 33.8 3 10.2-8.5 11.5-23.6 3.1-33.8-21.6-25.8-53.2-40.6-86.8-40.6zm-48-72c10.3 0 19.9-6.7 23-17.1 3.8-12.7-3.4-26.1-16.1-29.9l-80-24c-12.8-3.9-26.1 3.4-29.9 16.1-3.8 12.7 3.4 26.1 16.1 29.9l28.2 8.5c-3.1 4.9-5.3 10.4-5.3 16.6 0 17.7 14.3 32 32 32s32-14.4 32-32.1zm199-54.9c-3.8-12.7-17.1-19.9-29.9-16.1l-80 24c-12.7 3.8-19.9 17.2-16.1 29.9 3.1 10.4 12.7 17.1 23 17.1 0 17.7 14.3 32 32 32s32-14.3 32-32c0-6.2-2.2-11.7-5.3-16.6l28.2-8.5c12.7-3.7 19.9-17.1 16.1-29.8z"]},faArrowAltCircleDown:{prefix:"far",iconName:"arrow-alt-circle-down",icon:[512,512,[],"f358","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm-32-316v116h-67c-10.7 0-16 12.9-8.5 20.5l99 99c4.7 4.7 12.3 4.7 17 0l99-99c7.6-7.6 2.2-20.5-8.5-20.5h-67V140c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12z"]},faArrowAltCircleLeft:{prefix:"far",iconName:"arrow-alt-circle-left",icon:[512,512,[],"f359","M8 256c0 137 111 248 248 248s248-111 248-248S393 8 256 8 8 119 8 256zm448 0c0 110.5-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56s200 89.5 200 200zm-72-20v40c0 6.6-5.4 12-12 12H256v67c0 10.7-12.9 16-20.5 8.5l-99-99c-4.7-4.7-4.7-12.3 0-17l99-99c7.6-7.6 20.5-2.2 20.5 8.5v67h116c6.6 0 12 5.4 12 12z"]},faArrowAltCircleRight:{prefix:"far",iconName:"arrow-alt-circle-right",icon:[512,512,[],"f35a","M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm72 20v-40c0-6.6 5.4-12 12-12h116v-67c0-10.7 12.9-16 20.5-8.5l99 99c4.7 4.7 4.7 12.3 0 17l-99 99c-7.6 7.6-20.5 2.2-20.5-8.5v-67H140c-6.6 0-12-5.4-12-12z"]},faArrowAltCircleUp:{prefix:"far",iconName:"arrow-alt-circle-up",icon:[512,512,[],"f35b","M256 504c137 0 248-111 248-248S393 8 256 8 8 119 8 256s111 248 248 248zm0-448c110.5 0 200 89.5 200 200s-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56zm20 328h-40c-6.6 0-12-5.4-12-12V256h-67c-10.7 0-16-12.9-8.5-20.5l99-99c4.7-4.7 12.3-4.7 17 0l99 99c7.6 7.6 2.2 20.5-8.5 20.5h-67v116c0 6.6-5.4 12-12 12z"]},faBell:{prefix:"far",iconName:"bell",icon:[448,512,[],"f0f3","M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"]},faBellSlash:{prefix:"far",iconName:"bell-slash",icon:[640,512,[],"f1f6","M633.99 471.02L36 3.51C29.1-2.01 19.03-.9 13.51 6l-10 12.49C-2.02 25.39-.9 35.46 6 40.98l598 467.51c6.9 5.52 16.96 4.4 22.49-2.49l10-12.49c5.52-6.9 4.41-16.97-2.5-22.49zM163.53 368c16.71-22.03 34.48-55.8 41.4-110.58l-45.47-35.55c-3.27 90.73-36.47 120.68-54.84 140.42-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h279.66l-61.4-48H163.53zM320 96c61.86 0 112 50.14 112 112 0 .2-.06.38-.06.58.02 16.84 1.16 31.77 2.79 45.73l59.53 46.54c-8.31-22.13-14.34-51.49-14.34-92.85 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-26.02 5.41-49.45 16.94-69.13 32.72l38.17 29.84C275 103.18 296.65 96 320 96zm0 416c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"]},faBookmark:{prefix:"far",iconName:"bookmark",icon:[384,512,[],"f02e","M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"]},faBuilding:{prefix:"far",iconName:"building",icon:[448,512,[],"f1ad","M128 148v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zm140 12h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm-128 96h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm128 0h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm-76 84v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm76 12h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm180 124v36H0v-36c0-6.6 5.4-12 12-12h19.5V24c0-13.3 10.7-24 24-24h337c13.3 0 24 10.7 24 24v440H436c6.6 0 12 5.4 12 12zM79.5 463H192v-67c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v67h112.5V49L80 48l-.5 415z"]},faCalendar:{prefix:"far",iconName:"calendar",icon:[448,512,[],"f133","M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"]},faCalendarAlt:{prefix:"far",iconName:"calendar-alt",icon:[448,512,[],"f073","M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCalendarCheck:{prefix:"far",iconName:"calendar-check",icon:[448,512,[],"f274","M400 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V160h352v298a6 6 0 0 1-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"]},faCalendarMinus:{prefix:"far",iconName:"calendar-minus",icon:[448,512,[],"f272","M124 328c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v24c0 6.6-5.4 12-12 12H124zm324-216v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCalendarPlus:{prefix:"far",iconName:"calendar-plus",icon:[448,512,[],"f271","M336 292v24c0 6.6-5.4 12-12 12h-76v76c0 6.6-5.4 12-12 12h-24c-6.6 0-12-5.4-12-12v-76h-76c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h76v-76c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v76h76c6.6 0 12 5.4 12 12zm112-180v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCalendarTimes:{prefix:"far",iconName:"calendar-times",icon:[448,512,[],"f273","M311.7 374.7l-17 17c-4.7 4.7-12.3 4.7-17 0L224 337.9l-53.7 53.7c-4.7 4.7-12.3 4.7-17 0l-17-17c-4.7-4.7-4.7-12.3 0-17l53.7-53.7-53.7-53.7c-4.7-4.7-4.7-12.3 0-17l17-17c4.7-4.7 12.3-4.7 17 0l53.7 53.7 53.7-53.7c4.7-4.7 12.3-4.7 17 0l17 17c4.7 4.7 4.7 12.3 0 17L257.9 304l53.7 53.7c4.8 4.7 4.8 12.3.1 17zM448 112v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCaretSquareDown:{prefix:"far",iconName:"caret-square-down",icon:[448,512,[],"f150","M125.1 208h197.8c10.7 0 16.1 13 8.5 20.5l-98.9 98.3c-4.7 4.7-12.2 4.7-16.9 0l-98.9-98.3c-7.7-7.5-2.3-20.5 8.4-20.5zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCaretSquareLeft:{prefix:"far",iconName:"caret-square-left",icon:[448,512,[],"f191","M272 157.1v197.8c0 10.7-13 16.1-20.5 8.5l-98.3-98.9c-4.7-4.7-4.7-12.2 0-16.9l98.3-98.9c7.5-7.7 20.5-2.3 20.5 8.4zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCaretSquareRight:{prefix:"far",iconName:"caret-square-right",icon:[448,512,[],"f152","M176 354.9V157.1c0-10.7 13-16.1 20.5-8.5l98.3 98.9c4.7 4.7 4.7 12.2 0 16.9l-98.3 98.9c-7.5 7.7-20.5 2.3-20.5-8.4zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faCaretSquareUp:{prefix:"far",iconName:"caret-square-up",icon:[448,512,[],"f151","M322.9 304H125.1c-10.7 0-16.1-13-8.5-20.5l98.9-98.3c4.7-4.7 12.2-4.7 16.9 0l98.9 98.3c7.7 7.5 2.3 20.5-8.4 20.5zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faChartBar:{prefix:"far",iconName:"chart-bar",icon:[512,512,[],"f080","M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"]},faCheckCircle:{prefix:"far",iconName:"check-circle",icon:[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"]},faCheckSquare:{prefix:"far",iconName:"check-square",icon:[448,512,[],"f14a","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"]},faCircle:{prefix:"far",iconName:"circle",icon:[512,512,[],"f111","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"]},faClipboard:{prefix:"far",iconName:"clipboard",icon:[384,512,[],"f328","M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"]},faClock:{prefix:"far",iconName:"clock",icon:[512,512,[],"f017","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"]},faClone:{prefix:"far",iconName:"clone",icon:[512,512,[],"f24d","M464 0H144c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48v-48h48c26.51 0 48-21.49 48-48V48c0-26.51-21.49-48-48-48zM362 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h42v224c0 26.51 21.49 48 48 48h224v42a6 6 0 0 1-6 6zm96-96H150a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h308a6 6 0 0 1 6 6v308a6 6 0 0 1-6 6z"]},faClosedCaptioning:{prefix:"far",iconName:"closed-captioning",icon:[512,512,[],"f20a","M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 336H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h404c3.3 0 6 2.7 6 6v276c0 3.3-2.7 6-6 6zm-211.1-85.7c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.8-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7l-17.5 30.5c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6 2.8-2.5 7.1-2.1 9.2.9l19.6 27.7zm190.4 0c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.9-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7L420 220.2c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6 2.8-2.5 7.1-2.1 9.2.9l19.6 27.7z"]},faComment:{prefix:"far",iconName:"comment",icon:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"]},faCommentAlt:{prefix:"far",iconName:"comment-alt",icon:[512,512,[],"f27a","M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288z"]},faCommentDots:{prefix:"far",iconName:"comment-dots",icon:[512,512,[],"f4ad","M144 208c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zM256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"]},faComments:{prefix:"far",iconName:"comments",icon:[576,512,[],"f086","M532 386.2c27.5-27.1 44-61.1 44-98.2 0-80-76.5-146.1-176.2-157.9C368.3 72.5 294.3 32 208 32 93.1 32 0 103.6 0 192c0 37 16.5 71 44 98.2-15.3 30.7-37.3 54.5-37.7 54.9-6.3 6.7-8.1 16.5-4.4 25 3.6 8.5 12 14 21.2 14 53.5 0 96.7-20.2 125.2-38.8 9.2 2.1 18.7 3.7 28.4 4.9C208.1 407.6 281.8 448 368 448c20.8 0 40.8-2.4 59.8-6.8C456.3 459.7 499.4 480 553 480c9.2 0 17.5-5.5 21.2-14 3.6-8.5 1.9-18.3-4.4-25-.4-.3-22.5-24.1-37.8-54.8zm-392.8-92.3L122.1 305c-14.1 9.1-28.5 16.3-43.1 21.4 2.7-4.7 5.4-9.7 8-14.8l15.5-31.1L77.7 256C64.2 242.6 48 220.7 48 192c0-60.7 73.3-112 160-112s160 51.3 160 112-73.3 112-160 112c-16.5 0-33-1.9-49-5.6l-19.8-4.5zM498.3 352l-24.7 24.4 15.5 31.1c2.6 5.1 5.3 10.1 8 14.8-14.6-5.1-29-12.3-43.1-21.4l-17.1-11.1-19.9 4.6c-16 3.7-32.5 5.6-49 5.6-54 0-102.2-20.1-131.3-49.7C338 339.5 416 272.9 416 192c0-3.4-.4-6.7-.7-10C479.7 196.5 528 238.8 528 288c0 28.7-16.2 50.6-29.7 64z"]},faCompass:{prefix:"far",iconName:"compass",icon:[496,512,[],"f14e","M347.94 129.86L203.6 195.83a31.938 31.938 0 0 0-15.77 15.77l-65.97 144.34c-7.61 16.65 9.54 33.81 26.2 26.2l144.34-65.97a31.938 31.938 0 0 0 15.77-15.77l65.97-144.34c7.61-16.66-9.54-33.81-26.2-26.2zm-77.36 148.72c-12.47 12.47-32.69 12.47-45.16 0-12.47-12.47-12.47-32.69 0-45.16 12.47-12.47 32.69-12.47 45.16 0 12.47 12.47 12.47 32.69 0 45.16zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 448c-110.28 0-200-89.72-200-200S137.72 56 248 56s200 89.72 200 200-89.72 200-200 200z"]},faCopy:{prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"]},faCopyright:{prefix:"far",iconName:"copyright",icon:[512,512,[],"f1f9","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532 0-200-89.451-200-200 0-110.531 89.451-200 200-200 110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43 0-140.484-61.425-140.484-141.567 0-79.152 60.275-139.401 139.762-139.401 55.531 0 88.738 26.62 97.593 34.779a11.965 11.965 0 0 1 1.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303 0-77.916 35.33-77.916 80.082 0 41.589 26.888 83.692 78.277 83.692 32.657 0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947 0 0 1-1.152 15.518z"]},faCreditCard:{prefix:"far",iconName:"credit-card",icon:[576,512,[],"f09d","M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"]},faDizzy:{prefix:"far",iconName:"dizzy",icon:[496,512,[],"f567","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-33.8-217.9c7.8-7.8 7.8-20.5 0-28.3L196.3 192l17.9-17.9c7.8-7.8 7.8-20.5 0-28.3-7.8-7.8-20.5-7.8-28.3 0L168 163.7l-17.8-17.8c-7.8-7.8-20.5-7.8-28.3 0-7.8 7.8-7.8 20.5 0 28.3l17.9 17.9-17.9 17.9c-7.8 7.8-7.8 20.5 0 28.3 7.8 7.8 20.5 7.8 28.3 0l17.8-17.8 17.8 17.8c7.9 7.7 20.5 7.7 28.4-.2zm160-92.2c-7.8-7.8-20.5-7.8-28.3 0L328 163.7l-17.8-17.8c-7.8-7.8-20.5-7.8-28.3 0-7.8 7.8-7.8 20.5 0 28.3l17.9 17.9-17.9 17.9c-7.8 7.8-7.8 20.5 0 28.3 7.8 7.8 20.5 7.8 28.3 0l17.8-17.8 17.8 17.8c7.8 7.8 20.5 7.8 28.3 0 7.8-7.8 7.8-20.5 0-28.3l-17.8-18 17.9-17.9c7.7-7.8 7.7-20.4 0-28.2zM248 272c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64z"]},faDotCircle:{prefix:"far",iconName:"dot-circle",icon:[512,512,[],"f192","M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"]},faEdit:{prefix:"far",iconName:"edit",icon:[576,512,[],"f044","M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"]},faEnvelope:{prefix:"far",iconName:"envelope",icon:[512,512,[],"f0e0","M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"]},faEnvelopeOpen:{prefix:"far",iconName:"envelope-open",icon:[512,512,[],"f2b6","M494.586 164.516c-4.697-3.883-111.723-89.95-135.251-108.657C337.231 38.191 299.437 0 256 0c-43.205 0-80.636 37.717-103.335 55.859-24.463 19.45-131.07 105.195-135.15 108.549A48.004 48.004 0 0 0 0 201.485V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V201.509a48 48 0 0 0-17.414-36.993zM464 458a6 6 0 0 1-6 6H54a6 6 0 0 1-6-6V204.347c0-1.813.816-3.526 2.226-4.665 15.87-12.814 108.793-87.554 132.364-106.293C200.755 78.88 232.398 48 256 48c23.693 0 55.857 31.369 73.41 45.389 23.573 18.741 116.503 93.493 132.366 106.316a5.99 5.99 0 0 1 2.224 4.663V458zm-31.991-187.704c4.249 5.159 3.465 12.795-1.745 16.981-28.975 23.283-59.274 47.597-70.929 56.863C336.636 362.283 299.205 400 256 400c-43.452 0-81.287-38.237-103.335-55.86-11.279-8.967-41.744-33.413-70.927-56.865-5.21-4.187-5.993-11.822-1.745-16.981l15.258-18.528c4.178-5.073 11.657-5.843 16.779-1.726 28.618 23.001 58.566 47.035 70.56 56.571C200.143 320.631 232.307 352 256 352c23.602 0 55.246-30.88 73.41-45.389 11.994-9.535 41.944-33.57 70.563-56.568 5.122-4.116 12.601-3.346 16.778 1.727l15.258 18.526z"]},faEye:{prefix:"far",iconName:"eye",icon:[576,512,[],"f06e","M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"]},faEyeSlash:{prefix:"far",iconName:"eye-slash",icon:[640,512,[],"f070","M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"]},faFile:{prefix:"far",iconName:"file",icon:[384,512,[],"f15b","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"]},faFileAlt:{prefix:"far",iconName:"file-alt",icon:[384,512,[],"f15c","M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"]},faFileArchive:{prefix:"far",iconName:"file-archive",icon:[384,512,[],"f1c6","M128.3 160v32h32v-32zm64-96h-32v32h32zm-64 32v32h32V96zm64 32h-32v32h32zm177.6-30.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h79.7v16h32V48H208v104c0 13.3 10.7 24 24 24h104zM194.2 265.7c-1.1-5.6-6-9.7-11.8-9.7h-22.1v-32h-32v32l-19.7 97.1C102 385.6 126.8 416 160 416c33.1 0 57.9-30.2 51.5-62.6zm-33.9 124.4c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zm32-198.1h-32v32h32z"]},faFileAudio:{prefix:"far",iconName:"file-audio",icon:[384,512,[],"f1c7","M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm144-76.024c0 10.691-12.926 16.045-20.485 8.485L136 360.486h-28c-6.627 0-12-5.373-12-12v-56c0-6.627 5.373-12 12-12h28l35.515-36.947c7.56-7.56 20.485-2.206 20.485 8.485v135.952zm41.201-47.13c9.051-9.297 9.06-24.133.001-33.439-22.149-22.752 12.235-56.246 34.395-33.481 27.198 27.94 27.212 72.444.001 100.401-21.793 22.386-56.947-10.315-34.397-33.481z"]},faFileCode:{prefix:"far",iconName:"file-code",icon:[384,512,[],"f1c9","M149.9 349.1l-.2-.2-32.8-28.9 32.8-28.9c3.6-3.2 4-8.8.8-12.4l-.2-.2-17.4-18.6c-3.4-3.6-9-3.7-12.4-.4l-57.7 54.1c-3.7 3.5-3.7 9.4 0 12.8l57.7 54.1c1.6 1.5 3.8 2.4 6 2.4 2.4 0 4.8-1 6.4-2.8l17.4-18.6c3.3-3.5 3.1-9.1-.4-12.4zm220-251.2L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h160v104c0 13.3 10.7 24 24 24h104zM209.6 214c-4.7-1.4-9.5 1.3-10.9 6L144 408.1c-1.4 4.7 1.3 9.6 6 10.9l24.4 7.1c4.7 1.4 9.6-1.4 10.9-6L240 231.9c1.4-4.7-1.3-9.6-6-10.9zm24.5 76.9l.2.2 32.8 28.9-32.8 28.9c-3.6 3.2-4 8.8-.8 12.4l.2.2 17.4 18.6c3.3 3.5 8.9 3.7 12.4.4l57.7-54.1c3.7-3.5 3.7-9.4 0-12.8l-57.7-54.1c-3.5-3.3-9.1-3.2-12.4.4l-17.4 18.6c-3.3 3.5-3.1 9.1.4 12.4z"]},faFileExcel:{prefix:"far",iconName:"file-excel",icon:[384,512,[],"f1c3","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z"]},faFileImage:{prefix:"far",iconName:"file-image",icon:[384,512,[],"f1c5","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"]},faFilePdf:{prefix:"far",iconName:"file-pdf",icon:[384,512,[],"f1c1","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z"]},faFilePowerpoint:{prefix:"far",iconName:"file-powerpoint",icon:[384,512,[],"f1c4","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z"]},faFileVideo:{prefix:"far",iconName:"file-video",icon:[384,512,[],"f1c8","M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm228.687-211.303L224 305.374V268c0-11.046-8.954-20-20-20H100c-11.046 0-20 8.954-20 20v104c0 11.046 8.954 20 20 20h104c11.046 0 20-8.954 20-20v-37.374l52.687 52.674C286.704 397.318 304 390.28 304 375.986V264.011c0-14.311-17.309-21.319-27.313-11.314z"]},faFileWord:{prefix:"far",iconName:"file-word",icon:[384,512,[],"f1c2","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z"]},faFlag:{prefix:"far",iconName:"flag",icon:[512,512,[],"f024","M336.174 80c-49.132 0-93.305-32-161.913-32-31.301 0-58.303 6.482-80.721 15.168a48.04 48.04 0 0 0 2.142-20.727C93.067 19.575 74.167 1.594 51.201.104 23.242-1.71 0 20.431 0 48c0 17.764 9.657 33.262 24 41.562V496c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-83.443C109.869 395.28 143.259 384 199.826 384c49.132 0 93.305 32 161.913 32 58.479 0 101.972-22.617 128.548-39.981C503.846 367.161 512 352.051 512 335.855V95.937c0-34.459-35.264-57.768-66.904-44.117C409.193 67.309 371.641 80 336.174 80zM464 336c-21.783 15.412-60.824 32-102.261 32-59.945 0-102.002-32-161.913-32-43.361 0-96.379 9.403-127.826 24V128c21.784-15.412 60.824-32 102.261-32 59.945 0 102.002 32 161.913 32 43.271 0 96.32-17.366 127.826-32v240z"]},faFlushed:{prefix:"far",iconName:"flushed",icon:[496,512,[],"f579","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm96-312c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80zm0 128c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-72c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm-112 24c0-44.2-35.8-80-80-80s-80 35.8-80 80 35.8 80 80 80 80-35.8 80-80zm-80 48c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-72c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm160 144H184c-13.2 0-24 10.8-24 24s10.8 24 24 24h128c13.2 0 24-10.8 24-24s-10.8-24-24-24z"]},faFolder:{prefix:"far",iconName:"folder",icon:[512,512,[],"f07b","M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"]},faFolderOpen:{prefix:"far",iconName:"folder-open",icon:[576,512,[],"f07c","M527.9 224H480v-48c0-26.5-21.5-48-48-48H272l-64-64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h400c16.5 0 31.9-8.5 40.7-22.6l79.9-128c20-31.9-3-73.4-40.7-73.4zM48 118c0-3.3 2.7-6 6-6h134.1l64 64H426c3.3 0 6 2.7 6 6v42H152c-16.8 0-32.4 8.8-41.1 23.2L48 351.4zm400 282H72l77.2-128H528z"]},faFontAwesomeLogoFull:{prefix:"far",iconName:"font-awesome-logo-full",icon:[3992,512,["Font Awesome"],"f4e6","M454.6 0H57.4C25.9 0 0 25.9 0 57.4v397.3C0 486.1 25.9 512 57.4 512h397.3c31.4 0 57.4-25.9 57.4-57.4V57.4C512 25.9 486.1 0 454.6 0zm-58.9 324.9c0 4.8-4.1 6.9-8.9 8.9-19.2 8.1-39.7 15.7-61.5 15.7-40.5 0-68.7-44.8-163.2 2.5v51.8c0 30.3-45.7 30.2-45.7 0v-250c-9-7-15-17.9-15-30.3 0-21 17.1-38.2 38.2-38.2 21 0 38.2 17.1 38.2 38.2 0 12.2-5.8 23.2-14.9 30.2v21c37.1-12 65.5-34.4 146.1-3.4 26.6 11.4 68.7-15.7 76.5-15.7 5.5 0 10.3 4.1 10.3 8.9v160.4zm432.9-174.2h-137v70.1H825c39.8 0 40.4 62.2 0 62.2H691.6v105.6c0 45.5-70.7 46.4-70.7 0V128.3c0-22 18-39.8 39.8-39.8h167.8c39.6 0 40.5 62.2.1 62.2zm191.1 23.4c-169.3 0-169.1 252.4 0 252.4 169.9 0 169.9-252.4 0-252.4zm0 196.1c-81.6 0-82.1-139.8 0-139.8 82.5 0 82.4 139.8 0 139.8zm372.4 53.4c-17.5 0-31.4-13.9-31.4-31.4v-117c0-62.4-72.6-52.5-99.1-16.4v133.4c0 41.5-63.3 41.8-63.3 0V208c0-40 63.1-41.6 63.1 0v3.4c43.3-51.6 162.4-60.4 162.4 39.3v141.5c.3 30.4-31.5 31.4-31.7 31.4zm179.7 2.9c-44.3 0-68.3-22.9-68.3-65.8V235.2H1488c-35.6 0-36.7-55.3 0-55.3h15.5v-37.3c0-41.3 63.8-42.1 63.8 0v37.5h24.9c35.4 0 35.7 55.3 0 55.3h-24.9v108.5c0 29.6 26.1 26.3 27.4 26.3 31.4 0 52.6 56.3-22.9 56.3zM1992 123c-19.5-50.2-95.5-50-114.5 0-107.3 275.7-99.5 252.7-99.5 262.8 0 42.8 58.3 51.2 72.1 14.4l13.5-35.9H2006l13 35.9c14.2 37.7 72.1 27.2 72.1-14.4 0-10.1 5.3 6.8-99.1-262.8zm-108.9 179.1l51.7-142.9 51.8 142.9h-103.5zm591.3-85.6l-53.7 176.3c-12.4 41.2-72 41-84 0l-42.3-135.9-42.3 135.9c-12.4 40.9-72 41.2-84.5 0l-54.2-176.3c-12.5-39.4 49.8-56.1 60.2-16.9L2213 342l45.3-139.5c10.9-32.7 59.6-34.7 71.2 0l45.3 139.5 39.3-142.4c10.3-38.3 72.6-23.8 60.3 16.9zm275.4 75.1c0-42.4-33.9-117.5-119.5-117.5-73.2 0-124.4 56.3-124.4 126 0 77.2 55.3 126.4 128.5 126.4 31.7 0 93-11.5 93-39.8 0-18.3-21.1-31.5-39.3-22.4-49.4 26.2-109 8.4-115.9-43.8h148.3c16.3 0 29.3-13.4 29.3-28.9zM2571 277.7c9.5-73.4 113.9-68.6 118.6 0H2571zm316.7 148.8c-31.4 0-81.6-10.5-96.6-31.9-12.4-17 2.5-39.8 21.8-39.8 16.3 0 36.8 22.9 77.7 22.9 27.4 0 40.4-11 40.4-25.8 0-39.8-142.9-7.4-142.9-102 0-40.4 35.3-75.7 98.6-75.7 31.4 0 74.1 9.9 87.6 29.4 10.8 14.8-1.4 36.2-20.9 36.2-15.1 0-26.7-17.3-66.2-17.3-22.9 0-37.8 10.5-37.8 23.8 0 35.9 142.4 6 142.4 103.1-.1 43.7-37.4 77.1-104.1 77.1zm266.8-252.4c-169.3 0-169.1 252.4 0 252.4 170.1 0 169.6-252.4 0-252.4zm0 196.1c-81.8 0-82-139.8 0-139.8 82.5 0 82.4 139.8 0 139.8zm476.9 22V268.7c0-53.8-61.4-45.8-85.7-10.5v134c0 41.3-63.8 42.1-63.8 0V268.7c0-52.1-59.5-47.4-85.7-10.1v133.6c0 41.5-63.3 41.8-63.3 0V208c0-40 63.1-41.6 63.1 0v3.4c9.9-14.4 41.8-37.3 78.6-37.3 35.3 0 57.7 16.4 66.7 43.8 13.9-21.8 45.8-43.8 82.6-43.8 44.3 0 70.7 23.4 70.7 72.7v145.3c.5 17.3-13.5 31.4-31.9 31.4 3.5.1-31.3 1.1-31.3-31.3zM3992 291.6c0-42.4-32.4-117.5-117.9-117.5-73.2 0-127.5 56.3-127.5 126 0 77.2 58.3 126.4 131.6 126.4 31.7 0 91.5-11.5 91.5-39.8 0-18.3-21.1-31.5-39.3-22.4-49.4 26.2-110.5 8.4-117.5-43.8h149.8c16.3 0 29.1-13.4 29.3-28.9zm-180.5-13.9c9.7-74.4 115.9-68.3 120.1 0h-120.1z"]},faFrown:{prefix:"far",iconName:"frown",icon:[496,512,[],"f119","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-80 128c-40.2 0-78 17.7-103.8 48.6-8.5 10.2-7.1 25.3 3.1 33.8 10.2 8.4 25.3 7.1 33.8-3.1 16.6-19.9 41-31.4 66.9-31.4s50.3 11.4 66.9 31.4c8.1 9.7 23.1 11.9 33.8 3.1 10.2-8.5 11.5-23.6 3.1-33.8C326 321.7 288.2 304 248 304z"]},faFrownOpen:{prefix:"far",iconName:"frown-open",icon:[496,512,[],"f57a","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-48-248c0-17.7-14.3-32-32-32s-32 14.3-32 32 14.3 32 32 32 32-14.3 32-32zm128-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-80 112c-35.6 0-88.8 21.3-95.8 61.2-2 11.8 9 21.5 20.5 18.1 31.2-9.6 59.4-15.3 75.3-15.3s44.1 5.7 75.3 15.3c11.4 3.5 22.5-6.3 20.5-18.1-7-39.9-60.2-61.2-95.8-61.2z"]},faFutbol:{prefix:"far",iconName:"futbol",icon:[496,512,[],"f1e3","M483.8 179.4C449.8 74.6 352.6 8 248.1 8c-25.4 0-51.2 3.9-76.7 12.2C41.2 62.5-30.1 202.4 12.2 332.6 46.2 437.4 143.4 504 247.9 504c25.4 0 51.2-3.9 76.7-12.2 130.2-42.3 201.5-182.2 159.2-312.4zm-74.5 193.7l-52.2 6.4-43.7-60.9 24.4-75.2 71.1-22.1 38.9 36.4c-.2 30.7-7.4 61.1-21.7 89.2-4.7 9.3-10.7 17.8-16.8 26.2zm0-235.4l-10.4 53.1-70.7 22-64.2-46.5V92.5l47.4-26.2c39.2 13 73.4 38 97.9 71.4zM184.9 66.4L232 92.5v73.8l-64.2 46.5-70.6-22-10.1-52.5c24.3-33.4 57.9-58.6 97.8-71.9zM139 379.5L85.9 373c-14.4-20.1-37.3-59.6-37.8-115.3l39-36.4 71.1 22.2 24.3 74.3-43.5 61.7zm48.2 67l-22.4-48.1 43.6-61.7H287l44.3 61.7-22.4 48.1c-6.2 1.8-57.6 20.4-121.7 0z"]},faGem:{prefix:"far",iconName:"gem",icon:[576,512,[],"f3a5","M464 0H112c-4 0-7.8 2-10 5.4L2 152.6c-2.9 4.4-2.6 10.2.7 14.2l276 340.8c4.8 5.9 13.8 5.9 18.6 0l276-340.8c3.3-4.1 3.6-9.8.7-14.2L474.1 5.4C471.8 2 468.1 0 464 0zm-19.3 48l63.3 96h-68.4l-51.7-96h56.8zm-202.1 0h90.7l51.7 96H191l51.6-96zm-111.3 0h56.8l-51.7 96H68l63.3-96zm-43 144h51.4L208 352 88.3 192zm102.9 0h193.6L288 435.3 191.2 192zM368 352l68.2-160h51.4L368 352z"]},faGrimace:{prefix:"far",iconName:"grimace",icon:[496,512,[],"f57f","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm16 16H152c-26.5 0-48 21.5-48 48v32c0 26.5 21.5 48 48 48h192c26.5 0 48-21.5 48-48v-32c0-26.5-21.5-48-48-48zm-168 96h-24c-8.8 0-16-7.2-16-16v-8h40v24zm0-40h-40v-8c0-8.8 7.2-16 16-16h24v24zm64 40h-48v-24h48v24zm0-40h-48v-24h48v24zm64 40h-48v-24h48v24zm0-40h-48v-24h48v24zm56 24c0 8.8-7.2 16-16 16h-24v-24h40v8zm0-24h-40v-24h24c8.8 0 16 7.2 16 16v8z"]},faGrin:{prefix:"far",iconName:"grin",icon:[496,512,[],"f580","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm105.6-151.4c-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.9-3.1-19.4 5.4-17.7 15.3 7.9 47.1 71.3 80 123.3 80s115.3-32.9 123.3-80c1.6-9.8-7.7-18.4-17.7-15.3zM168 240c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32z"]},faGrinAlt:{prefix:"far",iconName:"grin-alt",icon:[496,512,[],"f581","M200.3 248c12.4-18.7 15.1-37.3 15.7-56-.5-18.7-3.3-37.3-15.7-56-8-12-25.1-11.4-32.7 0-12.4 18.7-15.1 37.3-15.7 56 .5 18.7 3.3 37.3 15.7 56 8.1 12 25.2 11.4 32.7 0zm128 0c12.4-18.7 15.1-37.3 15.7-56-.5-18.7-3.3-37.3-15.7-56-8-12-25.1-11.4-32.7 0-12.4 18.7-15.1 37.3-15.7 56 .5 18.7 3.3 37.3 15.7 56 8.1 12 25.2 11.4 32.7 0zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm105.6-151.4c-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.9-3.1-19.4 5.3-17.7 15.3 7.9 47.2 71.3 80 123.3 80s115.3-32.9 123.3-80c1.6-9.8-7.7-18.4-17.7-15.3z"]},faGrinBeam:{prefix:"far",iconName:"grin-beam",icon:[496,512,[],"f582","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm105.6-151.4c-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.8-3.1-19.4 5.3-17.7 15.3 7.9 47.1 71.3 80 123.3 80s115.3-32.9 123.3-80c1.6-9.8-7.7-18.4-17.7-15.3zm-235.9-72.9c3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3zm160 0c3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3z"]},faGrinBeamSweat:{prefix:"far",iconName:"grin-beam-sweat",icon:[496,512,[],"f583","M440 160c29.5 0 53.3-26.3 53.3-58.7 0-25-31.7-75.5-46.2-97.3-3.6-5.3-10.7-5.3-14.2 0-14.5 21.8-46.2 72.3-46.2 97.3 0 32.4 23.8 58.7 53.3 58.7zM248 400c51.9 0 115.3-32.9 123.3-80 1.7-9.9-7.7-18.5-17.7-15.3-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.8-3.1-19.4 5.3-17.7 15.3 8 47.1 71.4 80 123.3 80zm130.3-168.3c3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3 3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.6 6.2 4.6 9.3 3.7zm105.3-52.9c-24.6 15.7-46 12.9-46.4 12.9 6.9 20.2 10.8 41.8 10.8 64.3 0 110.3-89.7 200-200 200S48 366.3 48 256 137.7 56 248 56c39.8 0 76.8 11.8 108 31.9 1.7-9.5 6.3-24.1 17.2-45.7C336.4 20.6 293.7 8 248 8 111 8 0 119 0 256s111 248 248 248 248-111 248-248c0-27-4.4-52.9-12.4-77.2zM168 189.4c12.3 0 23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3 3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.8 19.2-21.6 31.5-21.6z"]},faGrinHearts:{prefix:"far",iconName:"grin-hearts",icon:[496,512,[],"f584","M353.6 304.6c-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.8-3.1-19.4 5.3-17.7 15.3 7.9 47.2 71.3 80 123.3 80s115.3-32.9 123.3-80c1.6-9.8-7.7-18.4-17.7-15.3zm-152.8-48.9c4.5 1.2 9.2-1.5 10.5-6l19.4-69.9c5.6-20.3-7.4-41.1-28.8-44.5-18.6-3-36.4 9.8-41.5 27.9l-2 7.1-7.1-1.9c-18.2-4.7-38.2 4.3-44.9 22-7.7 20.2 3.8 41.9 24.2 47.2l70.2 18.1zm188.8-65.3c-6.7-17.6-26.7-26.7-44.9-22l-7.1 1.9-2-7.1c-5-18.1-22.8-30.9-41.5-27.9-21.4 3.4-34.4 24.2-28.8 44.5l19.4 69.9c1.2 4.5 5.9 7.2 10.5 6l70.2-18.2c20.4-5.3 31.9-26.9 24.2-47.1zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200z"]},faGrinSquint:{prefix:"far",iconName:"grin-squint",icon:[496,512,[],"f585","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm105.6-151.4c-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.9-3.1-19.4 5.4-17.7 15.3 7.9 47.1 71.3 80 123.3 80s115.3-32.9 123.3-80c1.6-9.8-7.7-18.4-17.7-15.3zm-234.7-40.8c3.6 4.2 9.9 5.7 15.3 2.5l80-48c3.6-2.2 5.8-6.1 5.8-10.3s-2.2-8.1-5.8-10.3l-80-48c-5.1-3-11.4-1.9-15.3 2.5-3.8 4.5-3.8 11-.1 15.5l33.6 40.3-33.6 40.3c-3.8 4.5-3.7 11.1.1 15.5zm242.9 2.5c5.4 3.2 11.7 1.7 15.3-2.5 3.8-4.5 3.8-11 .1-15.5L343.6 208l33.6-40.3c3.8-4.5 3.7-11-.1-15.5-3.8-4.4-10.2-5.4-15.3-2.5l-80 48c-3.6 2.2-5.8 6.1-5.8 10.3s2.2 8.1 5.8 10.3l80 48z"]},faGrinSquintTears:{prefix:"far",iconName:"grin-squint-tears",icon:[512,512,[],"f586","M117.1 384.1c-25.8 3.7-84 13.7-100.9 30.6-21.9 21.9-21.5 57.9.9 80.3s58.3 22.8 80.3.9C114.3 479 124.3 420.8 128 395c.8-6.4-4.6-11.8-10.9-10.9zm-41.2-41.7C40.3 268 53 176.1 114.6 114.6 152.4 76.8 202.6 56 256 56c36.2 0 70.8 9.8 101.2 27.7 3.8-20.3 8-36.1 12-48.3C333.8 17.2 294.9 8 256 8 192.5 8 129.1 32.2 80.6 80.6c-74.1 74.1-91.3 183.4-52 274 12.2-4.1 27.7-8.3 47.3-12.2zm352.3-187.6c45 76.6 34.9 176.9-30.8 242.6-37.8 37.8-88 58.6-141.4 58.6-30.5 0-59.8-7-86.4-19.8-3.9 19.5-8 35-12.2 47.2 31.4 13.6 65 20.6 98.7 20.6 63.5 0 126.9-24.2 175.4-72.6 78.1-78.1 93.1-195.4 45.2-288.6-12.3 4-28.2 8.1-48.5 12zm-33.3-26.9c25.8-3.7 84-13.7 100.9-30.6 21.9-21.9 21.5-57.9-.9-80.3s-58.3-22.8-80.3-.9C397.7 33 387.7 91.2 384 117c-.8 6.4 4.6 11.8 10.9 10.9zm-187 108.3c-3-3-7.2-4.2-11.4-3.2L106 255.7c-5.7 1.4-9.5 6.7-9.1 12.6.5 5.8 5.1 10.5 10.9 11l52.3 4.8 4.8 52.3c.5 5.8 5.2 10.4 11 10.9h.9c5.5 0 10.3-3.7 11.7-9.1l22.6-90.5c1-4.2-.2-8.5-3.2-11.5zm39.7-25.1l90.5-22.6c5.7-1.4 9.5-6.7 9.1-12.6-.5-5.8-5.1-10.5-10.9-11l-52.3-4.8-4.8-52.3c-.5-5.8-5.2-10.4-11-10.9-5.6-.1-11.2 3.4-12.6 9.1L233 196.5c-1 4.1.2 8.4 3.2 11.4 5 5 11.3 3.2 11.4 3.2zm52 88.5c-29.1 29.1-59.7 52.9-83.9 65.4-9.2 4.8-10 17.5-1.7 23.4 38.9 27.7 107 6.2 143.7-30.6S416 253 388.3 214.1c-5.8-8.2-18.5-7.6-23.4 1.7-12.3 24.2-36.2 54.7-65.3 83.8z"]},faGrinStars:{prefix:"far",iconName:"grin-stars",icon:[496,512,[],"f587","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm105.6-151.4c-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.8-3.1-19.4 5.3-17.7 15.3 7.9 47.2 71.3 80 123.3 80s115.3-32.9 123.3-80c1.6-9.8-7.7-18.4-17.7-15.3zm-227.9-57.5c-1 6.2 5.4 11 11 7.9l31.3-16.3 31.3 16.3c5.6 3.1 12-1.7 11-7.9l-6-34.9 25.4-24.6c4.5-4.5 1.9-12.2-4.3-13.2l-34.9-5-15.5-31.6c-2.9-5.8-11-5.8-13.9 0l-15.5 31.6-34.9 5c-6.2.9-8.9 8.6-4.3 13.2l25.4 24.6-6.1 34.9zm259.7-72.7l-34.9-5-15.5-31.6c-2.9-5.8-11-5.8-13.9 0l-15.5 31.6-34.9 5c-6.2.9-8.9 8.6-4.3 13.2l25.4 24.6-6 34.9c-1 6.2 5.4 11 11 7.9l31.3-16.3 31.3 16.3c5.6 3.1 12-1.7 11-7.9l-6-34.9 25.4-24.6c4.5-4.6 1.8-12.2-4.4-13.2z"]},faGrinTears:{prefix:"far",iconName:"grin-tears",icon:[640,512,[],"f588","M117.1 256.1c-25.8 3.7-84 13.7-100.9 30.6-21.9 21.9-21.5 57.9.9 80.3s58.3 22.8 80.3.9C114.3 351 124.3 292.8 128 267c.8-6.4-4.6-11.8-10.9-10.9zm506.7 30.6c-16.9-16.9-75.1-26.9-100.9-30.6-6.3-.9-11.7 4.5-10.8 10.8 3.7 25.8 13.7 84 30.6 100.9 21.9 21.9 57.9 21.5 80.3-.9 22.3-22.3 22.7-58.3.8-80.2zm-126.6 61.7C463.8 412.3 396.9 456 320 456c-76.9 0-143.8-43.7-177.2-107.6-12.5 37.4-25.2 43.9-28.3 46.5C159.1 460.7 234.5 504 320 504s160.9-43.3 205.5-109.1c-3.2-2.7-15.9-9.2-28.3-46.5zM122.7 224.5C137.9 129.2 220.5 56 320 56c99.5 0 182.1 73.2 197.3 168.5 2.1-.2 5.2-2.4 49.5 7C554.4 106 448.7 8 320 8S85.6 106 73.2 231.4c44.5-9.4 47.1-7.2 49.5-6.9zM320 400c51.9 0 115.3-32.9 123.3-80 1.7-9.9-7.7-18.5-17.7-15.3-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.8-3.1-19.4 5.3-17.7 15.3 8 47.1 71.4 80 123.3 80zm130.3-168.3c3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3 3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.6 6.2 4.6 9.3 3.7zM240 189.4c12.3 0 23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3 3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.8 19.2-21.6 31.5-21.6z"]},faGrinTongue:{prefix:"far",iconName:"grin-tongue",icon:[496,512,[],"f589","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm64 400c0 35.6-29.1 64.5-64.9 64-35.1-.5-63.1-29.8-63.1-65v-42.8l17.7-8.8c15-7.5 31.5 1.7 34.9 16.5l2.8 12.1c2.1 9.2 15.2 9.2 17.3 0l2.8-12.1c3.4-14.8 19.8-24.1 34.9-16.5l17.7 8.8V408zm28.2 25.3c2.2-8.1 3.8-16.5 3.8-25.3v-43.5c14.2-12.4 24.4-27.5 27.3-44.5 1.7-9.9-7.7-18.5-17.7-15.3-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.9-3.1-19.4 5.3-17.7 15.3 2.9 17 13.1 32.1 27.3 44.5V408c0 8.8 1.6 17.2 3.8 25.3C91.8 399.9 48 333 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 77-43.8 143.9-107.8 177.3zM168 176c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"]},faGrinTongueSquint:{prefix:"far",iconName:"grin-tongue-squint",icon:[496,512,[],"f58a","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm64 400c0 35.6-29.1 64.5-64.9 64-35.1-.5-63.1-29.8-63.1-65v-42.8l17.7-8.8c15-7.5 31.5 1.7 34.9 16.5l2.8 12.1c2.1 9.2 15.2 9.2 17.3 0l2.8-12.1c3.4-14.8 19.8-24.1 34.9-16.5l17.7 8.8V408zm28.2 25.3c2.2-8.1 3.8-16.5 3.8-25.3v-43.5c14.2-12.4 24.4-27.5 27.3-44.5 1.7-9.9-7.7-18.5-17.7-15.3-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.9-3.1-19.4 5.3-17.7 15.3 2.9 17 13.1 32.1 27.3 44.5V408c0 8.8 1.6 17.2 3.8 25.3C91.8 399.9 48 333 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 77-43.8 143.9-107.8 177.3zm36.9-281.1c-3.8-4.4-10.3-5.5-15.3-2.5l-80 48c-3.6 2.2-5.8 6.1-5.8 10.3s2.2 8.1 5.8 10.3l80 48c5.4 3.2 11.7 1.7 15.3-2.5 3.8-4.5 3.8-11 .1-15.5L343.6 208l33.6-40.3c3.8-4.5 3.7-11.1-.1-15.5zm-162.9 45.5l-80-48c-5-3-11.4-2-15.3 2.5-3.8 4.5-3.8 11-.1 15.5l33.6 40.3-33.6 40.3c-3.8 4.5-3.7 11 .1 15.5 3.6 4.2 9.9 5.7 15.3 2.5l80-48c3.6-2.2 5.8-6.1 5.8-10.3s-2.2-8.1-5.8-10.3z"]},faGrinTongueWink:{prefix:"far",iconName:"grin-tongue-wink",icon:[496,512,[],"f58b","M152 180c-25.7 0-55.9 16.9-59.8 42.1-.8 5 1.7 10 6.1 12.4 4.4 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.2 8 4.7 13.7 1.6 4.4-2.4 6.9-7.4 6.1-12.4-3.9-25.2-34.1-42.1-59.8-42.1zm176-52c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80zm0 128c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-72c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm64 400c0 35.6-29.1 64.5-64.9 64-35.1-.5-63.1-29.8-63.1-65v-42.8l17.7-8.8c15-7.5 31.5 1.7 34.9 16.5l2.8 12.1c2.1 9.2 15.2 9.2 17.3 0l2.8-12.1c3.4-14.8 19.8-24.1 34.9-16.5l17.7 8.8V408zm28.2 25.3c2.2-8.1 3.8-16.5 3.8-25.3v-43.5c14.2-12.4 24.4-27.5 27.3-44.5 1.7-9.9-7.7-18.5-17.7-15.3-25.9 8.3-64.4 13.1-105.6 13.1s-79.6-4.8-105.6-13.1c-9.9-3.1-19.4 5.3-17.7 15.3 2.9 17 13.1 32.1 27.3 44.5V408c0 8.8 1.6 17.2 3.8 25.3C91.8 399.9 48 333 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 77-43.8 143.9-107.8 177.3z"]},faGrinWink:{prefix:"far",iconName:"grin-wink",icon:[496,512,[],"f58c","M328 180c-25.69 0-55.88 16.92-59.86 42.12-1.75 11.22 11.5 18.24 19.83 10.84l9.55-8.48c14.81-13.19 46.16-13.19 60.97 0l9.55 8.48c8.48 7.43 21.56.25 19.83-10.84C383.88 196.92 353.69 180 328 180zm-160 60c17.67 0 32-14.33 32-32s-14.33-32-32-32-32 14.33-32 32 14.33 32 32 32zm185.55 64.64c-25.93 8.3-64.4 13.06-105.55 13.06s-79.62-4.75-105.55-13.06c-9.94-3.13-19.4 5.37-17.71 15.34C132.67 367.13 196.06 400 248 400s115.33-32.87 123.26-80.02c1.68-9.89-7.67-18.48-17.71-15.34zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 448c-110.28 0-200-89.72-200-200S137.72 56 248 56s200 89.72 200 200-89.72 200-200 200z"]},faHandLizard:{prefix:"far",iconName:"hand-lizard",icon:[576,512,[],"f258","M556.686 290.542L410.328 64.829C397.001 44.272 374.417 32 349.917 32H56C25.121 32 0 57.122 0 88v8c0 44.112 35.888 80 80 80h196.042l-18.333 48H144c-48.523 0-88 39.477-88 88 0 30.879 25.121 56 56 56h131.552c2.987 0 5.914.549 8.697 1.631L352 408.418V480h224V355.829c0-23.225-6.679-45.801-19.314-65.287zM528 432H400v-23.582c0-19.948-12.014-37.508-30.604-44.736l-99.751-38.788A71.733 71.733 0 0 0 243.552 320H112c-4.411 0-8-3.589-8-8 0-22.056 17.944-40 40-40h113.709c19.767 0 37.786-12.407 44.84-30.873l24.552-64.281c8.996-23.553-8.428-48.846-33.63-48.846H80c-17.645 0-32-14.355-32-32v-8c0-4.411 3.589-8 8-8h293.917c8.166 0 15.693 4.09 20.137 10.942l146.358 225.715A71.84 71.84 0 0 1 528 355.829V432z"]},faHandPaper:{prefix:"far",iconName:"hand-paper",icon:[448,512,[],"f256","M372.57 112.641v-10.825c0-43.612-40.52-76.691-83.039-65.546-25.629-49.5-94.09-47.45-117.982.747C130.269 26.456 89.144 57.945 89.144 102v126.13c-19.953-7.427-43.308-5.068-62.083 8.871-29.355 21.796-35.794 63.333-14.55 93.153L132.48 498.569a32 32 0 0 0 26.062 13.432h222.897c14.904 0 27.835-10.289 31.182-24.813l30.184-130.958A203.637 203.637 0 0 0 448 310.564V179c0-40.62-35.523-71.992-75.43-66.359zm27.427 197.922c0 11.731-1.334 23.469-3.965 34.886L368.707 464h-201.92L51.591 302.303c-14.439-20.27 15.023-42.776 29.394-22.605l27.128 38.079c8.995 12.626 29.031 6.287 29.031-9.283V102c0-25.645 36.571-24.81 36.571.691V256c0 8.837 7.163 16 16 16h6.856c8.837 0 16-7.163 16-16V67c0-25.663 36.571-24.81 36.571.691V256c0 8.837 7.163 16 16 16h6.856c8.837 0 16-7.163 16-16V101.125c0-25.672 36.57-24.81 36.57.691V256c0 8.837 7.163 16 16 16h6.857c8.837 0 16-7.163 16-16v-76.309c0-26.242 36.57-25.64 36.57-.691v131.563z"]},faHandPeace:{prefix:"far",iconName:"hand-peace",icon:[448,512,[],"f25b","M362.146 191.976c-13.71-21.649-38.761-34.016-65.006-30.341V74c0-40.804-32.811-74-73.141-74-40.33 0-73.14 33.196-73.14 74L160 168l-18.679-78.85C126.578 50.843 83.85 32.11 46.209 47.208 8.735 62.238-9.571 104.963 5.008 142.85l55.757 144.927c-30.557 24.956-43.994 57.809-24.733 92.218l54.853 97.999C102.625 498.97 124.73 512 148.575 512h205.702c30.744 0 57.558-21.44 64.555-51.797l27.427-118.999a67.801 67.801 0 0 0 1.729-15.203L448 256c0-44.956-43.263-77.343-85.854-64.024zM399.987 326c0 1.488-.169 2.977-.502 4.423l-27.427 119.001c-1.978 8.582-9.29 14.576-17.782 14.576H148.575c-6.486 0-12.542-3.621-15.805-9.449l-54.854-98c-4.557-8.141-2.619-18.668 4.508-24.488l26.647-21.764a16 16 0 0 0 4.812-18.139l-64.09-166.549C37.226 92.956 84.37 74.837 96.51 106.389l59.784 155.357A16 16 0 0 0 171.227 272h11.632c8.837 0 16-7.163 16-16V74c0-34.375 50.281-34.43 50.281 0v182c0 8.837 7.163 16 16 16h6.856c8.837 0 16-7.163 16-16v-28c0-25.122 36.567-25.159 36.567 0v28c0 8.837 7.163 16 16 16h6.856c8.837 0 16-7.163 16-16 0-25.12 36.567-25.16 36.567 0v70z"]},faHandPointDown:{prefix:"far",iconName:"hand-point-down",icon:[448,512,[],"f0a7","M188.8 512c45.616 0 83.2-37.765 83.2-83.2v-35.647a93.148 93.148 0 0 0 22.064-7.929c22.006 2.507 44.978-3.503 62.791-15.985C409.342 368.1 448 331.841 448 269.299V248c0-60.063-40-98.512-40-127.2v-2.679c4.952-5.747 8-13.536 8-22.12V32c0-17.673-12.894-32-28.8-32H156.8C140.894 0 128 14.327 128 32v64c0 8.584 3.048 16.373 8 22.12v2.679c0 6.964-6.193 14.862-23.668 30.183l-.148.129-.146.131c-9.937 8.856-20.841 18.116-33.253 25.851C48.537 195.798 0 207.486 0 252.8c0 56.928 35.286 92 83.2 92 8.026 0 15.489-.814 22.4-2.176V428.8c0 45.099 38.101 83.2 83.2 83.2zm0-48c-18.7 0-35.2-16.775-35.2-35.2V270.4c-17.325 0-35.2 26.4-70.4 26.4-26.4 0-35.2-20.625-35.2-44 0-8.794 32.712-20.445 56.1-34.926 14.575-9.074 27.225-19.524 39.875-30.799 18.374-16.109 36.633-33.836 39.596-59.075h176.752C364.087 170.79 400 202.509 400 248v21.299c0 40.524-22.197 57.124-61.325 50.601-8.001 14.612-33.979 24.151-53.625 12.925-18.225 19.365-46.381 17.787-61.05 4.95V428.8c0 18.975-16.225 35.2-35.2 35.2zM328 64c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24z"]},faHandPointLeft:{prefix:"far",iconName:"hand-point-left",icon:[512,512,[],"f0a5","M0 220.8C0 266.416 37.765 304 83.2 304h35.647a93.148 93.148 0 0 0 7.929 22.064c-2.507 22.006 3.503 44.978 15.985 62.791C143.9 441.342 180.159 480 242.701 480H264c60.063 0 98.512-40 127.2-40h2.679c5.747 4.952 13.536 8 22.12 8h64c17.673 0 32-12.894 32-28.8V188.8c0-15.906-14.327-28.8-32-28.8h-64c-8.584 0-16.373 3.048-22.12 8H391.2c-6.964 0-14.862-6.193-30.183-23.668l-.129-.148-.131-.146c-8.856-9.937-18.116-20.841-25.851-33.253C316.202 80.537 304.514 32 259.2 32c-56.928 0-92 35.286-92 83.2 0 8.026.814 15.489 2.176 22.4H83.2C38.101 137.6 0 175.701 0 220.8zm48 0c0-18.7 16.775-35.2 35.2-35.2h158.4c0-17.325-26.4-35.2-26.4-70.4 0-26.4 20.625-35.2 44-35.2 8.794 0 20.445 32.712 34.926 56.1 9.074 14.575 19.524 27.225 30.799 39.875 16.109 18.374 33.836 36.633 59.075 39.596v176.752C341.21 396.087 309.491 432 264 432h-21.299c-40.524 0-57.124-22.197-50.601-61.325-14.612-8.001-24.151-33.979-12.925-53.625-19.365-18.225-17.787-46.381-4.95-61.05H83.2C64.225 256 48 239.775 48 220.8zM448 360c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24z"]},faHandPointRight:{prefix:"far",iconName:"hand-point-right",icon:[512,512,[],"f0a4","M428.8 137.6h-86.177a115.52 115.52 0 0 0 2.176-22.4c0-47.914-35.072-83.2-92-83.2-45.314 0-57.002 48.537-75.707 78.784-7.735 12.413-16.994 23.317-25.851 33.253l-.131.146-.129.148C135.662 161.807 127.764 168 120.8 168h-2.679c-5.747-4.952-13.536-8-22.12-8H32c-17.673 0-32 12.894-32 28.8v230.4C0 435.106 14.327 448 32 448h64c8.584 0 16.373-3.048 22.12-8h2.679c28.688 0 67.137 40 127.2 40h21.299c62.542 0 98.8-38.658 99.94-91.145 12.482-17.813 18.491-40.785 15.985-62.791A93.148 93.148 0 0 0 393.152 304H428.8c45.435 0 83.2-37.584 83.2-83.2 0-45.099-38.101-83.2-83.2-83.2zm0 118.4h-91.026c12.837 14.669 14.415 42.825-4.95 61.05 11.227 19.646 1.687 45.624-12.925 53.625 6.524 39.128-10.076 61.325-50.6 61.325H248c-45.491 0-77.21-35.913-120-39.676V215.571c25.239-2.964 42.966-21.222 59.075-39.596 11.275-12.65 21.725-25.3 30.799-39.875C232.355 112.712 244.006 80 252.8 80c23.375 0 44 8.8 44 35.2 0 35.2-26.4 53.075-26.4 70.4h158.4c18.425 0 35.2 16.5 35.2 35.2 0 18.975-16.225 35.2-35.2 35.2zM88 384c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"]},faHandPointUp:{prefix:"far",iconName:"hand-point-up",icon:[448,512,[],"f0a6","M105.6 83.2v86.177a115.52 115.52 0 0 0-22.4-2.176c-47.914 0-83.2 35.072-83.2 92 0 45.314 48.537 57.002 78.784 75.707 12.413 7.735 23.317 16.994 33.253 25.851l.146.131.148.129C129.807 376.338 136 384.236 136 391.2v2.679c-4.952 5.747-8 13.536-8 22.12v64c0 17.673 12.894 32 28.8 32h230.4c15.906 0 28.8-14.327 28.8-32v-64c0-8.584-3.048-16.373-8-22.12V391.2c0-28.688 40-67.137 40-127.2v-21.299c0-62.542-38.658-98.8-91.145-99.94-17.813-12.482-40.785-18.491-62.791-15.985A93.148 93.148 0 0 0 272 118.847V83.2C272 37.765 234.416 0 188.8 0c-45.099 0-83.2 38.101-83.2 83.2zm118.4 0v91.026c14.669-12.837 42.825-14.415 61.05 4.95 19.646-11.227 45.624-1.687 53.625 12.925 39.128-6.524 61.325 10.076 61.325 50.6V264c0 45.491-35.913 77.21-39.676 120H183.571c-2.964-25.239-21.222-42.966-39.596-59.075-12.65-11.275-25.3-21.725-39.875-30.799C80.712 279.645 48 267.994 48 259.2c0-23.375 8.8-44 35.2-44 35.2 0 53.075 26.4 70.4 26.4V83.2c0-18.425 16.5-35.2 35.2-35.2 18.975 0 35.2 16.225 35.2 35.2zM352 424c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24z"]},faHandPointer:{prefix:"far",iconName:"hand-pointer",icon:[448,512,[],"f25a","M358.182 179.361c-19.493-24.768-52.679-31.945-79.872-19.098-15.127-15.687-36.182-22.487-56.595-19.629V67c0-36.944-29.736-67-66.286-67S89.143 30.056 89.143 67v161.129c-19.909-7.41-43.272-5.094-62.083 8.872-29.355 21.795-35.793 63.333-14.55 93.152l109.699 154.001C134.632 501.59 154.741 512 176 512h178.286c30.802 0 57.574-21.5 64.557-51.797l27.429-118.999A67.873 67.873 0 0 0 448 326v-84c0-46.844-46.625-79.273-89.818-62.639zM80.985 279.697l27.126 38.079c8.995 12.626 29.031 6.287 29.031-9.283V67c0-25.12 36.571-25.16 36.571 0v175c0 8.836 7.163 16 16 16h6.857c8.837 0 16-7.164 16-16v-35c0-25.12 36.571-25.16 36.571 0v35c0 8.836 7.163 16 16 16H272c8.837 0 16-7.164 16-16v-21c0-25.12 36.571-25.16 36.571 0v21c0 8.836 7.163 16 16 16h6.857c8.837 0 16-7.164 16-16 0-25.121 36.571-25.16 36.571 0v84c0 1.488-.169 2.977-.502 4.423l-27.43 119.001c-1.978 8.582-9.29 14.576-17.782 14.576H176c-5.769 0-11.263-2.878-14.697-7.697l-109.712-154c-14.406-20.223 14.994-42.818 29.394-22.606zM176.143 400v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.733 0-14-7.163-14-16zm75.428 0v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.732 0-14-7.163-14-16zM327 400v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.732 0-14-7.163-14-16z"]},faHandRock:{prefix:"far",iconName:"hand-rock",icon:[512,512,[],"f255","M408.864 79.052c-22.401-33.898-66.108-42.273-98.813-23.588-29.474-31.469-79.145-31.093-108.334-.022-47.16-27.02-108.71 5.055-110.671 60.806C44.846 105.407 0 140.001 0 187.429v56.953c0 32.741 14.28 63.954 39.18 85.634l97.71 85.081c4.252 3.702 3.11 5.573 3.11 32.903 0 17.673 14.327 32 32 32h252c17.673 0 32-14.327 32-32 0-23.513-1.015-30.745 3.982-42.37l42.835-99.656c6.094-14.177 9.183-29.172 9.183-44.568V146.963c0-52.839-54.314-88.662-103.136-67.911zM464 261.406a64.505 64.505 0 0 1-5.282 25.613l-42.835 99.655c-5.23 12.171-7.883 25.04-7.883 38.25V432H188v-10.286c0-16.37-7.14-31.977-19.59-42.817l-97.71-85.08C56.274 281.255 48 263.236 48 244.381v-56.953c0-33.208 52-33.537 52 .677v41.228a16 16 0 0 0 5.493 12.067l7 6.095A16 16 0 0 0 139 235.429V118.857c0-33.097 52-33.725 52 .677v26.751c0 8.836 7.164 16 16 16h7c8.836 0 16-7.164 16-16v-41.143c0-33.134 52-33.675 52 .677v40.466c0 8.836 7.163 16 16 16h7c8.837 0 16-7.164 16-16v-27.429c0-33.03 52-33.78 52 .677v26.751c0 8.836 7.163 16 16 16h7c8.837 0 16-7.164 16-16 0-33.146 52-33.613 52 .677v114.445z"]},faHandScissors:{prefix:"far",iconName:"hand-scissors",icon:[512,512,[],"f257","M256 480l70-.013c5.114 0 10.231-.583 15.203-1.729l118.999-27.427C490.56 443.835 512 417.02 512 386.277V180.575c0-23.845-13.03-45.951-34.005-57.69l-97.999-54.853c-34.409-19.261-67.263-5.824-92.218 24.733L142.85 37.008c-37.887-14.579-80.612 3.727-95.642 41.201-15.098 37.642 3.635 80.37 41.942 95.112L168 192l-94-9.141c-40.804 0-74 32.811-74 73.14 0 40.33 33.196 73.141 74 73.141h87.635c-3.675 26.245 8.692 51.297 30.341 65.006C178.657 436.737 211.044 480 256 480zm0-48.013c-25.16 0-25.12-36.567 0-36.567 8.837 0 16-7.163 16-16v-6.856c0-8.837-7.163-16-16-16h-28c-25.159 0-25.122-36.567 0-36.567h28c8.837 0 16-7.163 16-16v-6.856c0-8.837-7.163-16-16-16H74c-34.43 0-34.375-50.281 0-50.281h182c8.837 0 16-7.163 16-16v-11.632a16 16 0 0 0-10.254-14.933L106.389 128.51c-31.552-12.14-13.432-59.283 19.222-46.717l166.549 64.091a16.001 16.001 0 0 0 18.139-4.812l21.764-26.647c5.82-7.127 16.348-9.064 24.488-4.508l98 54.854c5.828 3.263 9.449 9.318 9.449 15.805v205.701c0 8.491-5.994 15.804-14.576 17.782l-119.001 27.427a19.743 19.743 0 0 1-4.423.502h-70z"]},faHandSpock:{prefix:"far",iconName:"hand-spock",icon:[512,512,[],"f259","M501.03053,116.17605c-19.39059-31.50779-51.24406-35.72849-66.31044-35.01756-14.11325-50.81051-62.0038-54.08-70.73816-54.08a74.03091,74.03091,0,0,0-72.23816,58.916l-4.64648,22.66014-13.68357-53.207c-9.09569-35.37107-46.412-64.05074-89.66-53.07223a73.89749,73.89749,0,0,0-55.121,78.94722,73.68273,73.68273,0,0,0-64.8495,94.42181l24.35933,82.19721c-38.24017-7.54492-62.79677,16.18358-68.11512,21.84764a73.6791,73.6791,0,0,0,3.19921,104.19329l91.36509,85.9765A154.164,154.164,0,0,0,220.62279,512h107.4549A127.30079,127.30079,0,0,0,452.3392,413.86139l57.623-241.96272A73.20274,73.20274,0,0,0,501.03053,116.17605Zm-37.7597,44.60544L405.64788,402.74812a79.46616,79.46616,0,0,1-77.57019,61.25972H220.62279a106.34052,106.34052,0,0,1-73.1366-28.998l-91.369-85.98041C31.34381,325.72669,66.61133,288.131,91.39644,311.5392l51.123,48.10739c5.42577,5.10937,13.48239.71679,13.48239-5.82617a246.79914,246.79914,0,0,0-10.17771-70.1523l-36.01362-121.539c-9.7324-32.88279,39.69916-47.27145,49.38664-14.625l31.3437,105.77923c5.59374,18.90428,33.78119,10.71288,28.9648-8.00781L177.06427,80.23662c-8.50389-33.1035,41.43157-45.64646,49.86515-12.83593l47.32609,184.035c4.42773,17.24218,29.16207,16.5039,32.71089-.80468l31.791-154.9706c6.81054-33.1074,57.51748-24.10741,50.11906,11.96288L360.32764,246.78924c-3.72265,18.10936,23.66793,24.63084,28.05659,6.21679L413.185,148.85962C421.1498,115.512,471.14,127.79713,463.27083,160.78149Z"]},faHandshake:{prefix:"far",iconName:"handshake",icon:[640,512,[],"f2b5","M519.2 127.9l-47.6-47.6A56.252 56.252 0 0 0 432 64H205.2c-14.8 0-29.1 5.9-39.6 16.3L118 127.9H0v255.7h64c17.6 0 31.8-14.2 31.9-31.7h9.1l84.6 76.4c30.9 25.1 73.8 25.7 105.6 3.8 12.5 10.8 26 15.9 41.1 15.9 18.2 0 35.3-7.4 48.8-24 22.1 8.7 48.2 2.6 64-16.8l26.2-32.3c5.6-6.9 9.1-14.8 10.9-23h57.9c.1 17.5 14.4 31.7 31.9 31.7h64V127.9H519.2zM48 351.6c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16c0 8.9-7.2 16-16 16zm390-6.9l-26.1 32.2c-2.8 3.4-7.8 4-11.3 1.2l-23.9-19.4-30 36.5c-6 7.3-15 4.8-18 2.4l-36.8-31.5-15.6 19.2c-13.9 17.1-39.2 19.7-55.3 6.6l-97.3-88H96V175.8h41.9l61.7-61.6c2-.8 3.7-1.5 5.7-2.3H262l-38.7 35.5c-29.4 26.9-31.1 72.3-4.4 101.3 14.8 16.2 61.2 41.2 101.5 4.4l8.2-7.5 108.2 87.8c3.4 2.8 3.9 7.9 1.2 11.3zm106-40.8h-69.2c-2.3-2.8-4.9-5.4-7.7-7.7l-102.7-83.4 12.5-11.4c6.5-6 7-16.1 1-22.6L367 167.1c-6-6.5-16.1-6.9-22.6-1l-55.2 50.6c-9.5 8.7-25.7 9.4-34.6 0-9.3-9.9-8.5-25.1 1.2-33.9l65.6-60.1c7.4-6.8 17-10.5 27-10.5l83.7-.2c2.1 0 4.1.8 5.5 2.3l61.7 61.6H544v128zm48 47.7c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16c0 8.9-7.2 16-16 16z"]},faHdd:{prefix:"far",iconName:"hdd",icon:[576,512,[],"f0a0","M567.403 235.642L462.323 84.589A48 48 0 0 0 422.919 64H153.081a48 48 0 0 0-39.404 20.589L8.597 235.642A48.001 48.001 0 0 0 0 263.054V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V263.054c0-9.801-3-19.366-8.597-27.412zM153.081 112h269.838l77.913 112H75.168l77.913-112zM528 400H48V272h480v128zm-32-64c0 17.673-14.327 32-32 32s-32-14.327-32-32 14.327-32 32-32 32 14.327 32 32zm-96 0c0 17.673-14.327 32-32 32s-32-14.327-32-32 14.327-32 32-32 32 14.327 32 32z"]},faHeart:{prefix:"far",iconName:"heart",icon:[512,512,[],"f004","M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"]},faHospital:{prefix:"far",iconName:"hospital",icon:[448,512,[],"f0f8","M128 244v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12zm140 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm-76 84v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm76 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm180 124v36H0v-36c0-6.627 5.373-12 12-12h19.5V85.035C31.5 73.418 42.245 64 55.5 64H144V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v40h88.5c13.255 0 24 9.418 24 21.035V464H436c6.627 0 12 5.373 12 12zM79.5 463H192v-67c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v67h112.5V112H304v24c0 13.255-10.745 24-24 24H168c-13.255 0-24-10.745-24-24v-24H79.5v351zM266 64h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6z"]},faHourglass:{prefix:"far",iconName:"hourglass",icon:[384,512,[],"f254","M368 48h4c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12H12C5.373 0 0 5.373 0 12v24c0 6.627 5.373 12 12 12h4c0 80.564 32.188 165.807 97.18 208C47.899 298.381 16 383.9 16 464h-4c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h360c6.627 0 12-5.373 12-12v-24c0-6.627-5.373-12-12-12h-4c0-80.564-32.188-165.807-97.18-208C336.102 213.619 368 128.1 368 48zM64 48h256c0 101.62-57.307 184-128 184S64 149.621 64 48zm256 416H64c0-101.62 57.308-184 128-184s128 82.38 128 184z"]},faIdBadge:{prefix:"far",iconName:"id-badge",icon:[384,512,[],"f2c1","M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm0 464H48V48h288v416zM144 112h96c8.8 0 16-7.2 16-16s-7.2-16-16-16h-96c-8.8 0-16 7.2-16 16s7.2 16 16 16zm48 176c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z"]},faIdCard:{prefix:"far",iconName:"id-card",icon:[576,512,[],"f2c2","M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 400H303.2c.9-4.5.8 3.6.8-22.4 0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6 0 26-.2 17.9.8 22.4H48V144h480v288zm-168-80h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm-168 96c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64z"]},faImage:{prefix:"far",iconName:"image",icon:[512,512,[],"f03e","M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"]},faImages:{prefix:"far",iconName:"images",icon:[576,512,[],"f302","M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z"]},faKeyboard:{prefix:"far",iconName:"keyboard",icon:[576,512,[],"f11c","M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm8 336c0 4.411-3.589 8-8 8H48c-4.411 0-8-3.589-8-8V112c0-4.411 3.589-8 8-8h480c4.411 0 8 3.589 8 8v288zM170 270v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm-336 82v-28c0-6.627-5.373-12-12-12H82c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm384 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zM122 188v-28c0-6.627-5.373-12-12-12H82c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm-98 158v-16c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v16c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"]},faKiss:{prefix:"far",iconName:"kiss",icon:[496,512,[],"f596","M168 176c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm136 132c0-19.2-28.8-41.5-71.5-44-3.8-.4-7.4 2.4-8.2 6.2-.9 3.8 1.1 7.7 4.7 9.2l16.9 7.2c13 5.5 20.8 13.5 20.8 21.5s-7.8 16-20.7 21.5l-17 7.2c-5.7 2.4-6 12.2 0 14.8l16.9 7.2c13 5.5 20.8 13.5 20.8 21.5s-7.8 16-20.7 21.5l-17 7.2c-3.6 1.5-5.6 5.4-4.7 9.2.8 3.6 4.1 6.2 7.8 6.2h.5c42.8-2.5 71.5-24.8 71.5-44 0-13-13.4-27.3-35.2-36C290.6 335.3 304 321 304 308zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm80-280c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"]},faKissBeam:{prefix:"far",iconName:"kiss-beam",icon:[496,512,[],"f597","M168 152c-23.8 0-52.7 29.3-56 71.4-.3 3.7 2 7.2 5.6 8.3 3.5 1 7.5-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 5.9-4.5 5.6-8.3-3.1-42.1-32-71.4-55.8-71.4zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm56-148c0-19.2-28.8-41.5-71.5-44-3.8-.4-7.4 2.4-8.2 6.2-.9 3.8 1.1 7.7 4.7 9.2l16.9 7.2c13 5.5 20.8 13.5 20.8 21.5s-7.8 16-20.7 21.5l-17 7.2c-5.7 2.4-6 12.2 0 14.8l16.9 7.2c13 5.5 20.8 13.5 20.8 21.5s-7.8 16-20.7 21.5l-17 7.2c-3.6 1.5-5.6 5.4-4.7 9.2.8 3.6 4.1 6.2 7.8 6.2h.5c42.8-2.5 71.5-24.8 71.5-44 0-13-13.4-27.3-35.2-36C290.6 335.3 304 321 304 308zm24-156c-23.8 0-52.7 29.3-56 71.4-.3 3.7 2 7.2 5.6 8.3 3.5 1 7.5-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 5.9-4.5 5.6-8.3-3.1-42.1-32-71.4-55.8-71.4z"]},faKissWinkHeart:{prefix:"far",iconName:"kiss-wink-heart",icon:[504,512,[],"f598","M304 308.5c0-19.2-28.8-41.5-71.5-44-3.8-.4-7.4 2.4-8.2 6.2-.9 3.8 1.1 7.7 4.7 9.2l16.9 7.2c13 5.5 20.8 13.5 20.8 21.5s-7.8 16-20.7 21.5l-17 7.2c-5.7 2.4-6 12.2 0 14.8l16.9 7.2c13 5.5 20.8 13.5 20.8 21.5s-7.8 16-20.7 21.5l-17 7.2c-3.6 1.5-5.6 5.4-4.7 9.2.8 3.6 4.1 6.2 7.8 6.2h.5c42.8-2.5 71.5-24.8 71.5-44 0-13-13.4-27.3-35.2-36 21.7-9.1 35.1-23.4 35.1-36.4zm70.5-83.5l9.5 8.5c3.8 3.3 9.3 4 13.7 1.6 4.4-2.4 6.9-7.4 6.1-12.4-4-25.2-34.2-42.1-59.8-42.1s-55.9 16.9-59.8 42.1c-.8 5 1.7 10 6.1 12.4 5.8 3.1 11.2.7 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0zM136 208.5c0 17.7 14.3 32 32 32s32-14.3 32-32-14.3-32-32-32-32 14.3-32 32zm365.1 194c-8-20.8-31.5-31.5-53.1-25.9l-8.4 2.2-2.3-8.4c-5.9-21.4-27-36.5-49-33-25.2 4-40.6 28.6-34 52.6l22.9 82.6c1.5 5.3 7 8.5 12.4 7.1l83-21.5c24.1-6.3 37.7-31.8 28.5-55.7zM334 436.3c-26.1 12.5-55.2 19.7-86 19.7-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200c0 22.1-3.7 43.3-10.4 63.2 9 6.4 17 14.2 22.6 23.9 6.4.1 12.6 1.4 18.6 2.9 10.9-27.9 17.1-58.2 17.1-90C496 119 385 8 248 8S0 119 0 256s111 248 248 248c35.4 0 68.9-7.5 99.4-20.9-2.5-7.3 4.3 17.2-13.4-46.8z"]},faLaugh:{prefix:"far",iconName:"laugh",icon:[496,512,[],"f599","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm141.4 389.4c-37.8 37.8-88 58.6-141.4 58.6s-103.6-20.8-141.4-58.6S48 309.4 48 256s20.8-103.6 58.6-141.4S194.6 56 248 56s103.6 20.8 141.4 58.6S448 202.6 448 256s-20.8 103.6-58.6 141.4zM328 224c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm-160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm194.4 64H133.6c-8.2 0-14.5 7-13.5 15 7.5 59.2 58.9 105 121.1 105h13.6c62.2 0 113.6-45.8 121.1-105 1-8-5.3-15-13.5-15z"]},faLaughBeam:{prefix:"far",iconName:"laugh-beam",icon:[496,512,[],"f59a","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm141.4 389.4c-37.8 37.8-88 58.6-141.4 58.6s-103.6-20.8-141.4-58.6S48 309.4 48 256s20.8-103.6 58.6-141.4S194.6 56 248 56s103.6 20.8 141.4 58.6S448 202.6 448 256s-20.8 103.6-58.6 141.4zM328 152c-23.8 0-52.7 29.3-56 71.4-.7 8.6 10.8 11.9 14.9 4.5l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c4.1 7.4 15.6 4 14.9-4.5-3.1-42.1-32-71.4-55.8-71.4zm-201 75.9l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c4.1 7.4 15.6 4 14.9-4.5-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.6 8.5 10.9 11.9 15.1 4.5zM362.4 288H133.6c-8.2 0-14.5 7-13.5 15 7.5 59.2 58.9 105 121.1 105h13.6c62.2 0 113.6-45.8 121.1-105 1-8-5.3-15-13.5-15z"]},faLaughSquint:{prefix:"far",iconName:"laugh-squint",icon:[496,512,[],"f59b","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm141.4 389.4c-37.8 37.8-88 58.6-141.4 58.6s-103.6-20.8-141.4-58.6S48 309.4 48 256s20.8-103.6 58.6-141.4S194.6 56 248 56s103.6 20.8 141.4 58.6S448 202.6 448 256s-20.8 103.6-58.6 141.4zM343.6 196l33.6-40.3c8.6-10.3-3.8-24.8-15.4-18l-80 48c-7.8 4.7-7.8 15.9 0 20.6l80 48c11.5 6.8 24-7.6 15.4-18L343.6 196zm-209.4 58.3l80-48c7.8-4.7 7.8-15.9 0-20.6l-80-48c-11.6-6.9-24 7.7-15.4 18l33.6 40.3-33.6 40.3c-8.7 10.4 3.8 24.8 15.4 18zM362.4 288H133.6c-8.2 0-14.5 7-13.5 15 7.5 59.2 58.9 105 121.1 105h13.6c62.2 0 113.6-45.8 121.1-105 1-8-5.3-15-13.5-15z"]},faLaughWink:{prefix:"far",iconName:"laugh-wink",icon:[496,512,[],"f59c","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm141.4 389.4c-37.8 37.8-88 58.6-141.4 58.6s-103.6-20.8-141.4-58.6C68.8 359.6 48 309.4 48 256s20.8-103.6 58.6-141.4C144.4 76.8 194.6 56 248 56s103.6 20.8 141.4 58.6c37.8 37.8 58.6 88 58.6 141.4s-20.8 103.6-58.6 141.4zM328 164c-25.7 0-55.9 16.9-59.9 42.1-1.7 11.2 11.5 18.2 19.8 10.8l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c8.5 7.4 21.6.3 19.8-10.8-3.8-25.2-34-42.1-59.7-42.1zm-160 60c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm194.4 64H133.6c-8.2 0-14.5 7-13.5 15 7.5 59.2 58.9 105 121.1 105h13.6c62.2 0 113.6-45.8 121.1-105 1-8-5.3-15-13.5-15z"]},faLemon:{prefix:"far",iconName:"lemon",icon:[512,512,[],"f094","M484.112 27.889C455.989-.233 416.108-8.057 387.059 8.865 347.604 31.848 223.504-41.111 91.196 91.197-41.277 223.672 31.923 347.472 8.866 387.058c-16.922 29.051-9.1 68.932 19.022 97.054 28.135 28.135 68.011 35.938 97.057 19.021 39.423-22.97 163.557 49.969 295.858-82.329 132.474-132.477 59.273-256.277 82.331-295.861 16.922-29.05 9.1-68.931-19.022-97.054zm-22.405 72.894c-38.8 66.609 45.6 165.635-74.845 286.08-120.44 120.443-219.475 36.048-286.076 74.843-22.679 13.207-64.035-27.241-50.493-50.488 38.8-66.609-45.6-165.635 74.845-286.08C245.573 4.702 344.616 89.086 411.219 50.292c22.73-13.24 64.005 27.288 50.488 50.491zm-169.861 8.736c1.37 10.96-6.404 20.957-17.365 22.327-54.846 6.855-135.779 87.787-142.635 142.635-1.373 10.989-11.399 18.734-22.326 17.365-10.961-1.37-18.735-11.366-17.365-22.326 9.162-73.286 104.167-168.215 177.365-177.365 10.953-1.368 20.956 6.403 22.326 17.364z"]},faLifeRing:{prefix:"far",iconName:"life-ring",icon:[512,512,[],"f1cd","M256 504c136.967 0 248-111.033 248-248S392.967 8 256 8 8 119.033 8 256s111.033 248 248 248zm-103.398-76.72l53.411-53.411c31.806 13.506 68.128 13.522 99.974 0l53.411 53.411c-63.217 38.319-143.579 38.319-206.796 0zM336 256c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zm91.28 103.398l-53.411-53.411c13.505-31.806 13.522-68.128 0-99.974l53.411-53.411c38.319 63.217 38.319 143.579 0 206.796zM359.397 84.72l-53.411 53.411c-31.806-13.505-68.128-13.522-99.973 0L152.602 84.72c63.217-38.319 143.579-38.319 206.795 0zM84.72 152.602l53.411 53.411c-13.506 31.806-13.522 68.128 0 99.974L84.72 359.398c-38.319-63.217-38.319-143.579 0-206.796z"]},faLightbulb:{prefix:"far",iconName:"lightbulb",icon:[352,512,[],"f0eb","M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"]},faListAlt:{prefix:"far",iconName:"list-alt",icon:[512,512,[],"f022","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v340a6 6 0 0 1-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"]},faMap:{prefix:"far",iconName:"map",icon:[576,512,[],"f279","M560.02 32c-1.96 0-3.98.37-5.96 1.16L384.01 96H384L212 35.28A64.252 64.252 0 0 0 191.76 32c-6.69 0-13.37 1.05-19.81 3.14L20.12 87.95A32.006 32.006 0 0 0 0 117.66v346.32C0 473.17 7.53 480 15.99 480c1.96 0 3.97-.37 5.96-1.16L192 416l172 60.71a63.98 63.98 0 0 0 40.05.15l151.83-52.81A31.996 31.996 0 0 0 576 394.34V48.02c0-9.19-7.53-16.02-15.98-16.02zM224 90.42l128 45.19v285.97l-128-45.19V90.42zM48 418.05V129.07l128-44.53v286.2l-.64.23L48 418.05zm480-35.13l-128 44.53V141.26l.64-.24L528 93.95v288.97z"]},faMeh:{prefix:"far",iconName:"meh",icon:[496,512,[],"f11a","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm8 144H160c-13.2 0-24 10.8-24 24s10.8 24 24 24h176c13.2 0 24-10.8 24-24s-10.8-24-24-24z"]},faMehBlank:{prefix:"far",iconName:"meh-blank",icon:[496,512,[],"f5a4","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-280c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"]},faMehRollingEyes:{prefix:"far",iconName:"meh-rolling-eyes",icon:[496,512,[],"f5a5","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm88-304c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 112c-22.1 0-40-17.9-40-40 0-13.6 7.3-25.1 17.7-32.3-1 2.6-1.7 5.3-1.7 8.3 0 13.3 10.7 24 24 24s24-10.7 24-24c0-2.9-.7-5.7-1.7-8.3 10.4 7.2 17.7 18.7 17.7 32.3 0 22.1-17.9 40-40 40zm-104-40c0-39.8-32.2-72-72-72s-72 32.2-72 72 32.2 72 72 72 72-32.2 72-72zm-112 0c0-13.6 7.3-25.1 17.7-32.3-1 2.6-1.7 5.3-1.7 8.3 0 13.3 10.7 24 24 24s24-10.7 24-24c0-2.9-.7-5.7-1.7-8.3 10.4 7.2 17.7 18.7 17.7 32.3 0 22.1-17.9 40-40 40s-40-17.9-40-40zm192 128H184c-13.2 0-24 10.8-24 24s10.8 24 24 24h128c13.2 0 24-10.8 24-24s-10.8-24-24-24z"]},faMinusSquare:{prefix:"far",iconName:"minus-square",icon:[448,512,[],"f146","M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H108zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faMoneyBillAlt:{prefix:"far",iconName:"money-bill-alt",icon:[640,512,[],"f3d1","M320 144c-53.02 0-96 50.14-96 112 0 61.85 42.98 112 96 112 53 0 96-50.13 96-112 0-61.86-42.98-112-96-112zm40 168c0 4.42-3.58 8-8 8h-64c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h16v-55.44l-.47.31a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09l15.33-10.22a23.99 23.99 0 0 1 13.31-4.03H328c4.42 0 8 3.58 8 8v88h16c4.42 0 8 3.58 8 8v16zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zm-16 272c-35.35 0-64 28.65-64 64H112c0-35.35-28.65-64-64-64V176c35.35 0 64-28.65 64-64h416c0 35.35 28.65 64 64 64v160z"]},faMoon:{prefix:"far",iconName:"moon",icon:[512,512,[],"f186","M279.135 512c78.756 0 150.982-35.804 198.844-94.775 28.27-34.831-2.558-85.722-46.249-77.401-82.348 15.683-158.272-47.268-158.272-130.792 0-48.424 26.06-92.292 67.434-115.836 38.745-22.05 28.999-80.788-15.022-88.919A257.936 257.936 0 0 0 279.135 0c-141.36 0-256 114.575-256 256 0 141.36 114.576 256 256 256zm0-464c12.985 0 25.689 1.201 38.016 3.478-54.76 31.163-91.693 90.042-91.693 157.554 0 113.848 103.641 199.2 215.252 177.944C402.574 433.964 344.366 464 279.135 464c-114.875 0-208-93.125-208-208s93.125-208 208-208z"]},faNewspaper:{prefix:"far",iconName:"newspaper",icon:[576,512,[],"f1ea","M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48 392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480 8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0 12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12 12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"]},faObjectGroup:{prefix:"far",iconName:"object-group",icon:[512,512,[],"f247","M500 128c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12h-72c-6.627 0-12 5.373-12 12v12H96V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v72c0 6.627 5.373 12 12 12h12v256H12c-6.627 0-12 5.373-12 12v72c0 6.627 5.373 12 12 12h72c6.627 0 12-5.373 12-12v-12h320v12c0 6.627 5.373 12 12 12h72c6.627 0 12-5.373 12-12v-72c0-6.627-5.373-12-12-12h-12V128h12zm-52-64h32v32h-32V64zM32 64h32v32H32V64zm32 384H32v-32h32v32zm416 0h-32v-32h32v32zm-40-64h-12c-6.627 0-12 5.373-12 12v12H96v-12c0-6.627-5.373-12-12-12H72V128h12c6.627 0 12-5.373 12-12v-12h320v12c0 6.627 5.373 12 12 12h12v256zm-36-192h-84v-52c0-6.628-5.373-12-12-12H108c-6.627 0-12 5.372-12 12v168c0 6.628 5.373 12 12 12h84v52c0 6.628 5.373 12 12 12h200c6.627 0 12-5.372 12-12V204c0-6.628-5.373-12-12-12zm-268-24h144v112H136V168zm240 176H232v-24h76c6.627 0 12-5.372 12-12v-76h56v112z"]},faObjectUngroup:{prefix:"far",iconName:"object-ungroup",icon:[576,512,[],"f248","M564 224c6.627 0 12-5.373 12-12v-72c0-6.627-5.373-12-12-12h-72c-6.627 0-12 5.373-12 12v12h-88v-24h12c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12h-72c-6.627 0-12 5.373-12 12v12H96V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v72c0 6.627 5.373 12 12 12h12v160H12c-6.627 0-12 5.373-12 12v72c0 6.627 5.373 12 12 12h72c6.627 0 12-5.373 12-12v-12h88v24h-12c-6.627 0-12 5.373-12 12v72c0 6.627 5.373 12 12 12h72c6.627 0 12-5.373 12-12v-12h224v12c0 6.627 5.373 12 12 12h72c6.627 0 12-5.373 12-12v-72c0-6.627-5.373-12-12-12h-12V224h12zM352 64h32v32h-32V64zm0 256h32v32h-32v-32zM64 352H32v-32h32v32zm0-256H32V64h32v32zm32 216v-12c0-6.627-5.373-12-12-12H72V128h12c6.627 0 12-5.373 12-12v-12h224v12c0 6.627 5.373 12 12 12h12v160h-12c-6.627 0-12 5.373-12 12v12H96zm128 136h-32v-32h32v32zm280-64h-12c-6.627 0-12 5.373-12 12v12H256v-12c0-6.627-5.373-12-12-12h-12v-24h88v12c0 6.627 5.373 12 12 12h72c6.627 0 12-5.373 12-12v-72c0-6.627-5.373-12-12-12h-12v-88h88v12c0 6.627 5.373 12 12 12h12v160zm40 64h-32v-32h32v32zm0-256h-32v-32h32v32z"]},faPaperPlane:{prefix:"far",iconName:"paper-plane",icon:[512,512,[],"f1d8","M440 6.5L24 246.4c-34.4 19.9-31.1 70.8 5.7 85.9L144 379.6V464c0 46.4 59.2 65.5 86.6 28.6l43.8-59.1 111.9 46.2c5.9 2.4 12.1 3.6 18.3 3.6 8.2 0 16.3-2.1 23.6-6.2 12.8-7.2 21.6-20 23.9-34.5l59.4-387.2c6.1-40.1-36.9-68.8-71.5-48.9zM192 464v-64.6l36.6 15.1L192 464zm212.6-28.7l-153.8-63.5L391 169.5c10.7-15.5-9.5-33.5-23.7-21.2L155.8 332.6 48 288 464 48l-59.4 387.3z"]},faPauseCircle:{prefix:"far",iconName:"pause-circle",icon:[512,512,[],"f28b","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm96-280v160c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16zm-112 0v160c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16z"]},faPlayCircle:{prefix:"far",iconName:"play-circle",icon:[512,512,[],"f144","M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"]},faPlusSquare:{prefix:"far",iconName:"plus-square",icon:[448,512,[],"f0fe","M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"]},faQuestionCircle:{prefix:"far",iconName:"question-circle",icon:[512,512,[],"f059","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"]},faRegistered:{prefix:"far",iconName:"registered",icon:[512,512,[],"f25d","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532 0-200-89.451-200-200 0-110.531 89.451-200 200-200 110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200zm110.442-81.791c-53.046-96.284-50.25-91.468-53.271-96.085 24.267-13.879 39.482-41.563 39.482-73.176 0-52.503-30.247-85.252-101.498-85.252h-78.667c-6.617 0-12 5.383-12 12V380c0 6.617 5.383 12 12 12h38.568c6.617 0 12-5.383 12-12v-83.663h31.958l47.515 89.303a11.98 11.98 0 0 0 10.593 6.36h42.81c9.14 0 14.914-9.799 10.51-17.791zM256.933 239.906h-33.875v-64.14h27.377c32.417 0 38.929 12.133 38.929 31.709-.001 20.913-11.518 32.431-32.431 32.431z"]},faSadCry:{prefix:"far",iconName:"sad-cry",icon:[496,512,[],"f5b3","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm144 386.4V280c0-13.2-10.8-24-24-24s-24 10.8-24 24v151.4C315.5 447 282.8 456 248 456s-67.5-9-96-24.6V280c0-13.2-10.8-24-24-24s-24 10.8-24 24v114.4c-34.6-36-56-84.7-56-138.4 0-110.3 89.7-200 200-200s200 89.7 200 200c0 53.7-21.4 102.5-56 138.4zM205.8 234.5c4.4-2.4 6.9-7.4 6.1-12.4-4-25.2-34.2-42.1-59.8-42.1s-55.9 16.9-59.8 42.1c-.8 5 1.7 10 6.1 12.4 4.4 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.3 7.9 4.8 13.7 1.6zM344 180c-25.7 0-55.9 16.9-59.8 42.1-.8 5 1.7 10 6.1 12.4 4.5 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.2 8 4.7 13.7 1.6 4.4-2.4 6.9-7.4 6.1-12.4-3.9-25.2-34.1-42.1-59.8-42.1zm-96 92c-30.9 0-56 28.7-56 64s25.1 64 56 64 56-28.7 56-64-25.1-64-56-64z"]},faSadTear:{prefix:"far",iconName:"sad-tear",icon:[496,512,[],"f5b4","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm8-152c-13.2 0-24 10.8-24 24s10.8 24 24 24c23.8 0 46.3 10.5 61.6 28.8 8.1 9.8 23.2 11.9 33.8 3.1 10.2-8.5 11.6-23.6 3.1-33.8C330 320.8 294.1 304 256 304zm-88-64c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-165.6 98.8C151 290.1 126 325.4 126 342.9c0 22.7 18.8 41.1 42 41.1s42-18.4 42-41.1c0-17.5-25-52.8-36.4-68.1-2.8-3.7-8.4-3.7-11.2 0z"]},faSave:{prefix:"far",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"]},faShareSquare:{prefix:"far",iconName:"share-square",icon:[576,512,[],"f14d","M561.938 158.06L417.94 14.092C387.926-15.922 336 5.097 336 48.032v57.198c-42.45 1.88-84.03 6.55-120.76 17.99-35.17 10.95-63.07 27.58-82.91 49.42C108.22 199.2 96 232.6 96 271.94c0 61.697 33.178 112.455 84.87 144.76 37.546 23.508 85.248-12.651 71.02-55.74-15.515-47.119-17.156-70.923 84.11-78.76V336c0 42.993 51.968 63.913 81.94 33.94l143.998-144c18.75-18.74 18.75-49.14 0-67.88zM384 336V232.16C255.309 234.082 166.492 255.35 206.31 376 176.79 357.55 144 324.08 144 271.94c0-109.334 129.14-118.947 240-119.85V48l144 144-144 144zm24.74 84.493a82.658 82.658 0 0 0 20.974-9.303c7.976-4.952 18.286.826 18.286 10.214V464c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h132c6.627 0 12 5.373 12 12v4.486c0 4.917-2.987 9.369-7.569 11.152-13.702 5.331-26.396 11.537-38.05 18.585a12.138 12.138 0 0 1-6.28 1.777H54a6 6 0 0 0-6 6v340a6 6 0 0 0 6 6h340a6 6 0 0 0 6-6v-25.966c0-5.37 3.579-10.059 8.74-11.541z"]},faSmile:{prefix:"far",iconName:"smile",icon:[496,512,[],"f118","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"]},faSmileBeam:{prefix:"far",iconName:"smile-beam",icon:[496,512,[],"f5b8","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm84-143.4c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.6-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.2-8.4-25.3-7.1-33.8 3.1zM136.5 211c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4s-52.7 29.3-56 71.4c-.3 3.7 2.1 7.2 5.7 8.3 3.4 1.1 7.4-.5 9.3-3.7l9.5-17zM328 152c-23.8 0-52.7 29.3-56 71.4-.3 3.7 2.1 7.2 5.7 8.3 3.5 1.1 7.4-.5 9.3-3.7l9.5-17c7.7-13.7 19.2-21.6 31.5-21.6s23.8 7.9 31.5 21.6l9.5 17c2.1 3.7 6.2 4.7 9.3 3.7 3.6-1.1 6-4.5 5.7-8.3-3.3-42.1-32.2-71.4-56-71.4z"]},faSmileWink:{prefix:"far",iconName:"smile-wink",icon:[496,512,[],"f4da","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm117.8-146.4c-10.2-8.5-25.3-7.1-33.8 3.1-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8zM168 240c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-60c-25.7 0-55.9 16.9-59.9 42.1-1.7 11.2 11.5 18.2 19.8 10.8l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c8.5 7.4 21.6.3 19.8-10.8-3.8-25.2-34-42.1-59.7-42.1z"]},faSnowflake:{prefix:"far",iconName:"snowflake",icon:[448,512,[],"f2dc","M440.1 355.2l-39.2-23 34.1-9.3c8.4-2.3 13.4-11.1 11.1-19.6l-4.1-15.5c-2.2-8.5-10.9-13.6-19.3-11.3L343 298.2 271.2 256l71.9-42.2 79.7 21.7c8.4 2.3 17-2.8 19.3-11.3l4.1-15.5c2.2-8.5-2.7-17.3-11.1-19.6l-34.1-9.3 39.2-23c7.5-4.4 10.1-14.2 5.8-21.9l-7.9-13.9c-4.3-7.7-14-10.3-21.5-5.9l-39.2 23 9.1-34.7c2.2-8.5-2.7-17.3-11.1-19.6l-15.2-4.1c-8.4-2.3-17 2.8-19.3 11.3l-21.3 81-71.9 42.2v-84.5L306 70.4c6.1-6.2 6.1-16.4 0-22.6l-11.1-11.3c-6.1-6.2-16.1-6.2-22.2 0l-24.9 25.4V16c0-8.8-7-16-15.7-16h-15.7c-8.7 0-15.7 7.2-15.7 16v46.1l-24.9-25.4c-6.1-6.2-16.1-6.2-22.2 0L142.1 48c-6.1 6.2-6.1 16.4 0 22.6l58.3 59.3v84.5l-71.9-42.2-21.3-81c-2.2-8.5-10.9-13.6-19.3-11.3L72.7 84c-8.4 2.3-13.4 11.1-11.1 19.6l9.1 34.7-39.2-23c-7.5-4.4-17.1-1.8-21.5 5.9l-7.9 13.9c-4.3 7.7-1.8 17.4 5.8 21.9l39.2 23-34.1 9.1c-8.4 2.3-13.4 11.1-11.1 19.6L6 224.2c2.2 8.5 10.9 13.6 19.3 11.3l79.7-21.7 71.9 42.2-71.9 42.2-79.7-21.7c-8.4-2.3-17 2.8-19.3 11.3l-4.1 15.5c-2.2 8.5 2.7 17.3 11.1 19.6l34.1 9.3-39.2 23c-7.5 4.4-10.1 14.2-5.8 21.9L10 391c4.3 7.7 14 10.3 21.5 5.9l39.2-23-9.1 34.7c-2.2 8.5 2.7 17.3 11.1 19.6l15.2 4.1c8.4 2.3 17-2.8 19.3-11.3l21.3-81 71.9-42.2v84.5l-58.3 59.3c-6.1 6.2-6.1 16.4 0 22.6l11.1 11.3c6.1 6.2 16.1 6.2 22.2 0l24.9-25.4V496c0 8.8 7 16 15.7 16h15.7c8.7 0 15.7-7.2 15.7-16v-46.1l24.9 25.4c6.1 6.2 16.1 6.2 22.2 0l11.1-11.3c6.1-6.2 6.1-16.4 0-22.6l-58.3-59.3v-84.5l71.9 42.2 21.3 81c2.2 8.5 10.9 13.6 19.3 11.3L375 428c8.4-2.3 13.4-11.1 11.1-19.6l-9.1-34.7 39.2 23c7.5 4.4 17.1 1.8 21.5-5.9l7.9-13.9c4.6-7.5 2.1-17.3-5.5-21.7z"]},faSquare:{prefix:"far",iconName:"square",icon:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"]},faStar:{prefix:"far",iconName:"star",icon:[576,512,[],"f005","M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"]},faStarHalf:{prefix:"far",iconName:"star-half",icon:[576,512,[],"f089","M288 385.3l-124.3 65.4 23.7-138.4-100.6-98 139-20.2 62.2-126V0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6v-54.3z"]},faStickyNote:{prefix:"far",iconName:"sticky-note",icon:[448,512,[],"f249","M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z"]},faStopCircle:{prefix:"far",iconName:"stop-circle",icon:[512,512,[],"f28d","M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm296-80v160c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16z"]},faSun:{prefix:"far",iconName:"sun",icon:[512,512,[],"f185","M494.2 221.9l-59.8-40.5 13.7-71c2.6-13.2-1.6-26.8-11.1-36.4-9.6-9.5-23.2-13.7-36.2-11.1l-70.9 13.7-40.4-59.9c-15.1-22.3-51.9-22.3-67 0l-40.4 59.9-70.8-13.7C98 60.4 84.5 64.5 75 74.1c-9.5 9.6-13.7 23.1-11.1 36.3l13.7 71-59.8 40.5C6.6 229.5 0 242 0 255.5s6.7 26 17.8 33.5l59.8 40.5-13.7 71c-2.6 13.2 1.6 26.8 11.1 36.3 9.5 9.5 22.9 13.7 36.3 11.1l70.8-13.7 40.4 59.9C230 505.3 242.6 512 256 512s26-6.7 33.5-17.8l40.4-59.9 70.9 13.7c13.4 2.7 26.8-1.6 36.3-11.1 9.5-9.5 13.6-23.1 11.1-36.3l-13.7-71 59.8-40.5c11.1-7.5 17.8-20.1 17.8-33.5-.1-13.6-6.7-26.1-17.9-33.7zm-112.9 85.6l17.6 91.2-91-17.6L256 458l-51.9-77-90.9 17.6 17.6-91.2-76.8-52 76.8-52-17.6-91.2 91 17.6L256 53l51.9 76.9 91-17.6-17.6 91.1 76.8 52-76.8 52.1zM256 152c-57.3 0-104 46.7-104 104s46.7 104 104 104 104-46.7 104-104-46.7-104-104-104zm0 160c-30.9 0-56-25.1-56-56s25.1-56 56-56 56 25.1 56 56-25.1 56-56 56z"]},faSurprise:{prefix:"far",iconName:"surprise",icon:[496,512,[],"f5c2","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm0-176c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64zm-48-72c0-17.7-14.3-32-32-32s-32 14.3-32 32 14.3 32 32 32 32-14.3 32-32zm128-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"]},faThumbsDown:{prefix:"far",iconName:"thumbs-down",icon:[512,512,[],"f165","M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"]},faThumbsUp:{prefix:"far",iconName:"thumbs-up",icon:[512,512,[],"f164","M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"]},faTimesCircle:{prefix:"far",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"]},faTired:{prefix:"far",iconName:"tired",icon:[496,512,[],"f5c8","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm129.1-303.8c-3.8-4.4-10.3-5.4-15.3-2.5l-80 48c-3.6 2.2-5.8 6.1-5.8 10.3s2.2 8.1 5.8 10.3l80 48c5.4 3.2 11.8 1.6 15.3-2.5 3.8-4.5 3.9-11 .1-15.5L343.6 208l33.6-40.3c3.8-4.5 3.7-11.1-.1-15.5zM220 208c0-4.2-2.2-8.1-5.8-10.3l-80-48c-5-3-11.5-1.9-15.3 2.5-3.8 4.5-3.9 11-.1 15.5l33.6 40.3-33.6 40.3c-3.8 4.5-3.7 11 .1 15.5 3.5 4.1 9.9 5.7 15.3 2.5l80-48c3.6-2.2 5.8-6.1 5.8-10.3zm28 64c-45.4 0-100.9 38.3-107.8 93.3-1.5 11.8 6.9 21.6 15.5 17.9C178.4 373.5 212 368 248 368s69.6 5.5 92.3 15.2c8.5 3.7 17-6 15.5-17.9-6.9-55-62.4-93.3-107.8-93.3z"]},faTrashAlt:{prefix:"far",iconName:"trash-alt",icon:[448,512,[],"f2ed","M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"]},faUser:{prefix:"far",iconName:"user",icon:[448,512,[],"f007","M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"]},faUserCircle:{prefix:"far",iconName:"user-circle",icon:[496,512,[],"f2bd","M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"]},faWindowClose:{prefix:"far",iconName:"window-close",icon:[512,512,[],"f410","M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h404c3.3 0 6 2.7 6 6v340zM356.5 194.6L295.1 256l61.4 61.4c4.6 4.6 4.6 12.1 0 16.8l-22.3 22.3c-4.6 4.6-12.1 4.6-16.8 0L256 295.1l-61.4 61.4c-4.6 4.6-12.1 4.6-16.8 0l-22.3-22.3c-4.6-4.6-4.6-12.1 0-16.8l61.4-61.4-61.4-61.4c-4.6-4.6-4.6-12.1 0-16.8l22.3-22.3c4.6-4.6 12.1-4.6 16.8 0l61.4 61.4 61.4-61.4c4.6-4.6 12.1-4.6 16.8 0l22.3 22.3c4.7 4.6 4.7 12.1 0 16.8z"]},faWindowMaximize:{prefix:"far",iconName:"window-maximize",icon:[512,512,[],"f2d0","M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V192h416v234z"]},faWindowMinimize:{prefix:"far",iconName:"window-minimize",icon:[512,512,[],"f2d1","M480 480H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h448c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},faWindowRestore:{prefix:"far",iconName:"window-restore",icon:[512,512,[],"f2d2","M464 0H144c-26.5 0-48 21.5-48 48v48H48c-26.5 0-48 21.5-48 48v320c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-96 464H48V256h320v208zm96-96h-48V144c0-26.5-21.5-48-48-48H144V48h320v320z"]}};let nte=(()=>{class t{constructor(){P4.add(tte)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t,bootstrap:[cZ]}),t.\u0275inj=Gt({providers:[],imports:[[ZR,lZ,dz,QV,c7,IL]]}),t})();sb=!1,JR().bootstrapModule(nte).catch(t=>console.error(t))},170:pn=>{"use strict";var Ke=Object.prototype.hasOwnProperty,Me="~";function be(){}function Ve(re,qe,Pe){this.fn=re,this.context=qe,this.once=Pe||!1}function ze(re,qe,Pe,Re,ut){if("function"!=typeof Pe)throw new TypeError("The listener must be a function");var Et=new Ve(Pe,Re||re,ut),ht=Me?Me+qe:qe;return re._events[ht]?re._events[ht].fn?re._events[ht]=[re._events[ht],Et]:re._events[ht].push(Et):(re._events[ht]=Et,re._eventsCount++),re}function Ie(re,qe){0==--re._eventsCount?re._events=new be:delete re._events[qe]}function ke(){this._events=new be,this._eventsCount=0}Object.create&&(be.prototype=Object.create(null),(new be).__proto__||(Me=!1)),ke.prototype.eventNames=function(){var Pe,Re,qe=[];if(0===this._eventsCount)return qe;for(Re in Pe=this._events)Ke.call(Pe,Re)&&qe.push(Me?Re.slice(1):Re);return Object.getOwnPropertySymbols?qe.concat(Object.getOwnPropertySymbols(Pe)):qe},ke.prototype.listeners=function(qe){var Re=this._events[Me?Me+qe:qe];if(!Re)return[];if(Re.fn)return[Re.fn];for(var ut=0,Et=Re.length,ht=new Array(Et);ut<Et;ut++)ht[ut]=Re[ut].fn;return ht},ke.prototype.listenerCount=function(qe){var Re=this._events[Me?Me+qe:qe];return Re?Re.fn?1:Re.length:0},ke.prototype.emit=function(qe,Pe,Re,ut,Et,ht){var tn=Me?Me+qe:qe;if(!this._events[tn])return!1;var Gn,kt,je=this._events[tn],Fn=arguments.length;if(je.fn){switch(je.once&&this.removeListener(qe,je.fn,void 0,!0),Fn){case 1:return je.fn.call(je.context),!0;case 2:return je.fn.call(je.context,Pe),!0;case 3:return je.fn.call(je.context,Pe,Re),!0;case 4:return je.fn.call(je.context,Pe,Re,ut),!0;case 5:return je.fn.call(je.context,Pe,Re,ut,Et),!0;case 6:return je.fn.call(je.context,Pe,Re,ut,Et,ht),!0}for(kt=1,Gn=new Array(Fn-1);kt<Fn;kt++)Gn[kt-1]=arguments[kt];je.fn.apply(je.context,Gn)}else{var ir,Ee=je.length;for(kt=0;kt<Ee;kt++)switch(je[kt].once&&this.removeListener(qe,je[kt].fn,void 0,!0),Fn){case 1:je[kt].fn.call(je[kt].context);break;case 2:je[kt].fn.call(je[kt].context,Pe);break;case 3:je[kt].fn.call(je[kt].context,Pe,Re);break;case 4:je[kt].fn.call(je[kt].context,Pe,Re,ut);break;default:if(!Gn)for(ir=1,Gn=new Array(Fn-1);ir<Fn;ir++)Gn[ir-1]=arguments[ir];je[kt].fn.apply(je[kt].context,Gn)}}return!0},ke.prototype.on=function(qe,Pe,Re){return ze(this,qe,Pe,Re,!1)},ke.prototype.once=function(qe,Pe,Re){return ze(this,qe,Pe,Re,!0)},ke.prototype.removeListener=function(qe,Pe,Re,ut){var Et=Me?Me+qe:qe;if(!this._events[Et])return this;if(!Pe)return Ie(this,Et),this;var ht=this._events[Et];if(ht.fn)ht.fn===Pe&&(!ut||ht.once)&&(!Re||ht.context===Re)&&Ie(this,Et);else{for(var tn=0,je=[],Fn=ht.length;tn<Fn;tn++)(ht[tn].fn!==Pe||ut&&!ht[tn].once||Re&&ht[tn].context!==Re)&&je.push(ht[tn]);je.length?this._events[Et]=1===je.length?je[0]:je:Ie(this,Et)}return this},ke.prototype.removeAllListeners=function(qe){var Pe;return qe?this._events[Pe=Me?Me+qe:qe]&&Ie(this,Pe):(this._events=new be,this._eventsCount=0),this},ke.prototype.off=ke.prototype.removeListener,ke.prototype.addListener=ke.prototype.on,ke.prefixed=Me,ke.EventEmitter=ke,pn.exports=ke},469:pn=>{"use strict";function Ke(k,ee,j){j=j||2;var ce,Ce,me,gt,Oe,We,Xe,le=ee&&ee.length,ne=le?ee[0]*j:k.length,G=Me(k,0,ne,j,!0),Z=[];if(!G||G.next===G.prev)return Z;if(le&&(G=function(k,ee,j,le){var G,Z,me,ne=[];for(G=0,Z=ee.length;G<Z;G++)(me=Me(k,ee[G]*le,G<Z-1?ee[G+1]*le:k.length,le,!1))===me.next&&(me.steiner=!0),ne.push(Fn(me));for(ne.sort(Pe),G=0;G<ne.length;G++)j=be(j=Re(ne[G],j),j.next);return j}(k,ee,G,j)),k.length>80*j){ce=me=k[0],Ce=gt=k[1];for(var Je=j;Je<ne;Je+=j)(Oe=k[Je])<ce&&(ce=Oe),(We=k[Je+1])<Ce&&(Ce=We),Oe>me&&(me=Oe),We>gt&&(gt=We);Xe=0!==(Xe=Math.max(me-ce,gt-Ce))?1/Xe:0}return Ve(G,Z,j,ce,Ce,Xe),Z}function Me(k,ee,j,le,ne){var G,Z;if(ne===it(k,ee,j,le)>0)for(G=ee;G<j;G+=le)Z=Bt(G,k[G],k[G+1],Z);else for(G=j-le;G>=ee;G-=le)Z=Bt(G,k[G],k[G+1],Z);return Z&&ir(Z,Z.next)&&(Dt(Z),Z=Z.next),Z}function be(k,ee){if(!k)return k;ee||(ee=k);var le,j=k;do{if(le=!1,j.steiner||!ir(j,j.next)&&0!==Ee(j.prev,j,j.next))j=j.next;else{if(Dt(j),(j=ee=j.prev)===j.next)break;le=!0}}while(le||j!==ee);return ee}function Ve(k,ee,j,le,ne,G,Z){if(k){!Z&&G&&function(k,ee,j,le){var ne=k;do{null===ne.z&&(ne.z=je(ne.x,ne.y,ee,j,le)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next}while(ne!==k);ne.prevZ.nextZ=null,ne.prevZ=null,function(k){var ee,j,le,ne,G,Z,ce,Ce,me=1;do{for(j=k,k=null,G=null,Z=0;j;){for(Z++,le=j,ce=0,ee=0;ee<me&&(ce++,le=le.nextZ);ee++);for(Ce=me;ce>0||Ce>0&&le;)0!==ce&&(0===Ce||!le||j.z<=le.z)?(ne=j,j=j.nextZ,ce--):(ne=le,le=le.nextZ,Ce--),G?G.nextZ=ne:k=ne,ne.prevZ=G,G=ne;j=le}G.nextZ=null,me*=2}while(Z>1)}(ne)}(k,le,ne,G);for(var Ce,me,ce=k;k.prev!==k.next;)if(Ce=k.prev,me=k.next,G?Ie(k,le,ne,G):ze(k))ee.push(Ce.i/j),ee.push(k.i/j),ee.push(me.i/j),Dt(k),k=me.next,ce=me.next;else if((k=me)===ce){Z?1===Z?Ve(k=ke(be(k),ee,j),ee,j,le,ne,G,2):2===Z&&re(k,ee,j,le,ne,G):Ve(be(k),ee,j,le,ne,G,1);break}}}function ze(k){var ee=k.prev,j=k,le=k.next;if(Ee(ee,j,le)>=0)return!1;for(var ne=k.next.next;ne!==k.prev;){if(Gn(ee.x,ee.y,j.x,j.y,le.x,le.y,ne.x,ne.y)&&Ee(ne.prev,ne,ne.next)>=0)return!1;ne=ne.next}return!0}function Ie(k,ee,j,le){var ne=k.prev,G=k,Z=k.next;if(Ee(ne,G,Z)>=0)return!1;for(var me=ne.x>G.x?ne.x>Z.x?ne.x:Z.x:G.x>Z.x?G.x:Z.x,gt=ne.y>G.y?ne.y>Z.y?ne.y:Z.y:G.y>Z.y?G.y:Z.y,Oe=je(ne.x<G.x?ne.x<Z.x?ne.x:Z.x:G.x<Z.x?G.x:Z.x,ne.y<G.y?ne.y<Z.y?ne.y:Z.y:G.y<Z.y?G.y:Z.y,ee,j,le),We=je(me,gt,ee,j,le),Xe=k.prevZ,Je=k.nextZ;Xe&&Xe.z>=Oe&&Je&&Je.z<=We;){if(Xe!==k.prev&&Xe!==k.next&&Gn(ne.x,ne.y,G.x,G.y,Z.x,Z.y,Xe.x,Xe.y)&&Ee(Xe.prev,Xe,Xe.next)>=0||(Xe=Xe.prevZ,Je!==k.prev&&Je!==k.next&&Gn(ne.x,ne.y,G.x,G.y,Z.x,Z.y,Je.x,Je.y)&&Ee(Je.prev,Je,Je.next)>=0))return!1;Je=Je.nextZ}for(;Xe&&Xe.z>=Oe;){if(Xe!==k.prev&&Xe!==k.next&&Gn(ne.x,ne.y,G.x,G.y,Z.x,Z.y,Xe.x,Xe.y)&&Ee(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.prevZ}for(;Je&&Je.z<=We;){if(Je!==k.prev&&Je!==k.next&&Gn(ne.x,ne.y,G.x,G.y,Z.x,Z.y,Je.x,Je.y)&&Ee(Je.prev,Je,Je.next)>=0)return!1;Je=Je.nextZ}return!0}function ke(k,ee,j){var le=k;do{var ne=le.prev,G=le.next.next;!ir(ne,G)&&kn(ne,le,le.next,G)&&ue(ne,G)&&ue(G,ne)&&(ee.push(ne.i/j),ee.push(le.i/j),ee.push(G.i/j),Dt(le),Dt(le.next),le=k=G),le=le.next}while(le!==k);return be(le)}function re(k,ee,j,le,ne,G){var Z=k;do{for(var ce=Z.next.next;ce!==Z.prev;){if(Z.i!==ce.i&&kt(Z,ce)){var Ce=ie(Z,ce);return Z=be(Z,Z.next),Ce=be(Ce,Ce.next),Ve(Z,ee,j,le,ne,G),void Ve(Ce,ee,j,le,ne,G)}ce=ce.next}Z=Z.next}while(Z!==k)}function Pe(k,ee){return k.x-ee.x}function Re(k,ee){var j=function(k,ee){var Z,j=ee,le=k.x,ne=k.y,G=-1/0;do{if(ne<=j.y&&ne>=j.next.y&&j.next.y!==j.y){var ce=j.x+(ne-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(ce<=le&&ce>G){if(G=ce,ce===le){if(ne===j.y)return j;if(ne===j.next.y)return j.next}Z=j.x<j.next.x?j:j.next}}j=j.next}while(j!==ee);if(!Z)return null;if(le===G)return Z;var We,Ce=Z,me=Z.x,gt=Z.y,Oe=1/0;j=Z;do{le>=j.x&&j.x>=me&&le!==j.x&&Gn(ne<gt?le:G,ne,me,gt,ne<gt?G:le,ne,j.x,j.y)&&(We=Math.abs(ne-j.y)/(le-j.x),ue(j,k)&&(We<Oe||We===Oe&&(j.x>Z.x||j.x===Z.x&&Et(Z,j)))&&(Z=j,Oe=We)),j=j.next}while(j!==Ce);return Z}(k,ee);if(!j)return ee;var le=ie(j,k),ne=be(j,j.next);return be(le,le.next),ee===j?ne:ee}function Et(k,ee){return Ee(k.prev,k,ee.prev)<0&&Ee(ee.next,k,k.next)<0}function je(k,ee,j,le,ne){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-j)*ne)|k<<8))|k<<4))|k<<2))|k<<1))|(ee=1431655765&((ee=858993459&((ee=252645135&((ee=16711935&((ee=32767*(ee-le)*ne)|ee<<8))|ee<<4))|ee<<2))|ee<<1))<<1}function Fn(k){var ee=k,j=k;do{(ee.x<j.x||ee.x===j.x&&ee.y<j.y)&&(j=ee),ee=ee.next}while(ee!==k);return j}function Gn(k,ee,j,le,ne,G,Z,ce){return(ne-Z)*(ee-ce)-(k-Z)*(G-ce)>=0&&(k-Z)*(le-ce)-(j-Z)*(ee-ce)>=0&&(j-Z)*(G-ce)-(ne-Z)*(le-ce)>=0}function kt(k,ee){return k.next.i!==ee.i&&k.prev.i!==ee.i&&!function(k,ee){var j=k;do{if(j.i!==k.i&&j.next.i!==k.i&&j.i!==ee.i&&j.next.i!==ee.i&&kn(j,j.next,k,ee))return!0;j=j.next}while(j!==k);return!1}(k,ee)&&(ue(k,ee)&&ue(ee,k)&&function(k,ee){var j=k,le=!1,ne=(k.x+ee.x)/2,G=(k.y+ee.y)/2;do{j.y>G!=j.next.y>G&&j.next.y!==j.y&&ne<(j.next.x-j.x)*(G-j.y)/(j.next.y-j.y)+j.x&&(le=!le),j=j.next}while(j!==k);return le}(k,ee)&&(Ee(k.prev,k,ee.prev)||Ee(k,ee.prev,ee))||ir(k,ee)&&Ee(k.prev,k,k.next)>0&&Ee(ee.prev,ee,ee.next)>0)}function Ee(k,ee,j){return(ee.y-k.y)*(j.x-ee.x)-(ee.x-k.x)*(j.y-ee.y)}function ir(k,ee){return k.x===ee.x&&k.y===ee.y}function kn(k,ee,j,le){var ne=hr(Ee(k,ee,j)),G=hr(Ee(k,ee,le)),Z=hr(Ee(j,le,k)),ce=hr(Ee(j,le,ee));return!!(ne!==G&&Z!==ce||0===ne&&Ln(k,j,ee)||0===G&&Ln(k,le,ee)||0===Z&&Ln(j,k,le)||0===ce&&Ln(j,ee,le))}function Ln(k,ee,j){return ee.x<=Math.max(k.x,j.x)&&ee.x>=Math.min(k.x,j.x)&&ee.y<=Math.max(k.y,j.y)&&ee.y>=Math.min(k.y,j.y)}function hr(k){return k>0?1:k<0?-1:0}function ue(k,ee){return Ee(k.prev,k,k.next)<0?Ee(k,ee,k.next)>=0&&Ee(k,k.prev,ee)>=0:Ee(k,ee,k.prev)<0||Ee(k,k.next,ee)<0}function ie(k,ee){var j=new un(k.i,k.x,k.y),le=new un(ee.i,ee.x,ee.y),ne=k.next,G=ee.prev;return k.next=ee,ee.prev=k,j.next=ne,ne.prev=j,le.next=j,j.prev=le,G.next=le,le.prev=G,le}function Bt(k,ee,j,le){var ne=new un(k,ee,j);return le?(ne.next=le.next,ne.prev=le,le.next.prev=ne,le.next=ne):(ne.prev=ne,ne.next=ne),ne}function Dt(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function un(k,ee,j){this.i=k,this.x=ee,this.y=j,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function it(k,ee,j,le){for(var ne=0,G=ee,Z=j-le;G<j;G+=le)ne+=(k[Z]-k[G])*(k[G+1]+k[Z+1]),Z=G;return ne}pn.exports=Ke,pn.exports.default=Ke,Ke.deviation=function(k,ee,j,le){var ne=ee&&ee.length,Z=Math.abs(it(k,0,ne?ee[0]*j:k.length,j));if(ne)for(var ce=0,Ce=ee.length;ce<Ce;ce++)Z-=Math.abs(it(k,ee[ce]*j,ce<Ce-1?ee[ce+1]*j:k.length,j));var Oe=0;for(ce=0;ce<le.length;ce+=3){var We=le[ce]*j,Xe=le[ce+1]*j,Je=le[ce+2]*j;Oe+=Math.abs((k[We]-k[Je])*(k[Xe+1]-k[We+1])-(k[We]-k[Xe])*(k[Je+1]-k[We+1]))}return 0===Z&&0===Oe?0:Math.abs((Oe-Z)/Z)},Ke.flatten=function(k){for(var ee=k[0][0].length,j={vertices:[],holes:[],dimensions:ee},le=0,ne=0;ne<k.length;ne++){for(var G=0;G<k[ne].length;G++)for(var Z=0;Z<ee;Z++)j.vertices.push(k[ne][G][Z]);ne>0&&j.holes.push(le+=k[ne-1].length)}return j}},531:function(pn,Ke){"use strict";var Me=this&&this.__read||function(Ie,ke){var re="function"==typeof Symbol&&Ie[Symbol.iterator];if(!re)return Ie;var Pe,ut,qe=re.call(Ie),Re=[];try{for(;(void 0===ke||ke-- >0)&&!(Pe=qe.next()).done;)Re.push(Pe.value)}catch(Et){ut={error:Et}}finally{try{Pe&&!Pe.done&&(re=qe.return)&&re.call(qe)}finally{if(ut)throw ut.error}}return Re};function Ve(Ie,ke){if(ke){var re=Ie[Ie.length-1];re&&"text"===re.type?(re.value+=ke,re.raw+=ke):Ie.push({type:"text",math:!1,value:ke,raw:ke})}}function ze(Ie,ke,re){!re||Ie.push({type:ke,math:!0,value:re.replace(/\\\$/g,"$"),raw:re})}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.SEGMENTS_REGEX=/(\\\$)|\$\$(.*?[^\\])\$\$|\$(.*?[^\\])\$/,Ke.extractMath=function(Ie){var re,Pe,ut,Et,ht,Re=[],tn=Me(Ie.split(Ke.SEGMENTS_REGEX)),je=tn[0],Fn=tn.slice(1);for(Ve(Re,je);Fn.length>0;)ut=(re=Me(Fn))[0],Et=re[1],ht=re[2],Fn=re.slice(3),ut?Ve(Re,"$"):Et?ze(Re,"display",Et):ht&&ze(Re,"inline",ht),je=(Pe=Me(Fn))[0],Fn=Pe.slice(1),Ve(Re,je);return Re}},587:function(pn){"undefined"!=typeof self&&self,pn.exports=function(Ke){var Me={};function be(Ve){if(Me[Ve])return Me[Ve].exports;var ze=Me[Ve]={i:Ve,l:!1,exports:{}};return Ke[Ve].call(ze.exports,ze,ze.exports,be),ze.l=!0,ze.exports}return be.m=Ke,be.c=Me,be.d=function(Ve,ze,Ie){be.o(Ve,ze)||Object.defineProperty(Ve,ze,{enumerable:!0,get:Ie})},be.r=function(Ve){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ve,"__esModule",{value:!0})},be.t=function(Ve,ze){if(1&ze&&(Ve=be(Ve)),8&ze||4&ze&&"object"==typeof Ve&&Ve&&Ve.__esModule)return Ve;var Ie=Object.create(null);if(be.r(Ie),Object.defineProperty(Ie,"default",{enumerable:!0,value:Ve}),2&ze&&"string"!=typeof Ve)for(var ke in Ve)be.d(Ie,ke,function(re){return Ve[re]}.bind(null,ke));return Ie},be.n=function(Ve){var ze=Ve&&Ve.__esModule?function(){return Ve.default}:function(){return Ve};return be.d(ze,"a",ze),ze},be.o=function(Ve,ze){return Object.prototype.hasOwnProperty.call(Ve,ze)},be.p="",be(be.s=1)}([function(Ke,Me,be){},function(Ke,Me,be){"use strict";be.r(Me),be(0);var ze=function(){function w(p,m,g){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=p,this.start=m,this.end=g}return w.range=function(m,g){return g?m&&m.loc&&g.loc&&m.loc.lexer===g.loc.lexer?new w(m.loc.lexer,m.loc.start,g.loc.end):null:m&&m.loc},w}(),Ie=function(){function w(m,g){this.text=void 0,this.loc=void 0,this.text=m,this.loc=g}return w.prototype.range=function(g,_){return new w(_,ze.range(this,g))},w}(),ke=function w(p,m){this.position=void 0;var _,g="KaTeX parse error: "+p,C=m&&m.loc;if(C&&C.start<=C.end){var D=C.lexer.input,I=C.end;g+=(_=C.start)===D.length?" at end of input: ":" at position "+(_+1)+": ";var P=D.slice(_,I).replace(/[^]/g,"$&\u0332");g+=(_>15?"\u2026"+D.slice(_-15,_):D.slice(0,_))+P+(I+15<D.length?D.slice(I,I+15)+"\u2026":D.slice(I))}var J=new Error(g);return J.name="ParseError",J.__proto__=w.prototype,J.position=_,J};ke.prototype.__proto__=Error.prototype;var re=ke,Re=/([A-Z])/g,Et={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ht=/[&><"']/g;var je=function w(p){return"ordgroup"===p.type||"color"===p.type?1===p.body.length?w(p.body[0]):p:"font"===p.type?w(p.body):p},Ee={contains:function(p,m){return-1!==p.indexOf(m)},deflt:function(p,m){return void 0===p?m:p},escape:function(w){return String(w).replace(ht,function(p){return Et[p]})},hyphenate:function(p){return p.replace(Re,"-$1").toLowerCase()},getBaseElem:je,isCharacterBox:function(p){var m=je(p);return"mathord"===m.type||"textord"===m.type||"atom"===m.type},protocolFromUrl:function(p){var m=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(p);return null!=m?m[1]:"_relative"}},ir=function(){function w(m){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.displayMode=Ee.deflt((m=m||{}).displayMode,!1),this.output=Ee.deflt(m.output,"htmlAndMathml"),this.leqno=Ee.deflt(m.leqno,!1),this.fleqn=Ee.deflt(m.fleqn,!1),this.throwOnError=Ee.deflt(m.throwOnError,!0),this.errorColor=Ee.deflt(m.errorColor,"#cc0000"),this.macros=m.macros||{},this.minRuleThickness=Math.max(0,Ee.deflt(m.minRuleThickness,0)),this.colorIsTextColor=Ee.deflt(m.colorIsTextColor,!1),this.strict=Ee.deflt(m.strict,"warn"),this.trust=Ee.deflt(m.trust,!1),this.maxSize=Math.max(0,Ee.deflt(m.maxSize,1/0)),this.maxExpand=Math.max(0,Ee.deflt(m.maxExpand,1e3))}var p=w.prototype;return p.reportNonstrict=function(g,_,C){var D=this.strict;if("function"==typeof D&&(D=D(g,_,C)),D&&"ignore"!==D){if(!0===D||"error"===D)throw new re("LaTeX-incompatible input and strict mode is set to 'error': "+_+" ["+g+"]",C);"warn"===D?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+_+" ["+g+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+D+"': "+_+" ["+g+"]")}},p.useStrictBehavior=function(g,_,C){var D=this.strict;if("function"==typeof D)try{D=D(g,_,C)}catch(I){D="error"}return!(!D||"ignore"===D||!0!==D&&"error"!==D&&("warn"===D?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+_+" ["+g+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+D+"': "+_+" ["+g+"]"),1)))},p.isTrusted=function(g){g.url&&!g.protocol&&(g.protocol=Ee.protocolFromUrl(g.url));var _="function"==typeof this.trust?this.trust(g):this.trust;return Boolean(_)},w}(),kn=function(){function w(m,g,_){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=m,this.size=g,this.cramped=_}var p=w.prototype;return p.sup=function(){return un[it[this.id]]},p.sub=function(){return un[k[this.id]]},p.fracNum=function(){return un[ee[this.id]]},p.fracDen=function(){return un[j[this.id]]},p.cramp=function(){return un[le[this.id]]},p.text=function(){return un[ne[this.id]]},p.isTight=function(){return this.size>=2},w}(),un=[new kn(0,0,!1),new kn(1,0,!0),new kn(2,1,!1),new kn(3,1,!0),new kn(4,2,!1),new kn(5,2,!0),new kn(6,3,!1),new kn(7,3,!0)],it=[4,5,4,5,6,7,6,7],k=[5,5,5,5,7,7,7,7],ee=[2,3,4,5,6,7,6,7],j=[3,3,5,5,7,7,7,7],le=[1,1,3,3,5,5,7,7],ne=[0,1,2,3,2,3,2,3],G={DISPLAY:un[0],TEXT:un[2],SCRIPT:un[4],SCRIPTSCRIPT:un[6]},Z=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var Ce=[];function me(w){for(var p=0;p<Ce.length;p+=2)if(w>=Ce[p]&&w<=Ce[p+1])return!0;return!1}Z.forEach(function(w){return w.blocks.forEach(function(p){return Ce.push.apply(Ce,p)})});var Tn={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},$n=function(){function w(m){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=m,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var p=w.prototype;return p.hasClass=function(g){return Ee.contains(this.classes,g)},p.toNode=function(){for(var g=document.createDocumentFragment(),_=0;_<this.children.length;_++)g.appendChild(this.children[_].toNode());return g},p.toMarkup=function(){for(var g="",_=0;_<this.children.length;_++)g+=this.children[_].toMarkup();return g},p.toText=function(){return this.children.map(function(C){return C.toText()}).join("")},w}(),Mr=function(p){return p.filter(function(m){return m}).join(" ")},yo=function(p,m,g){if(this.classes=p||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=g||{},m){m.style.isTight()&&this.classes.push("mtight");var _=m.getColor();_&&(this.style.color=_)}},Jo=function(p){var m=document.createElement(p);for(var g in m.className=Mr(this.classes),this.style)this.style.hasOwnProperty(g)&&(m.style[g]=this.style[g]);for(var _ in this.attributes)this.attributes.hasOwnProperty(_)&&m.setAttribute(_,this.attributes[_]);for(var C=0;C<this.children.length;C++)m.appendChild(this.children[C].toNode());return m},Su=function(p){var m="<"+p;this.classes.length&&(m+=' class="'+Ee.escape(Mr(this.classes))+'"');var g="";for(var _ in this.style)this.style.hasOwnProperty(_)&&(g+=Ee.hyphenate(_)+":"+this.style[_]+";");for(var C in g&&(m+=' style="'+Ee.escape(g)+'"'),this.attributes)this.attributes.hasOwnProperty(C)&&(m+=" "+C+'="'+Ee.escape(this.attributes[C])+'"');m+=">";for(var D=0;D<this.children.length;D++)m+=this.children[D].toMarkup();return m+"</"+p+">"},Is=function(){function w(m,g,_,C){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yo.call(this,m,_,C),this.children=g||[]}var p=w.prototype;return p.setAttribute=function(g,_){this.attributes[g]=_},p.hasClass=function(g){return Ee.contains(this.classes,g)},p.toNode=function(){return Jo.call(this,"span")},p.toMarkup=function(){return Su.call(this,"span")},w}(),Ps=function(){function w(m,g,_,C){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yo.call(this,g,C),this.children=_||[],this.setAttribute("href",m)}var p=w.prototype;return p.setAttribute=function(g,_){this.attributes[g]=_},p.hasClass=function(g){return Ee.contains(this.classes,g)},p.toNode=function(){return Jo.call(this,"a")},p.toMarkup=function(){return Su.call(this,"a")},w}(),xo=function(){function w(m,g,_){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=g,this.src=m,this.classes=["mord"],this.style=_}var p=w.prototype;return p.hasClass=function(g){return Ee.contains(this.classes,g)},p.toNode=function(){var g=document.createElement("img");for(var _ in g.src=this.src,g.alt=this.alt,g.className="mord",this.style)this.style.hasOwnProperty(_)&&(g.style[_]=this.style[_]);return g},p.toMarkup=function(){var g="<img  src='"+this.src+" 'alt='"+this.alt+"' ",_="";for(var C in this.style)this.style.hasOwnProperty(C)&&(_+=Ee.hyphenate(C)+":"+this.style[C]+";");return _&&(g+=' style="'+Ee.escape(_)+'"'),g+"'/>"},w}(),t2={\u00ee:"\u0131\u0302",\u00ef:"\u0131\u0308",\u00ed:"\u0131\u0301",\u00ec:"\u0131\u0300"},Gi=function(){function w(m,g,_,C,D,I,P,F){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=m,this.height=g||0,this.depth=_||0,this.italic=C||0,this.skew=D||0,this.width=I||0,this.classes=P||[],this.style=F||{},this.maxFontSize=0;var Y=function(w){for(var p=0;p<Z.length;p++)for(var m=Z[p],g=0;g<m.blocks.length;g++){var _=m.blocks[g];if(w>=_[0]&&w<=_[1])return m.name}return null}(this.text.charCodeAt(0));Y&&this.classes.push(Y+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=t2[this.text])}var p=w.prototype;return p.hasClass=function(g){return Ee.contains(this.classes,g)},p.toNode=function(){var g=document.createTextNode(this.text),_=null;for(var C in this.italic>0&&((_=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((_=_||document.createElement("span")).className=Mr(this.classes)),this.style)this.style.hasOwnProperty(C)&&((_=_||document.createElement("span")).style[C]=this.style[C]);return _?(_.appendChild(g),_):g},p.toMarkup=function(){var g=!1,_="<span";this.classes.length&&(g=!0,_+=' class="',_+=Ee.escape(Mr(this.classes)),_+='"');var C="";for(var D in this.italic>0&&(C+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(D)&&(C+=Ee.hyphenate(D)+":"+this.style[D]+";");C&&(g=!0,_+=' style="'+Ee.escape(C)+'"');var I=Ee.escape(this.text);return g?(_+=">",_+=I,_+="</span>"):I},w}(),za=function(){function w(m,g){this.children=void 0,this.attributes=void 0,this.children=m||[],this.attributes=g||{}}var p=w.prototype;return p.toNode=function(){var _=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&_.setAttribute(C,this.attributes[C]);for(var D=0;D<this.children.length;D++)_.appendChild(this.children[D].toNode());return _},p.toMarkup=function(){var g="<svg";for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&(g+=" "+_+"='"+this.attributes[_]+"'");g+=">";for(var C=0;C<this.children.length;C++)g+=this.children[C].toMarkup();return g+"</svg>"},w}(),fl=function(){function w(m,g){this.pathName=void 0,this.alternate=void 0,this.pathName=m,this.alternate=g}var p=w.prototype;return p.toNode=function(){var _=document.createElementNS("http://www.w3.org/2000/svg","path");return _.setAttribute("d",this.alternate?this.alternate:Tn[this.pathName]),_},p.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+Tn[this.pathName]+"'/>"},w}(),dc=function(){function w(m){this.attributes=void 0,this.attributes=m||{}}var p=w.prototype;return p.toNode=function(){var _=document.createElementNS("http://www.w3.org/2000/svg","line");for(var C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&_.setAttribute(C,this.attributes[C]);return _},p.toMarkup=function(){var g="<line";for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&(g+=" "+_+"='"+this.attributes[_]+"'");return g+"/>"},w}();function n2(w){if(w instanceof Gi)return w;throw new Error("Expected symbolNode but got "+String(w)+".")}var Va={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},hc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},pl={\u00c5:"A",\u00c7:"C",\u00d0:"D",\u00de:"o",\u00e5:"a",\u00e7:"c",\u00f0:"d",\u00fe:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041a:"K",\u041b:"N",\u041c:"M",\u041d:"H",\u041e:"O",\u041f:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042a:"B",\u042b:"X",\u042c:"B",\u042d:"3",\u042e:"X",\u042f:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043a:"n",\u043b:"n",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044a:"a",\u044b:"m",\u044c:"a",\u044d:"e",\u044e:"m",\u044f:"r"};function ml(w,p,m){if(!Va[p])throw new Error("Font metrics not found for font: "+p+".");var g=w.charCodeAt(0),_=Va[p][g];if(!_&&w[0]in pl&&(g=pl[w[0]].charCodeAt(0),_=Va[p][g]),!_&&"text"===m&&me(g)&&(_=Va[p][77]),_)return{depth:_[0],height:_[1],italic:_[2],skew:_[3],width:_[4]}}var gl={};var r2={bin:1,close:1,inner:1,open:1,punct:1,rel:1},T1={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Du={math:{},text:{}},Yn=Du;function x(w,p,m,g,_,C){Du[w][_]={font:p,group:m,replace:g},C&&g&&(Du[w][g]=Du[w][_])}var S="math",de="text",N="main",U="ams",qn="accent-token",Le="bin",Nr="close",Ga="inner",He="mathord",or="op-token",Ut="open",Ko="punct",H="rel",Pi="spacing",X="textord";x(S,N,H,"\u2261","\\equiv",!0),x(S,N,H,"\u227a","\\prec",!0),x(S,N,H,"\u227b","\\succ",!0),x(S,N,H,"\u223c","\\sim",!0),x(S,N,H,"\u22a5","\\perp"),x(S,N,H,"\u2aaf","\\preceq",!0),x(S,N,H,"\u2ab0","\\succeq",!0),x(S,N,H,"\u2243","\\simeq",!0),x(S,N,H,"\u2223","\\mid",!0),x(S,N,H,"\u226a","\\ll",!0),x(S,N,H,"\u226b","\\gg",!0),x(S,N,H,"\u224d","\\asymp",!0),x(S,N,H,"\u2225","\\parallel"),x(S,N,H,"\u22c8","\\bowtie",!0),x(S,N,H,"\u2323","\\smile",!0),x(S,N,H,"\u2291","\\sqsubseteq",!0),x(S,N,H,"\u2292","\\sqsupseteq",!0),x(S,N,H,"\u2250","\\doteq",!0),x(S,N,H,"\u2322","\\frown",!0),x(S,N,H,"\u220b","\\ni",!0),x(S,N,H,"\u221d","\\propto",!0),x(S,N,H,"\u22a2","\\vdash",!0),x(S,N,H,"\u22a3","\\dashv",!0),x(S,N,H,"\u220b","\\owns"),x(S,N,Ko,".","\\ldotp"),x(S,N,Ko,"\u22c5","\\cdotp"),x(S,N,X,"#","\\#"),x(de,N,X,"#","\\#"),x(S,N,X,"&","\\&"),x(de,N,X,"&","\\&"),x(S,N,X,"\u2135","\\aleph",!0),x(S,N,X,"\u2200","\\forall",!0),x(S,N,X,"\u210f","\\hbar",!0),x(S,N,X,"\u2203","\\exists",!0),x(S,N,X,"\u2207","\\nabla",!0),x(S,N,X,"\u266d","\\flat",!0),x(S,N,X,"\u2113","\\ell",!0),x(S,N,X,"\u266e","\\natural",!0),x(S,N,X,"\u2663","\\clubsuit",!0),x(S,N,X,"\u2118","\\wp",!0),x(S,N,X,"\u266f","\\sharp",!0),x(S,N,X,"\u2662","\\diamondsuit",!0),x(S,N,X,"\u211c","\\Re",!0),x(S,N,X,"\u2661","\\heartsuit",!0),x(S,N,X,"\u2111","\\Im",!0),x(S,N,X,"\u2660","\\spadesuit",!0),x(de,N,X,"\xa7","\\S",!0),x(de,N,X,"\xb6","\\P",!0),x(S,N,X,"\u2020","\\dag"),x(de,N,X,"\u2020","\\dag"),x(de,N,X,"\u2020","\\textdagger"),x(S,N,X,"\u2021","\\ddag"),x(de,N,X,"\u2021","\\ddag"),x(de,N,X,"\u2021","\\textdaggerdbl"),x(S,N,Nr,"\u23b1","\\rmoustache",!0),x(S,N,Ut,"\u23b0","\\lmoustache",!0),x(S,N,Nr,"\u27ef","\\rgroup",!0),x(S,N,Ut,"\u27ee","\\lgroup",!0),x(S,N,Le,"\u2213","\\mp",!0),x(S,N,Le,"\u2296","\\ominus",!0),x(S,N,Le,"\u228e","\\uplus",!0),x(S,N,Le,"\u2293","\\sqcap",!0),x(S,N,Le,"\u2217","\\ast"),x(S,N,Le,"\u2294","\\sqcup",!0),x(S,N,Le,"\u25ef","\\bigcirc"),x(S,N,Le,"\u2219","\\bullet"),x(S,N,Le,"\u2021","\\ddagger"),x(S,N,Le,"\u2240","\\wr",!0),x(S,N,Le,"\u2a3f","\\amalg"),x(S,N,Le,"&","\\And"),x(S,N,H,"\u27f5","\\longleftarrow",!0),x(S,N,H,"\u21d0","\\Leftarrow",!0),x(S,N,H,"\u27f8","\\Longleftarrow",!0),x(S,N,H,"\u27f6","\\longrightarrow",!0),x(S,N,H,"\u21d2","\\Rightarrow",!0),x(S,N,H,"\u27f9","\\Longrightarrow",!0),x(S,N,H,"\u2194","\\leftrightarrow",!0),x(S,N,H,"\u27f7","\\longleftrightarrow",!0),x(S,N,H,"\u21d4","\\Leftrightarrow",!0),x(S,N,H,"\u27fa","\\Longleftrightarrow",!0),x(S,N,H,"\u21a6","\\mapsto",!0),x(S,N,H,"\u27fc","\\longmapsto",!0),x(S,N,H,"\u2197","\\nearrow",!0),x(S,N,H,"\u21a9","\\hookleftarrow",!0),x(S,N,H,"\u21aa","\\hookrightarrow",!0),x(S,N,H,"\u2198","\\searrow",!0),x(S,N,H,"\u21bc","\\leftharpoonup",!0),x(S,N,H,"\u21c0","\\rightharpoonup",!0),x(S,N,H,"\u2199","\\swarrow",!0),x(S,N,H,"\u21bd","\\leftharpoondown",!0),x(S,N,H,"\u21c1","\\rightharpoondown",!0),x(S,N,H,"\u2196","\\nwarrow",!0),x(S,N,H,"\u21cc","\\rightleftharpoons",!0),x(S,U,H,"\u226e","\\nless",!0),x(S,U,H,"\ue010","\\@nleqslant"),x(S,U,H,"\ue011","\\@nleqq"),x(S,U,H,"\u2a87","\\lneq",!0),x(S,U,H,"\u2268","\\lneqq",!0),x(S,U,H,"\ue00c","\\@lvertneqq"),x(S,U,H,"\u22e6","\\lnsim",!0),x(S,U,H,"\u2a89","\\lnapprox",!0),x(S,U,H,"\u2280","\\nprec",!0),x(S,U,H,"\u22e0","\\npreceq",!0),x(S,U,H,"\u22e8","\\precnsim",!0),x(S,U,H,"\u2ab9","\\precnapprox",!0),x(S,U,H,"\u2241","\\nsim",!0),x(S,U,H,"\ue006","\\@nshortmid"),x(S,U,H,"\u2224","\\nmid",!0),x(S,U,H,"\u22ac","\\nvdash",!0),x(S,U,H,"\u22ad","\\nvDash",!0),x(S,U,H,"\u22ea","\\ntriangleleft"),x(S,U,H,"\u22ec","\\ntrianglelefteq",!0),x(S,U,H,"\u228a","\\subsetneq",!0),x(S,U,H,"\ue01a","\\@varsubsetneq"),x(S,U,H,"\u2acb","\\subsetneqq",!0),x(S,U,H,"\ue017","\\@varsubsetneqq"),x(S,U,H,"\u226f","\\ngtr",!0),x(S,U,H,"\ue00f","\\@ngeqslant"),x(S,U,H,"\ue00e","\\@ngeqq"),x(S,U,H,"\u2a88","\\gneq",!0),x(S,U,H,"\u2269","\\gneqq",!0),x(S,U,H,"\ue00d","\\@gvertneqq"),x(S,U,H,"\u22e7","\\gnsim",!0),x(S,U,H,"\u2a8a","\\gnapprox",!0),x(S,U,H,"\u2281","\\nsucc",!0),x(S,U,H,"\u22e1","\\nsucceq",!0),x(S,U,H,"\u22e9","\\succnsim",!0),x(S,U,H,"\u2aba","\\succnapprox",!0),x(S,U,H,"\u2246","\\ncong",!0),x(S,U,H,"\ue007","\\@nshortparallel"),x(S,U,H,"\u2226","\\nparallel",!0),x(S,U,H,"\u22af","\\nVDash",!0),x(S,U,H,"\u22eb","\\ntriangleright"),x(S,U,H,"\u22ed","\\ntrianglerighteq",!0),x(S,U,H,"\ue018","\\@nsupseteqq"),x(S,U,H,"\u228b","\\supsetneq",!0),x(S,U,H,"\ue01b","\\@varsupsetneq"),x(S,U,H,"\u2acc","\\supsetneqq",!0),x(S,U,H,"\ue019","\\@varsupsetneqq"),x(S,U,H,"\u22ae","\\nVdash",!0),x(S,U,H,"\u2ab5","\\precneqq",!0),x(S,U,H,"\u2ab6","\\succneqq",!0),x(S,U,H,"\ue016","\\@nsubseteqq"),x(S,U,Le,"\u22b4","\\unlhd"),x(S,U,Le,"\u22b5","\\unrhd"),x(S,U,H,"\u219a","\\nleftarrow",!0),x(S,U,H,"\u219b","\\nrightarrow",!0),x(S,U,H,"\u21cd","\\nLeftarrow",!0),x(S,U,H,"\u21cf","\\nRightarrow",!0),x(S,U,H,"\u21ae","\\nleftrightarrow",!0),x(S,U,H,"\u21ce","\\nLeftrightarrow",!0),x(S,U,H,"\u25b3","\\vartriangle"),x(S,U,X,"\u210f","\\hslash"),x(S,U,X,"\u25bd","\\triangledown"),x(S,U,X,"\u25ca","\\lozenge"),x(S,U,X,"\u24c8","\\circledS"),x(S,U,X,"\xae","\\circledR"),x(de,U,X,"\xae","\\circledR"),x(S,U,X,"\u2221","\\measuredangle",!0),x(S,U,X,"\u2204","\\nexists"),x(S,U,X,"\u2127","\\mho"),x(S,U,X,"\u2132","\\Finv",!0),x(S,U,X,"\u2141","\\Game",!0),x(S,U,X,"\u2035","\\backprime"),x(S,U,X,"\u25b2","\\blacktriangle"),x(S,U,X,"\u25bc","\\blacktriangledown"),x(S,U,X,"\u25a0","\\blacksquare"),x(S,U,X,"\u29eb","\\blacklozenge"),x(S,U,X,"\u2605","\\bigstar"),x(S,U,X,"\u2222","\\sphericalangle",!0),x(S,U,X,"\u2201","\\complement",!0),x(S,U,X,"\xf0","\\eth",!0),x(S,U,X,"\u2571","\\diagup"),x(S,U,X,"\u2572","\\diagdown"),x(S,U,X,"\u25a1","\\square"),x(S,U,X,"\u25a1","\\Box"),x(S,U,X,"\u25ca","\\Diamond"),x(S,U,X,"\xa5","\\yen",!0),x(de,U,X,"\xa5","\\yen",!0),x(S,U,X,"\u2713","\\checkmark",!0),x(de,U,X,"\u2713","\\checkmark"),x(S,U,X,"\u2136","\\beth",!0),x(S,U,X,"\u2138","\\daleth",!0),x(S,U,X,"\u2137","\\gimel",!0),x(S,U,X,"\u03dd","\\digamma",!0),x(S,U,X,"\u03f0","\\varkappa"),x(S,U,Ut,"\u250c","\\ulcorner",!0),x(S,U,Nr,"\u2510","\\urcorner",!0),x(S,U,Ut,"\u2514","\\llcorner",!0),x(S,U,Nr,"\u2518","\\lrcorner",!0),x(S,U,H,"\u2266","\\leqq",!0),x(S,U,H,"\u2a7d","\\leqslant",!0),x(S,U,H,"\u2a95","\\eqslantless",!0),x(S,U,H,"\u2272","\\lesssim",!0),x(S,U,H,"\u2a85","\\lessapprox",!0),x(S,U,H,"\u224a","\\approxeq",!0),x(S,U,Le,"\u22d6","\\lessdot"),x(S,U,H,"\u22d8","\\lll",!0),x(S,U,H,"\u2276","\\lessgtr",!0),x(S,U,H,"\u22da","\\lesseqgtr",!0),x(S,U,H,"\u2a8b","\\lesseqqgtr",!0),x(S,U,H,"\u2251","\\doteqdot"),x(S,U,H,"\u2253","\\risingdotseq",!0),x(S,U,H,"\u2252","\\fallingdotseq",!0),x(S,U,H,"\u223d","\\backsim",!0),x(S,U,H,"\u22cd","\\backsimeq",!0),x(S,U,H,"\u2ac5","\\subseteqq",!0),x(S,U,H,"\u22d0","\\Subset",!0),x(S,U,H,"\u228f","\\sqsubset",!0),x(S,U,H,"\u227c","\\preccurlyeq",!0),x(S,U,H,"\u22de","\\curlyeqprec",!0),x(S,U,H,"\u227e","\\precsim",!0),x(S,U,H,"\u2ab7","\\precapprox",!0),x(S,U,H,"\u22b2","\\vartriangleleft"),x(S,U,H,"\u22b4","\\trianglelefteq"),x(S,U,H,"\u22a8","\\vDash",!0),x(S,U,H,"\u22aa","\\Vvdash",!0),x(S,U,H,"\u2323","\\smallsmile"),x(S,U,H,"\u2322","\\smallfrown"),x(S,U,H,"\u224f","\\bumpeq",!0),x(S,U,H,"\u224e","\\Bumpeq",!0),x(S,U,H,"\u2267","\\geqq",!0),x(S,U,H,"\u2a7e","\\geqslant",!0),x(S,U,H,"\u2a96","\\eqslantgtr",!0),x(S,U,H,"\u2273","\\gtrsim",!0),x(S,U,H,"\u2a86","\\gtrapprox",!0),x(S,U,Le,"\u22d7","\\gtrdot"),x(S,U,H,"\u22d9","\\ggg",!0),x(S,U,H,"\u2277","\\gtrless",!0),x(S,U,H,"\u22db","\\gtreqless",!0),x(S,U,H,"\u2a8c","\\gtreqqless",!0),x(S,U,H,"\u2256","\\eqcirc",!0),x(S,U,H,"\u2257","\\circeq",!0),x(S,U,H,"\u225c","\\triangleq",!0),x(S,U,H,"\u223c","\\thicksim"),x(S,U,H,"\u2248","\\thickapprox"),x(S,U,H,"\u2ac6","\\supseteqq",!0),x(S,U,H,"\u22d1","\\Supset",!0),x(S,U,H,"\u2290","\\sqsupset",!0),x(S,U,H,"\u227d","\\succcurlyeq",!0),x(S,U,H,"\u22df","\\curlyeqsucc",!0),x(S,U,H,"\u227f","\\succsim",!0),x(S,U,H,"\u2ab8","\\succapprox",!0),x(S,U,H,"\u22b3","\\vartriangleright"),x(S,U,H,"\u22b5","\\trianglerighteq"),x(S,U,H,"\u22a9","\\Vdash",!0),x(S,U,H,"\u2223","\\shortmid"),x(S,U,H,"\u2225","\\shortparallel"),x(S,U,H,"\u226c","\\between",!0),x(S,U,H,"\u22d4","\\pitchfork",!0),x(S,U,H,"\u221d","\\varpropto"),x(S,U,H,"\u25c0","\\blacktriangleleft"),x(S,U,H,"\u2234","\\therefore",!0),x(S,U,H,"\u220d","\\backepsilon"),x(S,U,H,"\u25b6","\\blacktriangleright"),x(S,U,H,"\u2235","\\because",!0),x(S,U,H,"\u22d8","\\llless"),x(S,U,H,"\u22d9","\\gggtr"),x(S,U,Le,"\u22b2","\\lhd"),x(S,U,Le,"\u22b3","\\rhd"),x(S,U,H,"\u2242","\\eqsim",!0),x(S,N,H,"\u22c8","\\Join"),x(S,U,H,"\u2251","\\Doteq",!0),x(S,U,Le,"\u2214","\\dotplus",!0),x(S,U,Le,"\u2216","\\smallsetminus"),x(S,U,Le,"\u22d2","\\Cap",!0),x(S,U,Le,"\u22d3","\\Cup",!0),x(S,U,Le,"\u2a5e","\\doublebarwedge",!0),x(S,U,Le,"\u229f","\\boxminus",!0),x(S,U,Le,"\u229e","\\boxplus",!0),x(S,U,Le,"\u22c7","\\divideontimes",!0),x(S,U,Le,"\u22c9","\\ltimes",!0),x(S,U,Le,"\u22ca","\\rtimes",!0),x(S,U,Le,"\u22cb","\\leftthreetimes",!0),x(S,U,Le,"\u22cc","\\rightthreetimes",!0),x(S,U,Le,"\u22cf","\\curlywedge",!0),x(S,U,Le,"\u22ce","\\curlyvee",!0),x(S,U,Le,"\u229d","\\circleddash",!0),x(S,U,Le,"\u229b","\\circledast",!0),x(S,U,Le,"\u22c5","\\centerdot"),x(S,U,Le,"\u22ba","\\intercal",!0),x(S,U,Le,"\u22d2","\\doublecap"),x(S,U,Le,"\u22d3","\\doublecup"),x(S,U,Le,"\u22a0","\\boxtimes",!0),x(S,U,H,"\u21e2","\\dashrightarrow",!0),x(S,U,H,"\u21e0","\\dashleftarrow",!0),x(S,U,H,"\u21c7","\\leftleftarrows",!0),x(S,U,H,"\u21c6","\\leftrightarrows",!0),x(S,U,H,"\u21da","\\Lleftarrow",!0),x(S,U,H,"\u219e","\\twoheadleftarrow",!0),x(S,U,H,"\u21a2","\\leftarrowtail",!0),x(S,U,H,"\u21ab","\\looparrowleft",!0),x(S,U,H,"\u21cb","\\leftrightharpoons",!0),x(S,U,H,"\u21b6","\\curvearrowleft",!0),x(S,U,H,"\u21ba","\\circlearrowleft",!0),x(S,U,H,"\u21b0","\\Lsh",!0),x(S,U,H,"\u21c8","\\upuparrows",!0),x(S,U,H,"\u21bf","\\upharpoonleft",!0),x(S,U,H,"\u21c3","\\downharpoonleft",!0),x(S,U,H,"\u22b8","\\multimap",!0),x(S,U,H,"\u21ad","\\leftrightsquigarrow",!0),x(S,U,H,"\u21c9","\\rightrightarrows",!0),x(S,U,H,"\u21c4","\\rightleftarrows",!0),x(S,U,H,"\u21a0","\\twoheadrightarrow",!0),x(S,U,H,"\u21a3","\\rightarrowtail",!0),x(S,U,H,"\u21ac","\\looparrowright",!0),x(S,U,H,"\u21b7","\\curvearrowright",!0),x(S,U,H,"\u21bb","\\circlearrowright",!0),x(S,U,H,"\u21b1","\\Rsh",!0),x(S,U,H,"\u21ca","\\downdownarrows",!0),x(S,U,H,"\u21be","\\upharpoonright",!0),x(S,U,H,"\u21c2","\\downharpoonright",!0),x(S,U,H,"\u21dd","\\rightsquigarrow",!0),x(S,U,H,"\u21dd","\\leadsto"),x(S,U,H,"\u21db","\\Rrightarrow",!0),x(S,U,H,"\u21be","\\restriction"),x(S,N,X,"\u2018","`"),x(S,N,X,"$","\\$"),x(de,N,X,"$","\\$"),x(de,N,X,"$","\\textdollar"),x(S,N,X,"%","\\%"),x(de,N,X,"%","\\%"),x(S,N,X,"_","\\_"),x(de,N,X,"_","\\_"),x(de,N,X,"_","\\textunderscore"),x(S,N,X,"\u2220","\\angle",!0),x(S,N,X,"\u221e","\\infty",!0),x(S,N,X,"\u2032","\\prime"),x(S,N,X,"\u25b3","\\triangle"),x(S,N,X,"\u0393","\\Gamma",!0),x(S,N,X,"\u0394","\\Delta",!0),x(S,N,X,"\u0398","\\Theta",!0),x(S,N,X,"\u039b","\\Lambda",!0),x(S,N,X,"\u039e","\\Xi",!0),x(S,N,X,"\u03a0","\\Pi",!0),x(S,N,X,"\u03a3","\\Sigma",!0),x(S,N,X,"\u03a5","\\Upsilon",!0),x(S,N,X,"\u03a6","\\Phi",!0),x(S,N,X,"\u03a8","\\Psi",!0),x(S,N,X,"\u03a9","\\Omega",!0),x(S,N,X,"A","\u0391"),x(S,N,X,"B","\u0392"),x(S,N,X,"E","\u0395"),x(S,N,X,"Z","\u0396"),x(S,N,X,"H","\u0397"),x(S,N,X,"I","\u0399"),x(S,N,X,"K","\u039a"),x(S,N,X,"M","\u039c"),x(S,N,X,"N","\u039d"),x(S,N,X,"O","\u039f"),x(S,N,X,"P","\u03a1"),x(S,N,X,"T","\u03a4"),x(S,N,X,"X","\u03a7"),x(S,N,X,"\xac","\\neg",!0),x(S,N,X,"\xac","\\lnot"),x(S,N,X,"\u22a4","\\top"),x(S,N,X,"\u22a5","\\bot"),x(S,N,X,"\u2205","\\emptyset"),x(S,U,X,"\u2205","\\varnothing"),x(S,N,He,"\u03b1","\\alpha",!0),x(S,N,He,"\u03b2","\\beta",!0),x(S,N,He,"\u03b3","\\gamma",!0),x(S,N,He,"\u03b4","\\delta",!0),x(S,N,He,"\u03f5","\\epsilon",!0),x(S,N,He,"\u03b6","\\zeta",!0),x(S,N,He,"\u03b7","\\eta",!0),x(S,N,He,"\u03b8","\\theta",!0),x(S,N,He,"\u03b9","\\iota",!0),x(S,N,He,"\u03ba","\\kappa",!0),x(S,N,He,"\u03bb","\\lambda",!0),x(S,N,He,"\u03bc","\\mu",!0),x(S,N,He,"\u03bd","\\nu",!0),x(S,N,He,"\u03be","\\xi",!0),x(S,N,He,"\u03bf","\\omicron",!0),x(S,N,He,"\u03c0","\\pi",!0),x(S,N,He,"\u03c1","\\rho",!0),x(S,N,He,"\u03c3","\\sigma",!0),x(S,N,He,"\u03c4","\\tau",!0),x(S,N,He,"\u03c5","\\upsilon",!0),x(S,N,He,"\u03d5","\\phi",!0),x(S,N,He,"\u03c7","\\chi",!0),x(S,N,He,"\u03c8","\\psi",!0),x(S,N,He,"\u03c9","\\omega",!0),x(S,N,He,"\u03b5","\\varepsilon",!0),x(S,N,He,"\u03d1","\\vartheta",!0),x(S,N,He,"\u03d6","\\varpi",!0),x(S,N,He,"\u03f1","\\varrho",!0),x(S,N,He,"\u03c2","\\varsigma",!0),x(S,N,He,"\u03c6","\\varphi",!0),x(S,N,Le,"\u2217","*"),x(S,N,Le,"+","+"),x(S,N,Le,"\u2212","-"),x(S,N,Le,"\u22c5","\\cdot",!0),x(S,N,Le,"\u2218","\\circ"),x(S,N,Le,"\xf7","\\div",!0),x(S,N,Le,"\xb1","\\pm",!0),x(S,N,Le,"\xd7","\\times",!0),x(S,N,Le,"\u2229","\\cap",!0),x(S,N,Le,"\u222a","\\cup",!0),x(S,N,Le,"\u2216","\\setminus"),x(S,N,Le,"\u2227","\\land"),x(S,N,Le,"\u2228","\\lor"),x(S,N,Le,"\u2227","\\wedge",!0),x(S,N,Le,"\u2228","\\vee",!0),x(S,N,X,"\u221a","\\surd"),x(S,N,Ut,"(","("),x(S,N,Ut,"[","["),x(S,N,Ut,"\u27e8","\\langle",!0),x(S,N,Ut,"\u2223","\\lvert"),x(S,N,Ut,"\u2225","\\lVert"),x(S,N,Nr,")",")"),x(S,N,Nr,"]","]"),x(S,N,Nr,"?","?"),x(S,N,Nr,"!","!"),x(S,N,Nr,"\u27e9","\\rangle",!0),x(S,N,Nr,"\u2223","\\rvert"),x(S,N,Nr,"\u2225","\\rVert"),x(S,N,H,"=","="),x(S,N,H,"<","<"),x(S,N,H,">",">"),x(S,N,H,":",":"),x(S,N,H,"\u2248","\\approx",!0),x(S,N,H,"\u2245","\\cong",!0),x(S,N,H,"\u2265","\\ge"),x(S,N,H,"\u2265","\\geq",!0),x(S,N,H,"\u2190","\\gets"),x(S,N,H,">","\\gt"),x(S,N,H,"\u2208","\\in",!0),x(S,N,H,"\ue020","\\@not"),x(S,N,H,"\u2282","\\subset",!0),x(S,N,H,"\u2283","\\supset",!0),x(S,N,H,"\u2286","\\subseteq",!0),x(S,N,H,"\u2287","\\supseteq",!0),x(S,U,H,"\u2288","\\nsubseteq",!0),x(S,U,H,"\u2289","\\nsupseteq",!0),x(S,N,H,"\u22a8","\\models"),x(S,N,H,"\u2190","\\leftarrow",!0),x(S,N,H,"\u2264","\\le"),x(S,N,H,"\u2264","\\leq",!0),x(S,N,H,"<","\\lt"),x(S,N,H,"\u2192","\\rightarrow",!0),x(S,N,H,"\u2192","\\to"),x(S,U,H,"\u2271","\\ngeq",!0),x(S,U,H,"\u2270","\\nleq",!0),x(S,N,Pi,"\xa0","\\ "),x(S,N,Pi,"\xa0","~"),x(S,N,Pi,"\xa0","\\space"),x(S,N,Pi,"\xa0","\\nobreakspace"),x(de,N,Pi,"\xa0","\\ "),x(de,N,Pi,"\xa0","~"),x(de,N,Pi,"\xa0","\\space"),x(de,N,Pi,"\xa0","\\nobreakspace"),x(S,N,Pi,null,"\\nobreak"),x(S,N,Pi,null,"\\allowbreak"),x(S,N,Ko,",",","),x(S,N,Ko,";",";"),x(S,U,Le,"\u22bc","\\barwedge",!0),x(S,U,Le,"\u22bb","\\veebar",!0),x(S,N,Le,"\u2299","\\odot",!0),x(S,N,Le,"\u2295","\\oplus",!0),x(S,N,Le,"\u2297","\\otimes",!0),x(S,N,X,"\u2202","\\partial",!0),x(S,N,Le,"\u2298","\\oslash",!0),x(S,U,Le,"\u229a","\\circledcirc",!0),x(S,U,Le,"\u22a1","\\boxdot",!0),x(S,N,Le,"\u25b3","\\bigtriangleup"),x(S,N,Le,"\u25bd","\\bigtriangledown"),x(S,N,Le,"\u2020","\\dagger"),x(S,N,Le,"\u22c4","\\diamond"),x(S,N,Le,"\u22c6","\\star"),x(S,N,Le,"\u25c3","\\triangleleft"),x(S,N,Le,"\u25b9","\\triangleright"),x(S,N,Ut,"{","\\{"),x(de,N,X,"{","\\{"),x(de,N,X,"{","\\textbraceleft"),x(S,N,Nr,"}","\\}"),x(de,N,X,"}","\\}"),x(de,N,X,"}","\\textbraceright"),x(S,N,Ut,"{","\\lbrace"),x(S,N,Nr,"}","\\rbrace"),x(S,N,Ut,"[","\\lbrack"),x(de,N,X,"[","\\lbrack"),x(S,N,Nr,"]","\\rbrack"),x(de,N,X,"]","\\rbrack"),x(S,N,Ut,"(","\\lparen"),x(S,N,Nr,")","\\rparen"),x(de,N,X,"<","\\textless"),x(de,N,X,">","\\textgreater"),x(S,N,Ut,"\u230a","\\lfloor",!0),x(S,N,Nr,"\u230b","\\rfloor",!0),x(S,N,Ut,"\u2308","\\lceil",!0),x(S,N,Nr,"\u2309","\\rceil",!0),x(S,N,X,"\\","\\backslash"),x(S,N,X,"\u2223","|"),x(S,N,X,"\u2223","\\vert"),x(de,N,X,"|","\\textbar"),x(S,N,X,"\u2225","\\|"),x(S,N,X,"\u2225","\\Vert"),x(de,N,X,"\u2225","\\textbardbl"),x(de,N,X,"~","\\textasciitilde"),x(de,N,X,"\\","\\textbackslash"),x(de,N,X,"^","\\textasciicircum"),x(S,N,H,"\u2191","\\uparrow",!0),x(S,N,H,"\u21d1","\\Uparrow",!0),x(S,N,H,"\u2193","\\downarrow",!0),x(S,N,H,"\u21d3","\\Downarrow",!0),x(S,N,H,"\u2195","\\updownarrow",!0),x(S,N,H,"\u21d5","\\Updownarrow",!0),x(S,N,or,"\u2210","\\coprod"),x(S,N,or,"\u22c1","\\bigvee"),x(S,N,or,"\u22c0","\\bigwedge"),x(S,N,or,"\u2a04","\\biguplus"),x(S,N,or,"\u22c2","\\bigcap"),x(S,N,or,"\u22c3","\\bigcup"),x(S,N,or,"\u222b","\\int"),x(S,N,or,"\u222b","\\intop"),x(S,N,or,"\u222c","\\iint"),x(S,N,or,"\u222d","\\iiint"),x(S,N,or,"\u220f","\\prod"),x(S,N,or,"\u2211","\\sum"),x(S,N,or,"\u2a02","\\bigotimes"),x(S,N,or,"\u2a01","\\bigoplus"),x(S,N,or,"\u2a00","\\bigodot"),x(S,N,or,"\u222e","\\oint"),x(S,N,or,"\u222f","\\oiint"),x(S,N,or,"\u2230","\\oiiint"),x(S,N,or,"\u2a06","\\bigsqcup"),x(S,N,or,"\u222b","\\smallint"),x(de,N,Ga,"\u2026","\\textellipsis"),x(S,N,Ga,"\u2026","\\mathellipsis"),x(de,N,Ga,"\u2026","\\ldots",!0),x(S,N,Ga,"\u2026","\\ldots",!0),x(S,N,Ga,"\u22ef","\\@cdots",!0),x(S,N,Ga,"\u22f1","\\ddots",!0),x(S,N,X,"\u22ee","\\varvdots"),x(S,N,qn,"\u02ca","\\acute"),x(S,N,qn,"\u02cb","\\grave"),x(S,N,qn,"\xa8","\\ddot"),x(S,N,qn,"~","\\tilde"),x(S,N,qn,"\u02c9","\\bar"),x(S,N,qn,"\u02d8","\\breve"),x(S,N,qn,"\u02c7","\\check"),x(S,N,qn,"^","\\hat"),x(S,N,qn,"\u20d7","\\vec"),x(S,N,qn,"\u02d9","\\dot"),x(S,N,qn,"\u02da","\\mathring"),x(S,N,He,"\u0131","\\imath",!0),x(S,N,He,"\u0237","\\jmath",!0),x(de,N,X,"\u0131","\\i",!0),x(de,N,X,"\u0237","\\j",!0),x(de,N,X,"\xdf","\\ss",!0),x(de,N,X,"\xe6","\\ae",!0),x(de,N,X,"\xe6","\\ae",!0),x(de,N,X,"\u0153","\\oe",!0),x(de,N,X,"\xf8","\\o",!0),x(de,N,X,"\xc6","\\AE",!0),x(de,N,X,"\u0152","\\OE",!0),x(de,N,X,"\xd8","\\O",!0),x(de,N,qn,"\u02ca","\\'"),x(de,N,qn,"\u02cb","\\`"),x(de,N,qn,"\u02c6","\\^"),x(de,N,qn,"\u02dc","\\~"),x(de,N,qn,"\u02c9","\\="),x(de,N,qn,"\u02d8","\\u"),x(de,N,qn,"\u02d9","\\."),x(de,N,qn,"\u02da","\\r"),x(de,N,qn,"\u02c7","\\v"),x(de,N,qn,"\xa8",'\\"'),x(de,N,qn,"\u02dd","\\H"),x(de,N,qn,"\u25ef","\\textcircled");var fc={"--":!0,"---":!0,"``":!0,"''":!0};x(de,N,X,"\u2013","--"),x(de,N,X,"\u2013","\\textendash"),x(de,N,X,"\u2014","---"),x(de,N,X,"\u2014","\\textemdash"),x(de,N,X,"\u2018","`"),x(de,N,X,"\u2018","\\textquoteleft"),x(de,N,X,"\u2019","'"),x(de,N,X,"\u2019","\\textquoteright"),x(de,N,X,"\u201c","``"),x(de,N,X,"\u201c","\\textquotedblleft"),x(de,N,X,"\u201d","''"),x(de,N,X,"\u201d","\\textquotedblright"),x(S,N,X,"\xb0","\\degree",!0),x(de,N,X,"\xb0","\\degree"),x(de,N,X,"\xb0","\\textdegree",!0),x(S,N,He,"\xa3","\\pounds"),x(S,N,He,"\xa3","\\mathsterling",!0),x(de,N,He,"\xa3","\\pounds"),x(de,N,He,"\xa3","\\textsterling",!0),x(S,U,X,"\u2720","\\maltese"),x(de,U,X,"\u2720","\\maltese"),x(de,N,Pi,"\xa0","\\ "),x(de,N,Pi,"\xa0"," "),x(de,N,Pi,"\xa0","~");for(var vl='0123456789/@."',wu=0;wu<vl.length;wu++){var ja=vl.charAt(wu);x(S,N,X,ja,ja)}for(var A1='0123456789!@*()-=+[]<>|";:?/.,',El=0;El<A1.length;El++){var pc=A1.charAt(El);x(de,N,X,pc,pc)}for(var _l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",mc=0;mc<_l.length;mc++){var bl=_l.charAt(mc);x(S,N,He,bl,bl),x(de,N,X,bl,bl)}x(S,U,X,"C","\u2102"),x(de,U,X,"C","\u2102"),x(S,U,X,"H","\u210d"),x(de,U,X,"H","\u210d"),x(S,U,X,"N","\u2115"),x(de,U,X,"N","\u2115"),x(S,U,X,"P","\u2119"),x(de,U,X,"P","\u2119"),x(S,U,X,"Q","\u211a"),x(de,U,X,"Q","\u211a"),x(S,U,X,"R","\u211d"),x(de,U,X,"R","\u211d"),x(S,U,X,"Z","\u2124"),x(de,U,X,"Z","\u2124"),x(S,N,He,"h","\u210e"),x(de,N,He,"h","\u210e");for(var ft="",jr=0;jr<_l.length;jr++){var sr=_l.charAt(jr);x(S,N,He,sr,ft=String.fromCharCode(55349,56320+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56372+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56424+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56580+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56736+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56788+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56840+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56944+jr)),x(de,N,X,sr,ft),jr<26&&(x(S,N,He,sr,ft=String.fromCharCode(55349,56632+jr)),x(de,N,X,sr,ft),x(S,N,He,sr,ft=String.fromCharCode(55349,56476+jr)),x(de,N,X,sr,ft))}x(S,N,He,"k",ft=String.fromCharCode(55349,56668)),x(de,N,X,"k",ft);for(var Rs=0;Rs<10;Rs++){var yn=Rs.toString();x(S,N,He,yn,ft=String.fromCharCode(55349,57294+Rs)),x(de,N,X,yn,ft),x(S,N,He,yn,ft=String.fromCharCode(55349,57314+Rs)),x(de,N,X,yn,ft),x(S,N,He,yn,ft=String.fromCharCode(55349,57324+Rs)),x(de,N,X,yn,ft),x(S,N,He,yn,ft=String.fromCharCode(55349,57334+Rs)),x(de,N,X,yn,ft)}for(var Tu="\xc7\xd0\xde\xe7\xfe",Ri=0;Ri<Tu.length;Ri++){var Au=Tu.charAt(Ri);x(S,N,He,Au,Au),x(de,N,X,Au,Au)}x(de,N,X,"\xf0","\xf0"),x(de,N,X,"\u2013","\u2013"),x(de,N,X,"\u2014","\u2014"),x(de,N,X,"\u2018","\u2018"),x(de,N,X,"\u2019","\u2019"),x(de,N,X,"\u201c","\u201c"),x(de,N,X,"\u201d","\u201d");var $a=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ln=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ht=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],yl=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],M1=function(p,m){return m.size<2?p:Ht[p-1][m.size-1]},yt=function(){function w(m){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=m.style,this.color=m.color,this.size=m.size||w.BASESIZE,this.textSize=m.textSize||this.size,this.phantom=!!m.phantom,this.font=m.font||"",this.fontFamily=m.fontFamily||"",this.fontWeight=m.fontWeight||"",this.fontShape=m.fontShape||"",this.sizeMultiplier=yl[this.size-1],this.maxSize=m.maxSize,this.minRuleThickness=m.minRuleThickness,this._fontMetrics=void 0}var p=w.prototype;return p.extend=function(g){var _={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var C in g)g.hasOwnProperty(C)&&(_[C]=g[C]);return new w(_)},p.havingStyle=function(g){return this.style===g?this:this.extend({style:g,size:M1(this.textSize,g)})},p.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},p.havingSize=function(g){return this.size===g&&this.textSize===g?this:this.extend({style:this.style.text(),size:g,textSize:g,sizeMultiplier:yl[g-1]})},p.havingBaseStyle=function(g){g=g||this.style.text();var _=M1(w.BASESIZE,g);return this.size===_&&this.textSize===w.BASESIZE&&this.style===g?this:this.extend({style:g,size:_})},p.havingBaseSizing=function(){var g;switch(this.style.id){case 4:case 5:g=3;break;case 6:case 7:g=1;break;default:g=6}return this.extend({style:this.style.text(),size:g})},p.withColor=function(g){return this.extend({color:g})},p.withPhantom=function(){return this.extend({phantom:!0})},p.withFont=function(g){return this.extend({font:g})},p.withTextFontFamily=function(g){return this.extend({fontFamily:g,font:""})},p.withTextFontWeight=function(g){return this.extend({fontWeight:g,font:""})},p.withTextFontShape=function(g){return this.extend({fontShape:g,font:""})},p.sizingClasses=function(g){return g.size!==this.size?["sizing","reset-size"+g.size,"size"+this.size]:[]},p.baseSizingClasses=function(){return this.size!==w.BASESIZE?["sizing","reset-size"+this.size,"size"+w.BASESIZE]:[]},p.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(w){var p;if(!gl[p=w>=5?0:w>=3?1:2]){var m=gl[p]={cssEmPerMu:hc.quad[p]/18};for(var g in hc)hc.hasOwnProperty(g)&&(m[g]=hc[g][p])}return gl[p]}(this.size)),this._fontMetrics},p.getColor=function(){return this.phantom?"transparent":this.color},w}();yt.BASESIZE=6;var xt=yt,xl={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},uE={ex:!0,em:!0,mu:!0},si=function(p){return"string"!=typeof p&&(p=p.unit),p in xl||p in uE||"ex"===p},fr=function(p,m){var g;if(p.unit in xl)g=xl[p.unit]/m.fontMetrics().ptPerEm/m.sizeMultiplier;else if("mu"===p.unit)g=m.fontMetrics().cssEmPerMu;else{var _;if(_=m.style.isTight()?m.havingStyle(m.style.text()):m,"ex"===p.unit)g=_.fontMetrics().xHeight;else{if("em"!==p.unit)throw new re("Invalid unit: '"+p.unit+"'");g=_.fontMetrics().quad}_!==m&&(g*=_.sizeMultiplier/m.sizeMultiplier)}return Math.min(p.number*g,m.maxSize)},Mu=["\\imath","\u0131","\\jmath","\u0237","\\pounds","\\mathsterling","\\textsterling","\xa3"],ot=function(p,m,g){return Yn[g][p]&&Yn[g][p].replace&&(p=Yn[g][p].replace),{value:p,metrics:ml(p,m,g)}},xn=function(p,m,g,_,C){var P,D=ot(p,m,g),I=D.metrics;if(p=D.value,I){var F=I.italic;("text"===g||_&&"mathit"===_.font)&&(F=0),P=new Gi(p,I.height,I.depth,F,I.skew,I.width,C)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+p+"' in style '"+m+"' and mode '"+g+"'"),P=new Gi(p,0,0,0,0,0,C);if(_){P.maxFontSize=_.sizeMultiplier,_.style.isTight()&&P.classes.push("mtight");var Y=_.getColor();Y&&(P.style.color=Y)}return P},dE=function(p,m){if(Mr(p.classes)!==Mr(m.classes)||p.skew!==m.skew||p.maxFontSize!==m.maxFontSize)return!1;for(var g in p.style)if(p.style.hasOwnProperty(g)&&p.style[g]!==m.style[g])return!1;for(var _ in m.style)if(m.style.hasOwnProperty(_)&&p.style[_]!==m.style[_])return!1;return!0},N1=function(p){for(var m=0,g=0,_=0,C=0;C<p.children.length;C++){var D=p.children[C];D.height>m&&(m=D.height),D.depth>g&&(g=D.depth),D.maxFontSize>_&&(_=D.maxFontSize)}p.height=m,p.depth=g,p.maxFontSize=_},Wn=function(p,m,g,_){var C=new Is(p,m,g,_);return N1(C),C},s2=function(p,m,g,_){return new Is(p,m,g,_)},a2=function(p){var m=new $n(p);return N1(m),m},Lr=function(p,m,g){var _="";switch(p){case"amsrm":_="AMS";break;case"textrm":_="Main";break;case"textsf":_="SansSerif";break;case"texttt":_="Typewriter";break;default:_=p}return _+"-"+("textbf"===m&&"textit"===g?"BoldItalic":"textbf"===m?"Bold":"textit"===m?"Italic":"Regular")},gn={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},c2={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},se={fontMap:gn,makeSymbol:xn,mathsym:function(p,m,g,_){return void 0===_&&(_=[]),"boldsymbol"===g.font&&ot(p,"Main-Bold",m).metrics?xn(p,"Main-Bold",m,g,_.concat(["mathbf"])):"\\"===p||"main"===Yn[m][p].font?xn(p,"Main-Regular",m,g,_):xn(p,"AMS-Regular",m,g,_.concat(["amsrm"]))},makeSpan:Wn,makeSvgSpan:s2,makeLineSpan:function(p,m,g){var _=Wn([p],[],m);return _.height=Math.max(g||m.fontMetrics().defaultRuleThickness,m.minRuleThickness),_.style.borderBottomWidth=_.height+"em",_.maxFontSize=1,_},makeAnchor:function(p,m,g,_){var C=new Ps(p,m,g,_);return N1(C),C},makeFragment:a2,wrapFragment:function(p,m){return p instanceof $n?Wn([],[p],m):p},makeVList:function(p,m){for(var g=function(p){if("individualShift"===p.positionType){for(var m=p.children,g=[m[0]],_=-m[0].shift-m[0].elem.depth,C=_,D=1;D<m.length;D++){var I=-m[D].shift-C-m[D].elem.depth;C+=I,g.push({type:"kern",size:I-(m[D-1].elem.height+m[D-1].elem.depth)}),g.push(m[D])}return{children:g,depth:_}}var F;if("top"===p.positionType){for(var Y=p.positionData,J=0;J<p.children.length;J++){var ae=p.children[J];Y-="kern"===ae.type?ae.size:ae.elem.height+ae.elem.depth}F=Y}else if("bottom"===p.positionType)F=-p.positionData;else{var he=p.children[0];if("elem"!==he.type)throw new Error('First child must have type "elem".');if("shift"===p.positionType)F=-he.elem.depth-p.positionData;else{if("firstBaseline"!==p.positionType)throw new Error("Invalid positionType "+p.positionType+".");F=-he.elem.depth}}return{children:p.children,depth:F}}(p),_=g.children,C=g.depth,D=0,I=0;I<_.length;I++){var P=_[I];if("elem"===P.type){var F=P.elem;D=Math.max(D,F.maxFontSize,F.height)}}D+=2;var Y=Wn(["pstrut"],[]);Y.style.height=D+"em";for(var J=[],ae=C,he=C,fe=C,De=0;De<_.length;De++){var Te=_[De];if("kern"===Te.type)fe+=Te.size;else{var mt=Te.elem,En=Wn(Te.wrapperClasses||[],[Y,mt],void 0,Te.wrapperStyle||{});En.style.top=-D-fe-mt.depth+"em",Te.marginLeft&&(En.style.marginLeft=Te.marginLeft),Te.marginRight&&(En.style.marginRight=Te.marginRight),J.push(En),fe+=mt.height+mt.depth}ae=Math.min(ae,fe),he=Math.max(he,fe)}var Mn,dn=Wn(["vlist"],J);if(dn.style.height=he+"em",ae<0){var mn=Wn([],[]),wn=Wn(["vlist"],[mn]);wn.style.height=-ae+"em";var gr=Wn(["vlist-s"],[new Gi("\u200b")]);Mn=[Wn(["vlist-r"],[dn,gr]),Wn(["vlist-r"],[wn])]}else Mn=[Wn(["vlist-r"],[dn])];var vr=Wn(["vlist-t"],Mn);return 2===Mn.length&&vr.classes.push("vlist-t2"),vr.height=he,vr.depth=-ae,vr},makeOrd:function(p,m,g){var _=p.mode,C=p.text,D=["mord"],I="math"===_||"text"===_&&m.font,P=I?m.font:m.fontFamily;if(55349===C.charCodeAt(0)){var F=function(p,m){var C=1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536,D="math"===m?0:1;if(119808<=C&&C<120484){var I=Math.floor((C-119808)/26);return[$a[I][2],$a[I][D]]}if(120782<=C&&C<=120831){var P=Math.floor((C-120782)/10);return[ln[P][2],ln[P][D]]}if(120485===C||120486===C)return[$a[0][2],$a[0][D]];if(120486<C&&C<120782)return["",""];throw new re("Unsupported character: "+p)}(C,_);return xn(C,F[0],_,m,D.concat(F[1]))}if(P){var ae,he;if("boldsymbol"===P||"mathnormal"===P){var fe="boldsymbol"===P?function(p,m,g,_){return ot(p,"Math-BoldItalic",m).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(C,_):function(p,m,g,_){return Ee.contains(Mu,p)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(p.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"}}(C);ae=fe.fontName,he=[fe.fontClass]}else Ee.contains(Mu,C)?(ae="Main-Italic",he=["mathit"]):I?(ae=gn[P].fontName,he=[P]):(ae=Lr(P,m.fontWeight,m.fontShape),he=[P,m.fontWeight,m.fontShape]);if(ot(C,ae,_).metrics)return xn(C,ae,_,m,D.concat(he));if(fc.hasOwnProperty(C)&&"Typewriter"===ae.substr(0,10)){for(var De=[],Te=0;Te<C.length;Te++)De.push(xn(C[Te],ae,_,m,D.concat(he)));return a2(De)}}if("mathord"===g){var mt=function(p,m,g,_){return/[0-9]/.test(p.charAt(0))||Ee.contains(Mu,p)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"}}(C);return xn(C,mt.fontName,_,m,D.concat([mt.fontClass]))}if("textord"===g){var _t=Yn[_][C]&&Yn[_][C].font;if("ams"===_t){var Tt=Lr("amsrm",m.fontWeight,m.fontShape);return xn(C,Tt,_,m,D.concat("amsrm",m.fontWeight,m.fontShape))}if("main"!==_t&&_t){var dn=Lr(_t,m.fontWeight,m.fontShape);return xn(C,dn,_,m,D.concat(dn,m.fontWeight,m.fontShape))}var En=Lr("textrm",m.fontWeight,m.fontShape);return xn(C,En,_,m,D.concat(m.fontWeight,m.fontShape))}throw new Error("unexpected type: "+g+" in makeOrd")},makeGlue:function(p,m){var g=Wn(["mspace"],[],m),_=fr(p,m);return g.style.marginRight=_+"em",g},staticSvg:function(p,m){var g=c2[p],C=g[1],D=g[2],I=new fl(g[0]),P=new za([I],{width:C+"em",height:D+"em",style:"width:"+C+"em",viewBox:"0 0 "+1e3*C+" "+1e3*D,preserveAspectRatio:"xMinYMin"}),F=s2(["overlay"],[P],m);return F.height=D,F.style.height=D+"em",F.style.width=C+"em",F},svgData:c2,tryCombineChars:function(p){for(var m=0;m<p.length-1;m++){var g=p[m],_=p[m+1];g instanceof Gi&&_ instanceof Gi&&dE(g,_)&&(g.text+=_.text,g.height=Math.max(g.height,_.height),g.depth=Math.max(g.depth,_.depth),g.italic=_.italic,p.splice(m+1,1),m--)}return p}};function oe(w,p){var m=$r(w,p);if(!m)throw new Error("Expected node of type "+p+", but got "+(w?"node of type "+w.type:String(w)));return m}function $r(w,p){return w&&w.type===p?w:null}function Gt(w,p){var m=function(w,p){return w&&"atom"===w.type&&w.family===p?w:null}(w,p);if(!m)throw new Error('Expected node of type "atom" and family "'+p+'", but got '+(w?"atom"===w.type?"atom of family "+w.family:"node of type "+w.type:String(w)));return m}function Ec(w){var p=Sl(w);if(!p)throw new Error("Expected node of symbol group type, but got "+(w?"node of type "+w.type:String(w)));return p}function Sl(w){return w&&("atom"===w.type||T1.hasOwnProperty(w.type))?w:null}var Un={number:3,unit:"mu"},Zo={number:4,unit:"mu"},Fi={number:5,unit:"mu"},_c={mord:{mop:Un,mbin:Zo,mrel:Fi,minner:Un},mop:{mord:Un,mop:Un,mrel:Fi,minner:Un},mbin:{mord:Zo,mop:Zo,mopen:Zo,minner:Zo},mrel:{mord:Fi,mop:Fi,mopen:Fi,minner:Fi},mopen:{},mclose:{mop:Un,mbin:Zo,mrel:Fi,minner:Un},mpunct:{mord:Un,mop:Un,mrel:Fi,mopen:Un,mclose:Un,mpunct:Un,minner:Un},minner:{mord:Un,mop:Un,mbin:Zo,mrel:Fi,mopen:Un,mpunct:Un,minner:Un}},O1={mord:{mop:Un},mop:{mord:Un,mop:Un},mbin:{},mrel:{},mopen:{},mclose:{mop:Un},mpunct:{},minner:{mop:Un}},I1={},lt={},Ya={};function Ge(w){for(var p=w.type,m=w.names,g=w.props,C=w.htmlBuilder,D=w.mathmlBuilder,I={type:p,numArgs:g.numArgs,argTypes:g.argTypes,greediness:void 0===g.greediness?1:g.greediness,allowedInText:!!g.allowedInText,allowedInMath:void 0===g.allowedInMath||g.allowedInMath,numOptionalArgs:g.numOptionalArgs||0,infix:!!g.infix,handler:w.handler},P=0;P<m.length;++P)I1[m[P]]=I;p&&(C&&(lt[p]=C),D&&(Ya[p]=D))}function ai(w){Ge({type:w.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:w.htmlBuilder,mathmlBuilder:w.mathmlBuilder})}var Sr=function(p){var m=$r(p,"ordgroup");return m?m.body:[p]},Fs=se.makeSpan,Qo=["leftmost","mbin","mopen","mrel","mop","mpunct"],ji=["rightmost","mrel","mclose","mpunct"],vE={display:G.DISPLAY,text:G.TEXT,script:G.SCRIPT,scriptscript:G.SCRIPTSCRIPT},EE={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},An=function(p,m,g,_){void 0===_&&(_=[null,null]);for(var C=[],D=0;D<p.length;D++){var I=nn(p[D],m);I instanceof $n?C.push.apply(C,I.children):C.push(I)}if(!g)return C;var F=m;if(1===p.length){var Y=$r(p[0],"sizing")||$r(p[0],"styling");Y&&("sizing"===Y.type?F=m.havingSize(Y.size):"styling"===Y.type&&(F=m.havingStyle(vE[Y.style])))}var J=Fs([_[0]||"leftmost"],[],m),ae=Fs([_[1]||"rightmost"],[],m);return P1(C,function(he,fe){var De=fe.classes[0],Te=he.classes[0];"mbin"===De&&Ee.contains(ji,Te)?fe.classes[0]="mord":"mbin"===Te&&Ee.contains(Qo,De)&&(he.classes[0]="mord")},{node:J},ae),P1(C,function(he,fe){var De=F1(fe),Te=F1(he),mt=De&&Te?he.hasClass("mtight")?O1[De][Te]:_c[De][Te]:null;if(mt)return se.makeGlue(mt,F)},{node:J},ae),C},P1=function w(p,m,g,_){_&&p.push(_);for(var C=0;C<p.length;C++){var D=p[C],I=R1(D);if(I)w(I.children,m,g);else if("mspace"!==D.classes[0]){var P=m(D,g.node);P&&(g.insertAfter?g.insertAfter(P):(p.unshift(P),C++)),g.node=D,g.insertAfter=function(F){return function(Y){p.splice(F+1,0,Y),C++}}(C)}}_&&p.pop()},R1=function(p){return p instanceof $n||p instanceof Ps?p:null},d2=function w(p,m){var g=R1(p);if(g){var _=g.children;if(_.length){if("right"===m)return w(_[_.length-1],"right");if("left"===m)return w(_[0],"left")}}return p},F1=function(p,m){return p?(m&&(p=d2(p,m)),EE[p.classes[0]]||null):null},Yt=function(p,m){var g=["nulldelimiter"].concat(p.baseSizingClasses());return Fs(m.concat(g))},nn=function(p,m,g){if(!p)return Fs();if(lt[p.type]){var _=lt[p.type](p,m);if(g&&m.size!==g.size){_=Fs(m.sizingClasses(g),[_],m);var C=m.sizeMultiplier/g.sizeMultiplier;_.height*=C,_.depth*=C}return _}throw new re("Got group of unknown type: '"+p.type+"'")};function bc(w,p){var m=Fs(["base"],w,p),g=Fs(["strut"]);return g.style.height=m.height+m.depth+"em",g.style.verticalAlign=-m.depth+"em",m.children.unshift(g),m}function es(w,p){var P,m=null;1===w.length&&"tag"===w[0].type&&(m=w[0].tag,w=w[0].body);for(var g=An(w,p,!0),_=[],C=[],D=0;D<g.length;D++)if(C.push(g[D]),g[D].hasClass("mbin")||g[D].hasClass("mrel")||g[D].hasClass("allowbreak")){for(var I=!1;D<g.length-1&&g[D+1].hasClass("mspace")&&!g[D+1].hasClass("newline");)D++,C.push(g[D]),g[D].hasClass("nobreak")&&(I=!0);I||(_.push(bc(C,p)),C=[])}else g[D].hasClass("newline")&&(C.pop(),C.length>0&&(_.push(bc(C,p)),C=[]),_.push(g[D]));C.length>0&&_.push(bc(C,p)),m&&((P=bc(An(m,p,!0))).classes=["tag"],_.push(P));var F=Fs(["katex-html"],_);if(F.setAttribute("aria-hidden","true"),P){var Y=P.children[0];Y.style.height=F.height+F.depth+"em",Y.style.verticalAlign=-F.depth+"em"}return F}function cn(w){return new $n(w)}var Yr=function(){function w(m,g){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=m,this.attributes={},this.children=g||[]}var p=w.prototype;return p.setAttribute=function(g,_){this.attributes[g]=_},p.getAttribute=function(g){return this.attributes[g]},p.toNode=function(){var g=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&g.setAttribute(_,this.attributes[_]);for(var C=0;C<this.children.length;C++)g.appendChild(this.children[C].toNode());return g},p.toMarkup=function(){var g="<"+this.type;for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&(g+=" "+_+'="',g+=Ee.escape(this.attributes[_]),g+='"');g+=">";for(var C=0;C<this.children.length;C++)g+=this.children[C].toMarkup();return g+"</"+this.type+">"},p.toText=function(){return this.children.map(function(g){return g.toText()}).join("")},w}(),ks=function(){function w(m){this.text=void 0,this.text=m}var p=w.prototype;return p.toNode=function(){return document.createTextNode(this.text)},p.toMarkup=function(){return Ee.escape(this.toText())},p.toText=function(){return this.text},w}(),xe={MathNode:Yr,TextNode:ks,SpaceNode:function(){function w(m){this.width=void 0,this.character=void 0,this.width=m,this.character=m>=.05555&&m<=.05556?"\u200a":m>=.1666&&m<=.1667?"\u2009":m>=.2222&&m<=.2223?"\u2005":m>=.2777&&m<=.2778?"\u2005\u200a":m>=-.05556&&m<=-.05555?"\u200a\u2063":m>=-.1667&&m<=-.1666?"\u2009\u2063":m>=-.2223&&m<=-.2222?"\u205f\u2063":m>=-.2778&&m<=-.2777?"\u2005\u2063":null}var p=w.prototype;return p.toNode=function(){if(this.character)return document.createTextNode(this.character);var g=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return g.setAttribute("width",this.width+"em"),g},p.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},p.toText=function(){return this.character?this.character:" "},w}(),newDocumentFragment:cn},ar=function(p,m,g){return Yn[m][p]&&Yn[m][p].replace&&55349!==p.charCodeAt(0)&&!(fc.hasOwnProperty(p)&&g&&(g.fontFamily&&"tt"===g.fontFamily.substr(4,2)||g.font&&"tt"===g.font.substr(4,2)))&&(p=Yn[m][p].replace),new xe.TextNode(p)},Ls=function(p){return 1===p.length?p[0]:new xe.MathNode("mrow",p)},xc=function(p,m){if("texttt"===m.fontFamily)return"monospace";if("textsf"===m.fontFamily)return"textit"===m.fontShape&&"textbf"===m.fontWeight?"sans-serif-bold-italic":"textit"===m.fontShape?"sans-serif-italic":"textbf"===m.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===m.fontShape&&"textbf"===m.fontWeight)return"bold-italic";if("textit"===m.fontShape)return"italic";if("textbf"===m.fontWeight)return"bold";var g=m.font;if(!g||"mathnormal"===g)return null;var _=p.mode;if("mathit"===g)return"italic";if("boldsymbol"===g)return"bold-italic";if("mathbf"===g)return"bold";if("mathbb"===g)return"double-struck";if("mathfrak"===g)return"fraktur";if("mathscr"===g||"mathcal"===g)return"script";if("mathsf"===g)return"sans-serif";if("mathtt"===g)return"monospace";var C=p.text;return Ee.contains(["\\imath","\\jmath"],C)?null:(Yn[_][C]&&Yn[_][C].replace&&(C=Yn[_][C].replace),ml(C,se.fontMap[g].fontName,_)?se.fontMap[g].variant:null)},_e=function(p,m,g){if(1===p.length){var _=Cn(p[0],m);return g&&_ instanceof Yr&&"mo"===_.type&&(_.setAttribute("lspace","0em"),_.setAttribute("rspace","0em")),[_]}for(var D,C=[],I=0;I<p.length;I++){var P=Cn(p[I],m);if(P instanceof Yr&&D instanceof Yr){if("mtext"===P.type&&"mtext"===D.type&&P.getAttribute("mathvariant")===D.getAttribute("mathvariant")){var F;(F=D.children).push.apply(F,P.children);continue}if("mn"===P.type&&"mn"===D.type){var Y;(Y=D.children).push.apply(Y,P.children);continue}if("mi"===P.type&&1===P.children.length&&"mn"===D.type){var J=P.children[0];if(J instanceof ks&&"."===J.text){var ae;(ae=D.children).push.apply(ae,P.children);continue}}else if("mi"===D.type&&1===D.children.length){var he=D.children[0];if(he instanceof ks&&"\u0338"===he.text&&("mo"===P.type||"mi"===P.type||"mn"===P.type)){var fe=P.children[0];fe instanceof ks&&fe.text.length>0&&(fe.text=fe.text.slice(0,1)+"\u0338"+fe.text.slice(1),C.pop())}}}C.push(P),D=P}return C},Bs=function(p,m,g){return Ls(_e(p,m,g))},Cn=function(p,m){if(!p)return new xe.MathNode("mrow");if(Ya[p.type])return Ya[p.type](p,m);throw new re("Got group of unknown type: '"+p.type+"'")};function Cc(w,p,m,g){var C,_=_e(w,m);C=1===_.length&&_[0]instanceof Yr&&Ee.contains(["mrow","mtable"],_[0].type)?_[0]:new xe.MathNode("mrow",_);var D=new xe.MathNode("annotation",[new xe.TextNode(p)]);D.setAttribute("encoding","application/x-tex");var I=new xe.MathNode("semantics",[C,D]),P=new xe.MathNode("math",[I]);return P.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),se.makeSpan([g?"katex":"katex-mathml"],[P])}var Sc=function(p){return new xt({style:p.displayMode?G.DISPLAY:G.TEXT,maxSize:p.maxSize,minRuleThickness:p.minRuleThickness})},Wt=function(p,m){if(m.displayMode){var g=["katex-display"];m.leqno&&g.push("leqno"),m.fleqn&&g.push("fleqn"),p=se.makeSpan(g,[p])}return p},ui={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb"},ts={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},$i_encloseSpan=function(p,m,g,_){var C,D=p.height+p.depth+2*g;if(/fbox|color/.test(m)){if(C=se.makeSpan(["stretchy",m],[],_),"fbox"===m){var I=_.color&&_.getColor();I&&(C.style.borderColor=I)}}else{var P=[];/^[bx]cancel$/.test(m)&&P.push(new dc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(m)&&P.push(new dc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var F=new za(P,{width:"100%",height:D+"em"});C=se.makeSvgSpan([],[F],_)}return C.height=D,C.style.height=D+"em",C},$i_mathMLnode=function(p){var m=new xe.MathNode("mo",[new xe.TextNode(ui[p.substr(1)])]);return m.setAttribute("stretchy","true"),m},$i_svgSpan=function(p,m){var _=function(){var P=4e5,F=p.label.substr(1);if(Ee.contains(["widehat","widecheck","widetilde","utilde"],F)){var ae,he,fe,J=function(p){return"ordgroup"===p.type?p.body.length:1}(p.base);if(J>5)"widehat"===F||"widecheck"===F?(ae=420,P=2364,fe=.42,he=F+"4"):(ae=312,P=2340,fe=.34,he="tilde4");else{var De=[1,1,2,2,3,3][J];"widehat"===F||"widecheck"===F?(P=[0,1062,2364,2364,2364][De],ae=[0,239,300,360,420][De],fe=[0,.24,.3,.3,.36,.42][De],he=F+De):(P=[0,600,1033,2339,2340][De],ae=[0,260,286,306,312][De],fe=[0,.26,.286,.3,.306,.34][De],he="tilde"+De)}var Te=new fl(he),mt=new za([Te],{width:"100%",height:fe+"em",viewBox:"0 0 "+P+" "+ae,preserveAspectRatio:"none"});return{span:se.makeSvgSpan([],[mt],m),minWidth:0,height:fe}}var gr,vr,_t=[],Tt=ts[F],En=Tt[0],dn=Tt[1],Mn=Tt[2],mn=Mn/1e3,wn=En.length;if(1===wn)gr=["hide-tail"],vr=[Tt[3]];else if(2===wn)gr=["halfarrow-left","halfarrow-right"],vr=["xMinYMin","xMaxYMin"];else{if(3!==wn)throw new Error("Correct katexImagesData or update code here to support\n                    "+wn+" children.");gr=["brace-left","brace-center","brace-right"],vr=["xMinYMin","xMidYMin","xMaxYMin"]}for(var Bi=0;Bi<wn;Bi++){var Xr=new fl(En[Bi]),Jr=new za([Xr],{width:"400em",height:mn+"em",viewBox:"0 0 "+P+" "+Mn,preserveAspectRatio:vr[Bi]+" slice"}),Ur=se.makeSvgSpan([gr[Bi]],[Jr],m);if(1===wn)return{span:Ur,minWidth:dn,height:mn};Ur.style.height=mn+"em",_t.push(Ur)}return{span:se.makeSpan(["stretchy"],_t,m),minWidth:dn,height:mn}}(),C=_.span,D=_.minWidth,I=_.height;return C.height=I,C.style.height=I+"em",D>0&&(C.style.minWidth=D+"em"),C},Us=function(p,m){var g,_,D,C=$r(p,"supsub");C?(_=oe(C.base,"accent"),C.base=g=_.base,D=function(w){if(w instanceof Is)return w;throw new Error("Expected span<HtmlDomNode> but got "+String(w)+".")}(nn(C,m)),C.base=_):g=(_=oe(p,"accent")).base;var I=nn(g,m.havingCrampedStyle()),F=0;if(_.isShifty&&Ee.isCharacterBox(g)){var Y=Ee.getBaseElem(g);F=n2(nn(Y,m.havingCrampedStyle())).skew}var he,ae=Math.min(I.height,m.fontMetrics().xHeight);if(_.isStretchy)he=$i_svgSpan(_,m),he=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"elem",elem:he,wrapperClasses:["svg-align"],wrapperStyle:F>0?{width:"calc(100% - "+2*F+"em)",marginLeft:2*F+"em"}:void 0}]},m);else{var fe,De;"\\vec"===_.label?(fe=se.staticSvg("vec",m),De=se.svgData.vec[1]):((fe=n2(fe=se.makeOrd({mode:_.mode,text:_.label},m,"textord"))).italic=0,De=fe.width),he=se.makeSpan(["accent-body"],[fe]);var Te="\\textcircled"===_.label;Te&&(he.classes.push("accent-full"),ae=I.height);var mt=F;Te||(mt-=De/2),he.style.left=mt+"em","\\textcircled"===_.label&&(he.style.top=".2em"),he=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:-ae},{type:"elem",elem:he}]},m)}var _t=se.makeSpan(["mord","accent"],[he],m);return D?(D.children[0]=_t,D.height=Math.max(_t.height,D.height),D.classes[0]="mord",D):_t},Nu=function(p,m){var g=p.isStretchy?$i_mathMLnode(p.label):new xe.MathNode("mo",[ar(p.label,p.mode)]),_=new xe.MathNode("mover",[Cn(p.base,m),g]);return _.setAttribute("accent","true"),_},Hs=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(w){return"\\"+w}).join("|"));Ge({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(p,m){var g=m[0],_=!Hs.test(p.funcName);return{type:"accent",mode:p.parser.mode,label:p.funcName,isStretchy:_,isShifty:!_||"\\widehat"===p.funcName||"\\widetilde"===p.funcName||"\\widecheck"===p.funcName,base:g}},htmlBuilder:Us,mathmlBuilder:Nu}),Ge({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(p,m){return{type:"accent",mode:p.parser.mode,label:p.funcName,isStretchy:!1,isShifty:!0,base:m[0]}},htmlBuilder:Us,mathmlBuilder:Nu}),Ge({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(p,m){return{type:"accentUnder",mode:p.parser.mode,label:p.funcName,base:m[0]}},htmlBuilder:function(p,m){var g=nn(p.base,m),_=$i_svgSpan(p,m),C="\\utilde"===p.label?.12:0,D=se.makeVList({positionType:"bottom",positionData:_.height+C,children:[{type:"elem",elem:_,wrapperClasses:["svg-align"]},{type:"kern",size:C},{type:"elem",elem:g}]},m);return se.makeSpan(["mord","accentunder"],[D],m)},mathmlBuilder:function(p,m){var g=$i_mathMLnode(p.label),_=new xe.MathNode("munder",[Cn(p.base,m),g]);return _.setAttribute("accentunder","true"),_}});var pr=function(p){var m=new xe.MathNode("mpadded",p?[p]:[]);return m.setAttribute("width","+0.6em"),m.setAttribute("lspace","0.3em"),m};Ge({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(p,m,g){return{type:"xArrow",mode:p.parser.mode,label:p.funcName,body:m[0],below:g[0]}},htmlBuilder:function(p,m){var D,g=m.style,_=m.havingStyle(g.sup()),C=se.wrapFragment(nn(p.body,_,m),m);C.classes.push("x-arrow-pad"),p.below&&(_=m.havingStyle(g.sub()),(D=se.wrapFragment(nn(p.below,_,m),m)).classes.push("x-arrow-pad"));var Y,I=$i_svgSpan(p,m),P=-m.fontMetrics().axisHeight+.5*I.height,F=-m.fontMetrics().axisHeight-.5*I.height-.111;if((C.depth>.25||"\\xleftequilibrium"===p.label)&&(F-=C.depth),D){var J=-m.fontMetrics().axisHeight+D.height+.5*I.height+.111;Y=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:F},{type:"elem",elem:I,shift:P},{type:"elem",elem:D,shift:J}]},m)}else Y=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:F},{type:"elem",elem:I,shift:P}]},m);return Y.children[0].children[0].children[1].classes.push("svg-align"),se.makeSpan(["mrel","x-arrow"],[Y],m)},mathmlBuilder:function(p,m){var _,g=$i_mathMLnode(p.label);if(p.body){var C=pr(Cn(p.body,m));if(p.below){var D=pr(Cn(p.below,m));_=new xe.MathNode("munderover",[g,D,C])}else _=new xe.MathNode("mover",[g,C])}else if(p.below){var I=pr(Cn(p.below,m));_=new xe.MathNode("munder",[g,I])}else _=pr(),_=new xe.MathNode("mover",[g,_]);return _}}),Ge({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(p,m){for(var g=p.parser,C=oe(m[0],"ordgroup").body,D="",I=0;I<C.length;I++)D+=oe(C[I],"textord").text;var F=parseInt(D);if(isNaN(F))throw new re("\\@char has non-numeric argument "+D);return{type:"textord",mode:g.mode,text:String.fromCharCode(F)}}});var B1=function(p,m){var g=An(p.body,m.withColor(p.color),!1);return se.makeFragment(g)},bi=function(p,m){var g=_e(p.body,m.withColor(p.color)),_=new xe.MathNode("mstyle",g);return _.setAttribute("mathcolor",p.color),_};Ge({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(p,m){var g=p.parser,_=oe(m[0],"color-token").color;return{type:"color",mode:g.mode,color:_,body:Sr(m[1])}},htmlBuilder:B1,mathmlBuilder:bi}),Ge({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(p,m){var g=p.parser,_=p.breakOnTokenText,C=oe(m[0],"color-token").color;g.gullet.macros.set("\\current@color",C);var D=g.parseExpression(!0,_);return{type:"color",mode:g.mode,color:C,body:D}},htmlBuilder:B1,mathmlBuilder:bi}),Ge({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(p,m,g){var _=p.parser,D=g[0],I="\\cr"===p.funcName,P=!1;return I||(P=!_.settings.displayMode||!_.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:_.mode,newLine:P,newRow:I,size:D&&oe(D,"size").value}},htmlBuilder:function(p,m){if(p.newRow)throw new re("\\cr valid only within a tabular/array environment");var g=se.makeSpan(["mspace"],[],m);return p.newLine&&(g.classes.push("newline"),p.size&&(g.style.marginTop=fr(p.size,m)+"em")),g},mathmlBuilder:function(p,m){var g=new xe.MathNode("mspace");return p.newLine&&(g.setAttribute("linebreak","newline"),p.size&&g.setAttribute("height",fr(p.size,m)+"em")),g}});var Ne=function(p,m,g){var C=ml(Yn.math[p]&&Yn.math[p].replace||p,m,g);if(!C)throw new Error("Unsupported symbol "+p+" and font size "+m+".");return C},wt=function(p,m,g,_){var C=g.havingBaseStyle(m),D=se.makeSpan(_.concat(C.sizingClasses(g)),[p],g),I=C.sizeMultiplier/g.sizeMultiplier;return D.height*=I,D.depth*=I,D.maxFontSize=C.sizeMultiplier,D},Sn=function(p,m,g){var _=m.havingBaseStyle(g),C=(1-m.sizeMultiplier/_.sizeMultiplier)*m.fontMetrics().axisHeight;p.classes.push("delimcenter"),p.style.top=C+"em",p.height-=C,p.depth+=C},mr=function(p,m,g,_,C,D){var I=function(p,m,g,_){return se.makeSymbol(p,"Size"+m+"-Regular",g,_)}(p,m,C,_),P=wt(se.makeSpan(["delimsizing","size"+m],[I],_),G.TEXT,_,D);return g&&Sn(P,_,G.TEXT),P},li=function(p,m,g){return{type:"elem",elem:se.makeSpan(["delimsizinginner","Size1-Regular"===m?"delim-size1":"delim-size4"],[se.makeSpan([],[se.makeSymbol(p,m,g)])])}},Dn={type:"kern",size:-.005},Wa=function(p,m,g,_,C,D){var I,P,F,Y;I=F=Y=p,P=null;var J="Size1-Regular";"\\uparrow"===p?F=Y="\u23d0":"\\Uparrow"===p?F=Y="\u2016":"\\downarrow"===p?I=F="\u23d0":"\\Downarrow"===p?I=F="\u2016":"\\updownarrow"===p?(I="\\uparrow",F="\u23d0",Y="\\downarrow"):"\\Updownarrow"===p?(I="\\Uparrow",F="\u2016",Y="\\Downarrow"):"["===p||"\\lbrack"===p?(I="\u23a1",F="\u23a2",Y="\u23a3",J="Size4-Regular"):"]"===p||"\\rbrack"===p?(I="\u23a4",F="\u23a5",Y="\u23a6",J="Size4-Regular"):"\\lfloor"===p||"\u230a"===p?(F=I="\u23a2",Y="\u23a3",J="Size4-Regular"):"\\lceil"===p||"\u2308"===p?(I="\u23a1",F=Y="\u23a2",J="Size4-Regular"):"\\rfloor"===p||"\u230b"===p?(F=I="\u23a5",Y="\u23a6",J="Size4-Regular"):"\\rceil"===p||"\u2309"===p?(I="\u23a4",F=Y="\u23a5",J="Size4-Regular"):"("===p||"\\lparen"===p?(I="\u239b",F="\u239c",Y="\u239d",J="Size4-Regular"):")"===p||"\\rparen"===p?(I="\u239e",F="\u239f",Y="\u23a0",J="Size4-Regular"):"\\{"===p||"\\lbrace"===p?(I="\u23a7",P="\u23a8",Y="\u23a9",F="\u23aa",J="Size4-Regular"):"\\}"===p||"\\rbrace"===p?(I="\u23ab",P="\u23ac",Y="\u23ad",F="\u23aa",J="Size4-Regular"):"\\lgroup"===p||"\u27ee"===p?(I="\u23a7",Y="\u23a9",F="\u23aa",J="Size4-Regular"):"\\rgroup"===p||"\u27ef"===p?(I="\u23ab",Y="\u23ad",F="\u23aa",J="Size4-Regular"):"\\lmoustache"===p||"\u23b0"===p?(I="\u23a7",Y="\u23ad",F="\u23aa",J="Size4-Regular"):("\\rmoustache"===p||"\u23b1"===p)&&(I="\u23ab",Y="\u23a9",F="\u23aa",J="Size4-Regular");var ae=Ne(I,J,C),he=ae.height+ae.depth,fe=Ne(F,J,C),De=fe.height+fe.depth,Te=Ne(Y,J,C),mt=Te.height+Te.depth,_t=0,Tt=1;if(null!==P){var En=Ne(P,J,C);_t=En.height+En.depth,Tt=2}var dn=he+mt+_t,Mn=Math.max(0,Math.ceil((m-dn)/(Tt*De))),mn=dn+Mn*Tt*De,wn=_.fontMetrics().axisHeight;g&&(wn*=_.sizeMultiplier);var gr=mn/2-wn,vr=.005*(Mn+1)-De,rn=[];if(rn.push(li(Y,J,C)),null===P)for(var Bi=0;Bi<Mn;Bi++)rn.push(Dn),rn.push(li(F,J,C));else{for(var Xr=0;Xr<Mn;Xr++)rn.push(Dn),rn.push(li(F,J,C));rn.push({type:"kern",size:vr}),rn.push(li(F,J,C)),rn.push(Dn),rn.push(li(P,J,C));for(var Jr=0;Jr<Mn;Jr++)rn.push(Dn),rn.push(li(F,J,C))}rn.push({type:"kern",size:vr}),rn.push(li(F,J,C)),rn.push(Dn),rn.push(li(I,J,C));var Ur=_.havingBaseStyle(G.TEXT),is=se.makeVList({positionType:"bottom",positionData:gr,children:rn},Ur);return wt(se.makeSpan(["delimsizing","mult"],[is],Ur),G.TEXT,_,D)},Xa=function(p,m,g,_,C){var D=function(p,m,g){m*=1e3;var _="";switch(p){case"sqrtMain":_=function(p,m){return"M95,"+(622+p+m)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+p/2.075+" -"+p+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+p)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+p)+" "+m+"h400000v"+(40+p)+"h-400000z"}(m,80);break;case"sqrtSize1":_=function(p,m){return"M263,"+(601+p+m)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+p/2.084+" -"+p+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+p)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+p)+" "+m+"h400000v"+(40+p)+"h-400000z"}(m,80);break;case"sqrtSize2":_=function(p,m){return"M983 "+(10+p+m)+"\nl"+p/3.13+" -"+p+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+p)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+p)+" "+m+"h400000v"+(40+p)+"h-400000z"}(m,80);break;case"sqrtSize3":_=function(p,m){return"M424,"+(2398+p+m)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+p/4.223+" -"+p+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+p)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+p)+" "+m+"\nh400000v"+(40+p)+"h-400000z"}(m,80);break;case"sqrtSize4":_=function(p,m){return"M473,"+(2713+p+m)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+p/5.298+" -"+p+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+p)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+p)+" "+m+"h400000v"+(40+p)+"H1017.7z"}(m,80);break;case"sqrtTall":_=function(p,m,g){return"M702 "+(p+m)+"H400000"+(40+p)+"\nH742v"+(g-54-m-p)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+m+"H400000v"+(40+p)+"H742z"}(m,80,g)}return _}(p,_,g),I=new fl(p,D),P=new za([I],{width:"400em",height:m+"em",viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});return se.makeSvgSpan(["hide-tail"],[P],C)},wl=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],Ka=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],Wr=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],rs=[0,1.2,1.8,2.4,3],Yi=[{type:"small",style:G.SCRIPTSCRIPT},{type:"small",style:G.SCRIPT},{type:"small",style:G.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],vn=[{type:"small",style:G.SCRIPTSCRIPT},{type:"small",style:G.SCRIPT},{type:"small",style:G.TEXT},{type:"stack"}],q1=[{type:"small",style:G.SCRIPTSCRIPT},{type:"small",style:G.SCRIPT},{type:"small",style:G.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],h2=function(p){if("small"===p.type)return"Main-Regular";if("large"===p.type)return"Size"+p.size+"-Regular";if("stack"===p.type)return"Size4-Regular";throw new Error("Add support for delim type '"+p.type+"' here.")},Wi=function(p,m,g,_){for(var D=Math.min(2,3-_.style.size);D<g.length&&"stack"!==g[D].type;D++){var I=Ne(p,h2(g[D]),"math"),P=I.height+I.depth;if("small"===g[D].type&&(P*=_.havingBaseStyle(g[D].style).sizeMultiplier),P>m)return g[D]}return g[g.length-1]},Li=function(p,m,g,_,C,D){var I;"<"===p||"\\lt"===p||"\u27e8"===p?p="\\langle":(">"===p||"\\gt"===p||"\u27e9"===p)&&(p="\\rangle"),I=Ee.contains(Wr,p)?Yi:Ee.contains(wl,p)?q1:vn;var P=Wi(p,m,I,_);return"small"===P.type?function(p,m,g,_,C,D){var I=se.makeSymbol(p,"Main-Regular",C,_),P=wt(I,m,_,D);return g&&Sn(P,_,m),P}(p,P.style,g,_,C,D):"large"===P.type?mr(p,P.size,g,_,C,D):Wa(p,m,g,_,C,D)},Xi_sqrtImage=function(p,m){var I,J,g=m.havingBaseSizing(),_=Wi("\\surd",p*g.sizeMultiplier,q1,g),C=g.sizeMultiplier,D=Math.max(0,m.minRuleThickness-m.fontMetrics().sqrtRuleThickness),P=0,F=0,Y=0;return"small"===_.type?(p<1?C=1:p<1.4&&(C=.7),F=(1+D)/C,(I=Xa("sqrtMain",P=(1+D+.08)/C,Y=1e3+1e3*D+80,D,m)).style.minWidth="0.853em",J=.833/C):"large"===_.type?(F=(rs[_.size]+D)/C,(I=Xa("sqrtSize"+_.size,P=(rs[_.size]+D+.08)/C,Y=1080*rs[_.size],D,m)).style.minWidth="1.02em",J=1/C):(P=p+D+.08,F=p+D,Y=Math.floor(1e3*p+D)+80,(I=Xa("sqrtTall",P,Y,D,m)).style.minWidth="0.742em",J=1.056),I.height=F,I.style.height=P+"em",{span:I,advanceWidth:J,ruleWidth:(m.fontMetrics().sqrtRuleThickness+D)*C}},Xi_sizedDelim=function(p,m,g,_,C){if("<"===p||"\\lt"===p||"\u27e8"===p?p="\\langle":(">"===p||"\\gt"===p||"\u27e9"===p)&&(p="\\rangle"),Ee.contains(wl,p)||Ee.contains(Wr,p))return mr(p,m,!1,g,_,C);if(Ee.contains(Ka,p))return Wa(p,rs[m],!1,g,_,C);throw new re("Illegal delimiter: '"+p+"'")},Xi_customSizedDelim=Li,Xi_leftRightDelim=function(p,m,g,_,C,D){var I=_.fontMetrics().axisHeight*_.sizeMultiplier,F=5/_.fontMetrics().ptPerEm,Y=Math.max(m-I,g+I),J=Math.max(Y/500*901,2*Y-F);return Li(p,J,!0,_,C,D)},Ou={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ji=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tl(w,p){var m=Sl(w);if(m&&Ee.contains(Ji,m.text))return m;throw new re("Invalid delimiter: '"+(m?m.text:JSON.stringify(w))+"' after '"+p.funcName+"'",w)}function f2(w){if(!w.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ge({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(p,m){var g=Tl(m[0],p);return{type:"delimsizing",mode:p.parser.mode,size:Ou[p.funcName].size,mclass:Ou[p.funcName].mclass,delim:g.text}},htmlBuilder:function(p,m){return"."===p.delim?se.makeSpan([p.mclass]):Xi_sizedDelim(p.delim,p.size,m,p.mode,[p.mclass])},mathmlBuilder:function(p){var m=[];"."!==p.delim&&m.push(ar(p.delim,p.mode));var g=new xe.MathNode("mo",m);return g.setAttribute("fence","mopen"===p.mclass||"mclose"===p.mclass?"true":"false"),g}}),Ge({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(p,m){var g=p.parser.gullet.macros.get("\\current@color");if(g&&"string"!=typeof g)throw new re("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:p.parser.mode,delim:Tl(m[0],p).text,color:g}}}),Ge({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(p,m){var g=Tl(m[0],p),_=p.parser;++_.leftrightDepth;var C=_.parseExpression(!1);--_.leftrightDepth,_.expect("\\right",!1);var D=oe(_.parseFunction(),"leftright-right");return{type:"leftright",mode:_.mode,body:C,left:g.text,right:D.delim,rightColor:D.color}},htmlBuilder:function(p,m){f2(p);for(var g=An(p.body,m,!0,["mopen","mclose"]),_=0,C=0,D=!1,I=0;I<g.length;I++)g[I].isMiddle?D=!0:(_=Math.max(g[I].height,_),C=Math.max(g[I].depth,C));var P,ae;if(_*=m.sizeMultiplier,C*=m.sizeMultiplier,P="."===p.left?Yt(m,["mopen"]):Xi_leftRightDelim(p.left,_,C,m,p.mode,["mopen"]),g.unshift(P),D)for(var F=1;F<g.length;F++){var J=g[F].isMiddle;J&&(g[F]=Xi_leftRightDelim(J.delim,_,C,J.options,p.mode,[]))}if("."===p.right)ae=Yt(m,["mclose"]);else{var he=p.rightColor?m.withColor(p.rightColor):m;ae=Xi_leftRightDelim(p.right,_,C,he,p.mode,["mclose"])}return g.push(ae),se.makeSpan(["minner"],g,m)},mathmlBuilder:function(p,m){f2(p);var g=_e(p.body,m);if("."!==p.left){var _=new xe.MathNode("mo",[ar(p.left,p.mode)]);_.setAttribute("fence","true"),g.unshift(_)}if("."!==p.right){var C=new xe.MathNode("mo",[ar(p.right,p.mode)]);C.setAttribute("fence","true"),p.rightColor&&C.setAttribute("mathcolor",p.rightColor),g.push(C)}return Ls(g)}}),Ge({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(p,m){var g=Tl(m[0],p);if(!p.parser.leftrightDepth)throw new re("\\middle without preceding \\left",g);return{type:"middle",mode:p.parser.mode,delim:g.text}},htmlBuilder:function(p,m){var g;return"."===p.delim?g=Yt(m,[]):(g=Xi_sizedDelim(p.delim,1,m,p.mode,[])).isMiddle={delim:p.delim,options:m},g},mathmlBuilder:function(p,m){var g="\\vert"===p.delim||"|"===p.delim?ar("|","text"):ar(p.delim,p.mode),_=new xe.MathNode("mo",[g]);return _.setAttribute("fence","true"),_.setAttribute("lspace","0.05em"),_.setAttribute("rspace","0.05em"),_}});var wc=function(p,m){var D,J,g=se.wrapFragment(nn(p.body,m),m),_=p.label.substr(1),C=m.sizeMultiplier,I=0,P=Ee.isCharacterBox(p.body);if("sout"===_)(D=se.makeSpan(["stretchy","sout"])).height=m.fontMetrics().defaultRuleThickness/C,I=-.5*m.fontMetrics().xHeight;else{/cancel/.test(_)?P||g.classes.push("cancel-pad"):g.classes.push("boxpad");var F=0,Y=0;/box/.test(_)?(Y=Math.max(m.fontMetrics().fboxrule,m.minRuleThickness),F=m.fontMetrics().fboxsep+("colorbox"===_?0:Y)):F=P?.2:0,D=$i_encloseSpan(g,_,F,m),/fbox|boxed|fcolorbox/.test(_)&&(D.style.borderStyle="solid",D.style.borderWidth=Y+"em"),I=g.depth+F,p.backgroundColor&&(D.style.backgroundColor=p.backgroundColor,p.borderColor&&(D.style.borderColor=p.borderColor))}return J=se.makeVList(p.backgroundColor?{positionType:"individualShift",children:[{type:"elem",elem:D,shift:I},{type:"elem",elem:g,shift:0}]}:{positionType:"individualShift",children:[{type:"elem",elem:g,shift:0},{type:"elem",elem:D,shift:I,wrapperClasses:/cancel/.test(_)?["svg-align"]:[]}]},m),/cancel/.test(_)&&(J.height=g.height,J.depth=g.depth),/cancel/.test(_)&&!P?se.makeSpan(["mord","cancel-lap"],[J],m):se.makeSpan(["mord"],[J],m)},Tc=function(p,m){var g=0,_=new xe.MathNode(p.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Cn(p.body,m)]);switch(p.label){case"\\cancel":_.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":_.setAttribute("notation","downdiagonalstrike");break;case"\\sout":_.setAttribute("notation","horizontalstrike");break;case"\\fbox":_.setAttribute("notation","box");break;case"\\fcolorbox":case"\\colorbox":if(g=m.fontMetrics().fboxsep*m.fontMetrics().ptPerEm,_.setAttribute("width","+"+2*g+"pt"),_.setAttribute("height","+"+2*g+"pt"),_.setAttribute("lspace",g+"pt"),_.setAttribute("voffset",g+"pt"),"\\fcolorbox"===p.label){var C=Math.max(m.fontMetrics().fboxrule,m.minRuleThickness);_.setAttribute("style","border: "+C+"em solid "+String(p.borderColor))}break;case"\\xcancel":_.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return p.backgroundColor&&_.setAttribute("mathbackground",p.backgroundColor),_};Ge({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(p,m,g){var _=p.parser,C=p.funcName,D=oe(m[0],"color-token").color;return{type:"enclose",mode:_.mode,label:C,backgroundColor:D,body:m[1]}},htmlBuilder:wc,mathmlBuilder:Tc}),Ge({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(p,m,g){var _=p.parser,C=p.funcName,D=oe(m[0],"color-token").color,I=oe(m[1],"color-token").color;return{type:"enclose",mode:_.mode,label:C,backgroundColor:I,borderColor:D,body:m[2]}},htmlBuilder:wc,mathmlBuilder:Tc}),Ge({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(p,m){return{type:"enclose",mode:p.parser.mode,label:"\\fbox",body:m[0]}}}),Ge({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(p,m,g){return{type:"enclose",mode:p.parser.mode,label:p.funcName,body:m[0]}},htmlBuilder:wc,mathmlBuilder:Tc});var p2={};function Vs(w){for(var p=w.type,m=w.names,C=w.htmlBuilder,D=w.mathmlBuilder,I={type:p,numArgs:w.props.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:w.handler},P=0;P<m.length;++P)p2[m[P]]=I;C&&(lt[p]=C),D&&(Ya[p]=D)}function m2(w){var p=[];w.consumeSpaces();for(var m=w.fetch().text;"\\hline"===m||"\\hdashline"===m;)w.consume(),p.push("\\hdashline"===m),w.consumeSpaces(),m=w.fetch().text;return p}function Qa(w,p,m){var g=p.hskipBeforeAndAfter,_=p.addJot,C=p.cols,D=p.arraystretch,I=p.colSeparationType;if(w.gullet.beginGroup(),w.gullet.macros.set("\\\\","\\cr"),!D){var P=w.gullet.expandMacroAsText("\\arraystretch");if(null==P)D=1;else if(!(D=parseFloat(P))||D<0)throw new re("Invalid \\arraystretch: "+P)}w.gullet.beginGroup();var F=[],Y=[F],J=[],ae=[];for(ae.push(m2(w));;){var he=w.parseExpression(!1,"\\cr");w.gullet.endGroup(),w.gullet.beginGroup(),he={type:"ordgroup",mode:w.mode,body:he},m&&(he={type:"styling",mode:w.mode,style:m,body:[he]}),F.push(he);var fe=w.fetch().text;if("&"===fe)w.consume();else{if("\\end"===fe){1===F.length&&"styling"===he.type&&0===he.body[0].body.length&&Y.pop(),ae.length<Y.length+1&&ae.push([]);break}if("\\cr"!==fe)throw new re("Expected & or \\\\ or \\cr or \\end",w.nextToken);var De=oe(w.parseFunction(),"cr");J.push(De.size),ae.push(m2(w)),Y.push(F=[])}}return w.gullet.endGroup(),w.gullet.endGroup(),{type:"array",mode:w.mode,addJot:_,arraystretch:D,body:Y,cols:C,rowGaps:J,hskipBeforeAndAfter:g,hLinesBeforeRow:ae,colSeparationType:I}}function U1(w){return"d"===w.substr(0,1)?"display":"text"}var Gs=function(p,m){var g,_,C=p.body.length,D=p.hLinesBeforeRow,I=0,P=new Array(C),F=[],Y=Math.max(m.fontMetrics().arrayRuleWidth,m.minRuleThickness),J=1/m.fontMetrics().ptPerEm,ae=5*J;p.colSeparationType&&"small"===p.colSeparationType&&(ae=m.havingStyle(G.SCRIPT).sizeMultiplier/m.sizeMultiplier*.2778);var De=3*J,Te=p.arraystretch*(12*J),mt=.7*Te,_t=.3*Te,Tt=0;function En(Zs){for(var ru=0;ru<Zs.length;++ru)ru>0&&(Tt+=.25),F.push({pos:Tt,isDashed:Zs[ru]})}for(En(D[0]),g=0;g<p.body.length;++g){var dn=p.body[g],Mn=mt,mn=_t;I<dn.length&&(I=dn.length);var wn=new Array(dn.length);for(_=0;_<dn.length;++_){var gr=nn(dn[_],m);mn<gr.depth&&(mn=gr.depth),Mn<gr.height&&(Mn=gr.height),wn[_]=gr}var vr=p.rowGaps[g],rn=0;vr&&(rn=fr(vr,m))>0&&(mn<(rn+=_t)&&(mn=rn),rn=0),p.addJot&&(mn+=De),wn.height=Mn,wn.depth=mn,wn.pos=Tt+=Mn,Tt+=mn+rn,P[g]=wn,En(D[g+1])}var Ur,is,Bi=Tt/2+m.fontMetrics().axisHeight,Xr=p.cols||[],Jr=[];for(_=0,is=0;_<I||is<Xr.length;++_,++is){for(var Ci=Xr[is]||{},kl=!0;"separator"===Ci.type;){if(kl||((Ur=se.makeSpan(["arraycolsep"],[])).style.width=m.fontMetrics().doubleRuleSep+"em",Jr.push(Ur)),"|"!==Ci.separator&&":"!==Ci.separator)throw new re("Invalid separator type: "+Ci.separator);var I2="|"===Ci.separator?"solid":"dashed",nu=se.makeSpan(["vertical-separator"],[],m);nu.style.height=Tt+"em",nu.style.borderRightWidth=Y+"em",nu.style.borderRightStyle=I2,nu.style.margin="0 -"+Y/2+"em",nu.style.verticalAlign=-(Tt-Bi)+"em",Jr.push(nu),Ci=Xr[++is]||{},kl=!1}if(!(_>=I)){var Pu=void 0;(_>0||p.hskipBeforeAndAfter)&&0!==(Pu=Ee.deflt(Ci.pregap,ae))&&((Ur=se.makeSpan(["arraycolsep"],[])).style.width=Pu+"em",Jr.push(Ur));var Ru=[];for(g=0;g<C;++g){var Js=P[g],Fu=Js[_];if(Fu){var qc=Js.pos-Bi;Fu.depth=Js.depth,Fu.height=Js.height,Ru.push({type:"elem",elem:Fu,shift:qc})}}Ru=se.makeVList({positionType:"individualShift",children:Ru},m),Ru=se.makeSpan(["col-align-"+(Ci.align||"c")],[Ru]),Jr.push(Ru),(_<I-1||p.hskipBeforeAndAfter)&&0!==(Pu=Ee.deflt(Ci.postgap,ae))&&((Ur=se.makeSpan(["arraycolsep"],[])).style.width=Pu+"em",Jr.push(Ur))}}if(P=se.makeSpan(["mtable"],Jr),F.length>0){for(var Ll=se.makeLineSpan("hline",m,Y),nh=se.makeLineSpan("hdashline",m,Y),Bl=[{type:"elem",elem:P,shift:0}];F.length>0;){var Ks=F.pop(),rh=Ks.pos-Bi;Bl.push(Ks.isDashed?{type:"elem",elem:nh,shift:rh}:{type:"elem",elem:Ll,shift:rh})}P=se.makeVList({positionType:"individualShift",children:Bl},m)}return se.makeSpan(["mord"],[P],m)},_E={c:"center ",l:"left ",r:"right "},js=function(p,m){var g=new xe.MathNode("mtable",p.body.map(function(Tt){return new xe.MathNode("mtr",Tt.map(function(En){return new xe.MathNode("mtd",[Cn(En,m)])}))}));g.setAttribute("rowspacing",(.5===p.arraystretch?.1:.16+p.arraystretch-1+(p.addJot?.09:0))+"em");var C="",D="";if(p.cols){var I=p.cols,P="",F=!1,Y=0,J=I.length;"separator"===I[0].type&&(C+="top ",Y=1),"separator"===I[I.length-1].type&&(C+="bottom ",J-=1);for(var ae=Y;ae<J;ae++)"align"===I[ae].type?(D+=_E[I[ae].align],F&&(P+="none "),F=!0):"separator"===I[ae].type&&F&&(P+="|"===I[ae].separator?"solid ":"dashed ",F=!1);g.setAttribute("columnalign",D.trim()),/[sd]/.test(P)&&g.setAttribute("columnlines",P.trim())}if("align"===p.colSeparationType){for(var he=p.cols||[],fe="",De=1;De<he.length;De++)fe+=De%2?"0em ":"1em ";g.setAttribute("columnspacing",fe.trim())}else g.setAttribute("columnspacing","alignat"===p.colSeparationType?"0em":"small"===p.colSeparationType?"0.2778em":"1em");var Te="",mt=p.hLinesBeforeRow;C+=mt[0].length>0?"left ":"",C+=mt[mt.length-1].length>0?"right ":"";for(var _t=1;_t<mt.length-1;_t++)Te+=0===mt[_t].length?"none ":mt[_t][0]?"dashed ":"solid ";return/[sd]/.test(Te)&&g.setAttribute("rowlines",Te.trim()),""!==C&&(g=new xe.MathNode("menclose",[g])).setAttribute("notation",C.trim()),p.arraystretch&&p.arraystretch<1&&(g=new xe.MathNode("mstyle",[g])).setAttribute("scriptlevel","1"),g},g2=function(p,m){var C,g=[],_=Qa(p.parser,{cols:g,addJot:!0},"display"),D=0,I={type:"ordgroup",mode:p.mode,body:[]},P=$r(m[0],"ordgroup");if(P){for(var F="",Y=0;Y<P.body.length;Y++)F+=oe(P.body[Y],"textord").text;C=Number(F),D=2*C}var ae=!D;_.body.forEach(function(Te){for(var mt=1;mt<Te.length;mt+=2){var _t=oe(Te[mt],"styling");oe(_t.body[0],"ordgroup").body.unshift(I)}if(ae)D<Te.length&&(D=Te.length);else{var En=Te.length/2;if(C<En)throw new re("Too many math in a row: expected "+C+", but got "+En,Te[0])}});for(var he=0;he<D;++he){var fe="r",De=0;he%2==1?fe="l":he>0&&ae&&(De=1),g[he]={type:"align",align:fe,pregap:De,postgap:0}}return _.colSeparationType=ae?"align":"alignat",_};Vs({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(p,m){var C=(Sl(m[0])?[m[0]]:oe(m[0],"ordgroup").body).map(function(I){var F=Ec(I).text;if(-1!=="lcr".indexOf(F))return{type:"align",align:F};if("|"===F)return{type:"separator",separator:"|"};if(":"===F)return{type:"separator",separator:":"};throw new re("Unknown column alignment: "+F,I)});return Qa(p.parser,{cols:C,hskipBeforeAndAfter:!0},U1(p.envName))},htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(p){var m={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[p.envName],_=Qa(p.parser,{hskipBeforeAndAfter:!1},U1(p.envName));return m?{type:"leftright",mode:p.mode,body:[_],left:m[0],right:m[1],rightColor:void 0}:_},htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(p){var g=Qa(p.parser,{arraystretch:.5},"script");return g.colSeparationType="small",g},htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["subarray"],props:{numArgs:1},handler:function(p,m){var C=(Sl(m[0])?[m[0]]:oe(m[0],"ordgroup").body).map(function(I){var F=Ec(I).text;if(-1!=="lc".indexOf(F))return{type:"align",align:F};throw new re("Unknown column alignment: "+F,I)});if(C.length>1)throw new re("{subarray} can contain only one column");var D={cols:C,hskipBeforeAndAfter:!1,arraystretch:.5};if((D=Qa(p.parser,D,"script")).body[0].length>1)throw new re("{subarray} can contain only one column");return D},htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(p){var g=Qa(p.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},U1(p.envName));return{type:"leftright",mode:p.mode,body:[g],left:"\\{",right:".",rightColor:void 0}},htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["aligned"],props:{numArgs:0},handler:g2,htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["gathered"],props:{numArgs:0},handler:function(p){return Qa(p.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:Gs,mathmlBuilder:js}),Vs({type:"array",names:["alignedat"],props:{numArgs:1},handler:g2,htmlBuilder:Gs,mathmlBuilder:js}),Ge({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(p,m){throw new re(p.funcName+" valid only within array environment")}});var v2=p2;Ge({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(p,m){var g=p.parser,_=p.funcName,C=m[0];if("ordgroup"!==C.type)throw new re("Invalid environment name",C);for(var D="",I=0;I<C.body.length;++I)D+=oe(C.body[I],"textord").text;if("\\begin"===_){if(!v2.hasOwnProperty(D))throw new re("No such environment: "+D,C);var P=v2[D],F=g.parseArguments("\\begin{"+D+"}",P),he=P.handler({mode:g.mode,envName:D,parser:g},F.args,F.optArgs);g.expect("\\end",!1);var fe=g.nextToken,De=oe(g.parseFunction(),"environment");if(De.name!==D)throw new re("Mismatch: \\begin{"+D+"} matched by \\end{"+De.name+"}",fe);return he}return{type:"environment",mode:g.mode,name:D,nameGroup:C}}});var yE=se.makeSpan;function E2(w,p){var m=An(w.body,p,!0);return yE([w.mclass],m,p)}function _2(w,p){var m,g=_e(w.body,p);return"minner"===w.mclass?xe.newDocumentFragment(g):("mord"===w.mclass?w.isCharacterBox?(m=g[0]).type="mi":m=new xe.MathNode("mi",g):(w.isCharacterBox?(m=g[0]).type="mo":m=new xe.MathNode("mo",g),"mbin"===w.mclass?(m.attributes.lspace="0.22em",m.attributes.rspace="0.22em"):"mpunct"===w.mclass?(m.attributes.lspace="0em",m.attributes.rspace="0.17em"):("mopen"===w.mclass||"mclose"===w.mclass)&&(m.attributes.lspace="0em",m.attributes.rspace="0em")),m)}Ge({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(p,m){var C=m[0];return{type:"mclass",mode:p.parser.mode,mclass:"m"+p.funcName.substr(5),body:Sr(C),isCharacterBox:Ee.isCharacterBox(C)}},htmlBuilder:E2,mathmlBuilder:_2});var Al=function(p){var m="ordgroup"===p.type&&p.body.length?p.body[0]:p;return"atom"!==m.type||"bin"!==m.family&&"rel"!==m.family?"mord":"m"+m.family};Ge({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(p,m){return{type:"mclass",mode:p.parser.mode,mclass:Al(m[0]),body:[m[1]],isCharacterBox:Ee.isCharacterBox(m[1])}}}),Ge({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(p,m){var I,g=p.parser,_=p.funcName,C=m[1],D=m[0];I="\\stackrel"!==_?Al(C):"mrel";var P={type:"op",mode:C.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==_,body:Sr(C)},F={type:"supsub",mode:D.mode,base:P,sup:"\\underset"===_?null:D,sub:"\\underset"===_?D:null};return{type:"mclass",mode:g.mode,mclass:I,body:[F],isCharacterBox:Ee.isCharacterBox(F)}},htmlBuilder:E2,mathmlBuilder:_2});var Ml=function(p,m){var _=m.withFont(p.font);return nn(p.body,_)},b2=function(p,m){var _=m.withFont(p.font);return Cn(p.body,_)},y2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ge({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(p,m){var C=m[0],D=p.funcName;return D in y2&&(D=y2[D]),{type:"font",mode:p.parser.mode,font:D.slice(1),body:C}},htmlBuilder:Ml,mathmlBuilder:b2}),Ge({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(p,m){var g=p.parser,_=m[0],C=Ee.isCharacterBox(_);return{type:"mclass",mode:g.mode,mclass:Al(_),body:[{type:"font",mode:g.mode,font:"boldsymbol",body:_}],isCharacterBox:C}}}),Ge({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(p,m){var g=p.parser,_=p.funcName,D=g.mode,I=g.parseExpression(!0,p.breakOnTokenText);return{type:"font",mode:D,font:"math"+_.slice(1),body:{type:"ordgroup",mode:g.mode,body:I}}},htmlBuilder:Ml,mathmlBuilder:b2});var x2=function(p,m){var g=m;return"display"===p?g=g.id>=G.SCRIPT.id?g.text():G.DISPLAY:"text"===p&&g.size===G.DISPLAY.size?g=G.TEXT:"script"===p?g=G.SCRIPT:"scriptscript"===p&&(g=G.SCRIPTSCRIPT),g},Co=function(p,m){var D,g=x2(p.size,m.style),_=g.fracNum(),C=g.fracDen();D=m.havingStyle(_);var I=nn(p.numer,D,m);if(p.continued){var P=8.5/m.fontMetrics().ptPerEm,F=3.5/m.fontMetrics().ptPerEm;I.height=I.height<P?P:I.height,I.depth=I.depth<F?F:I.depth}D=m.havingStyle(C);var J,ae,he,fe,De,Te,mt,dn,Mn,mn,Y=nn(p.denom,D,m);if(p.hasBarLine?(p.barSize?(ae=fr(p.barSize,m),J=se.makeLineSpan("frac-line",m,ae)):J=se.makeLineSpan("frac-line",m),ae=J.height,he=J.height):(J=null,ae=0,he=m.fontMetrics().defaultRuleThickness),g.size===G.DISPLAY.size||"display"===p.size?(fe=m.fontMetrics().num1,De=ae>0?3*he:7*he,Te=m.fontMetrics().denom1):(ae>0?(fe=m.fontMetrics().num2,De=he):(fe=m.fontMetrics().num3,De=3*he),Te=m.fontMetrics().denom2),J){var Tt=m.fontMetrics().axisHeight;fe-I.depth-(Tt+.5*ae)<De&&(fe+=De-(fe-I.depth-(Tt+.5*ae))),Tt-.5*ae-(Y.height-Te)<De&&(Te+=De-(Tt-.5*ae-(Y.height-Te))),mt=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Y,shift:Te},{type:"elem",elem:J,shift:-(Tt-.5*ae)},{type:"elem",elem:I,shift:-fe}]},m)}else{var _t=fe-I.depth-(Y.height-Te);_t<De&&(fe+=.5*(De-_t),Te+=.5*(De-_t)),mt=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Y,shift:Te},{type:"elem",elem:I,shift:-fe}]},m)}return D=m.havingStyle(g),mt.height*=D.sizeMultiplier/m.sizeMultiplier,mt.depth*=D.sizeMultiplier/m.sizeMultiplier,dn=g.size===G.DISPLAY.size?m.fontMetrics().delim1:m.fontMetrics().delim2,Mn=null==p.leftDelim?Yt(m,["mopen"]):Xi_customSizedDelim(p.leftDelim,dn,!0,m.havingStyle(g),p.mode,["mopen"]),mn=p.continued?se.makeSpan([]):null==p.rightDelim?Yt(m,["mclose"]):Xi_customSizedDelim(p.rightDelim,dn,!0,m.havingStyle(g),p.mode,["mclose"]),se.makeSpan(["mord"].concat(D.sizingClasses(m)),[Mn,se.makeSpan(["mfrac"],[mt]),mn],m)},Ac=function(p,m){var g=new xe.MathNode("mfrac",[Cn(p.numer,m),Cn(p.denom,m)]);if(p.hasBarLine){if(p.barSize){var _=fr(p.barSize,m);g.setAttribute("linethickness",_+"em")}}else g.setAttribute("linethickness","0px");var C=x2(p.size,m.style);if(C.size!==m.style.size&&((g=new xe.MathNode("mstyle",[g])).setAttribute("displaystyle",C.size===G.DISPLAY.size?"true":"false"),g.setAttribute("scriptlevel","0")),null!=p.leftDelim||null!=p.rightDelim){var I=[];if(null!=p.leftDelim){var P=new xe.MathNode("mo",[new xe.TextNode(p.leftDelim.replace("\\",""))]);P.setAttribute("fence","true"),I.push(P)}if(I.push(g),null!=p.rightDelim){var F=new xe.MathNode("mo",[new xe.TextNode(p.rightDelim.replace("\\",""))]);F.setAttribute("fence","true"),I.push(F)}return Ls(I)}return g};Ge({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(p,m){var I,g=p.parser,_=p.funcName,C=m[0],D=m[1],P=null,F=null,Y="auto";switch(_){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":I=!0;break;case"\\\\atopfrac":I=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":I=!1,P="(",F=")";break;case"\\\\bracefrac":I=!1,P="\\{",F="\\}";break;case"\\\\brackfrac":I=!1,P="[",F="]";break;default:throw new Error("Unrecognized genfrac command")}switch(_){case"\\cfrac":case"\\dfrac":case"\\dbinom":Y="display";break;case"\\tfrac":case"\\tbinom":Y="text"}return{type:"genfrac",mode:g.mode,continued:"\\cfrac"===_,numer:C,denom:D,hasBarLine:I,leftDelim:P,rightDelim:F,size:Y,barSize:null}},htmlBuilder:Co,mathmlBuilder:Ac}),Ge({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(p){var C,m=p.parser,_=p.token;switch(p.funcName){case"\\over":C="\\frac";break;case"\\choose":C="\\binom";break;case"\\atop":C="\\\\atopfrac";break;case"\\brace":C="\\\\bracefrac";break;case"\\brack":C="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:m.mode,replaceWith:C,token:_}}});var Kt=["display","text","script","scriptscript"],Mc=function(p){var m=null;return p.length>0&&(m="."===(m=p)?null:m),m};Ge({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(p,m){var g=p.parser,_=m[4],C=m[5],D=$r(m[0],"atom");D&&(D=Gt(m[0],"open"));var I=D?Mc(D.text):null,P=$r(m[1],"atom");P&&(P=Gt(m[1],"close"));var J,F=P?Mc(P.text):null,Y=oe(m[2],"size"),ae=null;J=!!Y.isBlank||(ae=Y.value).number>0;var he="auto",fe=$r(m[3],"ordgroup");if(fe){if(fe.body.length>0){var De=oe(fe.body[0],"textord");he=Kt[Number(De.text)]}}else fe=oe(m[3],"textord"),he=Kt[Number(fe.text)];return{type:"genfrac",mode:g.mode,numer:_,denom:C,continued:!1,hasBarLine:J,barSize:ae,leftDelim:I,rightDelim:F,size:he}},htmlBuilder:Co,mathmlBuilder:Ac}),Ge({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(p,m){var C=p.token;return{type:"infix",mode:p.parser.mode,replaceWith:"\\\\abovefrac",size:oe(m[0],"size").value,token:C}}}),Ge({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(p,m){var g=p.parser,C=m[0],D=function(p){if(!p)throw new Error("Expected non-null, but got "+String(p));return p}(oe(m[1],"infix").size);return{type:"genfrac",mode:g.mode,numer:C,denom:m[2],continued:!1,hasBarLine:D.number>0,barSize:D,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Co,mathmlBuilder:Ac});var H1=function(p,m){var _,C,g=m.style,D=$r(p,"supsub");D?(_=D.sup?nn(D.sup,m.havingStyle(g.sup()),m):nn(D.sub,m.havingStyle(g.sub()),m),C=oe(D.base,"horizBrace")):C=oe(p,"horizBrace");var F,I=nn(C.base,m.havingBaseStyle(G.DISPLAY)),P=$i_svgSpan(C,m);if(C.isOver?(F=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:.1},{type:"elem",elem:P}]},m)).children[0].children[0].children[1].classes.push("svg-align"):(F=se.makeVList({positionType:"bottom",positionData:I.depth+.1+P.height,children:[{type:"elem",elem:P},{type:"kern",size:.1},{type:"elem",elem:I}]},m)).children[0].children[0].children[0].classes.push("svg-align"),_){var Y=se.makeSpan(["mord",C.isOver?"mover":"munder"],[F],m);F=se.makeVList(C.isOver?{positionType:"firstBaseline",children:[{type:"elem",elem:Y},{type:"kern",size:.2},{type:"elem",elem:_}]}:{positionType:"bottom",positionData:Y.depth+.2+_.height+_.depth,children:[{type:"elem",elem:_},{type:"kern",size:.2},{type:"elem",elem:Y}]},m)}return se.makeSpan(["mord",C.isOver?"mover":"munder"],[F],m)};Ge({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(p,m){var _=p.funcName;return{type:"horizBrace",mode:p.parser.mode,label:_,isOver:/^\\over/.test(_),base:m[0]}},htmlBuilder:H1,mathmlBuilder:function(p,m){var g=$i_mathMLnode(p.label);return new xe.MathNode(p.isOver?"mover":"munder",[Cn(p.base,m),g])}}),Ge({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(p,m){var g=p.parser,_=m[1],C=oe(m[0],"url").url;return g.settings.isTrusted({command:"\\href",url:C})?{type:"href",mode:g.mode,href:C,body:Sr(_)}:g.formatUnsupportedCmd("\\href")},htmlBuilder:function(p,m){var g=An(p.body,m,!1);return se.makeAnchor(p.href,[],g,m)},mathmlBuilder:function(p,m){var g=Bs(p.body,m);return g instanceof Yr||(g=new Yr("mrow",[g])),g.setAttribute("href",p.href),g}}),Ge({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(p,m){var g=p.parser,_=oe(m[0],"url").url;if(!g.settings.isTrusted({command:"\\url",url:_}))return g.formatUnsupportedCmd("\\url");for(var C=[],D=0;D<_.length;D++){var I=_[D];"~"===I&&(I="\\textasciitilde"),C.push({type:"textord",mode:"text",text:I})}return{type:"href",mode:g.mode,href:_,body:Sr({type:"text",mode:g.mode,font:"\\texttt",body:C})}}}),Ge({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(p,m){return{type:"htmlmathml",mode:p.parser.mode,html:Sr(m[0]),mathml:Sr(m[1])}},htmlBuilder:function(p,m){var g=An(p.html,m,!1);return se.makeFragment(g)},mathmlBuilder:function(p,m){return Bs(p.mathml,m)}});var Nl=function(p){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(p))return{number:+p,unit:"bp"};var m=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(p);if(!m)throw new re("Invalid size: '"+p+"' in \\includegraphics");var g={number:+(m[1]+m[2]),unit:m[3]};if(!si(g))throw new re("Invalid unit: '"+g.unit+"' in \\includegraphics.");return g};Ge({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(p,m,g){var _=p.parser,C={number:0,unit:"em"},D={number:.9,unit:"em"},I={number:0,unit:"em"},P="";if(g[0])for(var Y=oe(g[0],"raw").string.split(","),J=0;J<Y.length;J++){var ae=Y[J].split("=");if(2===ae.length){var he=ae[1].trim();switch(ae[0].trim()){case"alt":P=he;break;case"width":C=Nl(he);break;case"height":D=Nl(he);break;case"totalheight":I=Nl(he);break;default:throw new re("Invalid key: '"+ae[0]+"' in \\includegraphics.")}}}var fe=oe(m[0],"url").url;return""===P&&(P=(P=(P=fe).replace(/^.*[\\/]/,"")).substring(0,P.lastIndexOf("."))),_.settings.isTrusted({command:"\\includegraphics",url:fe})?{type:"includegraphics",mode:_.mode,alt:P,width:C,height:D,totalheight:I,src:fe}:_.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(p,m){var g=fr(p.height,m),_=0;p.totalheight.number>0&&(_=fr(p.totalheight,m)-g,_=Number(_.toFixed(2)));var C=0;p.width.number>0&&(C=fr(p.width,m));var D={height:g+_+"em"};C>0&&(D.width=C+"em"),_>0&&(D.verticalAlign=-_+"em");var I=new xo(p.src,p.alt,D);return I.height=g,I.depth=_,I},mathmlBuilder:function(p,m){var g=new xe.MathNode("mglyph",[]);g.setAttribute("alt",p.alt);var _=fr(p.height,m),C=0;if(p.totalheight.number>0&&(C=(C=fr(p.totalheight,m)-_).toFixed(2),g.setAttribute("valign","-"+C+"em")),g.setAttribute("height",_+C+"em"),p.width.number>0){var D=fr(p.width,m);g.setAttribute("width",D+"em")}return g.setAttribute("src",p.src),g}}),Ge({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(p,m){var g=p.parser,_=p.funcName,C=oe(m[0],"size");if(g.settings.strict){var I="mu"===C.value.unit;"m"===_[1]?(I||g.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+_+" supports only mu units, not "+C.value.unit+" units"),"math"!==g.mode&&g.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+_+" works only in math mode")):I&&g.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+_+" doesn't support mu units")}return{type:"kern",mode:g.mode,dimension:C.value}},htmlBuilder:function(p,m){return se.makeGlue(p.dimension,m)},mathmlBuilder:function(p,m){var g=fr(p.dimension,m);return new xe.SpaceNode(g)}}),Ge({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(p,m){var C=m[0];return{type:"lap",mode:p.parser.mode,alignment:p.funcName.slice(5),body:C}},htmlBuilder:function(p,m){var g;"clap"===p.alignment?(g=se.makeSpan([],[nn(p.body,m)]),g=se.makeSpan(["inner"],[g],m)):g=se.makeSpan(["inner"],[nn(p.body,m)]);var _=se.makeSpan(["fix"],[]),C=se.makeSpan([p.alignment],[g,_],m),D=se.makeSpan(["strut"]);return D.style.height=C.height+C.depth+"em",D.style.verticalAlign=-C.depth+"em",C.children.unshift(D),C=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C}]},m),se.makeSpan(["mord"],[C],m)},mathmlBuilder:function(p,m){var g=new xe.MathNode("mpadded",[Cn(p.body,m)]);return"rlap"!==p.alignment&&g.setAttribute("lspace",("llap"===p.alignment?"-1":"-0.5")+"width"),g.setAttribute("width","0px"),g}}),Ge({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(p,m){var g=p.funcName,_=p.parser,C=_.mode;_.switchMode("math");var D="\\("===g?"\\)":"$",I=_.parseExpression(!1,D);return _.expect(D),_.switchMode(C),{type:"styling",mode:_.mode,style:"text",body:I}}}),Ge({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(p,m){throw new re("Mismatched "+p.funcName)}});var Nc=function(p,m){switch(m.style.size){case G.DISPLAY.size:return p.display;case G.TEXT.size:return p.text;case G.SCRIPT.size:return p.script;case G.SCRIPTSCRIPT.size:return p.scriptscript;default:return p.text}};Ge({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(p,m){return{type:"mathchoice",mode:p.parser.mode,display:Sr(m[0]),text:Sr(m[1]),script:Sr(m[2]),scriptscript:Sr(m[3])}},htmlBuilder:function(p,m){var g=Nc(p,m),_=An(g,m,!1);return se.makeFragment(_)},mathmlBuilder:function(p,m){var g=Nc(p,m);return Bs(g,m)}});var z1=function(p,m,g,_,C,D,I){var P,F,ae;if(p=se.makeSpan([],[p]),m){var Y=nn(m,_.havingStyle(C.sup()),_);F={elem:Y,kern:Math.max(_.fontMetrics().bigOpSpacing1,_.fontMetrics().bigOpSpacing3-Y.depth)}}if(g){var J=nn(g,_.havingStyle(C.sub()),_);P={elem:J,kern:Math.max(_.fontMetrics().bigOpSpacing2,_.fontMetrics().bigOpSpacing4-J.height)}}if(F&&P){var he=_.fontMetrics().bigOpSpacing5+P.elem.height+P.elem.depth+P.kern+p.depth+I;ae=se.makeVList({positionType:"bottom",positionData:he,children:[{type:"kern",size:_.fontMetrics().bigOpSpacing5},{type:"elem",elem:P.elem,marginLeft:-D+"em"},{type:"kern",size:P.kern},{type:"elem",elem:p},{type:"kern",size:F.kern},{type:"elem",elem:F.elem,marginLeft:D+"em"},{type:"kern",size:_.fontMetrics().bigOpSpacing5}]},_)}else if(P)ae=se.makeVList({positionType:"top",positionData:p.height-I,children:[{type:"kern",size:_.fontMetrics().bigOpSpacing5},{type:"elem",elem:P.elem,marginLeft:-D+"em"},{type:"kern",size:P.kern},{type:"elem",elem:p}]},_);else{if(!F)return p;ae=se.makeVList({positionType:"bottom",positionData:p.depth+I,children:[{type:"elem",elem:p},{type:"kern",size:F.kern},{type:"elem",elem:F.elem,marginLeft:D+"em"},{type:"kern",size:_.fontMetrics().bigOpSpacing5}]},_)}return se.makeSpan(["mop","op-limits"],[ae],_)},Ol=["\\smallint"],eu=function(p,m){var g,_,D,C=!1,I=$r(p,"supsub");I?(g=I.sup,_=I.sub,D=oe(I.base,"op"),C=!0):D=oe(p,"op");var Y,P=m.style,F=!1;if(P.size===G.DISPLAY.size&&D.symbol&&!Ee.contains(Ol,D.name)&&(F=!0),D.symbol){var J=F?"Size2-Regular":"Size1-Regular",ae="";if(("\\oiint"===D.name||"\\oiiint"===D.name)&&(ae=D.name.substr(1),D.name="oiint"===ae?"\\iint":"\\iiint"),Y=se.makeSymbol(D.name,J,"math",m,["mop","op-symbol",F?"large-op":"small-op"]),ae.length>0){var he=Y.italic,fe=se.staticSvg(ae+"Size"+(F?"2":"1"),m);Y=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Y,shift:0},{type:"elem",elem:fe,shift:F?.08:0}]},m),D.name="\\"+ae,Y.classes.unshift("mop"),Y.italic=he}}else if(D.body){var De=An(D.body,m,!0);1===De.length&&De[0]instanceof Gi?(Y=De[0]).classes[0]="mop":Y=se.makeSpan(["mop"],se.tryCombineChars(De),m)}else{for(var Te=[],mt=1;mt<D.name.length;mt++)Te.push(se.mathsym(D.name[mt],D.mode,m));Y=se.makeSpan(["mop"],Te,m)}var _t=0,Tt=0;return(Y instanceof Gi||"\\oiint"===D.name||"\\oiiint"===D.name)&&!D.suppressBaseShift&&(_t=(Y.height-Y.depth)/2-m.fontMetrics().axisHeight,Tt=Y.italic),C?z1(Y,g,_,m,P,Tt,_t):(_t&&(Y.style.position="relative",Y.style.top=_t+"em"),Y)},qr=function(p,m){var g;if(p.symbol)g=new Yr("mo",[ar(p.name,p.mode)]),Ee.contains(Ol,p.name)&&g.setAttribute("largeop","false");else if(p.body)g=new Yr("mo",_e(p.body,m));else{g=new Yr("mi",[new ks(p.name.slice(1))]);var _=new Yr("mo",[ar("\u2061","text")]);g=p.parentIsSupSub?new Yr("mo",[g,_]):cn([g,_])}return g},V1={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};Ge({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:function(p,m){var C=p.funcName;return 1===C.length&&(C=V1[C]),{type:"op",mode:p.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:C}},htmlBuilder:eu,mathmlBuilder:qr}),Ge({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(p,m){return{type:"op",mode:p.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Sr(m[0])}},htmlBuilder:eu,mathmlBuilder:qr});var G1={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};Ge({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(p){return{type:"op",mode:p.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:p.funcName}},htmlBuilder:eu,mathmlBuilder:qr}),Ge({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(p){return{type:"op",mode:p.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:p.funcName}},htmlBuilder:eu,mathmlBuilder:qr}),Ge({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler:function(p){var _=p.funcName;return 1===_.length&&(_=G1[_]),{type:"op",mode:p.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:_}},htmlBuilder:eu,mathmlBuilder:qr});var Il=function(p,m){var g,_,D,P,C=!1,I=$r(p,"supsub");if(I?(g=I.sup,_=I.sub,D=oe(I.base,"operatorname"),C=!0):D=oe(p,"operatorname"),D.body.length>0){for(var F=D.body.map(function(he){var fe=he.text;return"string"==typeof fe?{type:"textord",mode:he.mode,text:fe}:he}),Y=An(F,m.withFont("mathrm"),!0),J=0;J<Y.length;J++){var ae=Y[J];ae instanceof Gi&&(ae.text=ae.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}P=se.makeSpan(["mop"],Y,m)}else P=se.makeSpan(["mop"],[],m);return C?z1(P,g,_,m,m.style,0,0):P};function Pl(w,p,m){for(var g=An(w,p,!1),_=p.sizeMultiplier/m.sizeMultiplier,C=0;C<g.length;C++){var D=g[C].classes.indexOf("sizing");D<0?Array.prototype.push.apply(g[C].classes,p.sizingClasses(m)):g[C].classes[D+1]==="reset-size"+p.size&&(g[C].classes[D+1]="reset-size"+m.size),g[C].height*=_,g[C].depth*=_}return se.makeFragment(g)}Ge({type:"operatorname",names:["\\operatorname","\\operatorname*"],props:{numArgs:1},handler:function(p,m){var _=p.funcName;return{type:"operatorname",mode:p.parser.mode,body:Sr(m[0]),alwaysHandleSupSub:"\\operatorname*"===_,limits:!1,parentIsSupSub:!1}},htmlBuilder:Il,mathmlBuilder:function(p,m){for(var g=_e(p.body,m.withFont("mathrm")),_=!0,C=0;C<g.length;C++){var D=g[C];if(!(D instanceof xe.SpaceNode))if(D instanceof xe.MathNode)switch(D.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var I=D.children[0];1===D.children.length&&I instanceof xe.TextNode?I.text=I.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):_=!1;break;default:_=!1}else _=!1}if(_){var P=g.map(function(J){return J.toText()}).join("");g=[new xe.TextNode(P)]}var F=new xe.MathNode("mi",g);F.setAttribute("mathvariant","normal");var Y=new xe.MathNode("mo",[ar("\u2061","text")]);return p.parentIsSupSub?new xe.MathNode("mo",[F,Y]):xe.newDocumentFragment([F,Y])}}),ai({type:"ordgroup",htmlBuilder:function(p,m){return p.semisimple?se.makeFragment(An(p.body,m,!1)):se.makeSpan(["mord"],An(p.body,m,!0),m)},mathmlBuilder:function(p,m){return Bs(p.body,m,!0)}}),Ge({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(p,m){return{type:"overline",mode:p.parser.mode,body:m[0]}},htmlBuilder:function(p,m){var g=nn(p.body,m.havingCrampedStyle()),_=se.makeLineSpan("overline-line",m),C=m.fontMetrics().defaultRuleThickness,D=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"kern",size:3*C},{type:"elem",elem:_},{type:"kern",size:C}]},m);return se.makeSpan(["mord","overline"],[D],m)},mathmlBuilder:function(p,m){var g=new xe.MathNode("mo",[new xe.TextNode("\u203e")]);g.setAttribute("stretchy","true");var _=new xe.MathNode("mover",[Cn(p.body,m),g]);return _.setAttribute("accent","true"),_}}),Ge({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(p,m){return{type:"phantom",mode:p.parser.mode,body:Sr(m[0])}},htmlBuilder:function(p,m){var g=An(p.body,m.withPhantom(),!1);return se.makeFragment(g)},mathmlBuilder:function(p,m){var g=_e(p.body,m);return new xe.MathNode("mphantom",g)}}),Ge({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(p,m){return{type:"hphantom",mode:p.parser.mode,body:m[0]}},htmlBuilder:function(p,m){var g=se.makeSpan([],[nn(p.body,m.withPhantom())]);if(g.height=0,g.depth=0,g.children)for(var _=0;_<g.children.length;_++)g.children[_].height=0,g.children[_].depth=0;return g=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g}]},m),se.makeSpan(["mord"],[g],m)},mathmlBuilder:function(p,m){var g=_e(Sr(p.body),m),_=new xe.MathNode("mphantom",g),C=new xe.MathNode("mpadded",[_]);return C.setAttribute("height","0px"),C.setAttribute("depth","0px"),C}}),Ge({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(p,m){return{type:"vphantom",mode:p.parser.mode,body:m[0]}},htmlBuilder:function(p,m){var g=se.makeSpan(["inner"],[nn(p.body,m.withPhantom())]),_=se.makeSpan(["fix"],[]);return se.makeSpan(["mord","rlap"],[g,_],m)},mathmlBuilder:function(p,m){var g=_e(Sr(p.body),m),_=new xe.MathNode("mphantom",g),C=new xe.MathNode("mpadded",[_]);return C.setAttribute("width","0px"),C}}),Ge({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(p,m){var g=p.parser,_=oe(m[0],"size").value;return{type:"raisebox",mode:g.mode,dy:_,body:m[1]}},htmlBuilder:function(p,m){var g=nn(p.body,m),_=fr(p.dy,m);return se.makeVList({positionType:"shift",positionData:-_,children:[{type:"elem",elem:g}]},m)},mathmlBuilder:function(p,m){var g=new xe.MathNode("mpadded",[Cn(p.body,m)]);return g.setAttribute("voffset",p.dy.number+p.dy.unit),g}}),Ge({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(p,m,g){var _=p.parser,C=g[0],D=oe(m[0],"size"),I=oe(m[1],"size");return{type:"rule",mode:_.mode,shift:C&&oe(C,"size").value,width:D.value,height:I.value}},htmlBuilder:function(p,m){var g=se.makeSpan(["mord","rule"],[],m),_=fr(p.width,m),C=fr(p.height,m),D=p.shift?fr(p.shift,m):0;return g.style.borderRightWidth=_+"em",g.style.borderTopWidth=C+"em",g.style.bottom=D+"em",g.width=_,g.height=C+D,g.depth=-D,g.maxFontSize=1.125*C*m.sizeMultiplier,g},mathmlBuilder:function(p,m){var g=fr(p.width,m),_=fr(p.height,m),C=p.shift?fr(p.shift,m):0,D=m.color&&m.getColor()||"black",I=new xe.MathNode("mspace");I.setAttribute("mathbackground",D),I.setAttribute("width",g+"em"),I.setAttribute("height",_+"em");var P=new xe.MathNode("mpadded",[I]);return C>=0?P.setAttribute("height","+"+C+"em"):(P.setAttribute("height",C+"em"),P.setAttribute("depth","+"+-C+"em")),P.setAttribute("voffset",C+"em"),P}});var D2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ge({type:"sizing",names:D2,props:{numArgs:0,allowedInText:!0},handler:function(p,m){var _=p.funcName,C=p.parser,D=C.parseExpression(!1,p.breakOnTokenText);return{type:"sizing",mode:C.mode,size:D2.indexOf(_)+1,body:D}},htmlBuilder:function(p,m){var g=m.havingSize(p.size);return Pl(p.body,g,m)},mathmlBuilder:function(p,m){var g=m.havingSize(p.size),_=_e(p.body,g),C=new xe.MathNode("mstyle",_);return C.setAttribute("mathsize",g.sizeMultiplier+"em"),C}}),Ge({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(p,m,g){var _=p.parser,C=!1,D=!1,I=g[0]&&oe(g[0],"ordgroup");if(I)for(var P="",F=0;F<I.body.length;++F)if("t"===(P=I.body[F].text))C=!0;else{if("b"!==P){C=!1,D=!1;break}D=!0}else C=!0,D=!0;return{type:"smash",mode:_.mode,body:m[0],smashHeight:C,smashDepth:D}},htmlBuilder:function(p,m){var g=se.makeSpan([],[nn(p.body,m)]);if(!p.smashHeight&&!p.smashDepth)return g;if(p.smashHeight&&(g.height=0,g.children))for(var _=0;_<g.children.length;_++)g.children[_].height=0;if(p.smashDepth&&(g.depth=0,g.children))for(var C=0;C<g.children.length;C++)g.children[C].depth=0;var D=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g}]},m);return se.makeSpan(["mord"],[D],m)},mathmlBuilder:function(p,m){var g=new xe.MathNode("mpadded",[Cn(p.body,m)]);return p.smashHeight&&g.setAttribute("height","0px"),p.smashDepth&&g.setAttribute("depth","0px"),g}}),Ge({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(p,m,g){return{type:"sqrt",mode:p.parser.mode,body:m[0],index:g[0]}},htmlBuilder:function(p,m){var g=nn(p.body,m.havingCrampedStyle());0===g.height&&(g.height=m.fontMetrics().xHeight),g=se.wrapFragment(g,m);var C=m.fontMetrics().defaultRuleThickness,D=C;m.style.id<G.TEXT.id&&(D=m.fontMetrics().xHeight);var I=C+D/4,F=Xi_sqrtImage(g.height+g.depth+I+C,m),Y=F.span,J=F.ruleWidth,he=Y.height-J;he>g.height+g.depth+I&&(I=(I+he-g.height-g.depth)/2);var fe=Y.height-g.height-I-J;g.style.paddingLeft=F.advanceWidth+"em";var De=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g,wrapperClasses:["svg-align"]},{type:"kern",size:-(g.height+fe)},{type:"elem",elem:Y},{type:"kern",size:J}]},m);if(p.index){var Te=m.havingStyle(G.SCRIPTSCRIPT),mt=nn(p.index,Te,m),Tt=se.makeVList({positionType:"shift",positionData:-.6*(De.height-De.depth),children:[{type:"elem",elem:mt}]},m),En=se.makeSpan(["root"],[Tt]);return se.makeSpan(["mord","sqrt"],[En,De],m)}return se.makeSpan(["mord","sqrt"],[De],m)},mathmlBuilder:function(p,m){var g=p.body,_=p.index;return _?new xe.MathNode("mroot",[Cn(g,m),Cn(_,m)]):new xe.MathNode("msqrt",[Cn(g,m)])}});var Oc={display:G.DISPLAY,text:G.TEXT,script:G.SCRIPT,scriptscript:G.SCRIPTSCRIPT};Ge({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(p,m){var _=p.funcName,C=p.parser,D=C.parseExpression(!0,p.breakOnTokenText),I=_.slice(1,_.length-5);return{type:"styling",mode:C.mode,style:I,body:D}},htmlBuilder:function(p,m){var _=m.havingStyle(Oc[p.style]).withFont("");return Pl(p.body,_,m)},mathmlBuilder:function(p,m){var _=m.havingStyle(Oc[p.style]),C=_e(p.body,_),D=new xe.MathNode("mstyle",C),P={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[p.style];return D.setAttribute("scriptlevel",P[0]),D.setAttribute("displaystyle",P[1]),D}});ai({type:"supsub",htmlBuilder:function(p,m){var g=function(p,m){var g=p.base;return g?"op"===g.type?g.limits&&(m.style.size===G.DISPLAY.size||g.alwaysHandleSupSub)?eu:null:"operatorname"===g.type?g.alwaysHandleSupSub&&(m.style.size===G.DISPLAY.size||g.limits)?Il:null:"accent"===g.type?Ee.isCharacterBox(g.base)?Us:null:"horizBrace"===g.type&&!p.sub===g.isOver?H1:null:null}(p,m);if(g)return g(p,m);var P,F,Te,_=p.base,C=p.sup,D=p.sub,I=nn(_,m),Y=m.fontMetrics(),J=0,ae=0,he=_&&Ee.isCharacterBox(_);if(C){var fe=m.havingStyle(m.style.sup());P=nn(C,fe,m),he||(J=I.height-fe.fontMetrics().supDrop*fe.sizeMultiplier/m.sizeMultiplier)}if(D){var De=m.havingStyle(m.style.sub());F=nn(D,De,m),he||(ae=I.depth+De.fontMetrics().subDrop*De.sizeMultiplier/m.sizeMultiplier)}Te=m.style===G.DISPLAY?Y.sup1:m.style.cramped?Y.sup3:Y.sup2;var dn,_t=.5/Y.ptPerEm/m.sizeMultiplier+"em",Tt=null;if(F&&(I instanceof Gi||p.base&&"op"===p.base.type&&p.base.name&&("\\oiint"===p.base.name||"\\oiiint"===p.base.name))&&(Tt=-I.italic+"em"),P&&F){J=Math.max(J,Te,P.depth+.25*Y.xHeight),ae=Math.max(ae,Y.sub2);var mn=4*Y.defaultRuleThickness;if(J-P.depth-(F.height-ae)<mn){ae=mn-(J-P.depth)+F.height;var wn=.8*Y.xHeight-(J-P.depth);wn>0&&(J+=wn,ae-=wn)}dn=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:F,shift:ae,marginRight:_t,marginLeft:Tt},{type:"elem",elem:P,shift:-J,marginRight:_t}]},m)}else if(F)ae=Math.max(ae,Y.sub1,F.height-.8*Y.xHeight),dn=se.makeVList({positionType:"shift",positionData:ae,children:[{type:"elem",elem:F,marginLeft:Tt,marginRight:_t}]},m);else{if(!P)throw new Error("supsub must have either sup or sub.");J=Math.max(J,Te,P.depth+.25*Y.xHeight),dn=se.makeVList({positionType:"shift",positionData:-J,children:[{type:"elem",elem:P,marginRight:_t}]},m)}var rn=F1(I,"right")||"mord";return se.makeSpan([rn],[I,se.makeSpan(["msupsub"],[dn])],m)},mathmlBuilder:function(p,m){var _,g=!1,D=$r(p.base,"horizBrace");D&&!!p.sup===D.isOver&&(g=!0,_=D.isOver),p.base&&("op"===p.base.type||"operatorname"===p.base.type)&&(p.base.parentIsSupSub=!0);var P,I=[Cn(p.base,m)];if(p.sub&&I.push(Cn(p.sub,m)),p.sup&&I.push(Cn(p.sup,m)),g)P=_?"mover":"munder";else if(p.sub)if(p.sup){var J=p.base;P=J&&"op"===J.type&&J.limits&&m.style===G.DISPLAY||J&&"operatorname"===J.type&&J.alwaysHandleSupSub&&(m.style===G.DISPLAY||J.limits)?"munderover":"msubsup"}else{var Y=p.base;P=Y&&"op"===Y.type&&Y.limits&&(m.style===G.DISPLAY||Y.alwaysHandleSupSub)||Y&&"operatorname"===Y.type&&Y.alwaysHandleSupSub&&(Y.limits||m.style===G.DISPLAY)?"munder":"msub"}else{var F=p.base;P=F&&"op"===F.type&&F.limits&&(m.style===G.DISPLAY||F.alwaysHandleSupSub)||F&&"operatorname"===F.type&&F.alwaysHandleSupSub&&(F.limits||m.style===G.DISPLAY)?"mover":"msup"}return new xe.MathNode(P,I)}}),ai({type:"atom",htmlBuilder:function(p,m){return se.mathsym(p.text,p.mode,m,["m"+p.family])},mathmlBuilder:function(p,m){var g=new xe.MathNode("mo",[ar(p.text,p.mode)]);if("bin"===p.family){var _=xc(p,m);"bold-italic"===_&&g.setAttribute("mathvariant",_)}else"punct"===p.family?g.setAttribute("separator","true"):("open"===p.family||"close"===p.family)&&g.setAttribute("stretchy","false");return g}});var Zn={mi:"italic",mn:"normal",mtext:"normal"};ai({type:"mathord",htmlBuilder:function(p,m){return se.makeOrd(p,m,"mathord")},mathmlBuilder:function(p,m){var g=new xe.MathNode("mi",[ar(p.text,p.mode,m)]),_=xc(p,m)||"italic";return _!==Zn[g.type]&&g.setAttribute("mathvariant",_),g}}),ai({type:"textord",htmlBuilder:function(p,m){return se.makeOrd(p,m,"textord")},mathmlBuilder:function(p,m){var C,g=ar(p.text,p.mode,m),_=xc(p,m)||"normal";return C="text"===p.mode?new xe.MathNode("mtext",[g]):/[0-9]/.test(p.text)?new xe.MathNode("mn",[g]):new xe.MathNode("\\prime"===p.text?"mo":"mi",[g]),_!==Zn[C.type]&&C.setAttribute("mathvariant",_),C}});var Ic={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},j1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ai({type:"spacing",htmlBuilder:function(p,m){if(j1.hasOwnProperty(p.text)){var g=j1[p.text].className||"";if("text"===p.mode){var _=se.makeOrd(p,m,"textord");return _.classes.push(g),_}return se.makeSpan(["mspace",g],[se.mathsym(p.text,p.mode,m)],m)}if(Ic.hasOwnProperty(p.text))return se.makeSpan(["mspace",Ic[p.text]],[],m);throw new re('Unknown type of space "'+p.text+'"')},mathmlBuilder:function(p,m){if(!j1.hasOwnProperty(p.text)){if(Ic.hasOwnProperty(p.text))return new xe.MathNode("mspace");throw new re('Unknown type of space "'+p.text+'"')}return new xe.MathNode("mtext",[new xe.TextNode("\xa0")])}});var Iu=function(){var p=new xe.MathNode("mtd",[]);return p.setAttribute("width","50%"),p};ai({type:"tag",mathmlBuilder:function(p,m){var g=new xe.MathNode("mtable",[new xe.MathNode("mtr",[Iu(),new xe.MathNode("mtd",[Bs(p.body,m)]),Iu(),new xe.MathNode("mtd",[Bs(p.tag,m)])])]);return g.setAttribute("width","100%"),g}});var xi={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},$1={"\\textbf":"textbf","\\textmd":"textmd"},Pc={"\\textit":"textit","\\textup":"textup"},$s=function(p,m){var g=p.font;return g?xi[g]?m.withTextFontFamily(xi[g]):$1[g]?m.withTextFontWeight($1[g]):m.withTextFontShape(Pc[g]):m};Ge({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},handler:function(p,m){var _=p.funcName;return{type:"text",mode:p.parser.mode,body:Sr(m[0]),font:_}},htmlBuilder:function(p,m){var g=$s(p,m),_=An(p.body,g,!0);return se.makeSpan(["mord","text"],se.tryCombineChars(_),g)},mathmlBuilder:function(p,m){var g=$s(p,m);return Bs(p.body,g)}}),Ge({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(p,m){return{type:"underline",mode:p.parser.mode,body:m[0]}},htmlBuilder:function(p,m){var g=nn(p.body,m),_=se.makeLineSpan("underline-line",m),C=m.fontMetrics().defaultRuleThickness,D=se.makeVList({positionType:"top",positionData:g.height,children:[{type:"kern",size:C},{type:"elem",elem:_},{type:"kern",size:3*C},{type:"elem",elem:g}]},m);return se.makeSpan(["mord","underline"],[D],m)},mathmlBuilder:function(p,m){var g=new xe.MathNode("mo",[new xe.TextNode("\u203e")]);g.setAttribute("stretchy","true");var _=new xe.MathNode("munder",[Cn(p.body,m),g]);return _.setAttribute("accentunder","true"),_}}),Ge({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(p,m,g){throw new re("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(p,m){for(var g=ci(p),_=[],C=m.havingStyle(m.style.text()),D=0;D<g.length;D++){var I=g[D];"~"===I&&(I="\\textasciitilde"),_.push(se.makeSymbol(I,"Typewriter-Regular",p.mode,C,["mord","texttt"]))}return se.makeSpan(["mord","text"].concat(C.sizingClasses(m)),se.tryCombineChars(_),C)},mathmlBuilder:function(p,m){var g=new xe.TextNode(ci(p)),_=new xe.MathNode("mtext",[g]);return _.setAttribute("mathvariant","monospace"),_}});var ci=function(p){return p.body.replace(/ /g,p.star?"\u2423":"\xa0")},Ys=I1,Rc="[ \r\n\t]",So="\\\\[a-zA-Z@]+",ct=new RegExp("^("+So+")"+Rc+"*$"),X1="[\u0300-\u036f]",T2=new RegExp(X1+"+$"),J1=function(){function w(m,g){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=m,this.settings=g,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\operatorname\\*|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14}}var p=w.prototype;return p.setCatcode=function(g,_){this.catcodes[g]=_},p.lex=function(){var g=this.input,_=this.tokenRegex.lastIndex;if(_===g.length)return new Ie("EOF",new ze(this,_,_));var C=this.tokenRegex.exec(g);if(null===C||C.index!==_)throw new re("Unexpected character: '"+g[_]+"'",new Ie(g[_],new ze(this,_,_+1)));var D=C[2]||" ";if(14===this.catcodes[D]){var I=g.indexOf("\n",this.tokenRegex.lastIndex);return-1===I?(this.tokenRegex.lastIndex=g.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=I+1,this.lex()}var P=D.match(ct);return P&&(D=P[1]),new Ie(D,new ze(this,_,this.tokenRegex.lastIndex))},w}(),K1=function(){function w(m,g){void 0===m&&(m={}),void 0===g&&(g={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=g,this.builtins=m,this.undefStack=[]}var p=w.prototype;return p.beginGroup=function(){this.undefStack.push({})},p.endGroup=function(){if(0===this.undefStack.length)throw new re("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var g=this.undefStack.pop();for(var _ in g)g.hasOwnProperty(_)&&(void 0===g[_]?delete this.current[_]:this.current[_]=g[_])},p.has=function(g){return this.current.hasOwnProperty(g)||this.builtins.hasOwnProperty(g)},p.get=function(g){return this.current.hasOwnProperty(g)?this.current[g]:this.builtins[g]},p.set=function(g,_,C){if(void 0===C&&(C=!1),C){for(var D=0;D<this.undefStack.length;D++)delete this.undefStack[D][g];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][g]=_)}else{var I=this.undefStack[this.undefStack.length-1];I&&!I.hasOwnProperty(g)&&(I[g]=this.current[g])}this.current[g]=_},w}(),Z1={},M2=Z1;function M(w,p){Z1[w]=p}M("\\@firstoftwo",function(w){return{tokens:w.consumeArgs(2)[0],numArgs:0}}),M("\\@secondoftwo",function(w){return{tokens:w.consumeArgs(2)[1],numArgs:0}}),M("\\@ifnextchar",function(w){var p=w.consumeArgs(3),m=w.future();return 1===p[0].length&&p[0][0].text===m.text?{tokens:p[1],numArgs:0}:{tokens:p[2],numArgs:0}}),M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),M("\\TextOrMath",function(w){var p=w.consumeArgs(2);return"text"===w.mode?{tokens:p[0],numArgs:0}:{tokens:p[1],numArgs:0}});var qt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(w){var m,p=w.popToken(),g="";if("'"===p.text)m=8,p=w.popToken();else if('"'===p.text)m=16,p=w.popToken();else if("`"===p.text)if("\\"===(p=w.popToken()).text[0])g=p.text.charCodeAt(1);else{if("EOF"===p.text)throw new re("\\char` missing argument");g=p.text.charCodeAt(0)}else m=10;if(m){if(null==(g=qt[p.text])||g>=m)throw new re("Invalid base-"+m+" digit "+p.text);for(var _;null!=(_=qt[w.future().text])&&_<m;)g*=m,g+=_,w.popToken()}return"\\@char{"+g+"}"});var jt=function(p,m){var g=p.consumeArgs(1)[0];if(1!==g.length)throw new re("\\gdef's first argument must be a macro name");var _=g[0].text,C=0;for(g=p.consumeArgs(1)[0];1===g.length&&"#"===g[0].text;){if(1!==(g=p.consumeArgs(1)[0]).length)throw new re('Invalid argument number length "'+g.length+'"');if(!/^[1-9]$/.test(g[0].text))throw new re('Invalid argument number "'+g[0].text+'"');if(C++,parseInt(g[0].text)!==C)throw new re('Argument number "'+g[0].text+'" out of order');g=p.consumeArgs(1)[0]}return p.macros.set(_,{tokens:g,numArgs:C},m),""};M("\\gdef",function(w){return jt(w,!0)}),M("\\def",function(w){return jt(w,!1)}),M("\\global",function(w){var p=w.consumeArgs(1)[0];if(1!==p.length)throw new re("Invalid command after \\global");var m=p[0].text;if("\\def"===m)return jt(w,!0);throw new re("Invalid command '"+m+"' after \\global")});var Qn=function(p,m,g){var _=p.consumeArgs(1)[0];if(1!==_.length)throw new re("\\newcommand's first argument must be a macro name");var C=_[0].text,D=p.isDefined(C);if(D&&!m)throw new re("\\newcommand{"+C+"} attempting to redefine "+C+"; use \\renewcommand");if(!D&&!g)throw new re("\\renewcommand{"+C+"} when command "+C+" does not yet exist; use \\newcommand");var I=0;if(1===(_=p.consumeArgs(1)[0]).length&&"["===_[0].text){for(var P="",F=p.expandNextToken();"]"!==F.text&&"EOF"!==F.text;)P+=F.text,F=p.expandNextToken();if(!P.match(/^\s*[0-9]+\s*$/))throw new re("Invalid number of arguments: "+P);I=parseInt(P),_=p.consumeArgs(1)[0]}return p.macros.set(C,{tokens:_,numArgs:I}),""};M("\\newcommand",function(w){return Qn(w,!1,!0)}),M("\\renewcommand",function(w){return Qn(w,!0,!1)}),M("\\providecommand",function(w){return Qn(w,!0,!0)}),M("\\bgroup","{"),M("\\egroup","}"),M("\\lq","`"),M("\\rq","'"),M("\\aa","\\r a"),M("\\AA","\\r A"),M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),M("\u212c","\\mathscr{B}"),M("\u2130","\\mathscr{E}"),M("\u2131","\\mathscr{F}"),M("\u210b","\\mathscr{H}"),M("\u2110","\\mathscr{I}"),M("\u2112","\\mathscr{L}"),M("\u2133","\\mathscr{M}"),M("\u211b","\\mathscr{R}"),M("\u212d","\\mathfrak{C}"),M("\u210c","\\mathfrak{H}"),M("\u2128","\\mathfrak{Z}"),M("\\Bbbk","\\Bbb{k}"),M("\xb7","\\cdotp"),M("\\llap","\\mathllap{\\textrm{#1}}"),M("\\rlap","\\mathrlap{\\textrm{#1}}"),M("\\clap","\\mathclap{\\textrm{#1}}"),M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),M("\\ne","\\neq"),M("\u2260","\\neq"),M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),M("\u2209","\\notin"),M("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),M("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),M("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),M("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),M("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),M("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),M("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),M("\u27c2","\\perp"),M("\u203c","\\mathclose{!\\mkern-0.8mu!}"),M("\u220c","\\notni"),M("\u231c","\\ulcorner"),M("\u231d","\\urcorner"),M("\u231e","\\llcorner"),M("\u231f","\\lrcorner"),M("\xa9","\\copyright"),M("\xae","\\textregistered"),M("\ufe0f","\\textregistered"),M("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),M("\u22ee","\\vdots"),M("\\varGamma","\\mathit{\\Gamma}"),M("\\varDelta","\\mathit{\\Delta}"),M("\\varTheta","\\mathit{\\Theta}"),M("\\varLambda","\\mathit{\\Lambda}"),M("\\varXi","\\mathit{\\Xi}"),M("\\varPi","\\mathit{\\Pi}"),M("\\varSigma","\\mathit{\\Sigma}"),M("\\varUpsilon","\\mathit{\\Upsilon}"),M("\\varPhi","\\mathit{\\Phi}"),M("\\varPsi","\\mathit{\\Psi}"),M("\\varOmega","\\mathit{\\Omega}"),M("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),M("\\boxed","\\fbox{$\\displaystyle{#1}$}"),M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),M("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var kc={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(w){var p="\\dotso",m=w.expandAfterFuture().text;return m in kc?p=kc[m]:("\\not"===m.substr(0,4)||m in Yn.math&&Ee.contains(["bin","rel"],Yn.math[m].group))&&(p="\\dotsb"),p});var Ws={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(w){return w.future().text in Ws?"\\ldots\\,":"\\ldots"}),M("\\dotsc",function(w){var p=w.future().text;return p in Ws&&","!==p?"\\ldots\\,":"\\ldots"}),M("\\cdots",function(w){return w.future().text in Ws?"\\@cdots\\,":"\\@cdots"}),M("\\dotsb","\\cdots"),M("\\dotsm","\\cdots"),M("\\dotsi","\\!\\cdots"),M("\\dotsx","\\ldots\\,"),M("\\DOTSI","\\relax"),M("\\DOTSB","\\relax"),M("\\DOTSX","\\relax"),M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),M("\\,","\\tmspace+{3mu}{.1667em}"),M("\\thinspace","\\,"),M("\\>","\\mskip{4mu}"),M("\\:","\\tmspace+{4mu}{.2222em}"),M("\\medspace","\\:"),M("\\;","\\tmspace+{5mu}{.2777em}"),M("\\thickspace","\\;"),M("\\!","\\tmspace-{3mu}{.1667em}"),M("\\negthinspace","\\!"),M("\\negmedspace","\\tmspace-{4mu}{.2222em}"),M("\\negthickspace","\\tmspace-{5mu}{.277em}"),M("\\enspace","\\kern.5em "),M("\\enskip","\\hskip.5em\\relax"),M("\\quad","\\hskip1em\\relax"),M("\\qquad","\\hskip2em\\relax"),M("\\tag","\\@ifstar\\tag@literal\\tag@paren"),M("\\tag@paren","\\tag@literal{({#1})}"),M("\\tag@literal",function(w){if(w.macros.get("\\df@tag"))throw new re("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),M("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),M("\\\\","\\newline"),M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Ki=Va["Main-Regular"]["T".charCodeAt(0)][1]-.7*Va["Main-Regular"]["A".charCodeAt(0)][1]+"em";M("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Ki+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),M("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Ki+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),M("\\hspace","\\@ifstar\\@hspacer\\@hspace"),M("\\@hspace","\\hskip #1\\relax"),M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),M("\\ordinarycolon",":"),M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),M("\u2237","\\dblcolon"),M("\u2239","\\eqcolon"),M("\u2254","\\coloneqq"),M("\u2255","\\eqqcolon"),M("\u2a74","\\Coloneqq"),M("\\ratio","\\vcentcolon"),M("\\coloncolon","\\dblcolon"),M("\\colonequals","\\coloneqq"),M("\\coloncolonequals","\\Coloneqq"),M("\\equalscolon","\\eqqcolon"),M("\\equalscoloncolon","\\Eqqcolon"),M("\\colonminus","\\coloneq"),M("\\coloncolonminus","\\Coloneq"),M("\\minuscolon","\\eqcolon"),M("\\minuscoloncolon","\\Eqcolon"),M("\\coloncolonapprox","\\Colonapprox"),M("\\coloncolonsim","\\Colonsim"),M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),M("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),M("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),M("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),M("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),M("\u27e6","\\llbracket"),M("\u27e7","\\rrbracket"),M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),M("\u2983","\\lBrace"),M("\u2984","\\rBrace"),M("\\darr","\\downarrow"),M("\\dArr","\\Downarrow"),M("\\Darr","\\Downarrow"),M("\\lang","\\langle"),M("\\rang","\\rangle"),M("\\uarr","\\uparrow"),M("\\uArr","\\Uparrow"),M("\\Uarr","\\Uparrow"),M("\\N","\\mathbb{N}"),M("\\R","\\mathbb{R}"),M("\\Z","\\mathbb{Z}"),M("\\alef","\\aleph"),M("\\alefsym","\\aleph"),M("\\Alpha","\\mathrm{A}"),M("\\Beta","\\mathrm{B}"),M("\\bull","\\bullet"),M("\\Chi","\\mathrm{X}"),M("\\clubs","\\clubsuit"),M("\\cnums","\\mathbb{C}"),M("\\Complex","\\mathbb{C}"),M("\\Dagger","\\ddagger"),M("\\diamonds","\\diamondsuit"),M("\\empty","\\emptyset"),M("\\Epsilon","\\mathrm{E}"),M("\\Eta","\\mathrm{H}"),M("\\exist","\\exists"),M("\\harr","\\leftrightarrow"),M("\\hArr","\\Leftrightarrow"),M("\\Harr","\\Leftrightarrow"),M("\\hearts","\\heartsuit"),M("\\image","\\Im"),M("\\infin","\\infty"),M("\\Iota","\\mathrm{I}"),M("\\isin","\\in"),M("\\Kappa","\\mathrm{K}"),M("\\larr","\\leftarrow"),M("\\lArr","\\Leftarrow"),M("\\Larr","\\Leftarrow"),M("\\lrarr","\\leftrightarrow"),M("\\lrArr","\\Leftrightarrow"),M("\\Lrarr","\\Leftrightarrow"),M("\\Mu","\\mathrm{M}"),M("\\natnums","\\mathbb{N}"),M("\\Nu","\\mathrm{N}"),M("\\Omicron","\\mathrm{O}"),M("\\plusmn","\\pm"),M("\\rarr","\\rightarrow"),M("\\rArr","\\Rightarrow"),M("\\Rarr","\\Rightarrow"),M("\\real","\\Re"),M("\\reals","\\mathbb{R}"),M("\\Reals","\\mathbb{R}"),M("\\Rho","\\mathrm{P}"),M("\\sdot","\\cdot"),M("\\sect","\\S"),M("\\spades","\\spadesuit"),M("\\sub","\\subset"),M("\\sube","\\subseteq"),M("\\supe","\\supseteq"),M("\\Tau","\\mathrm{T}"),M("\\thetasym","\\vartheta"),M("\\weierp","\\wp"),M("\\Zeta","\\mathrm{Z}"),M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),M("\\blue","\\textcolor{##6495ed}{#1}"),M("\\orange","\\textcolor{##ffa500}{#1}"),M("\\pink","\\textcolor{##ff00af}{#1}"),M("\\red","\\textcolor{##df0030}{#1}"),M("\\green","\\textcolor{##28ae7b}{#1}"),M("\\gray","\\textcolor{gray}{#1}"),M("\\purple","\\textcolor{##9d38bd}{#1}"),M("\\blueA","\\textcolor{##ccfaff}{#1}"),M("\\blueB","\\textcolor{##80f6ff}{#1}"),M("\\blueC","\\textcolor{##63d9ea}{#1}"),M("\\blueD","\\textcolor{##11accd}{#1}"),M("\\blueE","\\textcolor{##0c7f99}{#1}"),M("\\tealA","\\textcolor{##94fff5}{#1}"),M("\\tealB","\\textcolor{##26edd5}{#1}"),M("\\tealC","\\textcolor{##01d1c1}{#1}"),M("\\tealD","\\textcolor{##01a995}{#1}"),M("\\tealE","\\textcolor{##208170}{#1}"),M("\\greenA","\\textcolor{##b6ffb0}{#1}"),M("\\greenB","\\textcolor{##8af281}{#1}"),M("\\greenC","\\textcolor{##74cf70}{#1}"),M("\\greenD","\\textcolor{##1fab54}{#1}"),M("\\greenE","\\textcolor{##0d923f}{#1}"),M("\\goldA","\\textcolor{##ffd0a9}{#1}"),M("\\goldB","\\textcolor{##ffbb71}{#1}"),M("\\goldC","\\textcolor{##ff9c39}{#1}"),M("\\goldD","\\textcolor{##e07d10}{#1}"),M("\\goldE","\\textcolor{##a75a05}{#1}"),M("\\redA","\\textcolor{##fca9a9}{#1}"),M("\\redB","\\textcolor{##ff8482}{#1}"),M("\\redC","\\textcolor{##f9685d}{#1}"),M("\\redD","\\textcolor{##e84d39}{#1}"),M("\\redE","\\textcolor{##bc2612}{#1}"),M("\\maroonA","\\textcolor{##ffbde0}{#1}"),M("\\maroonB","\\textcolor{##ff92c6}{#1}"),M("\\maroonC","\\textcolor{##ed5fa6}{#1}"),M("\\maroonD","\\textcolor{##ca337c}{#1}"),M("\\maroonE","\\textcolor{##9e034e}{#1}"),M("\\purpleA","\\textcolor{##ddd7ff}{#1}"),M("\\purpleB","\\textcolor{##c6b9fc}{#1}"),M("\\purpleC","\\textcolor{##aa87ff}{#1}"),M("\\purpleD","\\textcolor{##7854ab}{#1}"),M("\\purpleE","\\textcolor{##543b78}{#1}"),M("\\mintA","\\textcolor{##f5f9e8}{#1}"),M("\\mintB","\\textcolor{##edf2df}{#1}"),M("\\mintC","\\textcolor{##e0e5cc}{#1}"),M("\\grayA","\\textcolor{##f6f7f7}{#1}"),M("\\grayB","\\textcolor{##f0f1f2}{#1}"),M("\\grayC","\\textcolor{##e3e5e6}{#1}"),M("\\grayD","\\textcolor{##d6d8da}{#1}"),M("\\grayE","\\textcolor{##babec2}{#1}"),M("\\grayF","\\textcolor{##888d93}{#1}"),M("\\grayG","\\textcolor{##626569}{#1}"),M("\\grayH","\\textcolor{##3b3e40}{#1}"),M("\\grayI","\\textcolor{##21242c}{#1}"),M("\\kaBlue","\\textcolor{##314453}{#1}"),M("\\kaGreen","\\textcolor{##71B307}{#1}");var Rl={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Lc=function(){function w(m,g,_){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=g,this.expansionCount=0,this.feed(m),this.macros=new K1(M2,g.macros),this.mode=_,this.stack=[]}var p=w.prototype;return p.feed=function(g){this.lexer=new J1(g,this.settings)},p.switchMode=function(g){this.mode=g},p.beginGroup=function(){this.macros.beginGroup()},p.endGroup=function(){this.macros.endGroup()},p.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},p.popToken=function(){return this.future(),this.stack.pop()},p.pushToken=function(g){this.stack.push(g)},p.pushTokens=function(g){var _;(_=this.stack).push.apply(_,g)},p.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},p.consumeArgs=function(g){for(var _=[],C=0;C<g;++C){this.consumeSpaces();var D=this.popToken();if("{"===D.text){for(var I=[],P=1;0!==P;){var F=this.popToken();if(I.push(F),"{"===F.text)++P;else if("}"===F.text)--P;else if("EOF"===F.text)throw new re("End of input in macro argument",D)}I.pop(),I.reverse(),_[C]=I}else{if("EOF"===D.text)throw new re("End of input expecting macro argument");_[C]=[D]}}return _},p.expandOnce=function(){var g=this.popToken(),C=this._getExpansion(g.text);if(null==C)return this.pushToken(g),g;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new re("Too many expansions: infinite loop or need to increase maxExpand setting");var D=C.tokens;if(C.numArgs)for(var I=this.consumeArgs(C.numArgs),P=(D=D.slice()).length-1;P>=0;--P){var F=D[P];if("#"===F.text){if(0===P)throw new re("Incomplete placeholder at end of macro body",F);if("#"===(F=D[--P]).text)D.splice(P+1,1);else{if(!/^[1-9]$/.test(F.text))throw new re("Not a valid argument number",F);var Y;(Y=D).splice.apply(Y,[P,2].concat(I[+F.text-1]))}}}return this.pushTokens(D),D},p.expandAfterFuture=function(){return this.expandOnce(),this.future()},p.expandNextToken=function(){for(;;){var g=this.expandOnce();if(g instanceof Ie){if("\\relax"!==g.text)return this.stack.pop();this.stack.pop()}}throw new Error},p.expandMacro=function(g){if(this.macros.get(g)){var _=[],C=this.stack.length;for(this.pushToken(new Ie(g));this.stack.length>C;)this.expandOnce()instanceof Ie&&_.push(this.stack.pop());return _}},p.expandMacroAsText=function(g){var _=this.expandMacro(g);return _&&_.map(function(C){return C.text}).join("")},p._getExpansion=function(g){var _=this.macros.get(g);if(null==_)return _;var C="function"==typeof _?_(this):_;if("string"==typeof C){var D=0;if(-1!==C.indexOf("#"))for(var I=C.replace(/##/g,"");-1!==I.indexOf("#"+(D+1));)++D;for(var P=new J1(C,this.settings),F=[],Y=P.lex();"EOF"!==Y.text;)F.push(Y),Y=P.lex();return F.reverse(),{tokens:F,numArgs:D}}return C},p.isDefined=function(g){return this.macros.has(g)||Ys.hasOwnProperty(g)||Yn.math.hasOwnProperty(g)||Yn.text.hasOwnProperty(g)||Rl.hasOwnProperty(g)},w}(),N2={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"}},Q1={\u00e1:"a\u0301",\u00e0:"a\u0300",\u00e4:"a\u0308",\u01df:"a\u0308\u0304",\u00e3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1eaf:"a\u0306\u0301",\u1eb1:"a\u0306\u0300",\u1eb5:"a\u0306\u0303",\u01ce:"a\u030c",\u00e2:"a\u0302",\u1ea5:"a\u0302\u0301",\u1ea7:"a\u0302\u0300",\u1eab:"a\u0302\u0303",\u0227:"a\u0307",\u01e1:"a\u0307\u0304",\u00e5:"a\u030a",\u01fb:"a\u030a\u0301",\u1e03:"b\u0307",\u0107:"c\u0301",\u010d:"c\u030c",\u0109:"c\u0302",\u010b:"c\u0307",\u010f:"d\u030c",\u1e0b:"d\u0307",\u00e9:"e\u0301",\u00e8:"e\u0300",\u00eb:"e\u0308",\u1ebd:"e\u0303",\u0113:"e\u0304",\u1e17:"e\u0304\u0301",\u1e15:"e\u0304\u0300",\u0115:"e\u0306",\u011b:"e\u030c",\u00ea:"e\u0302",\u1ebf:"e\u0302\u0301",\u1ec1:"e\u0302\u0300",\u1ec5:"e\u0302\u0303",\u0117:"e\u0307",\u1e1f:"f\u0307",\u01f5:"g\u0301",\u1e21:"g\u0304",\u011f:"g\u0306",\u01e7:"g\u030c",\u011d:"g\u0302",\u0121:"g\u0307",\u1e27:"h\u0308",\u021f:"h\u030c",\u0125:"h\u0302",\u1e23:"h\u0307",\u00ed:"i\u0301",\u00ec:"i\u0300",\u00ef:"i\u0308",\u1e2f:"i\u0308\u0301",\u0129:"i\u0303",\u012b:"i\u0304",\u012d:"i\u0306",\u01d0:"i\u030c",\u00ee:"i\u0302",\u01f0:"j\u030c",\u0135:"j\u0302",\u1e31:"k\u0301",\u01e9:"k\u030c",\u013a:"l\u0301",\u013e:"l\u030c",\u1e3f:"m\u0301",\u1e41:"m\u0307",\u0144:"n\u0301",\u01f9:"n\u0300",\u00f1:"n\u0303",\u0148:"n\u030c",\u1e45:"n\u0307",\u00f3:"o\u0301",\u00f2:"o\u0300",\u00f6:"o\u0308",\u022b:"o\u0308\u0304",\u00f5:"o\u0303",\u1e4d:"o\u0303\u0301",\u1e4f:"o\u0303\u0308",\u022d:"o\u0303\u0304",\u014d:"o\u0304",\u1e53:"o\u0304\u0301",\u1e51:"o\u0304\u0300",\u014f:"o\u0306",\u01d2:"o\u030c",\u00f4:"o\u0302",\u1ed1:"o\u0302\u0301",\u1ed3:"o\u0302\u0300",\u1ed7:"o\u0302\u0303",\u022f:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030b",\u1e55:"p\u0301",\u1e57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030c",\u1e59:"r\u0307",\u015b:"s\u0301",\u1e65:"s\u0301\u0307",\u0161:"s\u030c",\u1e67:"s\u030c\u0307",\u015d:"s\u0302",\u1e61:"s\u0307",\u1e97:"t\u0308",\u0165:"t\u030c",\u1e6b:"t\u0307",\u00fa:"u\u0301",\u00f9:"u\u0300",\u00fc:"u\u0308",\u01d8:"u\u0308\u0301",\u01dc:"u\u0308\u0300",\u01d6:"u\u0308\u0304",\u01da:"u\u0308\u030c",\u0169:"u\u0303",\u1e79:"u\u0303\u0301",\u016b:"u\u0304",\u1e7b:"u\u0304\u0308",\u016d:"u\u0306",\u01d4:"u\u030c",\u00fb:"u\u0302",\u016f:"u\u030a",\u0171:"u\u030b",\u1e7d:"v\u0303",\u1e83:"w\u0301",\u1e81:"w\u0300",\u1e85:"w\u0308",\u0175:"w\u0302",\u1e87:"w\u0307",\u1e98:"w\u030a",\u1e8d:"x\u0308",\u1e8b:"x\u0307",\u00fd:"y\u0301",\u1ef3:"y\u0300",\u00ff:"y\u0308",\u1ef9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1e8f:"y\u0307",\u1e99:"y\u030a",\u017a:"z\u0301",\u017e:"z\u030c",\u1e91:"z\u0302",\u017c:"z\u0307",\u00c1:"A\u0301",\u00c0:"A\u0300",\u00c4:"A\u0308",\u01de:"A\u0308\u0304",\u00c3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1eae:"A\u0306\u0301",\u1eb0:"A\u0306\u0300",\u1eb4:"A\u0306\u0303",\u01cd:"A\u030c",\u00c2:"A\u0302",\u1ea4:"A\u0302\u0301",\u1ea6:"A\u0302\u0300",\u1eaa:"A\u0302\u0303",\u0226:"A\u0307",\u01e0:"A\u0307\u0304",\u00c5:"A\u030a",\u01fa:"A\u030a\u0301",\u1e02:"B\u0307",\u0106:"C\u0301",\u010c:"C\u030c",\u0108:"C\u0302",\u010a:"C\u0307",\u010e:"D\u030c",\u1e0a:"D\u0307",\u00c9:"E\u0301",\u00c8:"E\u0300",\u00cb:"E\u0308",\u1ebc:"E\u0303",\u0112:"E\u0304",\u1e16:"E\u0304\u0301",\u1e14:"E\u0304\u0300",\u0114:"E\u0306",\u011a:"E\u030c",\u00ca:"E\u0302",\u1ebe:"E\u0302\u0301",\u1ec0:"E\u0302\u0300",\u1ec4:"E\u0302\u0303",\u0116:"E\u0307",\u1e1e:"F\u0307",\u01f4:"G\u0301",\u1e20:"G\u0304",\u011e:"G\u0306",\u01e6:"G\u030c",\u011c:"G\u0302",\u0120:"G\u0307",\u1e26:"H\u0308",\u021e:"H\u030c",\u0124:"H\u0302",\u1e22:"H\u0307",\u00cd:"I\u0301",\u00cc:"I\u0300",\u00cf:"I\u0308",\u1e2e:"I\u0308\u0301",\u0128:"I\u0303",\u012a:"I\u0304",\u012c:"I\u0306",\u01cf:"I\u030c",\u00ce:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1e30:"K\u0301",\u01e8:"K\u030c",\u0139:"L\u0301",\u013d:"L\u030c",\u1e3e:"M\u0301",\u1e40:"M\u0307",\u0143:"N\u0301",\u01f8:"N\u0300",\u00d1:"N\u0303",\u0147:"N\u030c",\u1e44:"N\u0307",\u00d3:"O\u0301",\u00d2:"O\u0300",\u00d6:"O\u0308",\u022a:"O\u0308\u0304",\u00d5:"O\u0303",\u1e4c:"O\u0303\u0301",\u1e4e:"O\u0303\u0308",\u022c:"O\u0303\u0304",\u014c:"O\u0304",\u1e52:"O\u0304\u0301",\u1e50:"O\u0304\u0300",\u014e:"O\u0306",\u01d1:"O\u030c",\u00d4:"O\u0302",\u1ed0:"O\u0302\u0301",\u1ed2:"O\u0302\u0300",\u1ed6:"O\u0302\u0303",\u022e:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030b",\u1e54:"P\u0301",\u1e56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030c",\u1e58:"R\u0307",\u015a:"S\u0301",\u1e64:"S\u0301\u0307",\u0160:"S\u030c",\u1e66:"S\u030c\u0307",\u015c:"S\u0302",\u1e60:"S\u0307",\u0164:"T\u030c",\u1e6a:"T\u0307",\u00da:"U\u0301",\u00d9:"U\u0300",\u00dc:"U\u0308",\u01d7:"U\u0308\u0301",\u01db:"U\u0308\u0300",\u01d5:"U\u0308\u0304",\u01d9:"U\u0308\u030c",\u0168:"U\u0303",\u1e78:"U\u0303\u0301",\u016a:"U\u0304",\u1e7a:"U\u0304\u0308",\u016c:"U\u0306",\u01d3:"U\u030c",\u00db:"U\u0302",\u016e:"U\u030a",\u0170:"U\u030b",\u1e7c:"V\u0303",\u1e82:"W\u0301",\u1e80:"W\u0300",\u1e84:"W\u0308",\u0174:"W\u0302",\u1e86:"W\u0307",\u1e8c:"X\u0308",\u1e8a:"X\u0307",\u00dd:"Y\u0301",\u1ef2:"Y\u0300",\u0178:"Y\u0308",\u1ef8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1e8e:"Y\u0307",\u0179:"Z\u0301",\u017d:"Z\u030c",\u1e90:"Z\u0302",\u017b:"Z\u0307",\u03ac:"\u03b1\u0301",\u1f70:"\u03b1\u0300",\u1fb1:"\u03b1\u0304",\u1fb0:"\u03b1\u0306",\u03ad:"\u03b5\u0301",\u1f72:"\u03b5\u0300",\u03ae:"\u03b7\u0301",\u1f74:"\u03b7\u0300",\u03af:"\u03b9\u0301",\u1f76:"\u03b9\u0300",\u03ca:"\u03b9\u0308",\u0390:"\u03b9\u0308\u0301",\u1fd2:"\u03b9\u0308\u0300",\u1fd1:"\u03b9\u0304",\u1fd0:"\u03b9\u0306",\u03cc:"\u03bf\u0301",\u1f78:"\u03bf\u0300",\u03cd:"\u03c5\u0301",\u1f7a:"\u03c5\u0300",\u03cb:"\u03c5\u0308",\u03b0:"\u03c5\u0308\u0301",\u1fe2:"\u03c5\u0308\u0300",\u1fe1:"\u03c5\u0304",\u1fe0:"\u03c5\u0306",\u03ce:"\u03c9\u0301",\u1f7c:"\u03c9\u0300",\u038e:"\u03a5\u0301",\u1fea:"\u03a5\u0300",\u03ab:"\u03a5\u0308",\u1fe9:"\u03a5\u0304",\u1fe8:"\u03a5\u0306",\u038f:"\u03a9\u0301",\u1ffa:"\u03a9\u0300"},Xs=function(){function w(m,g){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Lc(m,g,this.mode),this.settings=g,this.leftrightDepth=0}var p=w.prototype;return p.expect=function(g,_){if(void 0===_&&(_=!0),this.fetch().text!==g)throw new re("Expected '"+g+"', got '"+this.fetch().text+"'",this.fetch());_&&this.consume()},p.consume=function(){this.nextToken=null},p.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},p.switchMode=function(g){this.mode=g,this.gullet.switchMode(g)},p.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");var g=this.parseExpression(!1);return this.expect("EOF"),this.gullet.endGroup(),g},p.parseExpression=function(g,_){for(var C=[];;){"math"===this.mode&&this.consumeSpaces();var D=this.fetch();if(-1!==w.endOfExpression.indexOf(D.text)||_&&D.text===_||g&&Ys[D.text]&&Ys[D.text].infix)break;var I=this.parseAtom(_);if(!I)break;C.push(I)}return"text"===this.mode&&this.formLigatures(C),this.handleInfixNodes(C)},p.handleInfixNodes=function(g){for(var C,_=-1,D=0;D<g.length;D++){var I=$r(g[D],"infix");if(I){if(-1!==_)throw new re("only one infix operator per group",I.token);_=D,C=I.replaceWith}}if(-1!==_&&C){var P,F,Y=g.slice(0,_),J=g.slice(_+1);return P=1===Y.length&&"ordgroup"===Y[0].type?Y[0]:{type:"ordgroup",mode:this.mode,body:Y},F=1===J.length&&"ordgroup"===J[0].type?J[0]:{type:"ordgroup",mode:this.mode,body:J},[this.callFunction(C,"\\\\abovefrac"===C?[P,g[_],F]:[P,F],[])]}return g},p.handleSupSubscript=function(g){var _=this.fetch(),C=_.text;this.consume();var D=this.parseGroup(g,!1,w.SUPSUB_GREEDINESS,void 0,void 0,!0);if(!D)throw new re("Expected group after '"+C+"'",_);return D},p.formatUnsupportedCmd=function(g){for(var _=[],C=0;C<g.length;C++)_.push({type:"textord",mode:"text",text:g[C]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:_}]}},p.parseAtom=function(g){var C,D,_=this.parseGroup("atom",!1,null,g);if("text"===this.mode)return _;for(;;){this.consumeSpaces();var I=this.fetch();if("\\limits"===I.text||"\\nolimits"===I.text){var P=$r(_,"op");if(P)P.limits="\\limits"===I.text,P.alwaysHandleSupSub=!0;else{if(!(P=$r(_,"operatorname"))||!P.alwaysHandleSupSub)throw new re("Limit controls must follow a math operator",I);P.limits="\\limits"===I.text}this.consume()}else if("^"===I.text){if(C)throw new re("Double superscript",I);C=this.handleSupSubscript("superscript")}else if("_"===I.text){if(D)throw new re("Double subscript",I);D=this.handleSupSubscript("subscript")}else{if("'"!==I.text)break;if(C)throw new re("Double superscript",I);var J={type:"textord",mode:this.mode,text:"\\prime"},ae=[J];for(this.consume();"'"===this.fetch().text;)ae.push(J),this.consume();"^"===this.fetch().text&&ae.push(this.handleSupSubscript("superscript")),C={type:"ordgroup",mode:this.mode,body:ae}}}return C||D?{type:"supsub",mode:this.mode,base:_,sup:C,sub:D}:_},p.parseFunction=function(g,_,C){var D=this.fetch(),I=D.text,P=Ys[I];if(!P)return null;if(this.consume(),null!=C&&P.greediness<=C)throw new re("Got function '"+I+"' with no arguments"+(_?" as "+_:""),D);if("text"===this.mode&&!P.allowedInText)throw new re("Can't use function '"+I+"' in text mode",D);if("math"===this.mode&&!1===P.allowedInMath)throw new re("Can't use function '"+I+"' in math mode",D);var F=this.parseArguments(I,P);return this.callFunction(I,F.args,F.optArgs,D,g)},p.callFunction=function(g,_,C,D,I){var F=Ys[g];if(F&&F.handler)return F.handler({funcName:g,parser:this,token:D,breakOnTokenText:I},_,C);throw new re("No function handler for "+g)},p.parseArguments=function(g,_){var C=_.numArgs+_.numOptionalArgs;if(0===C)return{args:[],optArgs:[]};for(var D=_.greediness,I=[],P=[],F=0;F<C;F++){var J=F<_.numOptionalArgs,he=this.parseGroupOfType("argument to '"+g+"'",_.argTypes&&_.argTypes[F],J,D,F>0&&!J||0===F&&!J&&"math"===this.mode);if(!he){if(J){P.push(null);continue}throw new re("Expected group after '"+g+"'",this.fetch())}(J?P:I).push(he)}return{args:I,optArgs:P}},p.parseGroupOfType=function(g,_,C,D,I){switch(_){case"color":return I&&this.consumeSpaces(),this.parseColorGroup(C);case"size":return I&&this.consumeSpaces(),this.parseSizeGroup(C);case"url":return this.parseUrlGroup(C,I);case"math":case"text":return this.parseGroup(g,C,D,void 0,_,I);case"hbox":var P=this.parseGroup(g,C,D,void 0,"text",I);return P?{type:"styling",mode:P.mode,body:[P],style:"text"}:P;case"raw":if(I&&this.consumeSpaces(),C&&"{"===this.fetch().text)return null;var Y=this.parseStringGroup("raw",C,!0);if(Y)return{type:"raw",mode:"text",string:Y.text};throw new re("Expected raw group",this.fetch());case"original":case null:case void 0:return this.parseGroup(g,C,D,void 0,void 0,I);default:throw new re("Unknown group type as "+g,this.fetch())}},p.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},p.parseStringGroup=function(g,_,C){var D=_?"[":"{",I=_?"]":"}",P=this.fetch();if(P.text!==D){if(_)return null;if(C&&"EOF"!==P.text&&/[^{}[\]]/.test(P.text))return this.consume(),P}var F=this.mode;this.mode="text",this.expect(D);for(var fe,Y="",J=this.fetch(),ae=0,he=J;(fe=this.fetch()).text!==I||C&&ae>0;){switch(fe.text){case"EOF":throw new re("Unexpected end of input in "+g,J.range(he,Y));case D:ae++;break;case I:ae--}Y+=(he=fe).text,this.consume()}return this.expect(I),this.mode=F,J.range(he,Y)},p.parseRegexGroup=function(g,_){var C=this.mode;this.mode="text";for(var F,D=this.fetch(),I=D,P="";"EOF"!==(F=this.fetch()).text&&g.test(P+F.text);)P+=(I=F).text,this.consume();if(""===P)throw new re("Invalid "+_+": '"+D.text+"'",D);return this.mode=C,D.range(I,P)},p.parseColorGroup=function(g){var _=this.parseStringGroup("color",g);if(!_)return null;var C=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(_.text);if(!C)throw new re("Invalid color: '"+_.text+"'",_);var D=C[0];return/^[0-9a-f]{6}$/i.test(D)&&(D="#"+D),{type:"color-token",mode:this.mode,color:D}},p.parseSizeGroup=function(g){var _,C=!1;if(!(_=g||"{"===this.fetch().text?this.parseStringGroup("size",g):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;!g&&0===_.text.length&&(_.text="0pt",C=!0);var D=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(_.text);if(!D)throw new re("Invalid size: '"+_.text+"'",_);var I={number:+(D[1]+D[2]),unit:D[3]};if(!si(I))throw new re("Invalid unit: '"+I.unit+"'",_);return{type:"size",mode:this.mode,value:I,isBlank:C}},p.parseUrlGroup=function(g,_){this.gullet.lexer.setCatcode("%",13);var C=this.parseStringGroup("url",g,!0);if(this.gullet.lexer.setCatcode("%",14),!C)return null;var D=C.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:D}},p.parseGroup=function(g,_,C,D,I,P){var F=this.mode;I&&this.switchMode(I),P&&this.consumeSpaces();var ae,Y=this.fetch(),J=Y.text;if(_?"["===J:"{"===J||"\\begingroup"===J){this.consume();var he=w.endOfGroup[J];this.gullet.beginGroup();var fe=this.parseExpression(!1,he),De=this.fetch();this.expect(he),this.gullet.endGroup(),ae={type:"ordgroup",mode:this.mode,loc:ze.range(Y,De),body:fe,semisimple:"\\begingroup"===J||void 0}}else if(_)ae=null;else if(null==(ae=this.parseFunction(D,g,C)||this.parseSymbol())&&"\\"===J[0]&&!Rl.hasOwnProperty(J)){if(this.settings.throwOnError)throw new re("Undefined control sequence: "+J,Y);ae=this.formatUnsupportedCmd(J),this.consume()}return I&&this.switchMode(F),ae},p.formLigatures=function(g){for(var _=g.length-1,C=0;C<_;++C){var D=g[C],I=D.text;"-"===I&&"-"===g[C+1].text&&(C+1<_&&"-"===g[C+2].text?(g.splice(C,3,{type:"textord",mode:"text",loc:ze.range(D,g[C+2]),text:"---"}),_-=2):(g.splice(C,2,{type:"textord",mode:"text",loc:ze.range(D,g[C+1]),text:"--"}),_-=1)),("'"===I||"`"===I)&&g[C+1].text===I&&(g.splice(C,2,{type:"textord",mode:"text",loc:ze.range(D,g[C+1]),text:I+I}),_-=1)}},p.parseSymbol=function(){var g=this.fetch(),_=g.text;if(/^\\verb[^a-zA-Z]/.test(_)){this.consume();var C=_.slice(5),D="*"===C.charAt(0);if(D&&(C=C.slice(1)),C.length<2||C.charAt(0)!==C.slice(-1))throw new re("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:C=C.slice(1,-1),star:D}}Q1.hasOwnProperty(_[0])&&!Yn[this.mode][_[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+_[0]+'" used in math mode',g),_=Q1[_[0]]+_.substr(1));var P,I=T2.exec(_);if(I&&("i"===(_=_.substring(0,I.index))?_="\u0131":"j"===_&&(_="\u0237")),Yn[this.mode][_]){this.settings.strict&&"math"===this.mode&&Tu.indexOf(_)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+_[0]+'" used in math mode',g);var F=Yn[this.mode][_].group,Y=ze.range(g);P=r2.hasOwnProperty(F)?{type:"atom",mode:this.mode,family:F,loc:Y,text:_}:{type:F,mode:this.mode,loc:Y,text:_}}else{if(!(_.charCodeAt(0)>=128))return null;this.settings.strict&&(me(_.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+_[0]+'" used in math mode',g):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+_[0]+'" ('+_.charCodeAt(0)+")",g)),P={type:"textord",mode:"text",loc:ze.range(g),text:_}}if(this.consume(),I)for(var he=0;he<I[0].length;he++){var fe=I[0][he];if(!N2[fe])throw new re("Unknown accent ' "+fe+"'",g);var De=N2[fe][this.mode];if(!De)throw new re("Accent "+fe+" unsupported in "+this.mode+" mode",g);P={type:"accent",mode:this.mode,loc:ze.range(g),label:De,isStretchy:!1,isShifty:!0,base:P}}return P},w}();Xs.endOfExpression=["}","\\endgroup","\\end","\\right","&"],Xs.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},Xs.SUPSUB_GREEDINESS=1;var Or=function(p,m){if(!("string"==typeof p||p instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var g=new Xs(p,m);delete g.gullet.macros.current["\\df@tag"];var _=g.parse();if(g.gullet.macros.get("\\df@tag")){if(!m.displayMode)throw new re("\\tag works only in display equations");g.gullet.feed("\\df@tag"),_=[{type:"tag",mode:"text",body:_,tag:g.parse()}]}return _},oo=function(p,m,g){m.textContent="";var _=Bc(p,g).toNode();m.appendChild(_)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),oo=function(){throw new re("KaTeX doesn't work in quirks mode.")});var so=function(p,m,g){if(g.throwOnError||!(p instanceof re))throw p;var _=se.makeSpan(["katex-error"],[new Gi(m)]);return _.setAttribute("title",p.toString()),_.setAttribute("style","color:"+g.errorColor),_},Bc=function(p,m){var g=new ir(m);try{return function(p,m,g){var C,_=Sc(g);if("mathml"===g.output)return Cc(p,m,_,!0);if("html"===g.output){var D=es(p,_);C=se.makeSpan(["katex"],[D])}else{var I=Cc(p,m,_,!1),P=es(p,_);C=se.makeSpan(["katex"],[I,P])}return Wt(C,g)}(Or(p,g),p,g)}catch(C){return so(C,p,g)}};Me.default={version:"0.11.1",render:oo,renderToString:function(p,m){return Bc(p,m).toMarkup()},ParseError:re,__parse:function(p,m){var g=new ir(m);return Or(p,g)},__renderToDomTree:Bc,__renderToHTMLTree:function(p,m){var g=new ir(m);try{return function(p,m,g){var C=es(p,Sc(g)),D=se.makeSpan(["katex"],[C]);return Wt(D,g)}(Or(p,g),0,g)}catch(C){return so(C,p,g)}},__setFontMetrics:function(w,p){Va[w]=p},__defineSymbol:x,__defineMacro:M,__domTree:{Span:Is,Anchor:Ps,SymbolNode:Gi,SvgNode:za,PathNode:fl,LineNode:dc}}}]).default},943:pn=>{"use strict";var Ke=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;function Ve(Ie){if(null==Ie)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Ie)}pn.exports=function(){try{if(!Object.assign)return!1;var Ie=new String("abc");if(Ie[5]="de","5"===Object.getOwnPropertyNames(Ie)[0])return!1;for(var ke={},re=0;re<10;re++)ke["_"+String.fromCharCode(re)]=re;if("0123456789"!==Object.getOwnPropertyNames(ke).map(function(Re){return ke[Re]}).join(""))return!1;var Pe={};return"abcdefghijklmnopqrst".split("").forEach(function(Re){Pe[Re]=Re}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Pe)).join("")}catch(Re){return!1}}()?Object.assign:function(Ie,ke){for(var re,Pe,qe=Ve(Ie),Re=1;Re<arguments.length;Re++){for(var ut in re=Object(arguments[Re]))Me.call(re,ut)&&(qe[ut]=re[ut]);if(Ke){Pe=Ke(re);for(var Et=0;Et<Pe.length;Et++)be.call(re,Pe[Et])&&(qe[Pe[Et]]=re[Pe[Et]])}}return qe}},516:pn=>{"use strict";function Ke(Me,be){return Object.prototype.hasOwnProperty.call(Me,be)}pn.exports=function(Me,be,Ve,ze){Ve=Ve||"=";var Ie={};if("string"!=typeof Me||0===Me.length)return Ie;var ke=/\+/g;Me=Me.split(be=be||"&");var re=1e3;ze&&"number"==typeof ze.maxKeys&&(re=ze.maxKeys);var qe=Me.length;re>0&&qe>re&&(qe=re);for(var Pe=0;Pe<qe;++Pe){var Et,ht,tn,je,Re=Me[Pe].replace(ke,"%20"),ut=Re.indexOf(Ve);ut>=0?(Et=Re.substr(0,ut),ht=Re.substr(ut+1)):(Et=Re,ht=""),tn=decodeURIComponent(Et),je=decodeURIComponent(ht),Ke(Ie,tn)?Array.isArray(Ie[tn])?Ie[tn].push(je):Ie[tn]=[Ie[tn],je]:Ie[tn]=je}return Ie}},776:pn=>{"use strict";var Ke=function(Me){switch(typeof Me){case"string":return Me;case"boolean":return Me?"true":"false";case"number":return isFinite(Me)?Me:"";default:return""}};pn.exports=function(Me,be,Ve,ze){return be=be||"&",Ve=Ve||"=",null===Me&&(Me=void 0),"object"==typeof Me?Object.keys(Me).map(function(Ie){var ke=encodeURIComponent(Ke(Ie))+Ve;return Array.isArray(Me[Ie])?Me[Ie].map(function(re){return ke+encodeURIComponent(Ke(re))}).join(be):ke+encodeURIComponent(Ke(Me[Ie]))}).join(be):ze?encodeURIComponent(Ke(ze))+Ve+encodeURIComponent(Ke(Me)):""}},137:(pn,Ke,Me)=>{"use strict";Ke.decode=Ke.parse=Me(516),Ke.encode=Ke.stringify=Me(776)},308:function(pn,Ke,Me){var be;pn=Me.nmd(pn),function(Ve){"object"==typeof global&&global;var re,qe=2147483647,Gn=/^xn--/,kt=/[^\x20-\x7E]/,Ee=/[\x2E\u3002\uFF0E\uFF61]/g,ir={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ln=Math.floor,hr=String.fromCharCode;function ue(G){throw RangeError(ir[G])}function Mt(G,Z){for(var ce=G.length,Ce=[];ce--;)Ce[ce]=Z(G[ce]);return Ce}function ie(G,Z){var ce=G.split("@"),Ce="";return ce.length>1&&(Ce=ce[0]+"@",G=ce[1]),Ce+Mt((G=G.replace(Ee,".")).split("."),Z).join(".")}function Bt(G){for(var me,gt,Z=[],ce=0,Ce=G.length;ce<Ce;)(me=G.charCodeAt(ce++))>=55296&&me<=56319&&ce<Ce?56320==(64512&(gt=G.charCodeAt(ce++)))?Z.push(((1023&me)<<10)+(1023&gt)+65536):(Z.push(me),ce--):Z.push(me);return Z}function Dt(G){return Mt(G,function(Z){var ce="";return Z>65535&&(ce+=hr((Z-=65536)>>>10&1023|55296),Z=56320|1023&Z),ce+hr(Z)}).join("")}function un(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:36}function it(G,Z){return G+22+75*(G<26)-((0!=Z)<<5)}function k(G,Z,ce){var Ce=0;for(G=ce?Ln(G/700):G>>1,G+=Ln(G/Z);G>455;Ce+=36)G=Ln(G/35);return Ln(Ce+36*G/(G+38))}function ee(G){var Ce,We,Xe,Je,jn,Kn,Bn,Tn,$n,Mr,Z=[],ce=G.length,me=0,gt=128,Oe=72;for((We=G.lastIndexOf("-"))<0&&(We=0),Xe=0;Xe<We;++Xe)G.charCodeAt(Xe)>=128&&ue("not-basic"),Z.push(G.charCodeAt(Xe));for(Je=We>0?We+1:0;Je<ce;){for(jn=me,Kn=1,Bn=36;Je>=ce&&ue("invalid-input"),((Tn=un(G.charCodeAt(Je++)))>=36||Tn>Ln((qe-me)/Kn))&&ue("overflow"),me+=Tn*Kn,!(Tn<($n=Bn<=Oe?1:Bn>=Oe+26?26:Bn-Oe));Bn+=36)Kn>Ln(qe/(Mr=36-$n))&&ue("overflow"),Kn*=Mr;Oe=k(me-jn,Ce=Z.length+1,0==jn),Ln(me/Ce)>qe-gt&&ue("overflow"),gt+=Ln(me/Ce),me%=Ce,Z.splice(me++,0,gt)}return Dt(Z)}function j(G){var Z,ce,Ce,me,gt,Oe,We,Xe,Je,jn,Kn,Tn,$n,Mr,yo,Bn=[];for(Tn=(G=Bt(G)).length,Z=128,ce=0,gt=72,Oe=0;Oe<Tn;++Oe)(Kn=G[Oe])<128&&Bn.push(hr(Kn));for(Ce=me=Bn.length,me&&Bn.push("-");Ce<Tn;){for(We=qe,Oe=0;Oe<Tn;++Oe)(Kn=G[Oe])>=Z&&Kn<We&&(We=Kn);for(We-Z>Ln((qe-ce)/($n=Ce+1))&&ue("overflow"),ce+=(We-Z)*$n,Z=We,Oe=0;Oe<Tn;++Oe)if((Kn=G[Oe])<Z&&++ce>qe&&ue("overflow"),Kn==Z){for(Xe=ce,Je=36;!(Xe<(jn=Je<=gt?1:Je>=gt+26?26:Je-gt));Je+=36)Bn.push(hr(it(jn+(yo=Xe-jn)%(Mr=36-jn),0))),Xe=Ln(yo/Mr);Bn.push(hr(it(Xe,0))),gt=k(ce,$n,Ce==me),ce=0,++Ce}++ce,++Z}return Bn.join("")}re={version:"1.3.2",ucs2:{decode:Bt,encode:Dt},decode:ee,encode:j,toASCII:function(G){return ie(G,function(Z){return kt.test(Z)?"xn--"+j(Z):Z})},toUnicode:function(G){return ie(G,function(Z){return Gn.test(Z)?ee(Z.slice(4).toLowerCase()):Z})}},void 0!==(be=function(){return re}.call(Ke,Me,Ke,pn))&&(pn.exports=be)}()},762:(pn,Ke,Me)=>{"use strict";var Ve=Me(308),ze=Me(796);function Ie(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Ke.Qc=kn,Ke.DB=function(ue,Mt){return kn(ue,!1,!0).resolve(Mt)},Ke.WU=function(ue){return ze.isString(ue)&&(ue=kn(ue)),ue instanceof Ie?ue.format():Ie.prototype.format.call(ue)};var ke=/^([a-z0-9.+-]+:)/i,re=/:[0-9]*$/,qe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Re=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ut=["'"].concat(Re),Et=["%","/","?",";","#"].concat(ut),ht=["/","?","#"],je=/^[+a-z0-9A-Z_-]{0,63}$/,Fn=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gn={javascript:!0,"javascript:":!0},kt={javascript:!0,"javascript:":!0},Ee={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ir=Me(137);function kn(ue,Mt,ie){if(ue&&ze.isObject(ue)&&ue instanceof Ie)return ue;var Bt=new Ie;return Bt.parse(ue,Mt,ie),Bt}Ie.prototype.parse=function(ue,Mt,ie){if(!ze.isString(ue))throw new TypeError("Parameter 'url' must be a string, not "+typeof ue);var Bt=ue.indexOf("?"),Dt=-1!==Bt&&Bt<ue.indexOf("#")?"?":"#",un=ue.split(Dt);un[0]=un[0].replace(/\\/g,"/");var k=ue=un.join(Dt);if(k=k.trim(),!ie&&1===ue.split("#").length){var ee=qe.exec(k);if(ee)return this.path=k,this.href=k,this.pathname=ee[1],ee[2]?(this.search=ee[2],this.query=Mt?ir.parse(this.search.substr(1)):this.search.substr(1)):Mt&&(this.search="",this.query={}),this}var j=ke.exec(k);if(j){var le=(j=j[0]).toLowerCase();this.protocol=le,k=k.substr(j.length)}if(ie||j||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var ne="//"===k.substr(0,2);ne&&(!j||!kt[j])&&(k=k.substr(2),this.slashes=!0)}if(!kt[j]&&(ne||j&&!Ee[j])){for(var G=-1,Z=0;Z<ht.length;Z++)-1!==(ce=k.indexOf(ht[Z]))&&(-1===G||ce<G)&&(G=ce);var Ce,me;for(-1!==(me=-1===G?k.lastIndexOf("@"):k.lastIndexOf("@",G))&&(Ce=k.slice(0,me),k=k.slice(me+1),this.auth=decodeURIComponent(Ce)),G=-1,Z=0;Z<Et.length;Z++){var ce;-1!==(ce=k.indexOf(Et[Z]))&&(-1===G||ce<G)&&(G=ce)}-1===G&&(G=k.length),this.host=k.slice(0,G),k=k.slice(G),this.parseHost(),this.hostname=this.hostname||"";var gt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!gt)for(var Oe=this.hostname.split(/\./),We=(Z=0,Oe.length);Z<We;Z++){var Xe=Oe[Z];if(Xe&&!Xe.match(je)){for(var Je="",jn=0,Kn=Xe.length;jn<Kn;jn++)Xe.charCodeAt(jn)>127?Je+="x":Je+=Xe[jn];if(!Je.match(je)){var Bn=Oe.slice(0,Z),Tn=Oe.slice(Z+1),$n=Xe.match(Fn);$n&&(Bn.push($n[1]),Tn.unshift($n[2])),Tn.length&&(k="/"+Tn.join(".")+k),this.hostname=Bn.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),gt||(this.hostname=Ve.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,gt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==k[0]&&(k="/"+k))}if(!Gn[le])for(Z=0,We=ut.length;Z<We;Z++){var Jo=ut[Z];if(-1!==k.indexOf(Jo)){var Su=encodeURIComponent(Jo);Su===Jo&&(Su=escape(Jo)),k=k.split(Jo).join(Su)}}var Is=k.indexOf("#");-1!==Is&&(this.hash=k.substr(Is),k=k.slice(0,Is));var Ps=k.indexOf("?");return-1!==Ps?(this.search=k.substr(Ps),this.query=k.substr(Ps+1),Mt&&(this.query=ir.parse(this.query)),k=k.slice(0,Ps)):Mt&&(this.search="",this.query={}),k&&(this.pathname=k),Ee[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},Ie.prototype.format=function(){var ue=this.auth||"";ue&&(ue=(ue=encodeURIComponent(ue)).replace(/%3A/i,":"),ue+="@");var Mt=this.protocol||"",ie=this.pathname||"",Bt=this.hash||"",Dt=!1,un="";this.host?Dt=ue+this.host:this.hostname&&(Dt=ue+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Dt+=":"+this.port)),this.query&&ze.isObject(this.query)&&Object.keys(this.query).length&&(un=ir.stringify(this.query));var it=this.search||un&&"?"+un||"";return Mt&&":"!==Mt.substr(-1)&&(Mt+=":"),this.slashes||(!Mt||Ee[Mt])&&!1!==Dt?(Dt="//"+(Dt||""),ie&&"/"!==ie.charAt(0)&&(ie="/"+ie)):Dt||(Dt=""),Bt&&"#"!==Bt.charAt(0)&&(Bt="#"+Bt),it&&"?"!==it.charAt(0)&&(it="?"+it),Mt+Dt+(ie=ie.replace(/[?#]/g,function(k){return encodeURIComponent(k)}))+(it=it.replace("#","%23"))+Bt},Ie.prototype.resolve=function(ue){return this.resolveObject(kn(ue,!1,!0)).format()},Ie.prototype.resolveObject=function(ue){if(ze.isString(ue)){var Mt=new Ie;Mt.parse(ue,!1,!0),ue=Mt}for(var ie=new Ie,Bt=Object.keys(this),Dt=0;Dt<Bt.length;Dt++){var un=Bt[Dt];ie[un]=this[un]}if(ie.hash=ue.hash,""===ue.href)return ie.href=ie.format(),ie;if(ue.slashes&&!ue.protocol){for(var it=Object.keys(ue),k=0;k<it.length;k++){var ee=it[k];"protocol"!==ee&&(ie[ee]=ue[ee])}return Ee[ie.protocol]&&ie.hostname&&!ie.pathname&&(ie.path=ie.pathname="/"),ie.href=ie.format(),ie}if(ue.protocol&&ue.protocol!==ie.protocol){if(!Ee[ue.protocol]){for(var j=Object.keys(ue),le=0;le<j.length;le++){var ne=j[le];ie[ne]=ue[ne]}return ie.href=ie.format(),ie}if(ie.protocol=ue.protocol,ue.host||kt[ue.protocol])ie.pathname=ue.pathname;else{for(var We=(ue.pathname||"").split("/");We.length&&!(ue.host=We.shift()););ue.host||(ue.host=""),ue.hostname||(ue.hostname=""),""!==We[0]&&We.unshift(""),We.length<2&&We.unshift(""),ie.pathname=We.join("/")}return ie.search=ue.search,ie.query=ue.query,ie.host=ue.host||"",ie.auth=ue.auth,ie.hostname=ue.hostname||ue.host,ie.port=ue.port,(ie.pathname||ie.search)&&(ie.path=(ie.pathname||"")+(ie.search||"")),ie.slashes=ie.slashes||ue.slashes,ie.href=ie.format(),ie}var ce=ie.pathname&&"/"===ie.pathname.charAt(0),Ce=ue.host||ue.pathname&&"/"===ue.pathname.charAt(0),me=Ce||ce||ie.host&&ue.pathname,gt=me,Oe=ie.pathname&&ie.pathname.split("/")||[],Xe=(We=ue.pathname&&ue.pathname.split("/")||[],ie.protocol&&!Ee[ie.protocol]);if(Xe&&(ie.hostname="",ie.port=null,ie.host&&(""===Oe[0]?Oe[0]=ie.host:Oe.unshift(ie.host)),ie.host="",ue.protocol&&(ue.hostname=null,ue.port=null,ue.host&&(""===We[0]?We[0]=ue.host:We.unshift(ue.host)),ue.host=null),me=me&&(""===We[0]||""===Oe[0])),Ce)ie.host=ue.host||""===ue.host?ue.host:ie.host,ie.hostname=ue.hostname||""===ue.hostname?ue.hostname:ie.hostname,ie.search=ue.search,ie.query=ue.query,Oe=We;else if(We.length)Oe||(Oe=[]),Oe.pop(),Oe=Oe.concat(We),ie.search=ue.search,ie.query=ue.query;else if(!ze.isNullOrUndefined(ue.search))return Xe&&(ie.hostname=ie.host=Oe.shift(),(Je=!!(ie.host&&ie.host.indexOf("@")>0)&&ie.host.split("@"))&&(ie.auth=Je.shift(),ie.host=ie.hostname=Je.shift())),ie.search=ue.search,ie.query=ue.query,(!ze.isNull(ie.pathname)||!ze.isNull(ie.search))&&(ie.path=(ie.pathname?ie.pathname:"")+(ie.search?ie.search:"")),ie.href=ie.format(),ie;if(!Oe.length)return ie.pathname=null,ie.path=ie.search?"/"+ie.search:null,ie.href=ie.format(),ie;for(var jn=Oe.slice(-1)[0],Kn=(ie.host||ue.host||Oe.length>1)&&("."===jn||".."===jn)||""===jn,Bn=0,Tn=Oe.length;Tn>=0;Tn--)"."===(jn=Oe[Tn])?Oe.splice(Tn,1):".."===jn?(Oe.splice(Tn,1),Bn++):Bn&&(Oe.splice(Tn,1),Bn--);if(!me&&!gt)for(;Bn--;Bn)Oe.unshift("..");me&&""!==Oe[0]&&(!Oe[0]||"/"!==Oe[0].charAt(0))&&Oe.unshift(""),Kn&&"/"!==Oe.join("/").substr(-1)&&Oe.push("");var Je,$n=""===Oe[0]||Oe[0]&&"/"===Oe[0].charAt(0);return Xe&&(ie.hostname=ie.host=$n?"":Oe.length?Oe.shift():"",(Je=!!(ie.host&&ie.host.indexOf("@")>0)&&ie.host.split("@"))&&(ie.auth=Je.shift(),ie.host=ie.hostname=Je.shift())),(me=me||ie.host&&Oe.length)&&!$n&&Oe.unshift(""),Oe.length?ie.pathname=Oe.join("/"):(ie.pathname=null,ie.path=null),(!ze.isNull(ie.pathname)||!ze.isNull(ie.search))&&(ie.path=(ie.pathname?ie.pathname:"")+(ie.search?ie.search:"")),ie.auth=ue.auth||ie.auth,ie.slashes=ie.slashes||ue.slashes,ie.href=ie.format(),ie},Ie.prototype.parseHost=function(){var ue=this.host,Mt=re.exec(ue);Mt&&(":"!==(Mt=Mt[0])&&(this.port=Mt.substr(1)),ue=ue.substr(0,ue.length-Mt.length)),ue&&(this.hostname=ue)}},796:pn=>{"use strict";pn.exports={isString:function(Ke){return"string"==typeof Ke},isObject:function(Ke){return"object"==typeof Ke&&null!==Ke},isNull:function(Ke){return null===Ke},isNullOrUndefined:function(Ke){return null==Ke}}}},pn=>{pn(pn.s=212)}]);